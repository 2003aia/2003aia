var g4=Object.defineProperty,y4=Object.defineProperties;var v4=Object.getOwnPropertyDescriptors;var yg=Object.getOwnPropertySymbols;var YT=Object.prototype.hasOwnProperty,ZT=Object.prototype.propertyIsEnumerable;var qT=(n,e,t)=>e in n?g4(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Bt=(n,e)=>{for(var t in e||(e={}))YT.call(e,t)&&qT(n,t,e[t]);if(yg)for(var t of yg(e))ZT.call(e,t)&&qT(n,t,e[t]);return n},Br=(n,e)=>y4(n,v4(e));var Ls=(n,e)=>{var t={};for(var r in n)YT.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&yg)for(var r of yg(n))e.indexOf(r)<0&&ZT.call(n,r)&&(t[r]=n[r]);return t};function _4(n,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(r){if(r!=="default"&&!(r in n)){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}})}),Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}var vg=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function x4(n){if(n.__esModule)return n;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(n).forEach(function(t){var r=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:function(){return n[t]}})}),e}var V={exports:{}},At={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap=Symbol.for("react.element"),w4=Symbol.for("react.portal"),S4=Symbol.for("react.fragment"),A4=Symbol.for("react.strict_mode"),E4=Symbol.for("react.profiler"),M4=Symbol.for("react.provider"),C4=Symbol.for("react.context"),b4=Symbol.for("react.forward_ref"),T4=Symbol.for("react.suspense"),R4=Symbol.for("react.memo"),P4=Symbol.for("react.lazy"),eR=Symbol.iterator;function I4(n){return n===null||typeof n!="object"?null:(n=eR&&n[eR]||n["@@iterator"],typeof n=="function"?n:null)}var ML={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},CL=Object.assign,bL={};function jf(n,e,t){this.props=n,this.context=e,this.refs=bL,this.updater=t||ML}jf.prototype.isReactComponent={};jf.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};jf.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function TL(){}TL.prototype=jf.prototype;function lE(n,e,t){this.props=n,this.context=e,this.refs=bL,this.updater=t||ML}var uE=lE.prototype=new TL;uE.constructor=lE;CL(uE,jf.prototype);uE.isPureReactComponent=!0;var tR=Array.isArray,RL=Object.prototype.hasOwnProperty,cE={current:null},PL={key:!0,ref:!0,__self:!0,__source:!0};function IL(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)RL.call(e,r)&&!PL.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ap,type:n,key:s,ref:o,props:i,_owner:cE.current}}function B4(n,e){return{$$typeof:Ap,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function fE(n){return typeof n=="object"&&n!==null&&n.$$typeof===Ap}function L4(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var nR=/\/+/g;function $x(n,e){return typeof n=="object"&&n!==null&&n.key!=null?L4(""+n.key):e.toString(36)}function z0(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Ap:case w4:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+$x(o,0):r,tR(i)?(t="",n!=null&&(t=n.replace(nR,"$&/")+"/"),z0(i,e,t,"",function(u){return u})):i!=null&&(fE(i)&&(i=B4(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(nR,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",tR(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+$x(s,a);o+=z0(s,e,t,l,i)}else if(l=I4(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+$x(s,a++),o+=z0(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function _g(n,e,t){if(n==null)return n;var r=[],i=0;return z0(n,r,"","",function(s){return e.call(t,s,i++)}),r}function D4(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Hr={current:null},V0={transition:null},F4={ReactCurrentDispatcher:Hr,ReactCurrentBatchConfig:V0,ReactCurrentOwner:cE};At.Children={map:_g,forEach:function(n,e,t){_g(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return _g(n,function(){e++}),e},toArray:function(n){return _g(n,function(e){return e})||[]},only:function(n){if(!fE(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};At.Component=jf;At.Fragment=S4;At.Profiler=E4;At.PureComponent=lE;At.StrictMode=A4;At.Suspense=T4;At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F4;At.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=CL({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=cE.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)RL.call(e,l)&&!PL.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ap,type:n.type,key:i,ref:s,props:r,_owner:o}};At.createContext=function(n){return n={$$typeof:C4,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:M4,_context:n},n.Consumer=n};At.createElement=IL;At.createFactory=function(n){var e=IL.bind(null,n);return e.type=n,e};At.createRef=function(){return{current:null}};At.forwardRef=function(n){return{$$typeof:b4,render:n}};At.isValidElement=fE;At.lazy=function(n){return{$$typeof:P4,_payload:{_status:-1,_result:n},_init:D4}};At.memo=function(n,e){return{$$typeof:R4,type:n,compare:e===void 0?null:e}};At.startTransition=function(n){var e=V0.transition;V0.transition={};try{n()}finally{V0.transition=e}};At.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};At.useCallback=function(n,e){return Hr.current.useCallback(n,e)};At.useContext=function(n){return Hr.current.useContext(n)};At.useDebugValue=function(){};At.useDeferredValue=function(n){return Hr.current.useDeferredValue(n)};At.useEffect=function(n,e){return Hr.current.useEffect(n,e)};At.useId=function(){return Hr.current.useId()};At.useImperativeHandle=function(n,e,t){return Hr.current.useImperativeHandle(n,e,t)};At.useInsertionEffect=function(n,e){return Hr.current.useInsertionEffect(n,e)};At.useLayoutEffect=function(n,e){return Hr.current.useLayoutEffect(n,e)};At.useMemo=function(n,e){return Hr.current.useMemo(n,e)};At.useReducer=function(n,e,t){return Hr.current.useReducer(n,e,t)};At.useRef=function(n){return Hr.current.useRef(n)};At.useState=function(n){return Hr.current.useState(n)};At.useSyncExternalStore=function(n,e,t){return Hr.current.useSyncExternalStore(n,e,t)};At.useTransition=function(){return Hr.current.useTransition()};At.version="18.0.0-fc46dba67-20220329";V.exports=At;var Zr=V.exports,af=_4({__proto__:null,default:Zr},[V.exports]),Ep={exports:{}},bi={},Ih={exports:{}},BL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(k,X){var Z=k.length;k.push(X);e:for(;0<Z;){var ae=Z-1>>>1,Q=k[ae];if(0<i(Q,X))k[ae]=X,k[Z]=Q,Z=ae;else break e}}function t(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var X=k[0],Z=k.pop();if(Z!==X){k[0]=Z;e:for(var ae=0,Q=k.length,se=Q>>>1;ae<se;){var pe=2*(ae+1)-1,_e=k[pe],H=pe+1,Be=k[H];if(0>i(_e,Z))H<Q&&0>i(Be,_e)?(k[ae]=Be,k[H]=Z,ae=H):(k[ae]=_e,k[pe]=Z,ae=pe);else if(H<Q&&0>i(Be,Z))k[ae]=Be,k[H]=Z,ae=H;else break e}}return X}function i(k,X){var Z=k.sortIndex-X.sortIndex;return Z!==0?Z:k.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,p=3,m=!1,y=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(k){for(var X=t(u);X!==null;){if(X.callback===null)r(u);else if(X.startTime<=k)r(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=t(u)}}function E(k){if(g=!1,A(k),!y)if(t(l)!==null)y=!0,J(C);else{var X=t(u);X!==null&&K(E,X.startTime-k)}}function C(k,X){y=!1,g&&(g=!1,w(I),I=-1),m=!0;var Z=p;try{for(A(X),h=t(l);h!==null&&(!(h.expirationTime>X)||k&&!P());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,p=h.priorityLevel;var Q=ae(h.expirationTime<=X);X=n.unstable_now(),typeof Q=="function"?h.callback=Q:h===t(l)&&r(l),A(X)}else r(l);h=t(l)}if(h!==null)var se=!0;else{var pe=t(u);pe!==null&&K(E,pe.startTime-X),se=!1}return se}finally{h=null,p=Z,m=!1}}var T=!1,R=null,I=-1,O=5,L=-1;function P(){return!(n.unstable_now()-L<O)}function B(){if(R!==null){var k=n.unstable_now();L=k;var X=!0;try{X=R(!0,k)}finally{X?q():(T=!1,R=null)}}else T=!1}var q;if(typeof x=="function")q=function(){x(B)};else if(typeof MessageChannel!="undefined"){var W=new MessageChannel,$=W.port2;W.port1.onmessage=B,q=function(){$.postMessage(null)}}else q=function(){_(B,0)};function J(k){R=k,T||(T=!0,q())}function K(k,X){I=_(function(){k(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,J(C))},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(k){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var Z=p;p=X;try{return k()}finally{p=Z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,X){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var Z=p;p=k;try{return X()}finally{p=Z}},n.unstable_scheduleCallback=function(k,X,Z){var ae=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ae+Z:ae):Z=ae,k){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=Z+Q,k={id:d++,callback:X,priorityLevel:k,startTime:Z,expirationTime:Q,sortIndex:-1},Z>ae?(k.sortIndex=Z,e(u,k),t(l)===null&&k===t(u)&&(g?(w(I),I=-1):g=!0,K(E,Z-ae))):(k.sortIndex=Q,e(l,k),y||m||(y=!0,J(C))),k},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(k){var X=p;return function(){var Z=p;p=X;try{return k.apply(this,arguments)}finally{p=Z}}}})(BL);Ih.exports=BL;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LL=V.exports,Mi=Ih.exports;function Ce(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DL=new Set,Bh={};function bu(n,e){lf(n,e),lf(n+"Capture",e)}function lf(n,e){for(Bh[n]=e,n=0;n<e.length;n++)DL.add(e[n])}var Lo=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),kw=Object.prototype.hasOwnProperty,k4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rR={},iR={};function O4(n){return kw.call(iR,n)?!0:kw.call(rR,n)?!1:k4.test(n)?iR[n]=!0:(rR[n]=!0,!1)}function N4(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function H4(n,e,t,r){if(e===null||typeof e=="undefined"||N4(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ur(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var dr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){dr[n]=new Ur(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];dr[e]=new Ur(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){dr[n]=new Ur(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){dr[n]=new Ur(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){dr[n]=new Ur(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){dr[n]=new Ur(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){dr[n]=new Ur(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){dr[n]=new Ur(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){dr[n]=new Ur(n,5,!1,n.toLowerCase(),null,!1,!1)});var dE=/[\-:]([a-z])/g;function hE(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(dE,hE);dr[e]=new Ur(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(dE,hE);dr[e]=new Ur(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(dE,hE);dr[e]=new Ur(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){dr[n]=new Ur(n,1,!1,n.toLowerCase(),null,!1,!1)});dr.xlinkHref=new Ur("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){dr[n]=new Ur(n,1,!1,n.toLowerCase(),null,!0,!0)});function pE(n,e,t,r){var i=dr.hasOwnProperty(e)?dr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(H4(e,t,i,r)&&(t=null),r||i===null?O4(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Ho=LL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xg=Symbol.for("react.element"),Rc=Symbol.for("react.portal"),Pc=Symbol.for("react.fragment"),mE=Symbol.for("react.strict_mode"),Ow=Symbol.for("react.profiler"),FL=Symbol.for("react.provider"),kL=Symbol.for("react.context"),gE=Symbol.for("react.forward_ref"),Nw=Symbol.for("react.suspense"),Hw=Symbol.for("react.suspense_list"),yE=Symbol.for("react.memo"),pa=Symbol.for("react.lazy"),OL=Symbol.for("react.offscreen"),sR=Symbol.iterator;function Td(n){return n===null||typeof n!="object"?null:(n=sR&&n[sR]||n["@@iterator"],typeof n=="function"?n:null)}var wn=Object.assign,Kx;function ih(n){if(Kx===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Kx=e&&e[1]||""}return`
`+Kx+n}var Xx=!1;function Qx(n,e){if(!n||Xx)return"";Xx=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Xx=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?ih(n):""}function U4(n){switch(n.tag){case 5:return ih(n.type);case 16:return ih("Lazy");case 13:return ih("Suspense");case 19:return ih("SuspenseList");case 0:case 2:case 15:return n=Qx(n.type,!1),n;case 11:return n=Qx(n.type.render,!1),n;case 1:return n=Qx(n.type,!0),n;default:return""}}function Uw(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Pc:return"Fragment";case Rc:return"Portal";case Ow:return"Profiler";case mE:return"StrictMode";case Nw:return"Suspense";case Hw:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case kL:return(n.displayName||"Context")+".Consumer";case FL:return(n._context.displayName||"Context")+".Provider";case gE:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case yE:return e=n.displayName||null,e!==null?e:Uw(n.type)||"Memo";case pa:e=n._payload,n=n._init;try{return Uw(n(e))}catch{}}return null}function G4(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Uw(e);case 8:return e===mE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Oa(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function NL(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function z4(n){var e=NL(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t!="undefined"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function wg(n){n._valueTracker||(n._valueTracker=z4(n))}function HL(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=NL(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function hy(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch{return n.body}}function Gw(n,e){var t=e.checked;return wn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t!=null?t:n._wrapperState.initialChecked})}function oR(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Oa(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function UL(n,e){e=e.checked,e!=null&&pE(n,"checked",e,!1)}function zw(n,e){UL(n,e);var t=Oa(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Vw(n,e.type,t):e.hasOwnProperty("defaultValue")&&Vw(n,e.type,Oa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function aR(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Vw(n,e,t){(e!=="number"||hy(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var sh=Array.isArray;function Kc(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Oa(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function Ww(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ce(91));return wn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function lR(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ce(92));if(sh(t)){if(1<t.length)throw Error(Ce(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Oa(t)}}function GL(n,e){var t=Oa(e.value),r=Oa(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function uR(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function zL(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jw(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?zL(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Sg,VL=function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Sg=Sg||document.createElement("div"),Sg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sg.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Lh(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var dh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},V4=["Webkit","ms","Moz","O"];Object.keys(dh).forEach(function(n){V4.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),dh[e]=dh[n]})});function WL(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||dh.hasOwnProperty(n)&&dh[n]?(""+e).trim():e+"px"}function jL(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=WL(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var W4=wn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jw(n,e){if(e){if(W4[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ce(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ce(62))}}function $w(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kw=null;function vE(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Xw=null,Xc=null,Qc=null;function cR(n){if(n=bp(n)){if(typeof Xw!="function")throw Error(Ce(280));var e=n.stateNode;e&&(e=vv(e),Xw(n.stateNode,n.type,e))}}function JL(n){Xc?Qc?Qc.push(n):Qc=[n]:Xc=n}function $L(){if(Xc){var n=Xc,e=Qc;if(Qc=Xc=null,cR(n),e)for(n=0;n<e.length;n++)cR(e[n])}}function KL(n,e){return n(e)}function XL(){}var qx=!1;function QL(n,e,t){if(qx)return n(e,t);qx=!0;try{return KL(n,e,t)}finally{qx=!1,(Xc!==null||Qc!==null)&&(XL(),$L())}}function Dh(n,e){var t=n.stateNode;if(t===null)return null;var r=vv(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ce(231,e,typeof t));return t}var Qw=!1;if(Lo)try{var Rd={};Object.defineProperty(Rd,"passive",{get:function(){Qw=!0}}),window.addEventListener("test",Rd,Rd),window.removeEventListener("test",Rd,Rd)}catch{Qw=!1}function j4(n,e,t,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var hh=!1,py=null,my=!1,qw=null,J4={onError:function(n){hh=!0,py=n}};function $4(n,e,t,r,i,s,o,a,l){hh=!1,py=null,j4.apply(J4,arguments)}function K4(n,e,t,r,i,s,o,a,l){if($4.apply(this,arguments),hh){if(hh){var u=py;hh=!1,py=null}else throw Error(Ce(198));my||(my=!0,qw=u)}}function Tu(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,(e.flags&4098)!==0&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function qL(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function fR(n){if(Tu(n)!==n)throw Error(Ce(188))}function X4(n){var e=n.alternate;if(!e){if(e=Tu(n),e===null)throw Error(Ce(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return fR(i),n;if(s===r)return fR(i),e;s=s.sibling}throw Error(Ce(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Ce(189))}}if(t.alternate!==r)throw Error(Ce(190))}if(t.tag!==3)throw Error(Ce(188));return t.stateNode.current===t?n:e}function YL(n){return n=X4(n),n!==null?ZL(n):null}function ZL(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=ZL(n);if(e!==null)return e;n=n.sibling}return null}var e3=Mi.unstable_scheduleCallback,dR=Mi.unstable_cancelCallback,Q4=Mi.unstable_shouldYield,q4=Mi.unstable_requestPaint,Ln=Mi.unstable_now,Y4=Mi.unstable_getCurrentPriorityLevel,_E=Mi.unstable_ImmediatePriority,t3=Mi.unstable_UserBlockingPriority,gy=Mi.unstable_NormalPriority,Z4=Mi.unstable_LowPriority,n3=Mi.unstable_IdlePriority,pv=null,Vs=null;function eG(n){if(Vs&&typeof Vs.onCommitFiberRoot=="function")try{Vs.onCommitFiberRoot(pv,n,void 0,(n.current.flags&128)===128)}catch{}}var ms=Math.clz32?Math.clz32:rG,tG=Math.log,nG=Math.LN2;function rG(n){return n>>>=0,n===0?32:31-(tG(n)/nG|0)|0}var Ag=64,Eg=4194304;function oh(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function yy(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=oh(a):(s&=o,s!==0&&(r=oh(s)))}else o=t&~i,o!==0?r=oh(o):s!==0&&(r=oh(s));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if((r&4)!==0&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-ms(e),i=1<<t,r|=n[t],e&=~i;return r}function iG(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sG(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-ms(s),a=1<<o,l=i[o];l===-1?((a&t)===0||(a&r)!==0)&&(i[o]=iG(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function Yw(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Yx(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Mp(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-ms(e),n[e]=t}function oG(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-ms(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function xE(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-ms(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Jt=0;function r3(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var i3,wE,s3,o3,a3,Zw=!1,Mg=[],Ma=null,Ca=null,ba=null,Fh=new Map,kh=new Map,ga=[],aG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hR(n,e){switch(n){case"focusin":case"focusout":Ma=null;break;case"dragenter":case"dragleave":Ca=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":Fh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kh.delete(e.pointerId)}}function Pd(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=bp(e),e!==null&&wE(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function lG(n,e,t,r,i){switch(e){case"focusin":return Ma=Pd(Ma,n,e,t,r,i),!0;case"dragenter":return Ca=Pd(Ca,n,e,t,r,i),!0;case"mouseover":return ba=Pd(ba,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Fh.set(s,Pd(Fh.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,kh.set(s,Pd(kh.get(s)||null,n,e,t,r,i)),!0}return!1}function l3(n){var e=zl(n.target);if(e!==null){var t=Tu(e);if(t!==null){if(e=t.tag,e===13){if(e=qL(t),e!==null){n.blockedOn=e,a3(n.priority,function(){s3(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function W0(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=eS(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);Kw=r,t.target.dispatchEvent(r),Kw=null}else return e=bp(t),e!==null&&wE(e),n.blockedOn=t,!1;e.shift()}return!0}function pR(n,e,t){W0(n)&&t.delete(e)}function uG(){Zw=!1,Ma!==null&&W0(Ma)&&(Ma=null),Ca!==null&&W0(Ca)&&(Ca=null),ba!==null&&W0(ba)&&(ba=null),Fh.forEach(pR),kh.forEach(pR)}function Id(n,e){n.blockedOn===e&&(n.blockedOn=null,Zw||(Zw=!0,Mi.unstable_scheduleCallback(Mi.unstable_NormalPriority,uG)))}function Oh(n){function e(i){return Id(i,n)}if(0<Mg.length){Id(Mg[0],n);for(var t=1;t<Mg.length;t++){var r=Mg[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Ma!==null&&Id(Ma,n),Ca!==null&&Id(Ca,n),ba!==null&&Id(ba,n),Fh.forEach(e),kh.forEach(e),t=0;t<ga.length;t++)r=ga[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<ga.length&&(t=ga[0],t.blockedOn===null);)l3(t),t.blockedOn===null&&ga.shift()}var qc=Ho.ReactCurrentBatchConfig;function cG(n,e,t,r){var i=Jt,s=qc.transition;qc.transition=null;try{Jt=1,SE(n,e,t,r)}finally{Jt=i,qc.transition=s}}function fG(n,e,t,r){var i=Jt,s=qc.transition;qc.transition=null;try{Jt=4,SE(n,e,t,r)}finally{Jt=i,qc.transition=s}}function SE(n,e,t,r){var i=eS(n,e,t,r);if(i===null)l1(n,e,r,vy,t),hR(n,r);else if(lG(i,n,e,t,r))r.stopPropagation();else if(hR(n,r),e&4&&-1<aG.indexOf(n)){for(;i!==null;){var s=bp(i);if(s!==null&&i3(s),s=eS(n,e,t,r),s===null&&l1(n,e,r,vy,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else l1(n,e,r,null,t)}var vy=null;function eS(n,e,t,r){if(vy=null,n=vE(r),n=zl(n),n!==null)if(e=Tu(n),e===null)n=null;else if(t=e.tag,t===13){if(n=qL(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return vy=n,null}function u3(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y4()){case _E:return 1;case t3:return 4;case gy:case Z4:return 16;case n3:return 536870912;default:return 16}default:return 16}}var va=null,AE=null,j0=null;function c3(){if(j0)return j0;var n,e=AE,t=e.length,r,i="value"in va?va.value:va.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return j0=i.slice(n,1<r?1-r:void 0)}function J0(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Cg(){return!0}function mR(){return!1}function Ti(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Cg:mR,this.isPropagationStopped=mR,this}return wn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Cg)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Cg)},persist:function(){},isPersistent:Cg}),e}var Jf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},EE=Ti(Jf),Cp=wn({},Jf,{view:0,detail:0}),dG=Ti(Cp),Zx,e1,Bd,mv=wn({},Cp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ME,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Bd&&(Bd&&n.type==="mousemove"?(Zx=n.screenX-Bd.screenX,e1=n.screenY-Bd.screenY):e1=Zx=0,Bd=n),Zx)},movementY:function(n){return"movementY"in n?n.movementY:e1}}),gR=Ti(mv),hG=wn({},mv,{dataTransfer:0}),pG=Ti(hG),mG=wn({},Cp,{relatedTarget:0}),t1=Ti(mG),gG=wn({},Jf,{animationName:0,elapsedTime:0,pseudoElement:0}),yG=Ti(gG),vG=wn({},Jf,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),_G=Ti(vG),xG=wn({},Jf,{data:0}),yR=Ti(xG),wG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EG(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=AG[n])?!!e[n]:!1}function ME(){return EG}var MG=wn({},Cp,{key:function(n){if(n.key){var e=wG[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=J0(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?SG[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ME,charCode:function(n){return n.type==="keypress"?J0(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?J0(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),CG=Ti(MG),bG=wn({},mv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vR=Ti(bG),TG=wn({},Cp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ME}),RG=Ti(TG),PG=wn({},Jf,{propertyName:0,elapsedTime:0,pseudoElement:0}),IG=Ti(PG),BG=wn({},mv,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),LG=Ti(BG),DG=[9,13,27,32],CE=Lo&&"CompositionEvent"in window,ph=null;Lo&&"documentMode"in document&&(ph=document.documentMode);var FG=Lo&&"TextEvent"in window&&!ph,f3=Lo&&(!CE||ph&&8<ph&&11>=ph),_R=String.fromCharCode(32),xR=!1;function d3(n,e){switch(n){case"keyup":return DG.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h3(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ic=!1;function kG(n,e){switch(n){case"compositionend":return h3(e);case"keypress":return e.which!==32?null:(xR=!0,_R);case"textInput":return n=e.data,n===_R&&xR?null:n;default:return null}}function OG(n,e){if(Ic)return n==="compositionend"||!CE&&d3(n,e)?(n=c3(),j0=AE=va=null,Ic=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return f3&&e.locale!=="ko"?null:e.data;default:return null}}var NG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wR(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!NG[n.type]:e==="textarea"}function p3(n,e,t,r){JL(r),e=_y(e,"onChange"),0<e.length&&(t=new EE("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var mh=null,Nh=null;function HG(n){M3(n,0)}function gv(n){var e=Dc(n);if(HL(e))return n}function UG(n,e){if(n==="change")return e}var m3=!1;if(Lo){var n1;if(Lo){var r1="oninput"in document;if(!r1){var SR=document.createElement("div");SR.setAttribute("oninput","return;"),r1=typeof SR.oninput=="function"}n1=r1}else n1=!1;m3=n1&&(!document.documentMode||9<document.documentMode)}function AR(){mh&&(mh.detachEvent("onpropertychange",g3),Nh=mh=null)}function g3(n){if(n.propertyName==="value"&&gv(Nh)){var e=[];p3(e,Nh,n,vE(n)),QL(HG,e)}}function GG(n,e,t){n==="focusin"?(AR(),mh=e,Nh=t,mh.attachEvent("onpropertychange",g3)):n==="focusout"&&AR()}function zG(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return gv(Nh)}function VG(n,e){if(n==="click")return gv(e)}function WG(n,e){if(n==="input"||n==="change")return gv(e)}function jG(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Xs=typeof Object.is=="function"?Object.is:jG;function Hh(n,e){if(Xs(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!kw.call(e,i)||!Xs(n[i],e[i]))return!1}return!0}function ER(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function MR(n,e){var t=ER(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=ER(t)}}function y3(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?y3(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function v3(){for(var n=window,e=hy();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=hy(n.document)}return e}function bE(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function JG(n){var e=v3(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&y3(t.ownerDocument.documentElement,t)){if(r!==null&&bE(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=MR(t,s);var o=MR(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var $G=Lo&&"documentMode"in document&&11>=document.documentMode,Bc=null,tS=null,gh=null,nS=!1;function CR(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;nS||Bc==null||Bc!==hy(r)||(r=Bc,"selectionStart"in r&&bE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gh&&Hh(gh,r)||(gh=r,r=_y(tS,"onSelect"),0<r.length&&(e=new EE("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Bc)))}function bg(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Lc={animationend:bg("Animation","AnimationEnd"),animationiteration:bg("Animation","AnimationIteration"),animationstart:bg("Animation","AnimationStart"),transitionend:bg("Transition","TransitionEnd")},i1={},_3={};Lo&&(_3=document.createElement("div").style,"AnimationEvent"in window||(delete Lc.animationend.animation,delete Lc.animationiteration.animation,delete Lc.animationstart.animation),"TransitionEvent"in window||delete Lc.transitionend.transition);function yv(n){if(i1[n])return i1[n];if(!Lc[n])return n;var e=Lc[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in _3)return i1[n]=e[t];return n}var x3=yv("animationend"),w3=yv("animationiteration"),S3=yv("animationstart"),A3=yv("transitionend"),E3=new Map,bR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qa(n,e){E3.set(n,e),bu(e,[n])}for(var s1=0;s1<bR.length;s1++){var o1=bR[s1],KG=o1.toLowerCase(),XG=o1[0].toUpperCase()+o1.slice(1);qa(KG,"on"+XG)}qa(x3,"onAnimationEnd");qa(w3,"onAnimationIteration");qa(S3,"onAnimationStart");qa("dblclick","onDoubleClick");qa("focusin","onFocus");qa("focusout","onBlur");qa(A3,"onTransitionEnd");lf("onMouseEnter",["mouseout","mouseover"]);lf("onMouseLeave",["mouseout","mouseover"]);lf("onPointerEnter",["pointerout","pointerover"]);lf("onPointerLeave",["pointerout","pointerover"]);bu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bu("onBeforeInput",["compositionend","keypress","textInput","paste"]);bu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ah="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QG=new Set("cancel close invalid load scroll toggle".split(" ").concat(ah));function TR(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,K4(r,e,void 0,n),n.currentTarget=null}function M3(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;TR(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;TR(i,a,u),s=l}}}if(my)throw n=qw,my=!1,qw=null,n}function tn(n,e){var t=e[oS];t===void 0&&(t=e[oS]=new Set);var r=n+"__bubble";t.has(r)||(C3(e,n,2,!1),t.add(r))}function a1(n,e,t){var r=0;e&&(r|=4),C3(t,n,r,e)}var Tg="_reactListening"+Math.random().toString(36).slice(2);function Uh(n){if(!n[Tg]){n[Tg]=!0,DL.forEach(function(t){t!=="selectionchange"&&(QG.has(t)||a1(t,!1,n),a1(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Tg]||(e[Tg]=!0,a1("selectionchange",!1,e))}}function C3(n,e,t,r){switch(u3(e)){case 1:var i=cG;break;case 4:i=fG;break;default:i=SE}t=i.bind(null,e,t,n),i=void 0,!Qw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function l1(n,e,t,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=zl(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}QL(function(){var u=s,d=vE(t),h=[];e:{var p=E3.get(n);if(p!==void 0){var m=EE,y=n;switch(n){case"keypress":if(J0(t)===0)break e;case"keydown":case"keyup":m=CG;break;case"focusin":y="focus",m=t1;break;case"focusout":y="blur",m=t1;break;case"beforeblur":case"afterblur":m=t1;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=gR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=pG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=RG;break;case x3:case w3:case S3:m=yG;break;case A3:m=IG;break;case"scroll":m=dG;break;case"wheel":m=LG;break;case"copy":case"cut":case"paste":m=_G;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=vR}var g=(e&4)!==0,_=!g&&n==="scroll",w=g?p!==null?p+"Capture":null:p;g=[];for(var x=u,A;x!==null;){A=x;var E=A.stateNode;if(A.tag===5&&E!==null&&(A=E,w!==null&&(E=Dh(x,w),E!=null&&g.push(Gh(x,E,A)))),_)break;x=x.return}0<g.length&&(p=new m(p,y,null,t,d),h.push({event:p,listeners:g}))}}if((e&7)===0){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==Kw&&(y=t.relatedTarget||t.fromElement)&&(zl(y)||y[Do]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=t.relatedTarget||t.toElement,m=u,y=y?zl(y):null,y!==null&&(_=Tu(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(g=gR,E="onMouseLeave",w="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(g=vR,E="onPointerLeave",w="onPointerEnter",x="pointer"),_=m==null?p:Dc(m),A=y==null?p:Dc(y),p=new g(E,x+"leave",m,t,d),p.target=_,p.relatedTarget=A,E=null,zl(d)===u&&(g=new g(w,x+"enter",y,t,d),g.target=A,g.relatedTarget=_,E=g),_=E,m&&y)t:{for(g=m,w=y,x=0,A=g;A;A=Yu(A))x++;for(A=0,E=w;E;E=Yu(E))A++;for(;0<x-A;)g=Yu(g),x--;for(;0<A-x;)w=Yu(w),A--;for(;x--;){if(g===w||w!==null&&g===w.alternate)break t;g=Yu(g),w=Yu(w)}g=null}else g=null;m!==null&&RR(h,p,m,g,!1),y!==null&&_!==null&&RR(h,_,y,g,!0)}}e:{if(p=u?Dc(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=UG;else if(wR(p))if(m3)C=WG;else{C=zG;var T=GG}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=VG);if(C&&(C=C(n,u))){p3(h,C,t,d);break e}T&&T(n,p,u),n==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&Vw(p,"number",p.value)}switch(T=u?Dc(u):window,n){case"focusin":(wR(T)||T.contentEditable==="true")&&(Bc=T,tS=u,gh=null);break;case"focusout":gh=tS=Bc=null;break;case"mousedown":nS=!0;break;case"contextmenu":case"mouseup":case"dragend":nS=!1,CR(h,t,d);break;case"selectionchange":if($G)break;case"keydown":case"keyup":CR(h,t,d)}var R;if(CE)e:{switch(n){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Ic?d3(n,t)&&(I="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(I="onCompositionStart");I&&(f3&&t.locale!=="ko"&&(Ic||I!=="onCompositionStart"?I==="onCompositionEnd"&&Ic&&(R=c3()):(va=d,AE="value"in va?va.value:va.textContent,Ic=!0)),T=_y(u,I),0<T.length&&(I=new yR(I,n,null,t,d),h.push({event:I,listeners:T}),R?I.data=R:(R=h3(t),R!==null&&(I.data=R)))),(R=FG?kG(n,t):OG(n,t))&&(u=_y(u,"onBeforeInput"),0<u.length&&(d=new yR("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:u}),d.data=R))}M3(h,e)})}function Gh(n,e,t){return{instance:n,listener:e,currentTarget:t}}function _y(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Dh(n,t),s!=null&&r.unshift(Gh(n,s,i)),s=Dh(n,e),s!=null&&r.push(Gh(n,s,i))),n=n.return}return r}function Yu(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function RR(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Dh(t,s),l!=null&&o.unshift(Gh(t,l,a))):i||(l=Dh(t,s),l!=null&&o.push(Gh(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var qG=/\r\n?/g,YG=/\u0000|\uFFFD/g;function PR(n){return(typeof n=="string"?n:""+n).replace(qG,`
`).replace(YG,"")}function Rg(n,e,t){if(e=PR(e),PR(n)!==e&&t)throw Error(Ce(425))}function xy(){}var rS=null;function iS(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sS=typeof setTimeout=="function"?setTimeout:void 0,ZG=typeof clearTimeout=="function"?clearTimeout:void 0,IR=typeof Promise=="function"?Promise:void 0,ez=typeof queueMicrotask=="function"?queueMicrotask:typeof IR!="undefined"?function(n){return IR.resolve(null).then(n).catch(tz)}:sS;function tz(n){setTimeout(function(){throw n})}function u1(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Oh(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Oh(e)}function So(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function BR(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var $f=Math.random().toString(36).slice(2),Hs="__reactFiber$"+$f,zh="__reactProps$"+$f,Do="__reactContainer$"+$f,oS="__reactEvents$"+$f,nz="__reactListeners$"+$f,rz="__reactHandles$"+$f;function zl(n){var e=n[Hs];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Do]||t[Hs]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=BR(n);n!==null;){if(t=n[Hs])return t;n=BR(n)}return e}n=t,t=n.parentNode}return null}function bp(n){return n=n[Hs]||n[Do],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Dc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ce(33))}function vv(n){return n[zh]||null}var aS=[],Fc=-1;function Ya(n){return{current:n}}function on(n){0>Fc||(n.current=aS[Fc],aS[Fc]=null,Fc--)}function Zt(n,e){Fc++,aS[Fc]=n.current,n.current=e}var Na={},Tr=Ya(Na),ni=Ya(!1),uu=Na;function uf(n,e){var t=n.type.contextTypes;if(!t)return Na;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function ri(n){return n=n.childContextTypes,n!=null}function wy(){on(ni),on(Tr)}function LR(n,e,t){if(Tr.current!==Na)throw Error(Ce(168));Zt(Tr,e),Zt(ni,t)}function b3(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ce(108,G4(n)||"Unknown",i));return wn({},t,r)}function Sy(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Na,uu=Tr.current,Zt(Tr,n),Zt(ni,ni.current),!0}function DR(n,e,t){var r=n.stateNode;if(!r)throw Error(Ce(169));t?(n=b3(n,e,uu),r.__reactInternalMemoizedMergedChildContext=n,on(ni),on(Tr),Zt(Tr,n)):on(ni),Zt(ni,t)}var xo=null,_v=!1,c1=!1;function T3(n){xo===null?xo=[n]:xo.push(n)}function iz(n){_v=!0,T3(n)}function Za(){if(!c1&&xo!==null){c1=!0;var n=0,e=Jt;try{var t=xo;for(Jt=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}xo=null,_v=!1}catch(i){throw xo!==null&&(xo=xo.slice(n+1)),e3(_E,Za),i}finally{Jt=e,c1=!1}}return null}var sz=Ho.ReactCurrentBatchConfig;function us(n,e){if(n&&n.defaultProps){e=wn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Ay=Ya(null),Ey=null,kc=null,TE=null;function RE(){TE=kc=Ey=null}function PE(n){var e=Ay.current;on(Ay),n._currentValue=e}function lS(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Yc(n,e){Ey=n,TE=kc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&e)!==0&&(vi=!0),n.firstContext=null)}function qi(n){var e=n._currentValue;if(TE!==n)if(n={context:n,memoizedValue:e,next:null},kc===null){if(Ey===null)throw Error(Ce(308));kc=n,Ey.dependencies={lanes:0,firstContext:n}}else kc=kc.next=n;return e}var Us=null,ma=!1;function IE(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R3(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function To(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Ta(n,e){var t=n.updateQueue;t!==null&&(t=t.shared,zn!==null&&(n.mode&1)!==0&&(Pt&2)===0?(n=t.interleaved,n===null?(e.next=e,Us===null?Us=[t]:Us.push(t)):(e.next=n.next,n.next=e),t.interleaved=e):(n=t.pending,n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e))}function $0(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,xE(n,t)}}function FR(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function My(n,e,t,r){var i=n.updateQueue;ma=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,g=a;switch(p=e,m=t,g.tag){case 1:if(y=g.payload,typeof y=="function"){h=y.call(m,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,p=typeof y=="function"?y.call(m,h,p):y,p==null)break e;h=wn({},h,p);break e;case 2:ma=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);pf|=o,n.lanes=o,n.memoizedState=h}}function kR(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Ce(191,i));i.call(r)}}}var P3=new LL.Component().refs;function uS(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:wn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var xv={isMounted:function(n){return(n=n._reactInternals)?Tu(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=kr(),i=Pa(n),s=To(r,i);s.payload=e,t!=null&&(s.callback=t),Ta(n,s),e=Qi(n,i,r),e!==null&&$0(e,n,i)},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=kr(),i=Pa(n),s=To(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),Ta(n,s),e=Qi(n,i,r),e!==null&&$0(e,n,i)},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=kr(),r=Pa(n),i=To(t,r);i.tag=2,e!=null&&(i.callback=e),Ta(n,i),e=Qi(n,r,t),e!==null&&$0(e,n,r)}};function OR(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Hh(t,r)||!Hh(i,s):!0}function I3(n,e,t){var r=!1,i=Na,s=e.contextType;return typeof s=="object"&&s!==null?s=qi(s):(i=ri(e)?uu:Tr.current,r=e.contextTypes,s=(r=r!=null)?uf(n,i):Na),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xv,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function NR(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&xv.enqueueReplaceState(e,e.state,null)}function cS(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=P3,IE(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=qi(s):(s=ri(e)?uu:Tr.current,i.context=uf(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(uS(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&xv.enqueueReplaceState(i,i.state,null),My(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}var Oc=[],Nc=0,Cy=null,by=0,Vi=[],Wi=0,cu=null,Ao=1,Eo="";function Pl(n,e){Oc[Nc++]=by,Oc[Nc++]=Cy,Cy=n,by=e}function B3(n,e,t){Vi[Wi++]=Ao,Vi[Wi++]=Eo,Vi[Wi++]=cu,cu=n;var r=Ao;n=Eo;var i=32-ms(r)-1;r&=~(1<<i),t+=1;var s=32-ms(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ao=1<<32-ms(e)+i|t<<i|r,Eo=s+n}else Ao=1<<s|t<<i|r,Eo=n}function BE(n){n.return!==null&&(Pl(n,1),B3(n,1,0))}function LE(n){for(;n===Cy;)Cy=Oc[--Nc],Oc[Nc]=null,by=Oc[--Nc],Oc[Nc]=null;for(;n===cu;)cu=Vi[--Wi],Vi[Wi]=null,Eo=Vi[--Wi],Vi[Wi]=null,Ao=Vi[--Wi],Vi[Wi]=null}var xi=null,qr=null,dn=!1,cs=null;function L3(n,e){var t=Ji(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function HR(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,xi=n,qr=So(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,xi=n,qr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=cu!==null?{id:Ao,overflow:Eo}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Ji(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,xi=n,qr=null,!0):!1;default:return!1}}function fS(n){return(n.mode&1)!==0&&(n.flags&128)===0}function dS(n){if(dn){var e=qr;if(e){var t=e;if(!HR(n,e)){if(fS(n))throw Error(Ce(418));e=So(t.nextSibling);var r=xi;e&&HR(n,e)?L3(r,t):(n.flags=n.flags&-4097|2,dn=!1,xi=n)}}else{if(fS(n))throw Error(Ce(418));n.flags=n.flags&-4097|2,dn=!1,xi=n}}}function UR(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;xi=n}function Ld(n){if(n!==xi)return!1;if(!dn)return UR(n),dn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!iS(n.type,n.memoizedProps)),e&&(e=qr)){if(fS(n)){for(n=qr;n;)n=So(n.nextSibling);throw Error(Ce(418))}for(;e;)L3(n,e),e=So(e.nextSibling)}if(UR(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ce(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){qr=So(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}qr=null}}else qr=xi?So(n.stateNode.nextSibling):null;return!0}function cf(){qr=xi=null,dn=!1}function DE(n){cs===null?cs=[n]:cs.push(n)}function Dd(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ce(309));var r=t.stateNode}if(!r)throw Error(Ce(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===P3&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ce(284));if(!t._owner)throw Error(Ce(290,n))}return n}function Pg(n,e){throw n=Object.prototype.toString.call(e),Error(Ce(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function GR(n){var e=n._init;return e(n._payload)}function D3(n){function e(w,x){if(n){var A=w.deletions;A===null?(w.deletions=[x],w.flags|=16):A.push(x)}}function t(w,x){if(!n)return null;for(;x!==null;)e(w,x),x=x.sibling;return null}function r(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function i(w,x){return w=Ha(w,x),w.index=0,w.sibling=null,w}function s(w,x,A){return w.index=A,n?(A=w.alternate,A!==null?(A=A.index,A<x?(w.flags|=2,x):A):(w.flags|=2,x)):(w.flags|=1048576,x)}function o(w){return n&&w.alternate===null&&(w.flags|=2),w}function a(w,x,A,E){return x===null||x.tag!==6?(x=g1(A,w.mode,E),x.return=w,x):(x=i(x,A),x.return=w,x)}function l(w,x,A,E){var C=A.type;return C===Pc?d(w,x,A.props.children,E,A.key):x!==null&&(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===pa&&GR(C)===x.type)?(E=i(x,A.props),E.ref=Dd(w,x,A),E.return=w,E):(E=Y0(A.type,A.key,A.props,null,w.mode,E),E.ref=Dd(w,x,A),E.return=w,E)}function u(w,x,A,E){return x===null||x.tag!==4||x.stateNode.containerInfo!==A.containerInfo||x.stateNode.implementation!==A.implementation?(x=y1(A,w.mode,E),x.return=w,x):(x=i(x,A.children||[]),x.return=w,x)}function d(w,x,A,E,C){return x===null||x.tag!==7?(x=eu(A,w.mode,E,C),x.return=w,x):(x=i(x,A),x.return=w,x)}function h(w,x,A){if(typeof x=="string"&&x!==""||typeof x=="number")return x=g1(""+x,w.mode,A),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case xg:return A=Y0(x.type,x.key,x.props,null,w.mode,A),A.ref=Dd(w,null,x),A.return=w,A;case Rc:return x=y1(x,w.mode,A),x.return=w,x;case pa:var E=x._init;return h(w,E(x._payload),A)}if(sh(x)||Td(x))return x=eu(x,w.mode,A,null),x.return=w,x;Pg(w,x)}return null}function p(w,x,A,E){var C=x!==null?x.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return C!==null?null:a(w,x,""+A,E);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case xg:return A.key===C?l(w,x,A,E):null;case Rc:return A.key===C?u(w,x,A,E):null;case pa:return C=A._init,p(w,x,C(A._payload),E)}if(sh(A)||Td(A))return C!==null?null:d(w,x,A,E,null);Pg(w,A)}return null}function m(w,x,A,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return w=w.get(A)||null,a(x,w,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case xg:return w=w.get(E.key===null?A:E.key)||null,l(x,w,E,C);case Rc:return w=w.get(E.key===null?A:E.key)||null,u(x,w,E,C);case pa:var T=E._init;return m(w,x,A,T(E._payload),C)}if(sh(E)||Td(E))return w=w.get(A)||null,d(x,w,E,C,null);Pg(x,E)}return null}function y(w,x,A,E){for(var C=null,T=null,R=x,I=x=0,O=null;R!==null&&I<A.length;I++){R.index>I?(O=R,R=null):O=R.sibling;var L=p(w,R,A[I],E);if(L===null){R===null&&(R=O);break}n&&R&&L.alternate===null&&e(w,R),x=s(L,x,I),T===null?C=L:T.sibling=L,T=L,R=O}if(I===A.length)return t(w,R),dn&&Pl(w,I),C;if(R===null){for(;I<A.length;I++)R=h(w,A[I],E),R!==null&&(x=s(R,x,I),T===null?C=R:T.sibling=R,T=R);return dn&&Pl(w,I),C}for(R=r(w,R);I<A.length;I++)O=m(R,w,I,A[I],E),O!==null&&(n&&O.alternate!==null&&R.delete(O.key===null?I:O.key),x=s(O,x,I),T===null?C=O:T.sibling=O,T=O);return n&&R.forEach(function(P){return e(w,P)}),dn&&Pl(w,I),C}function g(w,x,A,E){var C=Td(A);if(typeof C!="function")throw Error(Ce(150));if(A=C.call(A),A==null)throw Error(Ce(151));for(var T=C=null,R=x,I=x=0,O=null,L=A.next();R!==null&&!L.done;I++,L=A.next()){R.index>I?(O=R,R=null):O=R.sibling;var P=p(w,R,L.value,E);if(P===null){R===null&&(R=O);break}n&&R&&P.alternate===null&&e(w,R),x=s(P,x,I),T===null?C=P:T.sibling=P,T=P,R=O}if(L.done)return t(w,R),dn&&Pl(w,I),C;if(R===null){for(;!L.done;I++,L=A.next())L=h(w,L.value,E),L!==null&&(x=s(L,x,I),T===null?C=L:T.sibling=L,T=L);return dn&&Pl(w,I),C}for(R=r(w,R);!L.done;I++,L=A.next())L=m(R,w,I,L.value,E),L!==null&&(n&&L.alternate!==null&&R.delete(L.key===null?I:L.key),x=s(L,x,I),T===null?C=L:T.sibling=L,T=L);return n&&R.forEach(function(B){return e(w,B)}),dn&&Pl(w,I),C}function _(w,x,A,E){if(typeof A=="object"&&A!==null&&A.type===Pc&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case xg:e:{for(var C=A.key,T=x;T!==null;){if(T.key===C){if(C=A.type,C===Pc){if(T.tag===7){t(w,T.sibling),x=i(T,A.props.children),x.return=w,w=x;break e}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===pa&&GR(C)===T.type){t(w,T.sibling),x=i(T,A.props),x.ref=Dd(w,T,A),x.return=w,w=x;break e}t(w,T);break}else e(w,T);T=T.sibling}A.type===Pc?(x=eu(A.props.children,w.mode,E,A.key),x.return=w,w=x):(E=Y0(A.type,A.key,A.props,null,w.mode,E),E.ref=Dd(w,x,A),E.return=w,w=E)}return o(w);case Rc:e:{for(T=A.key;x!==null;){if(x.key===T)if(x.tag===4&&x.stateNode.containerInfo===A.containerInfo&&x.stateNode.implementation===A.implementation){t(w,x.sibling),x=i(x,A.children||[]),x.return=w,w=x;break e}else{t(w,x);break}else e(w,x);x=x.sibling}x=y1(A,w.mode,E),x.return=w,w=x}return o(w);case pa:return T=A._init,_(w,x,T(A._payload),E)}if(sh(A))return y(w,x,A,E);if(Td(A))return g(w,x,A,E);Pg(w,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,x!==null&&x.tag===6?(t(w,x.sibling),x=i(x,A),x.return=w,w=x):(t(w,x),x=g1(A,w.mode,E),x.return=w,w=x),o(w)):t(w,x)}return _}var ff=D3(!0),F3=D3(!1),Tp={},Ws=Ya(Tp),Vh=Ya(Tp),Wh=Ya(Tp);function Vl(n){if(n===Tp)throw Error(Ce(174));return n}function FE(n,e){switch(Zt(Wh,e),Zt(Vh,n),Zt(Ws,Tp),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jw(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=jw(e,n)}on(Ws),Zt(Ws,e)}function df(){on(Ws),on(Vh),on(Wh)}function k3(n){Vl(Wh.current);var e=Vl(Ws.current),t=jw(e,n.type);e!==t&&(Zt(Vh,n),Zt(Ws,t))}function kE(n){Vh.current===n&&(on(Ws),on(Vh))}var vn=Ya(0);function Ty(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var f1=[];function OE(){for(var n=0;n<f1.length;n++)f1[n]._workInProgressVersionPrimary=null;f1.length=0}var K0=Ho.ReactCurrentDispatcher,Ki=Ho.ReactCurrentBatchConfig,hf=0,Tn=null,Ar=null,nr=null,Ry=!1,yh=!1,jh=0,oz=0;function _r(){throw Error(Ce(321))}function NE(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Xs(n[t],e[t]))return!1;return!0}function HE(n,e,t,r,i,s){if(hf=s,Tn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,K0.current=n===null||n.memoizedState===null?cz:fz,n=t(r,i),yh){s=0;do{if(yh=!1,jh=0,25<=s)throw Error(Ce(301));s+=1,nr=Ar=null,e.updateQueue=null,K0.current=dz,n=t(r,i)}while(yh)}if(K0.current=Py,e=Ar!==null&&Ar.next!==null,hf=0,nr=Ar=Tn=null,Ry=!1,e)throw Error(Ce(300));return n}function UE(){var n=jh!==0;return jh=0,n}function vo(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?Tn.memoizedState=nr=n:nr=nr.next=n,nr}function to(){if(Ar===null){var n=Tn.alternate;n=n!==null?n.memoizedState:null}else n=Ar.next;var e=nr===null?Tn.memoizedState:nr.next;if(e!==null)nr=e,Ar=n;else{if(n===null)throw Error(Ce(310));Ar=n,n={memoizedState:Ar.memoizedState,baseState:Ar.baseState,baseQueue:Ar.baseQueue,queue:Ar.queue,next:null},nr===null?Tn.memoizedState=nr=n:nr=nr.next=n}return nr}function Yl(n,e){return typeof e=="function"?e(n):e}function Ig(n){var e=to(),t=e.queue;if(t===null)throw Error(Ce(311));t.lastRenderedReducer=n;var r=Ar,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((hf&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Tn.lanes|=d,pf|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Xs(r,e.memoizedState)||(vi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Tn.lanes|=s,pf|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Bg(n){var e=to(),t=e.queue;if(t===null)throw Error(Ce(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Xs(s,e.memoizedState)||(vi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function O3(){}function N3(n,e){var t=Tn,r=to(),i=e(),s=!Xs(r.memoizedState,i);if(s&&(r.memoizedState=i,vi=!0),r=r.queue,$h(G3.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||nr!==null&&nr.memoizedState.tag&1){if(t.flags|=2048,Jh(9,U3.bind(null,t,r,i,e),void 0,null),zn===null)throw Error(Ce(349));(hf&30)!==0||H3(t,e,i)}return i}function H3(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Tn.updateQueue,e===null?(e={lastEffect:null,stores:null},Tn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function U3(n,e,t,r){e.value=t,e.getSnapshot=r,z3(e)&&Qi(n,1,-1)}function G3(n,e,t){return t(function(){z3(e)&&Qi(n,1,-1)})}function z3(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Xs(n,t)}catch{return!0}}function d1(n){var e=vo();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yl,lastRenderedState:n},e.queue=n,n=n.dispatch=uz.bind(null,Tn,n),[e.memoizedState,n]}function Jh(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Tn.updateQueue,e===null?(e={lastEffect:null,stores:null},Tn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function V3(){return to().memoizedState}function X0(n,e,t,r){var i=vo();Tn.flags|=n,i.memoizedState=Jh(1|e,t,void 0,r===void 0?null:r)}function wv(n,e,t,r){var i=to();r=r===void 0?null:r;var s=void 0;if(Ar!==null){var o=Ar.memoizedState;if(s=o.destroy,r!==null&&NE(r,o.deps)){i.memoizedState=Jh(e,t,s,r);return}}Tn.flags|=n,i.memoizedState=Jh(1|e,t,s,r)}function h1(n,e){return X0(8390656,8,n,e)}function $h(n,e){return wv(2048,8,n,e)}function W3(n,e){return wv(4,2,n,e)}function j3(n,e){return wv(4,4,n,e)}function J3(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function $3(n,e,t){return t=t!=null?t.concat([n]):null,wv(4,4,J3.bind(null,e,n),t)}function GE(){}function K3(n,e){var t=to();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&NE(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function X3(n,e){var t=to();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&NE(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function az(n,e){var t=Jt;Jt=t!==0&&4>t?t:4,n(!0);var r=Ki.transition;Ki.transition={};try{n(!1),e()}finally{Jt=t,Ki.transition=r}}function Q3(){return to().memoizedState}function lz(n,e,t){var r=Pa(n);t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},q3(n)?Y3(e,t):(Z3(n,e,t),t=kr(),n=Qi(n,r,t),n!==null&&eD(n,e,r))}function uz(n,e,t){var r=Pa(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(q3(n))Y3(e,i);else{Z3(n,e,i);var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Xs(a,o))return}catch{}finally{}t=kr(),n=Qi(n,r,t),n!==null&&eD(n,e,r)}}function q3(n){var e=n.alternate;return n===Tn||e!==null&&e===Tn}function Y3(n,e){yh=Ry=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Z3(n,e,t){zn!==null&&(n.mode&1)!==0&&(Pt&2)===0?(n=e.interleaved,n===null?(t.next=t,Us===null?Us=[e]:Us.push(e)):(t.next=n.next,n.next=t),e.interleaved=t):(n=e.pending,n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t)}function eD(n,e,t){if((t&4194240)!==0){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,xE(n,t)}}var Py={readContext:qi,useCallback:_r,useContext:_r,useEffect:_r,useImperativeHandle:_r,useInsertionEffect:_r,useLayoutEffect:_r,useMemo:_r,useReducer:_r,useRef:_r,useState:_r,useDebugValue:_r,useDeferredValue:_r,useTransition:_r,useMutableSource:_r,useSyncExternalStore:_r,useId:_r,unstable_isNewReconciler:!1},cz={readContext:qi,useCallback:function(n,e){return vo().memoizedState=[n,e===void 0?null:e],n},useContext:qi,useEffect:h1,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,X0(4194308,4,J3.bind(null,e,n),t)},useLayoutEffect:function(n,e){return X0(4194308,4,n,e)},useInsertionEffect:function(n,e){return X0(4,2,n,e)},useMemo:function(n,e){var t=vo();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=vo();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=lz.bind(null,Tn,n),[r.memoizedState,n]},useRef:function(n){var e=vo();return n={current:n},e.memoizedState=n},useState:d1,useDebugValue:GE,useDeferredValue:function(n){var e=d1(n),t=e[0],r=e[1];return h1(function(){var i=Ki.transition;Ki.transition={};try{r(n)}finally{Ki.transition=i}},[n]),t},useTransition:function(){var n=d1(!1),e=n[0];return n=az.bind(null,n[1]),vo().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Tn,i=vo();if(dn){if(t===void 0)throw Error(Ce(407));t=t()}else{if(t=e(),zn===null)throw Error(Ce(349));(hf&30)!==0||H3(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,h1(G3.bind(null,r,s,n),[n]),r.flags|=2048,Jh(9,U3.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=vo(),e=zn.identifierPrefix;if(dn){var t=Eo,r=Ao;t=(r&~(1<<32-ms(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=jh++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=oz++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},fz={readContext:qi,useCallback:K3,useContext:qi,useEffect:$h,useImperativeHandle:$3,useInsertionEffect:W3,useLayoutEffect:j3,useMemo:X3,useReducer:Ig,useRef:V3,useState:function(){return Ig(Yl)},useDebugValue:GE,useDeferredValue:function(n){var e=Ig(Yl),t=e[0],r=e[1];return $h(function(){var i=Ki.transition;Ki.transition={};try{r(n)}finally{Ki.transition=i}},[n]),t},useTransition:function(){var n=Ig(Yl)[0],e=to().memoizedState;return[n,e]},useMutableSource:O3,useSyncExternalStore:N3,useId:Q3,unstable_isNewReconciler:!1},dz={readContext:qi,useCallback:K3,useContext:qi,useEffect:$h,useImperativeHandle:$3,useInsertionEffect:W3,useLayoutEffect:j3,useMemo:X3,useReducer:Bg,useRef:V3,useState:function(){return Bg(Yl)},useDebugValue:GE,useDeferredValue:function(n){var e=Bg(Yl),t=e[0],r=e[1];return $h(function(){var i=Ki.transition;Ki.transition={};try{r(n)}finally{Ki.transition=i}},[n]),t},useTransition:function(){var n=Bg(Yl)[0],e=to().memoizedState;return[n,e]},useMutableSource:O3,useSyncExternalStore:N3,useId:Q3,unstable_isNewReconciler:!1};function zE(n,e){try{var t="",r=e;do t+=U4(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i}}function hS(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var hz=typeof WeakMap=="function"?WeakMap:Map;function tD(n,e,t){t=To(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Ly||(Ly=!0,SS=r),hS(n,e)},t}function nD(n,e,t){t=To(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){hS(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){hS(n,e),typeof r!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function zR(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new hz;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=bz.bind(null,n,e,t),e.then(n,n))}function VR(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function WR(n,e,t,r,i){return(n.mode&1)===0?(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=To(-1,1),e.tag=2,Ta(t,e))),t.lanes|=1),n):(n.flags|=65536,n.lanes=i,n)}var rD,pS,iD,sD;rD=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};pS=function(){};iD=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Vl(Ws.current);var s=null;switch(t){case"input":i=Gw(n,i),r=Gw(n,r),s=[];break;case"select":i=wn({},i,{value:void 0}),r=wn({},r,{value:void 0}),s=[];break;case"textarea":i=Ww(n,i),r=Ww(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=xy)}Jw(t,r);var o;t=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Bh.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Bh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&tn("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};sD=function(n,e,t,r){t!==r&&(e.flags|=4)};function Fd(n,e){if(!dn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function xr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function pz(n,e,t){var r=e.pendingProps;switch(LE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xr(e),null;case 1:return ri(e.type)&&wy(),xr(e),null;case 3:return r=e.stateNode,df(),on(ni),on(Tr),OE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Ld(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,cs!==null&&(MS(cs),cs=null))),pS(n,e),xr(e),null;case 5:kE(e);var i=Vl(Wh.current);if(t=e.type,n!==null&&e.stateNode!=null)iD(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ce(166));return xr(e),null}if(n=Vl(Ws.current),Ld(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Hs]=e,r[zh]=s,n=(e.mode&1)!==0,t){case"dialog":tn("cancel",r),tn("close",r);break;case"iframe":case"object":case"embed":tn("load",r);break;case"video":case"audio":for(i=0;i<ah.length;i++)tn(ah[i],r);break;case"source":tn("error",r);break;case"img":case"image":case"link":tn("error",r),tn("load",r);break;case"details":tn("toggle",r);break;case"input":oR(r,s),tn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},tn("invalid",r);break;case"textarea":lR(r,s),tn("invalid",r)}Jw(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(Rg(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(Rg(r.textContent,a,n),i=["children",""+a]):Bh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&tn("scroll",r)}switch(t){case"input":wg(r),aR(r,s,!0);break;case"textarea":wg(r),uR(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=xy)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=zL(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Hs]=e,n[zh]=r,rD(n,e,!1,!1),e.stateNode=n;e:{switch(o=$w(t,r),t){case"dialog":tn("cancel",n),tn("close",n),i=r;break;case"iframe":case"object":case"embed":tn("load",n),i=r;break;case"video":case"audio":for(i=0;i<ah.length;i++)tn(ah[i],n);i=r;break;case"source":tn("error",n),i=r;break;case"img":case"image":case"link":tn("error",n),tn("load",n),i=r;break;case"details":tn("toggle",n),i=r;break;case"input":oR(n,r),i=Gw(n,r),tn("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=wn({},r,{value:void 0}),tn("invalid",n);break;case"textarea":lR(n,r),i=Ww(n,r),tn("invalid",n);break;default:i=r}Jw(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?jL(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&VL(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Lh(n,l):typeof l=="number"&&Lh(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Bh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&tn("scroll",n):l!=null&&pE(n,s,l,o))}switch(t){case"input":wg(n),aR(n,r,!1);break;case"textarea":wg(n),uR(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Oa(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Kc(n,!!r.multiple,s,!1):r.defaultValue!=null&&Kc(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=xy)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xr(e),null;case 6:if(n&&e.stateNode!=null)sD(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ce(166));if(t=Vl(Wh.current),Vl(Ws.current),Ld(e)){if(r=e.stateNode,t=e.memoizedProps,r[Hs]=e,(s=r.nodeValue!==t)&&(n=xi,n!==null))switch(o=(n.mode&1)!==0,n.tag){case 3:Rg(r.nodeValue,t,o);break;case 5:n.memoizedProps[void 0]!==!0&&Rg(r.nodeValue,t,o)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Hs]=e,e.stateNode=r}return xr(e),null;case 13:if(on(vn),r=e.memoizedState,dn&&qr!==null&&(e.mode&1)!==0&&(e.flags&128)===0){for(r=qr;r;)r=So(r.nextSibling);return cf(),e.flags|=98560,e}if(r!==null&&r.dehydrated!==null){if(r=Ld(e),n===null){if(!r)throw Error(Ce(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Ce(317));r[Hs]=e}else cf(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;return xr(e),null}return cs!==null&&(MS(cs),cs=null),(e.flags&128)!==0?(e.lanes=t,e):(r=r!==null,t=!1,n===null?Ld(e):t=n.memoizedState!==null,r&&!t&&(e.child.flags|=8192,(e.mode&1)!==0&&(n===null||(vn.current&1)!==0?Kn===0&&(Kn=3):KE())),e.updateQueue!==null&&(e.flags|=4),xr(e),null);case 4:return df(),pS(n,e),n===null&&Uh(e.stateNode.containerInfo),xr(e),null;case 10:return PE(e.type._context),xr(e),null;case 17:return ri(e.type)&&wy(),xr(e),null;case 19:if(on(vn),s=e.memoizedState,s===null)return xr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Fd(s,!1);else{if(Kn!==0||n!==null&&(n.flags&128)!==0)for(n=e.child;n!==null;){if(o=Ty(n),o!==null){for(e.flags|=128,Fd(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Zt(vn,vn.current&1|2),e.child}n=n.sibling}s.tail!==null&&Ln()>mf&&(e.flags|=128,r=!0,Fd(s,!1),e.lanes=4194304)}else{if(!r)if(n=Ty(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Fd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!dn)return xr(e),null}else 2*Ln()-s.renderingStartTime>mf&&t!==1073741824&&(e.flags|=128,r=!0,Fd(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ln(),e.sibling=null,t=vn.current,Zt(vn,r?t&1|2:t&1),e):(xr(e),null);case 22:case 23:return $E(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(yi&1073741824)!==0&&(xr(e),e.subtreeFlags&6&&(e.flags|=8192)):xr(e),null;case 24:return null;case 25:return null}throw Error(Ce(156,e.tag))}var mz=Ho.ReactCurrentOwner,vi=!1;function Fr(n,e,t,r){e.child=n===null?F3(e,null,t,r):ff(e,n.child,t,r)}function jR(n,e,t,r,i){t=t.render;var s=e.ref;return Yc(e,i),r=HE(n,e,t,r,s,i),t=UE(),n!==null&&!vi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Fo(n,e,i)):(dn&&t&&BE(e),e.flags|=1,Fr(n,e,r,i),e.child)}function JR(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!XE(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,oD(n,e,s,r,i)):(n=Y0(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,(n.lanes&i)===0){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Hh,t(o,r)&&n.ref===e.ref)return Fo(n,e,i)}return e.flags|=1,n=Ha(s,r),n.ref=e.ref,n.return=e,e.child=n}function oD(n,e,t,r,i){if(n!==null&&Hh(n.memoizedProps,r)&&n.ref===e.ref)if(vi=!1,(n.lanes&i)!==0)(n.flags&131072)!==0&&(vi=!0);else return e.lanes=n.lanes,Fo(n,e,i);return mS(n,e,t,r,i)}function aD(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null},Zt(Hc,yi),yi|=t;else if((t&1073741824)!==0)e.memoizedState={baseLanes:0,cachePool:null},r=s!==null?s.baseLanes:t,Zt(Hc,yi),yi|=r;else return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null},e.updateQueue=null,Zt(Hc,yi),yi|=n,null;else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Zt(Hc,yi),yi|=r;return Fr(n,e,i,t),e.child}function lD(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function mS(n,e,t,r,i){var s=ri(t)?uu:Tr.current;return s=uf(e,s),Yc(e,i),t=HE(n,e,t,r,s,i),r=UE(),n!==null&&!vi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Fo(n,e,i)):(dn&&r&&BE(e),e.flags|=1,Fr(n,e,t,i),e.child)}function $R(n,e,t,r,i){if(ri(t)){var s=!0;Sy(e)}else s=!1;if(Yc(e,i),e.stateNode===null)n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),I3(e,t,r),cS(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=qi(u):(u=ri(t)?uu:Tr.current,u=uf(e,u));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&NR(e,o,r,u),ma=!1;var p=e.memoizedState;o.state=p,My(e,r,o,i),l=e.memoizedState,a!==r||p!==l||ni.current||ma?(typeof d=="function"&&(uS(e,t,d,r),l=e.memoizedState),(a=ma||OR(e,t,a,r,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,R3(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:us(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=qi(l):(l=ri(t)?uu:Tr.current,l=uf(e,l));var m=t.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&NR(e,o,r,l),ma=!1,p=e.memoizedState,o.state=p,My(e,r,o,i);var y=e.memoizedState;a!==h||p!==y||ni.current||ma?(typeof m=="function"&&(uS(e,t,m,r),y=e.memoizedState),(u=ma||OR(e,t,u,r,p,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return gS(n,e,t,r,s,i)}function gS(n,e,t,r,i,s){lD(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&DR(e,t,!1),Fo(n,e,s);r=e.stateNode,mz.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=ff(e,n.child,null,s),e.child=ff(e,null,a,s)):Fr(n,e,a,s),e.memoizedState=r.state,i&&DR(e,t,!0),e.child}function uD(n){var e=n.stateNode;e.pendingContext?LR(n,e.pendingContext,e.pendingContext!==e.context):e.context&&LR(n,e.context,!1),FE(n,e.containerInfo)}function KR(n,e,t,r,i){return cf(),DE(i),e.flags|=256,Fr(n,e,t,r),e.child}var Lg={dehydrated:null,treeContext:null,retryLane:0};function Dg(n){return{baseLanes:n,cachePool:null}}function cD(n,e,t){var r=e.pendingProps,i=vn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Zt(vn,i&1),n===null)return dS(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((e.mode&1)===0?e.lanes=1:n.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(i=r.children,n=r.fallback,s?(r=e.mode,s=e.child,i={mode:"hidden",children:i},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=i):s=ky(i,r,0,null),n=eu(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=Dg(t),e.memoizedState=Lg,n):yS(e,i));if(i=n.memoizedState,i!==null){if(a=i.dehydrated,a!==null){if(o)return e.flags&256?(e.flags&=-257,Fg(n,e,t,Error(Ce(422)))):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ky({mode:"visible",children:r.children},i,0,null),s=eu(s,i,t,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,(e.mode&1)!==0&&ff(e,n.child,null,t),e.child.memoizedState=Dg(t),e.memoizedState=Lg,s);if((e.mode&1)===0)e=Fg(n,e,t,null);else if(a.data==="$!")e=Fg(n,e,t,Error(Ce(419)));else if(r=(t&n.childLanes)!==0,vi||r){if(r=zn,r!==null){switch(t&-t){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}r=(s&(r.suspendedLanes|t))!==0?0:s,r!==0&&r!==i.retryLane&&(i.retryLane=r,Qi(n,r,-1))}KE(),e=Fg(n,e,t,Error(Ce(421)))}else a.data==="$?"?(e.flags|=128,e.child=n.child,e=Tz.bind(null,n),a._reactRetry=e,e=null):(t=i.treeContext,qr=So(a.nextSibling),xi=e,dn=!0,cs=null,t!==null&&(Vi[Wi++]=Ao,Vi[Wi++]=Eo,Vi[Wi++]=cu,Ao=t.id,Eo=t.overflow,cu=e),e=yS(e,e.pendingProps.children),e.flags|=4096);return e}return s?(r=QR(n,e,r.children,r.fallback,t),s=e.child,i=n.child.memoizedState,s.memoizedState=i===null?Dg(t):{baseLanes:i.baseLanes|t,cachePool:null},s.childLanes=n.childLanes&~t,e.memoizedState=Lg,r):(t=XR(n,e,r.children,t),e.memoizedState=null,t)}return s?(r=QR(n,e,r.children,r.fallback,t),s=e.child,i=n.child.memoizedState,s.memoizedState=i===null?Dg(t):{baseLanes:i.baseLanes|t,cachePool:null},s.childLanes=n.childLanes&~t,e.memoizedState=Lg,r):(t=XR(n,e,r.children,t),e.memoizedState=null,t)}function yS(n,e){return e=ky({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function XR(n,e,t,r){var i=n.child;return n=i.sibling,t=Ha(i,{mode:"visible",children:t}),(e.mode&1)===0&&(t.lanes=r),t.return=e,t.sibling=null,n!==null&&(r=e.deletions,r===null?(e.deletions=[n],e.flags|=16):r.push(n)),e.child=t}function QR(n,e,t,r,i){var s=e.mode;n=n.child;var o=n.sibling,a={mode:"hidden",children:t};return(s&1)===0&&e.child!==n?(t=e.child,t.childLanes=0,t.pendingProps=a,e.deletions=null):(t=Ha(n,a),t.subtreeFlags=n.subtreeFlags&14680064),o!==null?r=Ha(o,r):(r=eu(r,s,i,null),r.flags|=2),r.return=e,t.return=e,t.sibling=r,e.child=t,r}function Fg(n,e,t,r){return r!==null&&DE(r),ff(e,n.child,null,t),n=yS(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function qR(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),lS(n.return,e,t)}function p1(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function fD(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Fr(n,e,r.children,t),r=vn.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&qR(n,t,e);else if(n.tag===19)qR(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Zt(vn,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Ty(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),p1(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Ty(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}p1(e,!0,t,null,s);break;case"together":p1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fo(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),pf|=e.lanes,(t&e.childLanes)===0)return null;if(n!==null&&e.child!==n.child)throw Error(Ce(153));if(e.child!==null){for(n=e.child,t=Ha(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Ha(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function gz(n,e,t){switch(e.tag){case 3:uD(e),cf();break;case 5:k3(e);break;case 1:ri(e.type)&&Sy(e);break;case 4:FE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Zt(Ay,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Zt(vn,vn.current&1),e.flags|=128,null):(t&e.child.childLanes)!==0?cD(n,e,t):(Zt(vn,vn.current&1),n=Fo(n,e,t),n!==null?n.sibling:null);Zt(vn,vn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,(n.flags&128)!==0){if(r)return fD(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Zt(vn,vn.current),r)break;return null;case 22:case 23:return e.lanes=0,aD(n,e,t)}return Fo(n,e,t)}function yz(n,e){switch(LE(e),e.tag){case 1:return ri(e.type)&&wy(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return df(),on(ni),on(Tr),OE(),n=e.flags,(n&65536)!==0&&(n&128)===0?(e.flags=n&-65537|128,e):null;case 5:return kE(e),null;case 13:if(on(vn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ce(340));cf()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return on(vn),null;case 4:return df(),null;case 10:return PE(e.type._context),null;case 22:case 23:return $E(),null;case 24:return null;default:return null}}var kg=!1,Wl=!1,vz=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function Iy(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Yr(n,e,r)}else t.current=null}function vS(n,e,t){try{t()}catch(r){Yr(n,e,r)}}var YR=!1;function _z(n,e){if(n=v3(),bE(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=n,p=null;t:for(;;){for(var m;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===n)break t;if(p===t&&++u===i&&(a=o),p===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(rS={focusedElem:n,selectionRange:t},Ge=e;Ge!==null;)if(e=Ge,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Ge=n;else for(;Ge!==null;){e=Ge;try{var y=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,_=y.memoizedState,w=e.stateNode,x=w.getSnapshotBeforeUpdate(e.elementType===e.type?g:us(e.type,g),_);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var A=e.stateNode.containerInfo;if(A.nodeType===1)A.textContent="";else if(A.nodeType===9){var E=A.body;E!=null&&(E.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(Ce(163))}}catch(C){Yr(e,e.return,C)}if(n=e.sibling,n!==null){n.return=e.return,Ge=n;break}Ge=e.return}return y=YR,YR=!1,y}function Kh(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&vS(e,t,s)}i=i.next}while(i!==r)}}function Sv(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function _S(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function ZR(n,e,t){if(Vs&&typeof Vs.onCommitFiberUnmount=="function")try{Vs.onCommitFiberUnmount(pv,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:if(n=e.updateQueue,n!==null&&(n=n.lastEffect,n!==null)){var r=n=n.next;do{var i=r,s=i.destroy;i=i.tag,s!==void 0&&((i&2)!==0||(i&4)!==0)&&vS(e,t,s),r=r.next}while(r!==n)}break;case 1:if(Iy(e,t),n=e.stateNode,typeof n.componentWillUnmount=="function")try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(o){Yr(e,t,o)}break;case 5:Iy(e,t);break;case 4:pD(n,e,t)}}function dD(n){var e=n.alternate;e!==null&&(n.alternate=null,dD(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Hs],delete e[zh],delete e[oS],delete e[nz],delete e[rz])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function hD(n){return n.tag===5||n.tag===3||n.tag===4}function e2(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||hD(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function t2(n){e:{for(var e=n.return;e!==null;){if(hD(e))break e;e=e.return}throw Error(Ce(160))}var t=e;switch(t.tag){case 5:e=t.stateNode,t.flags&32&&(Lh(e,""),t.flags&=-33),t=e2(n),wS(n,t,e);break;case 3:case 4:e=t.stateNode.containerInfo,t=e2(n),xS(n,t,e);break;default:throw Error(Ce(161))}}function xS(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=xy));else if(r!==4&&(n=n.child,n!==null))for(xS(n,e,t),n=n.sibling;n!==null;)xS(n,e,t),n=n.sibling}function wS(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(wS(n,e,t),n=n.sibling;n!==null;)wS(n,e,t),n=n.sibling}function pD(n,e,t){for(var r=e,i=!1,s,o;;){if(!i){i=r.return;e:for(;;){if(i===null)throw Error(Ce(160));switch(s=i.stateNode,i.tag){case 5:o=!1;break e;case 3:s=s.containerInfo,o=!0;break e;case 4:s=s.containerInfo,o=!0;break e}i=i.return}i=!0}if(r.tag===5||r.tag===6){e:for(var a=n,l=r,u=t,d=l;;)if(ZR(a,d,u),d.child!==null&&d.tag!==4)d.child.return=d,d=d.child;else{if(d===l)break e;for(;d.sibling===null;){if(d.return===null||d.return===l)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}o?(a=s,l=r.stateNode,a.nodeType===8?a.parentNode.removeChild(l):a.removeChild(l)):s.removeChild(r.stateNode)}else if(r.tag===18)o?(a=s,l=r.stateNode,a.nodeType===8?u1(a.parentNode,l):a.nodeType===1&&u1(a,l),Oh(a)):u1(s,r.stateNode);else if(r.tag===4){if(r.child!==null){s=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(ZR(n,r,t),r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return,r.tag===4&&(i=!1)}r.sibling.return=r.return,r=r.sibling}}function m1(n,e){switch(e.tag){case 0:case 11:case 14:case 15:Kh(3,e,e.return),Sv(3,e),Kh(5,e,e.return);return;case 1:return;case 5:var t=e.stateNode;if(t!=null){var r=e.memoizedProps,i=n!==null?n.memoizedProps:r;n=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(n==="input"&&r.type==="radio"&&r.name!=null&&UL(t,r),$w(n,i),e=$w(n,r),i=0;i<s.length;i+=2){var o=s[i],a=s[i+1];o==="style"?jL(t,a):o==="dangerouslySetInnerHTML"?VL(t,a):o==="children"?Lh(t,a):pE(t,o,a,e)}switch(n){case"input":zw(t,r);break;case"textarea":GL(t,r);break;case"select":n=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?Kc(t,!!r.multiple,s,!1):n!==!!r.multiple&&(r.defaultValue!=null?Kc(t,!!r.multiple,r.defaultValue,!0):Kc(t,!!r.multiple,r.multiple?[]:"",!1))}t[zh]=r}}return;case 6:if(e.stateNode===null)throw Error(Ce(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n!==null&&n.memoizedState.isDehydrated&&Oh(e.stateNode.containerInfo);return;case 12:return;case 13:n2(e);return;case 19:n2(e);return;case 17:return}throw Error(Ce(163))}function n2(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new vz),e.forEach(function(r){var i=Rz.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function xz(n,e){for(Ge=e;Ge!==null;){e=Ge;var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{pD(n,i,e);var s=i.alternate;s!==null&&(s.return=null),i.return=null}catch(I){Yr(i,e,I)}}if(t=e.child,(e.subtreeFlags&12854)!==0&&t!==null)t.return=e,Ge=t;else for(;Ge!==null;){e=Ge;try{var o=e.flags;if(o&32&&Lh(e.stateNode,""),o&512){var a=e.alternate;if(a!==null){var l=a.ref;l!==null&&(typeof l=="function"?l(null):l.current=null)}}if(o&8192)switch(e.tag){case 13:if(e.memoizedState!==null){var u=e.alternate;(u===null||u.memoizedState===null)&&(jE=Ln())}break;case 22:var d=e.memoizedState!==null,h=e.alternate,p=h!==null&&h.memoizedState!==null;t=e;e:{r=t,i=d;for(var m=null,y=r;;){if(y.tag===5){if(m===null){m=y;var g=y.stateNode;if(i){var _=g.style;typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"}else{var w=y.stateNode,x=y.memoizedProps.style,A=x!=null&&x.hasOwnProperty("display")?x.display:null;w.style.display=WL("display",A)}}}else if(y.tag===6)m===null&&(y.stateNode.nodeValue=i?"":y.memoizedProps);else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===r)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===r)break;for(;y.sibling===null;){if(y.return===null||y.return===r)break e;m===y&&(m=null),y=y.return}m===y&&(m=null),y.sibling.return=y.return,y=y.sibling}}if(d&&!p&&(t.mode&1)!==0){Ge=t;for(var E=t.child;E!==null;){for(t=Ge=E;Ge!==null;){r=Ge;var C=r.child;switch(r.tag){case 0:case 11:case 14:case 15:Kh(4,r,r.return);break;case 1:Iy(r,r.return);var T=r.stateNode;if(typeof T.componentWillUnmount=="function"){var R=r.return;try{T.props=r.memoizedProps,T.state=r.memoizedState,T.componentWillUnmount()}catch(I){Yr(r,R,I)}}break;case 5:Iy(r,r.return);break;case 22:if(r.memoizedState!==null){i2(t);continue}}C!==null?(C.return=r,Ge=C):i2(t)}E=E.sibling}}}switch(o&4102){case 2:t2(e),e.flags&=-3;break;case 6:t2(e),e.flags&=-3,m1(e.alternate,e);break;case 4096:e.flags&=-4097;break;case 4100:e.flags&=-4097,m1(e.alternate,e);break;case 4:m1(e.alternate,e)}}catch(I){Yr(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,Ge=t;break}Ge=e.return}}}function wz(n,e,t){Ge=n,mD(n)}function mD(n,e,t){for(var r=(n.mode&1)!==0;Ge!==null;){var i=Ge,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||kg;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Wl;a=kg;var u=Wl;if(kg=o,(Wl=l)&&!u)for(Ge=i;Ge!==null;)o=Ge,l=o.child,o.tag===22&&o.memoizedState!==null?s2(i):l!==null?(l.return=o,Ge=l):s2(i);for(;s!==null;)Ge=s,mD(s),s=s.sibling;Ge=i,kg=a,Wl=u}r2(n)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,Ge=s):r2(n)}}function r2(n){for(;Ge!==null;){var e=Ge;if((e.flags&8772)!==0){var t=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Wl||Sv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wl)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:us(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&kR(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}kR(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Oh(h)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(Ce(163))}Wl||e.flags&512&&_S(e)}catch(p){Yr(e,e.return,p)}}if(e===n){Ge=null;break}if(t=e.sibling,t!==null){t.return=e.return,Ge=t;break}Ge=e.return}}function i2(n){for(;Ge!==null;){var e=Ge;if(e===n){Ge=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Ge=t;break}Ge=e.return}}function s2(n){for(;Ge!==null;){var e=Ge;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Sv(4,e)}catch(l){Yr(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Yr(e,i,l)}}var s=e.return;try{_S(e)}catch(l){Yr(e,s,l)}break;case 5:var o=e.return;try{_S(e)}catch(l){Yr(e,o,l)}}}catch(l){Yr(e,e.return,l)}if(e===n){Ge=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ge=a;break}Ge=e.return}}var Sz=Math.ceil,By=Ho.ReactCurrentDispatcher,VE=Ho.ReactCurrentOwner,Xi=Ho.ReactCurrentBatchConfig,Pt=0,zn=null,Gn=null,cr=0,yi=0,Hc=Ya(0),Kn=0,Xh=null,pf=0,Av=0,WE=0,vh=null,Qr=null,jE=0,mf=1/0,Ly=!1,SS=null,Ra=null,Og=!1,_a=null,Dy=0,_h=0,AS=null,Q0=-1,q0=0;function kr(){return(Pt&6)!==0?Ln():Q0!==-1?Q0:Q0=Ln()}function Pa(n){return(n.mode&1)===0?1:(Pt&2)!==0&&cr!==0?cr&-cr:sz.transition!==null?(q0===0&&(n=Ag,Ag<<=1,(Ag&4194240)===0&&(Ag=64),q0=n),q0):(n=Jt,n!==0||(n=window.event,n=n===void 0?16:u3(n.type)),n)}function Qi(n,e,t){if(50<_h)throw _h=0,AS=null,Error(Ce(185));var r=Ev(n,e);return r===null?null:(Mp(r,e,t),((Pt&2)===0||r!==zn)&&(r===zn&&((Pt&2)===0&&(Av|=e),Kn===4&&ya(r,cr)),ii(r,t),e===1&&Pt===0&&(n.mode&1)===0&&(mf=Ln()+500,_v&&Za())),r)}function Ev(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}function ii(n,e){var t=n.callbackNode;sG(n,e);var r=yy(n,n===zn?cr:0);if(r===0)t!==null&&dR(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&dR(t),e===1)n.tag===0?iz(o2.bind(null,n)):T3(o2.bind(null,n)),ez(function(){Pt===0&&Za()}),t=null;else{switch(r3(r)){case 1:t=_E;break;case 4:t=t3;break;case 16:t=gy;break;case 536870912:t=n3;break;default:t=gy}t=AD(t,gD.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function gD(n,e){if(Q0=-1,q0=0,(Pt&6)!==0)throw Error(Ce(327));var t=n.callbackNode;if(Zc()&&n.callbackNode!==t)return null;var r=yy(n,n===zn?cr:0);if(r===0)return null;if((r&30)!==0||(r&n.expiredLanes)!==0||e)e=Fy(n,r);else{e=r;var i=Pt;Pt|=2;var s=vD();(zn!==n||cr!==e)&&(mf=Ln()+500,Zl(n,e));do try{Mz();break}catch(a){yD(n,a)}while(1);RE(),By.current=s,Pt=i,Gn!==null?e=0:(zn=null,cr=0,e=Kn)}if(e!==0){if(e===2&&(i=Yw(n),i!==0&&(r=i,e=ES(n,i))),e===1)throw t=Xh,Zl(n,0),ya(n,r),ii(n,Ln()),t;if(e===6)ya(n,r);else{if(i=n.current.alternate,(r&30)===0&&!Az(i)&&(e=Fy(n,r),e===2&&(s=Yw(n),s!==0&&(r=s,e=ES(n,s))),e===1))throw t=Xh,Zl(n,0),ya(n,r),ii(n,Ln()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Ce(345));case 2:Il(n,Qr);break;case 3:if(ya(n,r),(r&130023424)===r&&(e=jE+500-Ln(),10<e)){if(yy(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){kr(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=sS(Il.bind(null,n,Qr),e);break}Il(n,Qr);break;case 4:if(ya(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-ms(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ln()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sz(r/1960))-r,10<r){n.timeoutHandle=sS(Il.bind(null,n,Qr),r);break}Il(n,Qr);break;case 5:Il(n,Qr);break;default:throw Error(Ce(329))}}}return ii(n,Ln()),n.callbackNode===t?gD.bind(null,n):null}function ES(n,e){var t=vh;return n.current.memoizedState.isDehydrated&&(Zl(n,e).flags|=256),n=Fy(n,e),n!==2&&(e=Qr,Qr=t,e!==null&&MS(e)),n}function MS(n){Qr===null?Qr=n:Qr.push.apply(Qr,n)}function Az(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Xs(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ya(n,e){for(e&=~WE,e&=~Av,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-ms(e),r=1<<t;n[t]=-1,e&=~r}}function o2(n){if((Pt&6)!==0)throw Error(Ce(327));Zc();var e=yy(n,0);if((e&1)===0)return ii(n,Ln()),null;var t=Fy(n,e);if(n.tag!==0&&t===2){var r=Yw(n);r!==0&&(e=r,t=ES(n,r))}if(t===1)throw t=Xh,Zl(n,0),ya(n,e),ii(n,Ln()),t;if(t===6)throw Error(Ce(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Il(n,Qr),ii(n,Ln()),null}function JE(n,e){var t=Pt;Pt|=1;try{return n(e)}finally{Pt=t,Pt===0&&(mf=Ln()+500,_v&&Za())}}function fu(n){_a!==null&&_a.tag===0&&(Pt&6)===0&&Zc();var e=Pt;Pt|=1;var t=Xi.transition,r=Jt;try{if(Xi.transition=null,Jt=1,n)return n()}finally{Jt=r,Xi.transition=t,Pt=e,(Pt&6)===0&&Za()}}function $E(){yi=Hc.current,on(Hc)}function Zl(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,ZG(t)),Gn!==null)for(t=Gn.return;t!==null;){var r=t;switch(LE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wy();break;case 3:df(),on(ni),on(Tr),OE();break;case 5:kE(r);break;case 4:df();break;case 13:on(vn);break;case 19:on(vn);break;case 10:PE(r.type._context);break;case 22:case 23:$E()}t=t.return}if(zn=n,Gn=n=Ha(n.current,null),cr=yi=e,Kn=0,Xh=null,WE=Av=pf=0,Qr=vh=null,Us!==null){for(e=0;e<Us.length;e++)if(t=Us[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Us=null}return n}function yD(n,e){do{var t=Gn;try{if(RE(),K0.current=Py,Ry){for(var r=Tn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ry=!1}if(hf=0,nr=Ar=Tn=null,yh=!1,jh=0,VE.current=null,t===null||t.return===null){Kn=1,Xh=e,Gn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=cr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if((d.mode&1)===0&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=VR(o);if(m!==null){m.flags&=-257,WR(m,o,a,s,e),m.mode&1&&zR(s,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if((e&1)===0){zR(s,u,e),KE();break e}l=Error(Ce(426))}}else if(dn&&a.mode&1){var _=VR(o);if(_!==null){(_.flags&65536)===0&&(_.flags|=256),WR(_,o,a,s,e),DE(l);break e}}s=l,Kn!==4&&(Kn=2),vh===null?vh=[s]:vh.push(s),l=zE(l,a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var w=tD(a,l,e);FR(a,w);break e;case 1:s=l;var x=a.type,A=a.stateNode;if((a.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Ra===null||!Ra.has(A)))){a.flags|=65536,e&=-e,a.lanes|=e;var E=nD(a,s,e);FR(a,E);break e}}a=a.return}while(a!==null)}xD(t)}catch(C){e=C,Gn===t&&t!==null&&(Gn=t=t.return);continue}break}while(1)}function vD(){var n=By.current;return By.current=Py,n===null?Py:n}function KE(){(Kn===0||Kn===3||Kn===2)&&(Kn=4),zn===null||(pf&268435455)===0&&(Av&268435455)===0||ya(zn,cr)}function Fy(n,e){var t=Pt;Pt|=2;var r=vD();zn===n&&cr===e||Zl(n,e);do try{Ez();break}catch(i){yD(n,i)}while(1);if(RE(),Pt=t,By.current=r,Gn!==null)throw Error(Ce(261));return zn=null,cr=0,Kn}function Ez(){for(;Gn!==null;)_D(Gn)}function Mz(){for(;Gn!==null&&!Q4();)_D(Gn)}function _D(n){var e=SD(n.alternate,n,yi);n.memoizedProps=n.pendingProps,e===null?xD(n):Gn=e,VE.current=null}function xD(n){var e=n;do{var t=e.alternate;if(n=e.return,(e.flags&32768)===0){if(t=pz(t,e,yi),t!==null){Gn=t;return}}else{if(t=yz(t,e),t!==null){t.flags&=32767,Gn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Kn=6,Gn=null;return}}if(e=e.sibling,e!==null){Gn=e;return}Gn=e=n}while(e!==null);Kn===0&&(Kn=5)}function Il(n,e){var t=Jt,r=Xi.transition;try{Xi.transition=null,Jt=1,Cz(n,e,t)}finally{Xi.transition=r,Jt=t}return null}function Cz(n,e,t){do Zc();while(_a!==null);if((Pt&6)!==0)throw Error(Ce(327));var r=n.finishedWork,i=n.finishedLanes;if(r===null)return null;if(n.finishedWork=null,n.finishedLanes=0,r===n.current)throw Error(Ce(177));n.callbackNode=null,n.callbackPriority=0;var s=r.lanes|r.childLanes;if(oG(n,s),n===zn&&(Gn=zn=null,cr=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||Og||(Og=!0,AD(gy,function(){return Zc(),null})),s=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||s){s=Xi.transition,Xi.transition=null;var o=Jt;Jt=1;var a=Pt;Pt|=4,VE.current=null,_z(n,r),xz(n,r),JG(rS),rS=null,n.current=r,wz(r),q4(),Pt=a,Jt=o,Xi.transition=s}else n.current=r;if(Og&&(Og=!1,_a=n,Dy=i),s=n.pendingLanes,s===0&&(Ra=null),eG(r.stateNode),ii(n,Ln()),e!==null)for(t=n.onRecoverableError,r=0;r<e.length;r++)t(e[r]);if(Ly)throw Ly=!1,n=SS,SS=null,n;return(Dy&1)!==0&&n.tag!==0&&Zc(),s=n.pendingLanes,(s&1)!==0?n===AS?_h++:(_h=0,AS=n):_h=0,Za(),null}function Zc(){if(_a!==null){var n=r3(Dy),e=Xi.transition,t=Jt;try{if(Xi.transition=null,Jt=16>n?16:n,_a===null)var r=!1;else{if(n=_a,_a=null,Dy=0,(Pt&6)!==0)throw Error(Ce(331));var i=Pt;for(Pt|=4,Ge=n.current;Ge!==null;){var s=Ge,o=s.child;if((Ge.flags&16)!==0){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ge=u;Ge!==null;){var d=Ge;switch(d.tag){case 0:case 11:case 15:Kh(8,d,s)}var h=d.child;if(h!==null)h.return=d,Ge=h;else for(;Ge!==null;){d=Ge;var p=d.sibling,m=d.return;if(dD(d),d===u){Ge=null;break}if(p!==null){p.return=m,Ge=p;break}Ge=m}}}var y=s.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}Ge=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,Ge=o;else e:for(;Ge!==null;){if(s=Ge,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:Kh(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Ge=w;break e}Ge=s.return}}var x=n.current;for(Ge=x;Ge!==null;){o=Ge;var A=o.child;if((o.subtreeFlags&2064)!==0&&A!==null)A.return=o,Ge=A;else e:for(o=x;Ge!==null;){if(a=Ge,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:Sv(9,a)}}catch(C){Yr(a,a.return,C)}if(a===o){Ge=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Ge=E;break e}Ge=a.return}}if(Pt=i,Za(),Vs&&typeof Vs.onPostCommitFiberRoot=="function")try{Vs.onPostCommitFiberRoot(pv,n)}catch{}r=!0}return r}finally{Jt=t,Xi.transition=e}}return!1}function a2(n,e,t){e=zE(t,e),e=tD(n,e,1),Ta(n,e),e=kr(),n=Ev(n,1),n!==null&&(Mp(n,1,e),ii(n,e))}function Yr(n,e,t){if(n.tag===3)a2(n,n,t);else for(;e!==null;){if(e.tag===3){a2(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ra===null||!Ra.has(r))){n=zE(t,n),n=nD(e,n,1),Ta(e,n),n=kr(),e=Ev(e,1),e!==null&&(Mp(e,1,n),ii(e,n));break}}e=e.return}}function bz(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=kr(),n.pingedLanes|=n.suspendedLanes&t,zn===n&&(cr&t)===t&&(Kn===4||Kn===3&&(cr&130023424)===cr&&500>Ln()-jE?Zl(n,0):WE|=t),ii(n,e)}function wD(n,e){e===0&&((n.mode&1)===0?e=1:(e=Eg,Eg<<=1,(Eg&130023424)===0&&(Eg=4194304)));var t=kr();n=Ev(n,e),n!==null&&(Mp(n,e,t),ii(n,t))}function Tz(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),wD(n,t)}function Rz(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Ce(314))}r!==null&&r.delete(e),wD(n,t)}var SD;SD=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||ni.current)vi=!0;else{if((n.lanes&t)===0&&(e.flags&128)===0)return vi=!1,gz(n,e,t);vi=(n.flags&131072)!==0}else vi=!1,dn&&(e.flags&1048576)!==0&&B3(e,by,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps;var i=uf(e,Tr.current);Yc(e,t),i=HE(null,e,r,n,i,t);var s=UE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ri(r)?(s=!0,Sy(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,IE(e),i.updater=xv,e.stateNode=i,i._reactInternals=e,cS(e,r,n,t),e=gS(null,e,r,!0,s,t)):(e.tag=0,dn&&s&&BE(e),Fr(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Iz(r),n=us(r,n),i){case 0:e=mS(null,e,r,n,t);break e;case 1:e=$R(null,e,r,n,t);break e;case 11:e=jR(null,e,r,n,t);break e;case 14:e=JR(null,e,r,us(r.type,n),t);break e}throw Error(Ce(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:us(r,i),mS(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:us(r,i),$R(n,e,r,i,t);case 3:e:{if(uD(e),n===null)throw Error(Ce(387));r=e.pendingProps,s=e.memoizedState,i=s.element,R3(n,e),My(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Error(Ce(423)),e=KR(n,e,r,t,i);break e}else if(r!==i){i=Error(Ce(424)),e=KR(n,e,r,t,i);break e}else for(qr=So(e.stateNode.containerInfo.firstChild),xi=e,dn=!0,cs=null,t=F3(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(cf(),r===i){e=Fo(n,e,t);break e}Fr(n,e,r,t)}e=e.child}return e;case 5:return k3(e),n===null&&dS(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,iS(r,i)?o=null:s!==null&&iS(r,s)&&(e.flags|=32),lD(n,e),Fr(n,e,o,t),e.child;case 6:return n===null&&dS(e),null;case 13:return cD(n,e,t);case 4:return FE(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=ff(e,null,r,t):Fr(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:us(r,i),jR(n,e,r,i,t);case 7:return Fr(n,e,e.pendingProps,t),e.child;case 8:return Fr(n,e,e.pendingProps.children,t),e.child;case 12:return Fr(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Zt(Ay,r._currentValue),r._currentValue=o,s!==null)if(Xs(s.value,o)){if(s.children===i.children&&!ni.current){e=Fo(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=To(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),lS(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ce(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),lS(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Fr(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Yc(e,t),i=qi(i),r=r(i),e.flags|=1,Fr(n,e,r,t),e.child;case 14:return r=e.type,i=us(r,e.pendingProps),i=us(r.type,i),JR(n,e,r,i,t);case 15:return oD(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:us(r,i),n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,ri(r)?(n=!0,Sy(e)):n=!1,Yc(e,t),I3(e,r,i),cS(e,r,i,t),gS(null,e,r,!0,n,t);case 19:return fD(n,e,t);case 22:return aD(n,e,t)}throw Error(Ce(156,e.tag))};function AD(n,e){return e3(n,e)}function Pz(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ji(n,e,t,r){return new Pz(n,e,t,r)}function XE(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Iz(n){if(typeof n=="function")return XE(n)?1:0;if(n!=null){if(n=n.$$typeof,n===gE)return 11;if(n===yE)return 14}return 2}function Ha(n,e){var t=n.alternate;return t===null?(t=Ji(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Y0(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")XE(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Pc:return eu(t.children,i,s,e);case mE:o=8,i|=8;break;case Ow:return n=Ji(12,t,e,i|2),n.elementType=Ow,n.lanes=s,n;case Nw:return n=Ji(13,t,e,i),n.elementType=Nw,n.lanes=s,n;case Hw:return n=Ji(19,t,e,i),n.elementType=Hw,n.lanes=s,n;case OL:return ky(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case FL:o=10;break e;case kL:o=9;break e;case gE:o=11;break e;case yE:o=14;break e;case pa:o=16,r=null;break e}throw Error(Ce(130,n==null?n:typeof n,""))}return e=Ji(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function eu(n,e,t,r){return n=Ji(7,n,r,e),n.lanes=t,n}function ky(n,e,t,r){return n=Ji(22,n,r,e),n.elementType=OL,n.lanes=t,n.stateNode={},n}function g1(n,e,t){return n=Ji(6,n,null,e),n.lanes=t,n}function y1(n,e,t){return e=Ji(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Bz(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yx(0),this.expirationTimes=Yx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yx(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function QE(n,e,t,r,i,s,o,a,l){return n=new Bz(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ji(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null},IE(s),n}function Lz(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rc,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function ED(n){if(!n)return Na;n=n._reactInternals;e:{if(Tu(n)!==n||n.tag!==1)throw Error(Ce(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ri(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ce(171))}if(n.tag===1){var t=n.type;if(ri(t))return b3(n,t,e)}return e}function MD(n,e,t,r,i,s,o,a,l){return n=QE(t,r,!0,n,i,s,o,a,l),n.context=ED(null),t=n.current,r=kr(),i=Pa(t),s=To(r,i),s.callback=e!=null?e:null,Ta(t,s),n.current.lanes=i,Mp(n,i,r),ii(n,r),n}function Mv(n,e,t,r){var i=e.current,s=kr(),o=Pa(i);return t=ED(t),e.context===null?e.context=t:e.pendingContext=t,e=To(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),Ta(i,e),n=Qi(i,o,s),n!==null&&$0(n,i,o),o}function Oy(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function l2(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function qE(n,e){l2(n,e),(n=n.alternate)&&l2(n,e)}function Dz(){return null}var CD=typeof reportError=="function"?reportError:function(n){console.error(n)};function YE(n){this._internalRoot=n}Cv.prototype.render=YE.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ce(409));Mv(n,e,null,null)};Cv.prototype.unmount=YE.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;fu(function(){Mv(null,n,null,null)}),e[Do]=null}};function Cv(n){this._internalRoot=n}Cv.prototype.unstable_scheduleHydration=function(n){if(n){var e=o3();n={blockedOn:null,target:n,priority:e};for(var t=0;t<ga.length&&e!==0&&e<ga[t].priority;t++);ga.splice(t,0,n),t===0&&l3(n)}};function ZE(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function bv(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function u2(){}function Fz(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Oy(o);s.call(u)}}var o=MD(e,r,n,0,null,!1,!1,"",u2);return n._reactRootContainer=o,n[Do]=o.current,Uh(n.nodeType===8?n.parentNode:n),fu(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Oy(l);a.call(u)}}var l=QE(n,0,!1,null,null,!1,!1,"",u2);return n._reactRootContainer=l,n[Do]=l.current,Uh(n.nodeType===8?n.parentNode:n),fu(function(){Mv(e,l,t,r)}),l}function Tv(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Oy(o);a.call(l)}}Mv(e,o,n,i)}else o=Fz(t,e,n,i,r);return Oy(o)}i3=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=oh(e.pendingLanes);t!==0&&(xE(e,t|1),ii(e,Ln()),(Pt&6)===0&&(mf=Ln()+500,Za()))}break;case 13:var r=kr();fu(function(){return Qi(n,1,r)}),qE(n,1)}};wE=function(n){if(n.tag===13){var e=kr();Qi(n,134217728,e),qE(n,134217728)}};s3=function(n){if(n.tag===13){var e=kr(),t=Pa(n);Qi(n,t,e),qE(n,t)}};o3=function(){return Jt};a3=function(n,e){var t=Jt;try{return Jt=n,e()}finally{Jt=t}};Xw=function(n,e,t){switch(e){case"input":if(zw(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=vv(r);if(!i)throw Error(Ce(90));HL(r),zw(r,i)}}}break;case"textarea":GL(n,t);break;case"select":e=t.value,e!=null&&Kc(n,!!t.multiple,e,!1)}};KL=JE;XL=fu;var kz={usingClientEntryPoint:!1,Events:[bp,Dc,vv,JL,$L,JE]},kd={findFiberByHostInstance:zl,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Oz={bundleType:kd.bundleType,version:kd.version,rendererPackageName:kd.rendererPackageName,rendererConfig:kd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ho.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=YL(n),n===null?null:n.stateNode},findFiberByHostInstance:kd.findFiberByHostInstance||Dz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Ng=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ng.isDisabled&&Ng.supportsFiber)try{pv=Ng.inject(Oz),Vs=Ng}catch{}}bi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kz;bi.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ZE(e))throw Error(Ce(200));return Lz(n,e,null,t)};bi.createRoot=function(n,e){if(!ZE(n))throw Error(Ce(299));var t=!1,r="",i=CD;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=QE(n,1,!1,null,null,t,!1,r,i),n[Do]=e.current,Uh(n.nodeType===8?n.parentNode:n),new YE(e)};bi.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ce(188)):(n=Object.keys(n).join(","),Error(Ce(268,n)));return n=YL(e),n=n===null?null:n.stateNode,n};bi.flushSync=function(n){return fu(n)};bi.hydrate=function(n,e,t){if(!bv(e))throw Error(Ce(200));return Tv(null,n,e,!0,t)};bi.hydrateRoot=function(n,e,t){if(!ZE(n))throw Error(Ce(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=CD;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=MD(e,null,n,1,t!=null?t:null,i,!1,s,o),n[Do]=e.current,Uh(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new Cv(e)};bi.render=function(n,e,t){if(!bv(e))throw Error(Ce(200));return Tv(null,n,e,!1,t)};bi.unmountComponentAtNode=function(n){if(!bv(n))throw Error(Ce(40));return n._reactRootContainer?(fu(function(){Tv(null,null,n,!1,function(){n._reactRootContainer=null,n[Do]=null})}),!0):!1};bi.unstable_batchedUpdates=JE;bi.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!bv(t))throw Error(Ce(200));if(n==null||n._reactInternals===void 0)throw Error(Ce(38));return Tv(n,e,t,!1,r)};bi.version="18.0.0-fc46dba67-20220329";function bD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bD)}catch(n){console.error(n)}}bD(),Ep.exports=bi;var v1=Ep.exports,Nz,Hz=Ep.exports;Nz=Hz.createRoot;var Rv={exports:{}},$t={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ir=typeof Symbol=="function"&&Symbol.for,eM=ir?Symbol.for("react.element"):60103,tM=ir?Symbol.for("react.portal"):60106,Pv=ir?Symbol.for("react.fragment"):60107,Iv=ir?Symbol.for("react.strict_mode"):60108,Bv=ir?Symbol.for("react.profiler"):60114,Lv=ir?Symbol.for("react.provider"):60109,Dv=ir?Symbol.for("react.context"):60110,nM=ir?Symbol.for("react.async_mode"):60111,Fv=ir?Symbol.for("react.concurrent_mode"):60111,kv=ir?Symbol.for("react.forward_ref"):60112,Ov=ir?Symbol.for("react.suspense"):60113,Uz=ir?Symbol.for("react.suspense_list"):60120,Nv=ir?Symbol.for("react.memo"):60115,Hv=ir?Symbol.for("react.lazy"):60116,Gz=ir?Symbol.for("react.block"):60121,zz=ir?Symbol.for("react.fundamental"):60117,Vz=ir?Symbol.for("react.responder"):60118,Wz=ir?Symbol.for("react.scope"):60119;function Ri(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case eM:switch(n=n.type,n){case nM:case Fv:case Pv:case Bv:case Iv:case Ov:return n;default:switch(n=n&&n.$$typeof,n){case Dv:case kv:case Hv:case Nv:case Lv:return n;default:return e}}case tM:return e}}}function TD(n){return Ri(n)===Fv}$t.AsyncMode=nM;$t.ConcurrentMode=Fv;$t.ContextConsumer=Dv;$t.ContextProvider=Lv;$t.Element=eM;$t.ForwardRef=kv;$t.Fragment=Pv;$t.Lazy=Hv;$t.Memo=Nv;$t.Portal=tM;$t.Profiler=Bv;$t.StrictMode=Iv;$t.Suspense=Ov;$t.isAsyncMode=function(n){return TD(n)||Ri(n)===nM};$t.isConcurrentMode=TD;$t.isContextConsumer=function(n){return Ri(n)===Dv};$t.isContextProvider=function(n){return Ri(n)===Lv};$t.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===eM};$t.isForwardRef=function(n){return Ri(n)===kv};$t.isFragment=function(n){return Ri(n)===Pv};$t.isLazy=function(n){return Ri(n)===Hv};$t.isMemo=function(n){return Ri(n)===Nv};$t.isPortal=function(n){return Ri(n)===tM};$t.isProfiler=function(n){return Ri(n)===Bv};$t.isStrictMode=function(n){return Ri(n)===Iv};$t.isSuspense=function(n){return Ri(n)===Ov};$t.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===Pv||n===Fv||n===Bv||n===Iv||n===Ov||n===Uz||typeof n=="object"&&n!==null&&(n.$$typeof===Hv||n.$$typeof===Nv||n.$$typeof===Lv||n.$$typeof===Dv||n.$$typeof===kv||n.$$typeof===zz||n.$$typeof===Vz||n.$$typeof===Wz||n.$$typeof===Gz)};$t.typeOf=Ri;Rv.exports=$t;function jz(n){function e(Q,se,pe,_e,H){for(var Be=0,ue=0,Le=0,ve=0,Pe,ne,oe=0,xe=0,Ae,Ee=Ae=Pe=0,Me=0,ze=0,$e=0,Ze=0,dt=pe.length,z=dt-1,D,ee="",me="",Fe="",ke="",Ke;Me<dt;){if(ne=pe.charCodeAt(Me),Me===z&&ue+ve+Le+Be!==0&&(ue!==0&&(ne=ue===47?10:47),ve=Le=Be=0,dt++,z++),ue+ve+Le+Be===0){if(Me===z&&(0<ze&&(ee=ee.replace(p,"")),0<ee.trim().length)){switch(ne){case 32:case 9:case 59:case 13:case 10:break;default:ee+=pe.charAt(Me)}ne=59}switch(ne){case 123:for(ee=ee.trim(),Pe=ee.charCodeAt(0),Ae=1,Ze=++Me;Me<dt;){switch(ne=pe.charCodeAt(Me)){case 123:Ae++;break;case 125:Ae--;break;case 47:switch(ne=pe.charCodeAt(Me+1)){case 42:case 47:e:{for(Ee=Me+1;Ee<z;++Ee)switch(pe.charCodeAt(Ee)){case 47:if(ne===42&&pe.charCodeAt(Ee-1)===42&&Me+2!==Ee){Me=Ee+1;break e}break;case 10:if(ne===47){Me=Ee+1;break e}}Me=Ee}}break;case 91:ne++;case 40:ne++;case 34:case 39:for(;Me++<z&&pe.charCodeAt(Me)!==ne;);}if(Ae===0)break;Me++}switch(Ae=pe.substring(Ze,Me),Pe===0&&(Pe=(ee=ee.replace(h,"").trim()).charCodeAt(0)),Pe){case 64:switch(0<ze&&(ee=ee.replace(p,"")),ne=ee.charCodeAt(1),ne){case 100:case 109:case 115:case 45:ze=se;break;default:ze=J}if(Ae=e(se,ze,Ae,ne,H+1),Ze=Ae.length,0<k&&(ze=t(J,ee,$e),Ke=a(3,Ae,ze,se,q,B,Ze,ne,H,_e),ee=ze.join(""),Ke!==void 0&&(Ze=(Ae=Ke.trim()).length)===0&&(ne=0,Ae="")),0<Ze)switch(ne){case 115:ee=ee.replace(T,o);case 100:case 109:case 45:Ae=ee+"{"+Ae+"}";break;case 107:ee=ee.replace(x,"$1 $2"),Ae=ee+"{"+Ae+"}",Ae=$===1||$===2&&s("@"+Ae,3)?"@-webkit-"+Ae+"@"+Ae:"@"+Ae;break;default:Ae=ee+Ae,_e===112&&(Ae=(me+=Ae,""))}else Ae="";break;default:Ae=e(se,t(se,ee,$e),Ae,_e,H+1)}Fe+=Ae,Ae=$e=ze=Ee=Pe=0,ee="",ne=pe.charCodeAt(++Me);break;case 125:case 59:if(ee=(0<ze?ee.replace(p,""):ee).trim(),1<(Ze=ee.length))switch(Ee===0&&(Pe=ee.charCodeAt(0),Pe===45||96<Pe&&123>Pe)&&(Ze=(ee=ee.replace(" ",":")).length),0<k&&(Ke=a(1,ee,se,Q,q,B,me.length,_e,H,_e))!==void 0&&(Ze=(ee=Ke.trim()).length)===0&&(ee="\0\0"),Pe=ee.charCodeAt(0),ne=ee.charCodeAt(1),Pe){case 0:break;case 64:if(ne===105||ne===99){ke+=ee+pe.charAt(Me);break}default:ee.charCodeAt(Ze-1)!==58&&(me+=i(ee,Pe,ne,ee.charCodeAt(2)))}$e=ze=Ee=Pe=0,ee="",ne=pe.charCodeAt(++Me)}}switch(ne){case 13:case 10:ue===47?ue=0:1+Pe===0&&_e!==107&&0<ee.length&&(ze=1,ee+="\0"),0<k*Z&&a(0,ee,se,Q,q,B,me.length,_e,H,_e),B=1,q++;break;case 59:case 125:if(ue+ve+Le+Be===0){B++;break}default:switch(B++,D=pe.charAt(Me),ne){case 9:case 32:if(ve+Be+ue===0)switch(oe){case 44:case 58:case 9:case 32:D="";break;default:ne!==32&&(D=" ")}break;case 0:D="\\0";break;case 12:D="\\f";break;case 11:D="\\v";break;case 38:ve+ue+Be===0&&(ze=$e=1,D="\f"+D);break;case 108:if(ve+ue+Be+W===0&&0<Ee)switch(Me-Ee){case 2:oe===112&&pe.charCodeAt(Me-3)===58&&(W=oe);case 8:xe===111&&(W=xe)}break;case 58:ve+ue+Be===0&&(Ee=Me);break;case 44:ue+Le+ve+Be===0&&(ze=1,D+="\r");break;case 34:case 39:ue===0&&(ve=ve===ne?0:ve===0?ne:ve);break;case 91:ve+ue+Le===0&&Be++;break;case 93:ve+ue+Le===0&&Be--;break;case 41:ve+ue+Be===0&&Le--;break;case 40:if(ve+ue+Be===0){if(Pe===0)switch(2*oe+3*xe){case 533:break;default:Pe=1}Le++}break;case 64:ue+Le+ve+Be+Ee+Ae===0&&(Ae=1);break;case 42:case 47:if(!(0<ve+Be+Le))switch(ue){case 0:switch(2*ne+3*pe.charCodeAt(Me+1)){case 235:ue=47;break;case 220:Ze=Me,ue=42}break;case 42:ne===47&&oe===42&&Ze+2!==Me&&(pe.charCodeAt(Ze+2)===33&&(me+=pe.substring(Ze,Me+1)),D="",ue=0)}}ue===0&&(ee+=D)}xe=oe,oe=ne,Me++}if(Ze=me.length,0<Ze){if(ze=se,0<k&&(Ke=a(2,me,ze,Q,q,B,Ze,_e,H,_e),Ke!==void 0&&(me=Ke).length===0))return ke+me+Fe;if(me=ze.join(",")+"{"+me+"}",$*W!==0){switch($!==2||s(me,2)||(W=0),W){case 111:me=me.replace(E,":-moz-$1")+me;break;case 112:me=me.replace(A,"::-webkit-input-$1")+me.replace(A,"::-moz-$1")+me.replace(A,":-ms-input-$1")+me}W=0}}return ke+me+Fe}function t(Q,se,pe){var _e=se.trim().split(_);se=_e;var H=_e.length,Be=Q.length;switch(Be){case 0:case 1:var ue=0;for(Q=Be===0?"":Q[0]+" ";ue<H;++ue)se[ue]=r(Q,se[ue],pe).trim();break;default:var Le=ue=0;for(se=[];ue<H;++ue)for(var ve=0;ve<Be;++ve)se[Le++]=r(Q[ve]+" ",_e[ue],pe).trim()}return se}function r(Q,se,pe){var _e=se.charCodeAt(0);switch(33>_e&&(_e=(se=se.trim()).charCodeAt(0)),_e){case 38:return se.replace(w,"$1"+Q.trim());case 58:return Q.trim()+se.replace(w,"$1"+Q.trim());default:if(0<1*pe&&0<se.indexOf("\f"))return se.replace(w,(Q.charCodeAt(0)===58?"":"$1")+Q.trim())}return Q+se}function i(Q,se,pe,_e){var H=Q+";",Be=2*se+3*pe+4*_e;if(Be===944){Q=H.indexOf(":",9)+1;var ue=H.substring(Q,H.length-1).trim();return ue=H.substring(0,Q).trim()+ue+";",$===1||$===2&&s(ue,1)?"-webkit-"+ue+ue:ue}if($===0||$===2&&!s(H,1))return H;switch(Be){case 1015:return H.charCodeAt(10)===97?"-webkit-"+H+H:H;case 951:return H.charCodeAt(3)===116?"-webkit-"+H+H:H;case 963:return H.charCodeAt(5)===110?"-webkit-"+H+H:H;case 1009:if(H.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+H+H;case 978:return"-webkit-"+H+"-moz-"+H+H;case 1019:case 983:return"-webkit-"+H+"-moz-"+H+"-ms-"+H+H;case 883:if(H.charCodeAt(8)===45)return"-webkit-"+H+H;if(0<H.indexOf("image-set(",11))return H.replace(P,"$1-webkit-$2")+H;break;case 932:if(H.charCodeAt(4)===45)switch(H.charCodeAt(5)){case 103:return"-webkit-box-"+H.replace("-grow","")+"-webkit-"+H+"-ms-"+H.replace("grow","positive")+H;case 115:return"-webkit-"+H+"-ms-"+H.replace("shrink","negative")+H;case 98:return"-webkit-"+H+"-ms-"+H.replace("basis","preferred-size")+H}return"-webkit-"+H+"-ms-"+H+H;case 964:return"-webkit-"+H+"-ms-flex-"+H+H;case 1023:if(H.charCodeAt(8)!==99)break;return ue=H.substring(H.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+ue+"-webkit-"+H+"-ms-flex-pack"+ue+H;case 1005:return y.test(H)?H.replace(m,":-webkit-")+H.replace(m,":-moz-")+H:H;case 1e3:switch(ue=H.substring(13).trim(),se=ue.indexOf("-")+1,ue.charCodeAt(0)+ue.charCodeAt(se)){case 226:ue=H.replace(C,"tb");break;case 232:ue=H.replace(C,"tb-rl");break;case 220:ue=H.replace(C,"lr");break;default:return H}return"-webkit-"+H+"-ms-"+ue+H;case 1017:if(H.indexOf("sticky",9)===-1)break;case 975:switch(se=(H=Q).length-10,ue=(H.charCodeAt(se)===33?H.substring(0,se):H).substring(Q.indexOf(":",7)+1).trim(),Be=ue.charCodeAt(0)+(ue.charCodeAt(7)|0)){case 203:if(111>ue.charCodeAt(8))break;case 115:H=H.replace(ue,"-webkit-"+ue)+";"+H;break;case 207:case 102:H=H.replace(ue,"-webkit-"+(102<Be?"inline-":"")+"box")+";"+H.replace(ue,"-webkit-"+ue)+";"+H.replace(ue,"-ms-"+ue+"box")+";"+H}return H+";";case 938:if(H.charCodeAt(5)===45)switch(H.charCodeAt(6)){case 105:return ue=H.replace("-items",""),"-webkit-"+H+"-webkit-box-"+ue+"-ms-flex-"+ue+H;case 115:return"-webkit-"+H+"-ms-flex-item-"+H.replace(I,"")+H;default:return"-webkit-"+H+"-ms-flex-line-pack"+H.replace("align-content","").replace(I,"")+H}break;case 973:case 989:if(H.charCodeAt(3)!==45||H.charCodeAt(4)===122)break;case 931:case 953:if(L.test(Q)===!0)return(ue=Q.substring(Q.indexOf(":")+1)).charCodeAt(0)===115?i(Q.replace("stretch","fill-available"),se,pe,_e).replace(":fill-available",":stretch"):H.replace(ue,"-webkit-"+ue)+H.replace(ue,"-moz-"+ue.replace("fill-",""))+H;break;case 962:if(H="-webkit-"+H+(H.charCodeAt(5)===102?"-ms-"+H:"")+H,pe+_e===211&&H.charCodeAt(13)===105&&0<H.indexOf("transform",10))return H.substring(0,H.indexOf(";",27)+1).replace(g,"$1-webkit-$2")+H}return H}function s(Q,se){var pe=Q.indexOf(se===1?":":"{"),_e=Q.substring(0,se!==3?pe:10);return pe=Q.substring(pe+1,Q.length-1),X(se!==2?_e:_e.replace(O,"$1"),pe,se)}function o(Q,se){var pe=i(se,se.charCodeAt(0),se.charCodeAt(1),se.charCodeAt(2));return pe!==se+";"?pe.replace(R," or ($1)").substring(4):"("+se+")"}function a(Q,se,pe,_e,H,Be,ue,Le,ve,Pe){for(var ne=0,oe=se,xe;ne<k;++ne)switch(xe=K[ne].call(d,Q,oe,pe,_e,H,Be,ue,Le,ve,Pe)){case void 0:case!1:case!0:case null:break;default:oe=xe}if(oe!==se)return oe}function l(Q){switch(Q){case void 0:case null:k=K.length=0;break;default:if(typeof Q=="function")K[k++]=Q;else if(typeof Q=="object")for(var se=0,pe=Q.length;se<pe;++se)l(Q[se]);else Z=!!Q|0}return l}function u(Q){return Q=Q.prefix,Q!==void 0&&(X=null,Q?typeof Q!="function"?$=1:($=2,X=Q):$=0),u}function d(Q,se){var pe=Q;if(33>pe.charCodeAt(0)&&(pe=pe.trim()),ae=pe,pe=[ae],0<k){var _e=a(-1,se,pe,pe,q,B,0,0,0,0);_e!==void 0&&typeof _e=="string"&&(se=_e)}var H=e(J,pe,se,0,0);return 0<k&&(_e=a(-2,H,pe,pe,q,B,H.length,0,0,0),_e!==void 0&&(H=_e)),ae="",W=0,B=q=1,H}var h=/^\0+/g,p=/[\0\r\f]/g,m=/: */g,y=/zoo|gra/,g=/([,: ])(transform)/g,_=/,\r+?/g,w=/([\t\r\n ])*\f?&/g,x=/@(k\w+)\s*(\S*)\s*/,A=/::(place)/g,E=/:(read-only)/g,C=/[svh]\w+-[tblr]{2}/,T=/\(\s*(.*)\s*\)/g,R=/([\s\S]*?);/g,I=/-self|flex-/g,O=/[^]*?(:[rp][el]a[\w-]+)[^]*/,L=/stretch|:\s*\w+\-(?:conte|avail)/,P=/([^-])(image-set\()/,B=1,q=1,W=0,$=1,J=[],K=[],k=0,X=null,Z=0,ae="";return d.use=l,d.set=u,n!==void 0&&u(n),d}var RD={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function PD(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var Jz=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,CS=PD(function(n){return Jz.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),rM=Rv.exports,$z={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Kz={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Xz={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ID={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},iM={};iM[rM.ForwardRef]=Xz;iM[rM.Memo]=ID;function c2(n){return rM.isMemo(n)?ID:iM[n.$$typeof]||$z}var Qz=Object.defineProperty,qz=Object.getOwnPropertyNames,f2=Object.getOwnPropertySymbols,Yz=Object.getOwnPropertyDescriptor,Zz=Object.getPrototypeOf,d2=Object.prototype;function BD(n,e,t){if(typeof e!="string"){if(d2){var r=Zz(e);r&&r!==d2&&BD(n,r,t)}var i=qz(e);f2&&(i=i.concat(f2(e)));for(var s=c2(n),o=c2(e),a=0;a<i.length;++a){var l=i[a];if(!Kz[l]&&!(t&&t[l])&&!(o&&o[l])&&!(s&&s[l])){var u=Yz(e,l);try{Qz(n,l,u)}catch{}}}}return n}var e5=BD;function Mo(){return(Mo=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}var h2=function(n,e){for(var t=[n[0]],r=0,i=e.length;r<i;r+=1)t.push(e[r],n[r+1]);return t},bS=function(n){return n!==null&&typeof n=="object"&&(n.toString?n.toString():Object.prototype.toString.call(n))==="[object Object]"&&!Rv.exports.typeOf(n)},Ny=Object.freeze([]),Ia=Object.freeze({});function Qh(n){return typeof n=="function"}function p2(n){return n.displayName||n.name||"Component"}function sM(n){return n&&typeof n.styledComponentId=="string"}var gf=typeof process!="undefined"&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",oM=typeof window!="undefined"&&"HTMLElement"in window,t5=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process!="undefined"&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process!="undefined"&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""?{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY:!1);function Rp(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+n+" for more information."+(t.length>0?" Args: "+t.join(", "):""))}var n5=function(){function n(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}var e=n.prototype;return e.indexOfGroup=function(t){for(var r=0,i=0;i<t;i++)r+=this.groupSizes[i];return r},e.insertRules=function(t,r){if(t>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,o=s;t>=o;)(o<<=1)<0&&Rp(16,""+t);this.groupSizes=new Uint32Array(o),this.groupSizes.set(i),this.length=o;for(var a=s;a<o;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(t+1),u=0,d=r.length;u<d;u++)this.tag.insertRule(l,r[u])&&(this.groupSizes[t]++,l++)},e.clearGroup=function(t){if(t<this.length){var r=this.groupSizes[t],i=this.indexOfGroup(t),s=i+r;this.groupSizes[t]=0;for(var o=i;o<s;o++)this.tag.deleteRule(i)}},e.getGroup=function(t){var r="";if(t>=this.length||this.groupSizes[t]===0)return r;for(var i=this.groupSizes[t],s=this.indexOfGroup(t),o=s+i,a=s;a<o;a++)r+=this.tag.getRule(a)+`/*!sc*/
`;return r},n}(),Z0=new Map,Hy=new Map,xh=1,Hg=function(n){if(Z0.has(n))return Z0.get(n);for(;Hy.has(xh);)xh++;var e=xh++;return Z0.set(n,e),Hy.set(e,n),e},r5=function(n){return Hy.get(n)},i5=function(n,e){e>=xh&&(xh=e+1),Z0.set(n,e),Hy.set(e,n)},s5="style["+gf+'][data-styled-version="5.3.5"]',o5=new RegExp("^"+gf+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),a5=function(n,e,t){for(var r,i=t.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&n.registerName(e,r)},l5=function(n,e){for(var t=(e.textContent||"").split(`/*!sc*/
`),r=[],i=0,s=t.length;i<s;i++){var o=t[i].trim();if(o){var a=o.match(o5);if(a){var l=0|parseInt(a[1],10),u=a[2];l!==0&&(i5(u,l),a5(n,u,a[3]),n.getTag().insertRules(l,r)),r.length=0}else r.push(o)}}},u5=function(){return typeof window!="undefined"&&window.__webpack_nonce__!==void 0?window.__webpack_nonce__:null},LD=function(n){var e=document.head,t=n||e,r=document.createElement("style"),i=function(a){for(var l=a.childNodes,u=l.length;u>=0;u--){var d=l[u];if(d&&d.nodeType===1&&d.hasAttribute(gf))return d}}(t),s=i!==void 0?i.nextSibling:null;r.setAttribute(gf,"active"),r.setAttribute("data-styled-version","5.3.5");var o=u5();return o&&r.setAttribute("nonce",o),t.insertBefore(r,s),r},c5=function(){function n(t){var r=this.element=LD(t);r.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var s=document.styleSheets,o=0,a=s.length;o<a;o++){var l=s[o];if(l.ownerNode===i)return l}Rp(17)}(r),this.length=0}var e=n.prototype;return e.insertRule=function(t,r){try{return this.sheet.insertRule(r,t),this.length++,!0}catch{return!1}},e.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.getRule=function(t){var r=this.sheet.cssRules[t];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},n}(),f5=function(){function n(t){var r=this.element=LD(t);this.nodes=r.childNodes,this.length=0}var e=n.prototype;return e.insertRule=function(t,r){if(t<=this.length&&t>=0){var i=document.createTextNode(r),s=this.nodes[t];return this.element.insertBefore(i,s||null),this.length++,!0}return!1},e.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},n}(),d5=function(){function n(t){this.rules=[],this.length=0}var e=n.prototype;return e.insertRule=function(t,r){return t<=this.length&&(this.rules.splice(t,0,r),this.length++,!0)},e.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.getRule=function(t){return t<this.length?this.rules[t]:""},n}(),m2=oM,h5={isServer:!oM,useCSSOMInjection:!t5},DD=function(){function n(t,r,i){t===void 0&&(t=Ia),r===void 0&&(r={}),this.options=Mo({},h5,{},t),this.gs=r,this.names=new Map(i),this.server=!!t.isServer,!this.server&&oM&&m2&&(m2=!1,function(s){for(var o=document.querySelectorAll(s5),a=0,l=o.length;a<l;a++){var u=o[a];u&&u.getAttribute(gf)!=="active"&&(l5(s,u),u.parentNode&&u.parentNode.removeChild(u))}}(this))}n.registerId=function(t){return Hg(t)};var e=n.prototype;return e.reconstructWithOptions=function(t,r){return r===void 0&&(r=!0),new n(Mo({},this.options,{},t),this.gs,r&&this.names||void 0)},e.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.getTag=function(){return this.tag||(this.tag=(i=(r=this.options).isServer,s=r.useCSSOMInjection,o=r.target,t=i?new d5(o):s?new c5(o):new f5(o),new n5(t)));var t,r,i,s,o},e.hasNameForId=function(t,r){return this.names.has(t)&&this.names.get(t).has(r)},e.registerName=function(t,r){if(Hg(t),this.names.has(t))this.names.get(t).add(r);else{var i=new Set;i.add(r),this.names.set(t,i)}},e.insertRules=function(t,r,i){this.registerName(t,r),this.getTag().insertRules(Hg(t),i)},e.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.clearRules=function(t){this.getTag().clearGroup(Hg(t)),this.clearNames(t)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(t){for(var r=t.getTag(),i=r.length,s="",o=0;o<i;o++){var a=r5(o);if(a!==void 0){var l=t.names.get(a),u=r.getGroup(o);if(l&&u&&l.size){var d=gf+".g"+o+'[id="'+a+'"]',h="";l!==void 0&&l.forEach(function(p){p.length>0&&(h+=p+",")}),s+=""+u+d+'{content:"'+h+`"}/*!sc*/
`}}}return s}(this)},n}(),p5=/(a)(d)/gi,g2=function(n){return String.fromCharCode(n+(n>25?39:97))};function TS(n){var e,t="";for(e=Math.abs(n);e>52;e=e/52|0)t=g2(e%52)+t;return(g2(e%52)+t).replace(p5,"$1-$2")}var Uc=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},FD=function(n){return Uc(5381,n)};function m5(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(Qh(t)&&!sM(t))return!1}return!0}var g5=FD("5.3.5"),y5=function(){function n(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&m5(e),this.componentId=t,this.baseHash=Uc(g5,t),this.baseStyle=r,DD.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,r){var i=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(e,t,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(i,this.staticRulesId))s.push(this.staticRulesId);else{var o=yf(this.rules,e,t,r).join(""),a=TS(Uc(this.baseHash,o)>>>0);if(!t.hasNameForId(i,a)){var l=r(o,"."+a,void 0,i);t.insertRules(i,a,l)}s.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,d=Uc(this.baseHash,r.hash),h="",p=0;p<u;p++){var m=this.rules[p];if(typeof m=="string")h+=m;else if(m){var y=yf(m,e,t,r),g=Array.isArray(y)?y.join(""):y;d=Uc(d,g+p),h+=g}}if(h){var _=TS(d>>>0);if(!t.hasNameForId(i,_)){var w=r(h,"."+_,void 0,i);t.insertRules(i,_,w)}s.push(_)}}return s.join(" ")},n}(),v5=/^\s*\/\/.*$/gm,_5=[":","[",".","#"];function x5(n){var e,t,r,i,s=n===void 0?Ia:n,o=s.options,a=o===void 0?Ia:o,l=s.plugins,u=l===void 0?Ny:l,d=new jz(a),h=[],p=function(g){function _(w){if(w)try{g(w+"}")}catch{}}return function(w,x,A,E,C,T,R,I,O,L){switch(w){case 1:if(O===0&&x.charCodeAt(0)===64)return g(x+";"),"";break;case 2:if(I===0)return x+"/*|*/";break;case 3:switch(I){case 102:case 112:return g(A[0]+x),"";default:return x+(L===0?"/*|*/":"")}case-2:x.split("/*|*/}").forEach(_)}}}(function(g){h.push(g)}),m=function(g,_,w){return _===0&&_5.indexOf(w[t.length])!==-1||w.match(i)?g:"."+e};function y(g,_,w,x){x===void 0&&(x="&");var A=g.replace(v5,""),E=_&&w?w+" "+_+" { "+A+" }":A;return e=x,t=_,r=new RegExp("\\"+t+"\\b","g"),i=new RegExp("(\\"+t+"\\b){2,}"),d(w||!_?"":_,E)}return d.use([].concat(u,[function(g,_,w){g===2&&w.length&&w[0].lastIndexOf(t)>0&&(w[0]=w[0].replace(r,m))},p,function(g){if(g===-2){var _=h;return h=[],_}}])),y.hash=u.length?u.reduce(function(g,_){return _.name||Rp(15),Uc(g,_.name)},5381).toString():"",y}var kD=Zr.createContext();kD.Consumer;var OD=Zr.createContext(),w5=(OD.Consumer,new DD),RS=x5();function S5(){return V.exports.useContext(kD)||w5}function A5(){return V.exports.useContext(OD)||RS}var E5=function(){function n(e,t){var r=this;this.inject=function(i,s){s===void 0&&(s=RS);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.toString=function(){return Rp(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return n.prototype.getName=function(e){return e===void 0&&(e=RS),this.name+e.hash},n}(),M5=/([A-Z])/,C5=/([A-Z])/g,b5=/^ms-/,T5=function(n){return"-"+n.toLowerCase()};function y2(n){return M5.test(n)?n.replace(C5,T5).replace(b5,"-ms-"):n}var v2=function(n){return n==null||n===!1||n===""};function yf(n,e,t,r){if(Array.isArray(n)){for(var i,s=[],o=0,a=n.length;o<a;o+=1)(i=yf(n[o],e,t,r))!==""&&(Array.isArray(i)?s.push.apply(s,i):s.push(i));return s}if(v2(n))return"";if(sM(n))return"."+n.styledComponentId;if(Qh(n)){if(typeof(u=n)!="function"||u.prototype&&u.prototype.isReactComponent||!e)return n;var l=n(e);return yf(l,e,t,r)}var u;return n instanceof E5?t?(n.inject(t,r),n.getName(r)):n:bS(n)?function d(h,p){var m,y,g=[];for(var _ in h)h.hasOwnProperty(_)&&!v2(h[_])&&(Array.isArray(h[_])&&h[_].isCss||Qh(h[_])?g.push(y2(_)+":",h[_],";"):bS(h[_])?g.push.apply(g,d(h[_],_)):g.push(y2(_)+": "+(m=_,(y=h[_])==null||typeof y=="boolean"||y===""?"":typeof y!="number"||y===0||m in RD?String(y).trim():y+"px")+";"));return p?[p+" {"].concat(g,["}"]):g}(n):n.toString()}var _2=function(n){return Array.isArray(n)&&(n.isCss=!0),n};function R5(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return Qh(n)||bS(n)?_2(yf(h2(Ny,[n].concat(t)))):t.length===0&&n.length===1&&typeof n[0]=="string"?n:_2(yf(h2(n,t)))}var P5=function(n,e,t){return t===void 0&&(t=Ia),n.theme!==t.theme&&n.theme||e||t.theme},I5=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,B5=/(^-|-$)/g;function _1(n){return n.replace(I5,"-").replace(B5,"")}var L5=function(n){return TS(FD(n)>>>0)};function Ug(n){return typeof n=="string"&&!0}var PS=function(n){return typeof n=="function"||typeof n=="object"&&n!==null&&!Array.isArray(n)},D5=function(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"};function F5(n,e,t){var r=n[t];PS(e)&&PS(r)?ND(r,e):n[t]=e}function ND(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];for(var i=0,s=t;i<s.length;i++){var o=s[i];if(PS(o))for(var a in o)D5(a)&&F5(n,o[a],a)}return n}var HD=Zr.createContext();HD.Consumer;var x1={};function UD(n,e,t){var r=sM(n),i=!Ug(n),s=e.attrs,o=s===void 0?Ny:s,a=e.componentId,l=a===void 0?function(x,A){var E=typeof x!="string"?"sc":_1(x);x1[E]=(x1[E]||0)+1;var C=E+"-"+L5("5.3.5"+E+x1[E]);return A?A+"-"+C:C}(e.displayName,e.parentComponentId):a,u=e.displayName,d=u===void 0?function(x){return Ug(x)?"styled."+x:"Styled("+p2(x)+")"}(n):u,h=e.displayName&&e.componentId?_1(e.displayName)+"-"+e.componentId:e.componentId||l,p=r&&n.attrs?Array.prototype.concat(n.attrs,o).filter(Boolean):o,m=e.shouldForwardProp;r&&n.shouldForwardProp&&(m=e.shouldForwardProp?function(x,A,E){return n.shouldForwardProp(x,A,E)&&e.shouldForwardProp(x,A,E)}:n.shouldForwardProp);var y,g=new y5(t,h,r?n.componentStyle:void 0),_=g.isStatic&&o.length===0,w=function(x,A){return function(E,C,T,R){var I=E.attrs,O=E.componentStyle,L=E.defaultProps,P=E.foldedComponentIds,B=E.shouldForwardProp,q=E.styledComponentId,W=E.target,$=function(_e,H,Be){_e===void 0&&(_e=Ia);var ue=Mo({},H,{theme:_e}),Le={};return Be.forEach(function(ve){var Pe,ne,oe,xe=ve;for(Pe in Qh(xe)&&(xe=xe(ue)),xe)ue[Pe]=Le[Pe]=Pe==="className"?(ne=Le[Pe],oe=xe[Pe],ne&&oe?ne+" "+oe:ne||oe):xe[Pe]}),[ue,Le]}(P5(C,V.exports.useContext(HD),L)||Ia,C,I),J=$[0],K=$[1],k=function(_e,H,Be,ue){var Le=S5(),ve=A5(),Pe=H?_e.generateAndInjectStyles(Ia,Le,ve):_e.generateAndInjectStyles(Be,Le,ve);return Pe}(O,R,J),X=T,Z=K.$as||C.$as||K.as||C.as||W,ae=Ug(Z),Q=K!==C?Mo({},C,{},K):C,se={};for(var pe in Q)pe[0]!=="$"&&pe!=="as"&&(pe==="forwardedAs"?se.as=Q[pe]:(B?B(pe,CS,Z):!ae||CS(pe))&&(se[pe]=Q[pe]));return C.style&&K.style!==C.style&&(se.style=Mo({},C.style,{},K.style)),se.className=Array.prototype.concat(P,q,k!==q?k:null,C.className,K.className).filter(Boolean).join(" "),se.ref=X,V.exports.createElement(Z,se)}(y,x,A,_)};return w.displayName=d,(y=Zr.forwardRef(w)).attrs=p,y.componentStyle=g,y.displayName=d,y.shouldForwardProp=m,y.foldedComponentIds=r?Array.prototype.concat(n.foldedComponentIds,n.styledComponentId):Ny,y.styledComponentId=h,y.target=r?n.target:n,y.withComponent=function(x){var A=e.componentId,E=function(T,R){if(T==null)return{};var I,O,L={},P=Object.keys(T);for(O=0;O<P.length;O++)I=P[O],R.indexOf(I)>=0||(L[I]=T[I]);return L}(e,["componentId"]),C=A&&A+"-"+(Ug(x)?x:_1(p2(x)));return UD(x,Mo({},E,{attrs:p,componentId:C}),t)},Object.defineProperty(y,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(x){this._foldedDefaultProps=r?ND({},n.defaultProps,x):x}}),y.toString=function(){return"."+y.styledComponentId},i&&e5(y,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),y}var IS=function(n){return function e(t,r,i){if(i===void 0&&(i=Ia),!Rv.exports.isValidElementType(r))return Rp(1,String(r));var s=function(){return t(r,i,R5.apply(void 0,arguments))};return s.withConfig=function(o){return e(t,r,Mo({},i,{},o))},s.attrs=function(o){return e(t,r,Mo({},i,{attrs:Array.prototype.concat(i.attrs,o).filter(Boolean)}))},s}(UD,n)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(n){IS[n]=IS(n)});var Fae=IS;function Vt(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Re(){return Re=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Re.apply(this,arguments)}var Pp={exports:{}},k5="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",O5=k5,N5=O5;function GD(){}function zD(){}zD.resetWarningCache=GD;var H5=function(){function n(r,i,s,o,a,l){if(l!==N5){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:zD,resetWarningCache:GD};return t.PropTypes=t,t};Pp.exports=H5();function VD(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=VD(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function Bn(){for(var n=0,e,t,r="";n<arguments.length;)(e=arguments[n++])&&(t=VD(e))&&(r&&(r+=" "),r+=t);return r}function WD(n){return typeof n=="string"}function Gg(n){return n!==null&&typeof n=="object"&&n.constructor===Object}function Ro(n,e,t={clone:!0}){const r=t.clone?Re({},n):n;return Gg(n)&&Gg(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(Gg(e[i])&&i in n&&Gg(n[i])?r[i]=Ro(n[i],e[i],t):r[i]=e[i])}),r}function qh(n){let e="https://mui.com/production-error/?code="+n;for(let t=1;t<arguments.length;t+=1)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+n+"; visit "+e+" for the full message."}function br(n){if(typeof n!="string")throw new Error(qh(7));return n.charAt(0).toUpperCase()+n.slice(1)}function x2(...n){return n.reduce((e,t)=>t==null?e:function(...i){e.apply(this,i),t.apply(this,i)},()=>{})}function U5(n,e=166){let t;function r(...i){const s=()=>{n.apply(this,i)};clearTimeout(t),t=setTimeout(s,e)}return r.clear=()=>{clearTimeout(t)},r}function _s(n){return n&&n.ownerDocument||document}function Yh(n){return _s(n).defaultView||window}function Uy(n,e){typeof n=="function"?n(e):n&&(n.current=e)}const G5=typeof window!="undefined"?V.exports.useLayoutEffect:V.exports.useEffect;var Zh=G5;function Gc(n){const e=V.exports.useRef(n);return Zh(()=>{e.current=n}),V.exports.useCallback((...t)=>(0,e.current)(...t),[])}function wi(n,e){return V.exports.useMemo(()=>n==null&&e==null?null:t=>{Uy(n,t),Uy(e,t)},[n,e])}let Uv=!0,BS=!1,w2;const z5={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function V5(n){const{type:e,tagName:t}=n;return!!(t==="INPUT"&&z5[e]&&!n.readOnly||t==="TEXTAREA"&&!n.readOnly||n.isContentEditable)}function W5(n){n.metaKey||n.altKey||n.ctrlKey||(Uv=!0)}function w1(){Uv=!1}function j5(){this.visibilityState==="hidden"&&BS&&(Uv=!0)}function J5(n){n.addEventListener("keydown",W5,!0),n.addEventListener("mousedown",w1,!0),n.addEventListener("pointerdown",w1,!0),n.addEventListener("touchstart",w1,!0),n.addEventListener("visibilitychange",j5,!0)}function $5(n){const{target:e}=n;try{return e.matches(":focus-visible")}catch{}return Uv||V5(e)}function K5(){const n=V.exports.useCallback(i=>{i!=null&&J5(i.ownerDocument)},[]),e=V.exports.useRef(!1);function t(){return e.current?(BS=!0,window.clearTimeout(w2),w2=window.setTimeout(()=>{BS=!1},100),e.current=!1,!0):!1}function r(i){return $5(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:t,ref:n}}function jD(n){const e=n.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function X5(n,e){const t=Re({},e);return Object.keys(n).forEach(r=>{t[r]===void 0&&(t[r]=n[r])}),t}function Ss(n,e,t){const r={};return Object.keys(n).forEach(i=>{r[i]=n[i].reduce((s,o)=>(o&&(t&&t[o]&&s.push(t[o]),s.push(e(o))),s),[]).join(" ")}),r}const S2=n=>n,Q5=()=>{let n=S2;return{configure(e){n=e},generate(e){return n(e)},reset(){n=S2}}},q5=Q5();var Y5=q5;const Z5={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function Zi(n,e){return Z5[e]||`${Y5.generate(n)}-${e}`}function Gr(n,e){const t={};return e.forEach(r=>{t[r]=Zi(n,r)}),t}var Gv={exports:{}},zv={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e6=V.exports,t6=Symbol.for("react.element"),n6=Symbol.for("react.fragment"),r6=Object.prototype.hasOwnProperty,i6=e6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s6={key:!0,ref:!0,__self:!0,__source:!0};function JD(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)r6.call(e,r)&&!s6.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:t6,type:n,key:s,ref:o,props:i,_owner:i6.current}}zv.Fragment=n6;zv.jsx=JD;zv.jsxs=JD;Gv.exports=zv;const ot=Gv.exports.jsx,Ru=Gv.exports.jsxs,o6=Gv.exports.Fragment;var a6=Object.freeze(Object.defineProperty({__proto__:null,jsx:ot,jsxs:Ru,Fragment:o6},Symbol.toStringTag,{value:"Module"}));function l6(n){return typeof n=="function"?n():n}const u6=V.exports.forwardRef(function(e,t){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=V.exports.useState(null),l=wi(V.exports.isValidElement(r)?r.ref:null,t);return Zh(()=>{s||a(l6(i)||document.body)},[i,s]),Zh(()=>{if(o&&!s)return Uy(t,o),()=>{Uy(t,null)}},[t,o,s]),s?V.exports.isValidElement(r)?V.exports.cloneElement(r,{ref:l}):r:o&&Ep.exports.createPortal(r,o)});var c6=u6;function f6(n){const e=_s(n);return e.body===n?Yh(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function wh(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function A2(n){return parseInt(Yh(n).getComputedStyle(n).paddingRight,10)||0}function E2(n,e,t,r=[],i){const s=[e,t,...r],o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(n.children,a=>{s.indexOf(a)===-1&&o.indexOf(a.tagName)===-1&&wh(a,i)})}function S1(n,e){let t=-1;return n.some((r,i)=>e(r)?(t=i,!0):!1),t}function d6(n,e){const t=[],r=n.container;if(!e.disableScrollLock){if(f6(r)){const l=jD(_s(r));t.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${A2(r)+l}px`;const u=_s(r).querySelectorAll(".mui-fixed");[].forEach.call(u,d=>{t.push({value:d.style.paddingRight,property:"padding-right",el:d}),d.style.paddingRight=`${A2(d)+l}px`})}const s=r.parentElement,o=Yh(r),a=(s==null?void 0:s.nodeName)==="HTML"&&o.getComputedStyle(s).overflowY==="scroll"?s:r;t.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return()=>{t.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function h6(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class p6{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&wh(e.modalRef,!1);const i=h6(t);E2(t,e.mount,e.modalRef,i,!0);const s=S1(this.containers,o=>o.container===t);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:i}),r)}mount(e,t){const r=S1(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=d6(i,t))}remove(e){const t=this.modals.indexOf(e);if(t===-1)return t;const r=S1(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(t,1),i.modals.length===0)i.restore&&i.restore(),e.modalRef&&wh(e.modalRef,!0),E2(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const s=i.modals[i.modals.length-1];s.modalRef&&wh(s.modalRef,!1)}return t}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const m6=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function g6(n){const e=parseInt(n.getAttribute("tabindex"),10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function y6(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=r=>n.ownerDocument.querySelector(`input[type="radio"]${r}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function v6(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||y6(n))}function _6(n){const e=[],t=[];return Array.from(n.querySelectorAll(m6)).forEach((r,i)=>{const s=g6(r);s===-1||!v6(r)||(s===0?e.push(r):t.push({documentOrder:i,tabIndex:s,node:r}))}),t.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function x6(){return!0}function w6(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=_6,isEnabled:o=x6,open:a}=n,l=V.exports.useRef(),u=V.exports.useRef(null),d=V.exports.useRef(null),h=V.exports.useRef(null),p=V.exports.useRef(null),m=V.exports.useRef(!1),y=V.exports.useRef(null),g=wi(e.ref,y),_=V.exports.useRef(null);V.exports.useEffect(()=>{!a||!y.current||(m.current=!t)},[t,a]),V.exports.useEffect(()=>{if(!a||!y.current)return;const A=_s(y.current);return y.current.contains(A.activeElement)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex",-1),m.current&&y.current.focus()),()=>{i||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}},[a]),V.exports.useEffect(()=>{if(!a||!y.current)return;const A=_s(y.current),E=R=>{const{current:I}=y;if(I!==null){if(!A.hasFocus()||r||!o()||l.current){l.current=!1;return}if(!I.contains(A.activeElement)){if(R&&p.current!==R.target||A.activeElement!==p.current)p.current=null;else if(p.current!==null)return;if(!m.current)return;let P=[];if((A.activeElement===u.current||A.activeElement===d.current)&&(P=s(y.current)),P.length>0){var O,L;const B=Boolean(((O=_.current)==null?void 0:O.shiftKey)&&((L=_.current)==null?void 0:L.key)==="Tab"),q=P[0],W=P[P.length-1];B?W.focus():q.focus()}else I.focus()}}},C=R=>{_.current=R,!(r||!o()||R.key!=="Tab")&&A.activeElement===y.current&&R.shiftKey&&(l.current=!0,d.current.focus())};A.addEventListener("focusin",E),A.addEventListener("keydown",C,!0);const T=setInterval(()=>{A.activeElement.tagName==="BODY"&&E()},50);return()=>{clearInterval(T),A.removeEventListener("focusin",E),A.removeEventListener("keydown",C,!0)}},[t,r,i,o,a,s]);const w=A=>{h.current===null&&(h.current=A.relatedTarget),m.current=!0,p.current=A.target;const E=e.props.onFocus;E&&E(A)},x=A=>{h.current===null&&(h.current=A.relatedTarget),m.current=!0};return Ru(V.exports.Fragment,{children:[ot("div",{tabIndex:0,onFocus:x,ref:u,"data-test":"sentinelStart"}),V.exports.cloneElement(e,{ref:g,onFocus:w}),ot("div",{tabIndex:0,onFocus:x,ref:d,"data-test":"sentinelEnd"})]})}function S6(n){return Zi("MuiModal",n)}Gr("MuiModal",["root","hidden"]);const A6=["BackdropComponent","BackdropProps","children","classes","className","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","theme","onTransitionEnter","onTransitionExited"],E6=n=>{const{open:e,exited:t,classes:r}=n;return Ss({root:["root",!e&&t&&"hidden"]},S6,r)};function M6(n){return typeof n=="function"?n():n}function C6(n){return n.children?n.children.props.hasOwnProperty("in"):!1}const b6=new p6,T6=V.exports.forwardRef(function(e,t){const{BackdropComponent:r,BackdropProps:i,children:s,classes:o,className:a,closeAfterTransition:l=!1,component:u="div",components:d={},componentsProps:h={},container:p,disableAutoFocus:m=!1,disableEnforceFocus:y=!1,disableEscapeKeyDown:g=!1,disablePortal:_=!1,disableRestoreFocus:w=!1,disableScrollLock:x=!1,hideBackdrop:A=!1,keepMounted:E=!1,manager:C=b6,onBackdropClick:T,onClose:R,onKeyDown:I,open:O,theme:L,onTransitionEnter:P,onTransitionExited:B}=e,q=Vt(e,A6),[W,$]=V.exports.useState(!0),J=V.exports.useRef({}),K=V.exports.useRef(null),k=V.exports.useRef(null),X=wi(k,t),Z=C6(e),ae=()=>_s(K.current),Q=()=>(J.current.modalRef=k.current,J.current.mountNode=K.current,J.current),se=()=>{C.mount(Q(),{disableScrollLock:x}),k.current.scrollTop=0},pe=Gc(()=>{const Me=M6(p)||ae().body;C.add(Q(),Me),k.current&&se()}),_e=V.exports.useCallback(()=>C.isTopModal(Q()),[C]),H=Gc(Me=>{K.current=Me,Me&&(O&&_e()?se():wh(k.current,!0))}),Be=V.exports.useCallback(()=>{C.remove(Q())},[C]);V.exports.useEffect(()=>()=>{Be()},[Be]),V.exports.useEffect(()=>{O?pe():(!Z||!l)&&Be()},[O,Be,Z,l,pe]);const ue=Re({},e,{classes:o,closeAfterTransition:l,disableAutoFocus:m,disableEnforceFocus:y,disableEscapeKeyDown:g,disablePortal:_,disableRestoreFocus:w,disableScrollLock:x,exited:W,hideBackdrop:A,keepMounted:E}),Le=E6(ue);if(!E&&!O&&(!Z||W))return null;const ve=()=>{$(!1),P&&P()},Pe=()=>{$(!0),B&&B(),l&&Be()},ne=Me=>{Me.target===Me.currentTarget&&(T&&T(Me),R&&R(Me,"backdropClick"))},oe=Me=>{I&&I(Me),!(Me.key!=="Escape"||!_e())&&(g||(Me.stopPropagation(),R&&R(Me,"escapeKeyDown")))},xe={};s.props.tabIndex===void 0&&(xe.tabIndex="-1"),Z&&(xe.onEnter=x2(ve,s.props.onEnter),xe.onExited=x2(Pe,s.props.onExited));const Ae=d.Root||u,Ee=h.root||{};return ot(c6,{ref:H,container:p,disablePortal:_,children:Ru(Ae,Re({role:"presentation"},Ee,!WD(Ae)&&{as:u,ownerState:Re({},ue,Ee.ownerState),theme:L},q,{ref:X,onKeyDown:oe,className:Bn(Le.root,Ee.className,a),children:[!A&&r?ot(r,Re({"aria-hidden":!0,open:O,onClick:ne},i)):null,ot(w6,{disableEnforceFocus:y,disableAutoFocus:m,disableRestoreFocus:w,isEnabled:_e,open:O,children:V.exports.cloneElement(s,xe)})]}))})});var R6=T6;function P6(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function I6(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var B6=function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(I6(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=P6(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},n}(),wr="-ms-",Gy="-moz-",Nt="-webkit-",$D="comm",aM="rule",lM="decl",L6="@import",KD="@keyframes",D6=Math.abs,Vv=String.fromCharCode,F6=Object.assign;function k6(n,e){return(((e<<2^Xr(n,0))<<2^Xr(n,1))<<2^Xr(n,2))<<2^Xr(n,3)}function XD(n){return n.trim()}function O6(n,e){return(n=e.exec(n))?n[0]:n}function Ht(n,e,t){return n.replace(e,t)}function LS(n,e){return n.indexOf(e)}function Xr(n,e){return n.charCodeAt(e)|0}function ep(n,e,t){return n.slice(e,t)}function Fs(n){return n.length}function uM(n){return n.length}function zg(n,e){return e.push(n),n}function N6(n,e){return n.map(e).join("")}var Wv=1,vf=1,QD=0,oi=0,Un=0,Kf="";function jv(n,e,t,r,i,s,o){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:Wv,column:vf,length:o,return:""}}function Od(n,e){return F6(jv("",null,null,"",null,null,0),n,{length:-n.length},e)}function H6(){return Un}function U6(){return Un=oi>0?Xr(Kf,--oi):0,vf--,Un===10&&(vf=1,Wv--),Un}function Si(){return Un=oi<QD?Xr(Kf,oi++):0,vf++,Un===10&&(vf=1,Wv++),Un}function js(){return Xr(Kf,oi)}function ey(){return oi}function Ip(n,e){return ep(Kf,n,e)}function tp(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function qD(n){return Wv=vf=1,QD=Fs(Kf=n),oi=0,[]}function YD(n){return Kf="",n}function ty(n){return XD(Ip(oi-1,DS(n===91?n+2:n===40?n+1:n)))}function G6(n){for(;(Un=js())&&Un<33;)Si();return tp(n)>2||tp(Un)>3?"":" "}function z6(n,e){for(;--e&&Si()&&!(Un<48||Un>102||Un>57&&Un<65||Un>70&&Un<97););return Ip(n,ey()+(e<6&&js()==32&&Si()==32))}function DS(n){for(;Si();)switch(Un){case n:return oi;case 34:case 39:n!==34&&n!==39&&DS(Un);break;case 40:n===41&&DS(n);break;case 92:Si();break}return oi}function V6(n,e){for(;Si()&&n+Un!==47+10;)if(n+Un===42+42&&js()===47)break;return"/*"+Ip(e,oi-1)+"*"+Vv(n===47?n:Si())}function W6(n){for(;!tp(js());)Si();return Ip(n,oi)}function j6(n){return YD(ny("",null,null,null,[""],n=qD(n),0,[0],n))}function ny(n,e,t,r,i,s,o,a,l){for(var u=0,d=0,h=o,p=0,m=0,y=0,g=1,_=1,w=1,x=0,A="",E=i,C=s,T=r,R=A;_;)switch(y=x,x=Si()){case 40:if(y!=108&&R.charCodeAt(h-1)==58){LS(R+=Ht(ty(x),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:R+=ty(x);break;case 9:case 10:case 13:case 32:R+=G6(y);break;case 92:R+=z6(ey()-1,7);continue;case 47:switch(js()){case 42:case 47:zg(J6(V6(Si(),ey()),e,t),l);break;default:R+="/"}break;case 123*g:a[u++]=Fs(R)*w;case 125*g:case 59:case 0:switch(x){case 0:case 125:_=0;case 59+d:m>0&&Fs(R)-h&&zg(m>32?C2(R+";",r,t,h-1):C2(Ht(R," ","")+";",r,t,h-2),l);break;case 59:R+=";";default:if(zg(T=M2(R,e,t,u,d,i,a,A,E=[],C=[],h),s),x===123)if(d===0)ny(R,e,T,T,E,s,h,a,C);else switch(p){case 100:case 109:case 115:ny(n,T,T,r&&zg(M2(n,T,T,0,0,i,a,A,i,E=[],h),C),i,C,h,a,r?E:C);break;default:ny(R,T,T,T,[""],C,0,a,C)}}u=d=m=0,g=w=1,A=R="",h=o;break;case 58:h=1+Fs(R),m=y;default:if(g<1){if(x==123)--g;else if(x==125&&g++==0&&U6()==125)continue}switch(R+=Vv(x),x*g){case 38:w=d>0?1:(R+="\f",-1);break;case 44:a[u++]=(Fs(R)-1)*w,w=1;break;case 64:js()===45&&(R+=ty(Si())),p=js(),d=h=Fs(A=R+=W6(ey())),x++;break;case 45:y===45&&Fs(R)==2&&(g=0)}}return s}function M2(n,e,t,r,i,s,o,a,l,u,d){for(var h=i-1,p=i===0?s:[""],m=uM(p),y=0,g=0,_=0;y<r;++y)for(var w=0,x=ep(n,h+1,h=D6(g=o[y])),A=n;w<m;++w)(A=XD(g>0?p[w]+" "+x:Ht(x,/&\f/g,p[w])))&&(l[_++]=A);return jv(n,e,t,i===0?aM:a,l,u,d)}function J6(n,e,t){return jv(n,e,t,$D,Vv(H6()),ep(n,2,-2),0)}function C2(n,e,t,r){return jv(n,e,t,lM,ep(n,0,r),ep(n,r+1,-1),r)}function ZD(n,e){switch(k6(n,e)){case 5103:return Nt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Nt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Nt+n+Gy+n+wr+n+n;case 6828:case 4268:return Nt+n+wr+n+n;case 6165:return Nt+n+wr+"flex-"+n+n;case 5187:return Nt+n+Ht(n,/(\w+).+(:[^]+)/,Nt+"box-$1$2"+wr+"flex-$1$2")+n;case 5443:return Nt+n+wr+"flex-item-"+Ht(n,/flex-|-self/,"")+n;case 4675:return Nt+n+wr+"flex-line-pack"+Ht(n,/align-content|flex-|-self/,"")+n;case 5548:return Nt+n+wr+Ht(n,"shrink","negative")+n;case 5292:return Nt+n+wr+Ht(n,"basis","preferred-size")+n;case 6060:return Nt+"box-"+Ht(n,"-grow","")+Nt+n+wr+Ht(n,"grow","positive")+n;case 4554:return Nt+Ht(n,/([^-])(transform)/g,"$1"+Nt+"$2")+n;case 6187:return Ht(Ht(Ht(n,/(zoom-|grab)/,Nt+"$1"),/(image-set)/,Nt+"$1"),n,"")+n;case 5495:case 3959:return Ht(n,/(image-set\([^]*)/,Nt+"$1$`$1");case 4968:return Ht(Ht(n,/(.+:)(flex-)?(.*)/,Nt+"box-pack:$3"+wr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Nt+n+n;case 4095:case 3583:case 4068:case 2532:return Ht(n,/(.+)-inline(.+)/,Nt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Fs(n)-1-e>6)switch(Xr(n,e+1)){case 109:if(Xr(n,e+4)!==45)break;case 102:return Ht(n,/(.+:)(.+)-([^]+)/,"$1"+Nt+"$2-$3$1"+Gy+(Xr(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~LS(n,"stretch")?ZD(Ht(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Xr(n,e+1)!==115)break;case 6444:switch(Xr(n,Fs(n)-3-(~LS(n,"!important")&&10))){case 107:return Ht(n,":",":"+Nt)+n;case 101:return Ht(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Nt+(Xr(n,14)===45?"inline-":"")+"box$3$1"+Nt+"$2$3$1"+wr+"$2box$3")+n}break;case 5936:switch(Xr(n,e+11)){case 114:return Nt+n+wr+Ht(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Nt+n+wr+Ht(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Nt+n+wr+Ht(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Nt+n+wr+n+n}return n}function ef(n,e){for(var t="",r=uM(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function $6(n,e,t,r){switch(n.type){case L6:case lM:return n.return=n.return||n.value;case $D:return"";case KD:return n.return=n.value+"{"+ef(n.children,r)+"}";case aM:n.value=n.props.join(",")}return Fs(t=ef(n.children,r))?n.return=n.value+"{"+t+"}":""}function K6(n){var e=uM(n);return function(t,r,i,s){for(var o="",a=0;a<e;a++)o+=n[a](t,r,i,s)||"";return o}}function X6(n){return function(e){e.root||(e=e.return)&&n(e)}}function Q6(n,e,t,r){if(n.length>-1&&!n.return)switch(n.type){case lM:n.return=ZD(n.value,n.length);break;case KD:return ef([Od(n,{value:Ht(n.value,"@","@"+Nt)})],r);case aM:if(n.length)return N6(n.props,function(i){switch(O6(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ef([Od(n,{props:[Ht(i,/:(read-\w+)/,":"+Gy+"$1")]})],r);case"::placeholder":return ef([Od(n,{props:[Ht(i,/:(plac\w+)/,":"+Nt+"input-$1")]}),Od(n,{props:[Ht(i,/:(plac\w+)/,":"+Gy+"$1")]}),Od(n,{props:[Ht(i,/:(plac\w+)/,wr+"input-$1")]})],r)}return""})}}var q6=function(e,t,r){for(var i=0,s=0;i=s,s=js(),i===38&&s===12&&(t[r]=1),!tp(s);)Si();return Ip(e,oi)},Y6=function(e,t){var r=-1,i=44;do switch(tp(i)){case 0:i===38&&js()===12&&(t[r]=1),e[r]+=q6(oi-1,t,r);break;case 2:e[r]+=ty(i);break;case 4:if(i===44){e[++r]=js()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Vv(i)}while(i=Si());return e},Z6=function(e,t){return YD(Y6(qD(e),t))},b2=new WeakMap,e8=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!b2.get(r))&&!i){b2.set(e,!0);for(var s=[],o=Z6(t,s),a=r.props,l=0,u=0;l<o.length;l++)for(var d=0;d<a.length;d++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},t8=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}},n8=[Q6],r8=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var _=g.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=e.stylisPlugins||n8,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(g){for(var _=g.getAttribute("data-emotion").split(" "),w=1;w<_.length;w++)s[_[w]]=!0;a.push(g)});var l,u=[e8,t8];{var d,h=[$6,X6(function(g){d.insert(g)})],p=K6(u.concat(i,h)),m=function(_){return ef(j6(_),p)};l=function(_,w,x,A){d=x,m(_?_+"{"+w.styles+"}":w.styles),A&&(y.inserted[w.name]=!0)}}var y={key:t,sheet:new B6({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return y.sheet.hydrate(a),y},i8=!0;function s8(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):r+=i+" "}),r}var eF=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||i8===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},o8=function(e,t,r){eF(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function a8(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var l8=/[A-Z]|^ms/g,u8=/_EMO_([^_]+?)_([^]*?)_EMO_/g,tF=function(e){return e.charCodeAt(1)===45},T2=function(e){return e!=null&&typeof e!="boolean"},A1=PD(function(n){return tF(n)?n:n.replace(l8,"-$&").toLowerCase()}),R2=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(u8,function(r,i,s){return ks={name:i,styles:s,next:ks},i})}return RD[e]!==1&&!tF(e)&&typeof t=="number"&&t!==0?t+"px":t};function np(n,e,t){if(t==null)return"";if(t.__emotion_styles!==void 0)return t;switch(typeof t){case"boolean":return"";case"object":{if(t.anim===1)return ks={name:t.name,styles:t.styles,next:ks},t.name;if(t.styles!==void 0){var r=t.next;if(r!==void 0)for(;r!==void 0;)ks={name:r.name,styles:r.styles,next:ks},r=r.next;var i=t.styles+";";return i}return c8(n,e,t)}case"function":{if(n!==void 0){var s=ks,o=t(n);return ks=s,np(n,e,o)}break}}if(e==null)return t;var a=e[t];return a!==void 0?a:t}function c8(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=np(n,e,t[i])+";";else for(var s in t){var o=t[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":T2(o)&&(r+=A1(s)+":"+R2(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)T2(o[a])&&(r+=A1(s)+":"+R2(s,o[a])+";");else{var l=np(n,e,o);switch(s){case"animation":case"animationName":{r+=A1(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var P2=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ks,nF=function(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";ks=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=np(r,t,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=np(r,t,e[a]),i&&(s+=o[a]);P2.lastIndex=0;for(var l="",u;(u=P2.exec(s))!==null;)l+="-"+u[1];var d=a8(s)+l;return{name:d,styles:s,next:ks}},rF=V.exports.createContext(typeof HTMLElement!="undefined"?r8({key:"css"}):null);rF.Provider;var f8=function(e){return V.exports.forwardRef(function(t,r){var i=V.exports.useContext(rF);return e(t,i,r)})},d8=V.exports.createContext({});af["useInsertionEffect"]&&af["useInsertionEffect"];af["useInsertionEffect"]?af["useInsertionEffect"]:V.exports.useLayoutEffect;function h8(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return nF(e)}var cM=function(){var e=h8.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},p8=CS,m8=function(e){return e!=="theme"},I2=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?p8:m8},B2=function(e,t,r){var i;if(t){var s=t.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},g8=af["useInsertionEffect"]?af["useInsertionEffect"]:function(e){e()};function y8(n){g8(n)}var v8=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return eF(t,r,i),y8(function(){return o8(t,r,i)}),null},_8=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;t!==void 0&&(s=t.label,o=t.target);var a=B2(e,t,r),l=a||I2(i),u=!l("as");return function(){var d=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{h.push(d[0][0]);for(var p=d.length,m=1;m<p;m++)h.push(d[m],d[0][m])}var y=f8(function(g,_,w){var x=u&&g.as||i,A="",E=[],C=g;if(g.theme==null){C={};for(var T in g)C[T]=g[T];C.theme=V.exports.useContext(d8)}typeof g.className=="string"?A=s8(_.registered,E,g.className):g.className!=null&&(A=g.className+" ");var R=nF(h.concat(E),_.registered,C);A+=_.key+"-"+R.name,o!==void 0&&(A+=" "+o);var I=u&&a===void 0?I2(x):l,O={};for(var L in g)u&&L==="as"||I(L)&&(O[L]=g[L]);return O.className=A,O.ref=w,V.exports.createElement(V.exports.Fragment,null,V.exports.createElement(v8,{cache:_,serialized:R,isStringTag:typeof x=="string"}),V.exports.createElement(x,O))});return y.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",y.defaultProps=e.defaultProps,y.__emotion_real=y,y.__emotion_base=i,y.__emotion_styles=h,y.__emotion_forwardProp=a,Object.defineProperty(y,"toString",{value:function(){return"."+o}}),y.withComponent=function(g,_){return n(g,Re({},t,_,{shouldForwardProp:B2(y,_,!0)})).apply(void 0,h)},y}},x8=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],FS=_8.bind();x8.forEach(function(n){FS[n]=FS(n)});var w8=FS;/** @license MUI v5.6.1
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function S8(n,e){return w8(n,e)}function Sh(n,e){return e?Ro(n,e,{clone:!1}):n}const fM={xs:0,sm:600,md:900,lg:1200,xl:1536},L2={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${fM[n]}px)`};function el(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const s=r.breakpoints||L2;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=t(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||L2;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||fM).indexOf(a)!==-1){const l=s.up(a);o[l]=t(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return t(e)}function A8(n={}){var e;return(n==null||(e=n.keys)==null?void 0:e.reduce((r,i)=>{const s=n.up(i);return r[s]={},r},{}))||{}}function E8(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function dM(n,e){return!e||typeof e!="string"?null:e.split(".").reduce((t,r)=>t&&t[r]?t[r]:null,n)}function D2(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=dM(n,t)||r,e&&(i=e(i)),i}function Je(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=dM(l,r)||{};return el(o,a,h=>{let p=D2(u,i,h);return h===p&&typeof h=="string"&&(p=D2(u,i,`${e}${h==="default"?"":br(h)}`,h)),t===!1?p:{[t]:p}})};return s.propTypes={},s.filterProps=[e],s}function tl(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),t=r=>Object.keys(r).reduce((i,s)=>e[s]?Sh(i,e[s](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function M8(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const C8={m:"margin",p:"padding"},b8={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},F2={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},T8=M8(n=>{if(n.length>2)if(F2[n])n=F2[n];else return[n];const[e,t]=n.split(""),r=C8[e],i=b8[t]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),R8=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],P8=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],iF=[...R8,...P8];function Bp(n,e,t,r){const i=dM(n,e)||t;return typeof i=="number"?s=>typeof s=="string"?s:i*s:Array.isArray(i)?s=>typeof s=="string"?s:i[s]:typeof i=="function"?i:()=>{}}function sF(n){return Bp(n,"spacing",8)}function Lp(n,e){if(typeof e=="string"||e==null)return e;const t=Math.abs(e),r=n(t);return e>=0?r:typeof r=="number"?-r:`-${r}`}function I8(n,e){return t=>n.reduce((r,i)=>(r[i]=Lp(e,t),r),{})}function B8(n,e,t,r){if(e.indexOf(t)===-1)return null;const i=T8(t),s=I8(i,r),o=n[t];return el(n,o,s)}function L8(n,e){const t=sF(n.theme);return Object.keys(n).map(r=>B8(n,e,r,t)).reduce(Sh,{})}function Jv(n){return L8(n,iF)}Jv.propTypes={};Jv.filterProps=iF;function Dp(n){return typeof n!="number"?n:`${n}px solid`}const D8=Je({prop:"border",themeKey:"borders",transform:Dp}),F8=Je({prop:"borderTop",themeKey:"borders",transform:Dp}),k8=Je({prop:"borderRight",themeKey:"borders",transform:Dp}),O8=Je({prop:"borderBottom",themeKey:"borders",transform:Dp}),N8=Je({prop:"borderLeft",themeKey:"borders",transform:Dp}),H8=Je({prop:"borderColor",themeKey:"palette"}),U8=Je({prop:"borderTopColor",themeKey:"palette"}),G8=Je({prop:"borderRightColor",themeKey:"palette"}),z8=Je({prop:"borderBottomColor",themeKey:"palette"}),V8=Je({prop:"borderLeftColor",themeKey:"palette"}),hM=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Bp(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Lp(e,r)});return el(n,n.borderRadius,t)}return null};hM.propTypes={};hM.filterProps=["borderRadius"];const W8=tl(D8,F8,k8,O8,N8,H8,U8,G8,z8,V8,hM);var oF=W8;const j8=Je({prop:"displayPrint",cssProperty:!1,transform:n=>({"@media print":{display:n}})}),J8=Je({prop:"display"}),$8=Je({prop:"overflow"}),K8=Je({prop:"textOverflow"}),X8=Je({prop:"visibility"}),Q8=Je({prop:"whiteSpace"});var aF=tl(j8,J8,$8,K8,X8,Q8);const q8=Je({prop:"flexBasis"}),Y8=Je({prop:"flexDirection"}),Z8=Je({prop:"flexWrap"}),e9=Je({prop:"justifyContent"}),t9=Je({prop:"alignItems"}),n9=Je({prop:"alignContent"}),r9=Je({prop:"order"}),i9=Je({prop:"flex"}),s9=Je({prop:"flexGrow"}),o9=Je({prop:"flexShrink"}),a9=Je({prop:"alignSelf"}),l9=Je({prop:"justifyItems"}),u9=Je({prop:"justifySelf"}),c9=tl(q8,Y8,Z8,e9,t9,n9,r9,i9,s9,o9,a9,l9,u9);var lF=c9;const pM=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Bp(n.theme,"spacing",8),t=r=>({gap:Lp(e,r)});return el(n,n.gap,t)}return null};pM.propTypes={};pM.filterProps=["gap"];const mM=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Bp(n.theme,"spacing",8),t=r=>({columnGap:Lp(e,r)});return el(n,n.columnGap,t)}return null};mM.propTypes={};mM.filterProps=["columnGap"];const gM=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Bp(n.theme,"spacing",8),t=r=>({rowGap:Lp(e,r)});return el(n,n.rowGap,t)}return null};gM.propTypes={};gM.filterProps=["rowGap"];const f9=Je({prop:"gridColumn"}),d9=Je({prop:"gridRow"}),h9=Je({prop:"gridAutoFlow"}),p9=Je({prop:"gridAutoColumns"}),m9=Je({prop:"gridAutoRows"}),g9=Je({prop:"gridTemplateColumns"}),y9=Je({prop:"gridTemplateRows"}),v9=Je({prop:"gridTemplateAreas"}),_9=Je({prop:"gridArea"}),x9=tl(pM,mM,gM,f9,d9,h9,p9,m9,g9,y9,v9,_9);var uF=x9;const w9=Je({prop:"color",themeKey:"palette"}),S9=Je({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),A9=Je({prop:"backgroundColor",themeKey:"palette"}),E9=tl(w9,S9,A9);var cF=E9;const M9=Je({prop:"position"}),C9=Je({prop:"zIndex",themeKey:"zIndex"}),b9=Je({prop:"top"}),T9=Je({prop:"right"}),R9=Je({prop:"bottom"}),P9=Je({prop:"left"});var fF=tl(M9,C9,b9,T9,R9,P9);const I9=Je({prop:"boxShadow",themeKey:"shadows"});var dF=I9;function nl(n){return n<=1&&n!==0?`${n*100}%`:n}const B9=Je({prop:"width",transform:nl}),hF=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var r,i,s;return{maxWidth:((r=n.theme)==null||(i=r.breakpoints)==null||(s=i.values)==null?void 0:s[t])||fM[t]||nl(t)}};return el(n,n.maxWidth,e)}return null};hF.filterProps=["maxWidth"];const L9=Je({prop:"minWidth",transform:nl}),D9=Je({prop:"height",transform:nl}),F9=Je({prop:"maxHeight",transform:nl}),k9=Je({prop:"minHeight",transform:nl});Je({prop:"size",cssProperty:"width",transform:nl});Je({prop:"size",cssProperty:"height",transform:nl});const O9=Je({prop:"boxSizing"}),N9=tl(B9,hF,L9,D9,F9,k9,O9);var pF=N9;const H9=Je({prop:"fontFamily",themeKey:"typography"}),U9=Je({prop:"fontSize",themeKey:"typography"}),G9=Je({prop:"fontStyle",themeKey:"typography"}),z9=Je({prop:"fontWeight",themeKey:"typography"}),V9=Je({prop:"letterSpacing"}),W9=Je({prop:"textTransform"}),j9=Je({prop:"lineHeight"}),J9=Je({prop:"textAlign"}),$9=Je({prop:"typography",cssProperty:!1,themeKey:"typography"}),K9=tl($9,H9,U9,G9,z9,V9,j9,J9,W9);var mF=K9;const k2={borders:oF.filterProps,display:aF.filterProps,flexbox:lF.filterProps,grid:uF.filterProps,positions:fF.filterProps,palette:cF.filterProps,shadows:dF.filterProps,sizing:pF.filterProps,spacing:Jv.filterProps,typography:mF.filterProps},gF={borders:oF,display:aF,flexbox:lF,grid:uF,positions:fF,palette:cF,shadows:dF,sizing:pF,spacing:Jv,typography:mF};Object.keys(k2).reduce((n,e)=>(k2[e].forEach(t=>{n[t]=gF[e]}),n),{});function X9(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function Q9(n,e){return typeof n=="function"?n(e):n}function q9(n=gF){const e=Object.keys(n).reduce((i,s)=>(n[s].filterProps.forEach(o=>{i[o]=n[s]}),i),{});function t(i,s,o){const a={[i]:s,theme:o},l=e[i];return l?l(a):{[i]:s}}function r(i){const{sx:s,theme:o={}}=i||{};if(!s)return null;function a(l){let u=l;if(typeof l=="function")u=l(o);else if(typeof l!="object")return l;if(!u)return null;const d=A8(o.breakpoints),h=Object.keys(d);let p=d;return Object.keys(u).forEach(m=>{const y=Q9(u[m],o);if(y!=null)if(typeof y=="object")if(e[m])p=Sh(p,t(m,y,o));else{const g=el({theme:o},y,_=>({[m]:_}));X9(g,y)?p[m]=r({sx:y,theme:o}):p=Sh(p,g)}else p=Sh(p,t(m,y,o))}),E8(h,p)}return Array.isArray(s)?s.map(a):a(s)}return r}const yF=q9();yF.filterProps=["sx"];var Y9=yF;const Z9=["values","unit","step"],eV=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>Re({},t,{[r.key]:r.val}),{})};function tV(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5}=n,i=Vt(n,Z9),s=eV(e),o=Object.keys(s);function a(p){return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${t})`}function l(p){return`@media (max-width:${(typeof e[p]=="number"?e[p]:p)-r/100}${t})`}function u(p,m){const y=o.indexOf(m);return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${t}) and (max-width:${(y!==-1&&typeof e[o[y]]=="number"?e[o[y]]:m)-r/100}${t})`}function d(p){return o.indexOf(p)+1<o.length?u(p,o[o.indexOf(p)+1]):a(p)}function h(p){const m=o.indexOf(p);return m===0?a(o[1]):m===o.length-1?l(o[m]):u(p,o[o.indexOf(p)+1]).replace("@media","@media not all and")}return Re({keys:o,values:s,up:a,down:l,between:u,only:d,not:h,unit:t},i)}const nV={borderRadius:4};var rV=nV;function iV(n=8){if(n.mui)return n;const e=sF({spacing:n}),t=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return t.mui=!0,t}const sV=["breakpoints","palette","spacing","shape"];function yM(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:s={}}=n,o=Vt(n,sV),a=tV(t),l=iV(i);let u=Ro({breakpoints:a,direction:"ltr",components:{},palette:Re({mode:"light"},r),spacing:l,shape:Re({},rV,s)},o);return u=e.reduce((d,h)=>Ro(d,h),u),u}const oV=V.exports.createContext(null);var aV=oV;function lV(){return V.exports.useContext(aV)}function uV(n){return Object.keys(n).length===0}function cV(n=null){const e=lV();return!e||uV(e)?n:e}const fV=yM();function vF(n=fV){return cV(n)}const dV=["variant"];function O2(n){return n.length===0}function _F(n){const{variant:e}=n,t=Vt(n,dV);let r=e||"";return Object.keys(t).sort().forEach(i=>{i==="color"?r+=O2(r)?n[i]:br(n[i]):r+=`${O2(r)?i:br(i)}${br(n[i].toString())}`}),r}const hV=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],pV=["theme"],mV=["theme"];function Nd(n){return Object.keys(n).length===0}const gV=(n,e)=>e.components&&e.components[n]&&e.components[n].styleOverrides?e.components[n].styleOverrides:null,yV=(n,e)=>{let t=[];e&&e.components&&e.components[n]&&e.components[n].variants&&(t=e.components[n].variants);const r={};return t.forEach(i=>{const s=_F(i.props);r[s]=i.style}),r},vV=(n,e,t,r)=>{var i,s;const{ownerState:o={}}=n,a=[],l=t==null||(i=t.components)==null||(s=i[r])==null?void 0:s.variants;return l&&l.forEach(u=>{let d=!0;Object.keys(u.props).forEach(h=>{o[h]!==u.props[h]&&n[h]!==u.props[h]&&(d=!1)}),d&&a.push(e[_F(u.props)])}),a};function ry(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const _V=yM();function xV(n={}){const{defaultTheme:e=_V,rootShouldForwardProp:t=ry,slotShouldForwardProp:r=ry,styleFunctionSx:i=Y9}=n;return(s,o={})=>{const{name:a,slot:l,skipVariantsResolver:u,skipSx:d,overridesResolver:h}=o,p=Vt(o,hV),m=u!==void 0?u:l&&l!=="Root"||!1,y=d||!1;let g,_=ry;l==="Root"?_=t:l&&(_=r);const w=S8(s,Re({shouldForwardProp:_,label:g},p)),x=(A,...E)=>{const C=E?E.map(O=>typeof O=="function"&&O.__emotion_real!==O?L=>{let{theme:P}=L,B=Vt(L,pV);return O(Re({theme:Nd(P)?e:P},B))}:O):[];let T=A;a&&h&&C.push(O=>{const L=Nd(O.theme)?e:O.theme,P=gV(a,L);if(P){const B={};return Object.entries(P).forEach(([q,W])=>{B[q]=typeof W=="function"?W(O):W}),h(O,B)}return null}),a&&!m&&C.push(O=>{const L=Nd(O.theme)?e:O.theme;return vV(O,yV(a,L),L,a)}),y||C.push(O=>{const L=Nd(O.theme)?e:O.theme;return i(Re({},O,{theme:L}))});const R=C.length-E.length;if(Array.isArray(A)&&R>0){const O=new Array(R).fill("");T=[...A,...O],T.raw=[...A.raw,...O]}else typeof A=="function"&&A.__emotion_real!==A&&(T=O=>{let{theme:L}=O,P=Vt(O,mV);return A(Re({theme:Nd(L)?e:L},P))});return w(T,...C)};return w.withConfig&&(x.withConfig=w.withConfig),x}}function wV(n){const{theme:e,name:t,props:r}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?r:X5(e.components[t].defaultProps,r)}function SV({props:n,name:e,defaultTheme:t}){const r=vF(t);return wV({theme:r,name:e,props:n})}function vM(n,e=0,t=1){return Math.min(Math.max(e,n),t)}function AV(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function du(n){if(n.type)return n;if(n.charAt(0)==="#")return du(AV(n));const e=n.indexOf("("),t=n.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(t)===-1)throw new Error(qh(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(qh(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:t,values:r,colorSpace:i}}function $v(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function EV(n){n=du(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,d=(u+t/30)%12)=>i-s*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return n.type==="hsla"&&(a+="a",l.push(e[3])),$v({type:a,values:l})}function N2(n){n=du(n);let e=n.type==="hsl"?du(EV(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function MV(n,e){const t=N2(n),r=N2(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function xa(n,e){return n=du(n),e=vM(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,$v(n)}function kS(n,e){if(n=du(n),e=vM(e),n.type.indexOf("hsl")!==-1)n.values[2]*=1-e;else if(n.type.indexOf("rgb")!==-1||n.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)n.values[t]*=1-e;return $v(n)}function OS(n,e){if(n=du(n),e=vM(e),n.type.indexOf("hsl")!==-1)n.values[2]+=(100-n.values[2])*e;else if(n.type.indexOf("rgb")!==-1)for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return $v(n)}function CV(n,e,t){return Re({toolbar:{minHeight:56,[`${n.up("xs")} and (orientation: landscape)`]:{minHeight:48},[n.up("sm")]:{minHeight:64}}},t)}const bV={black:"#000",white:"#fff"};var rp=bV;const TV={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};var RV=TV;const PV={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"};var Zu=PV;const IV={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};var ec=IV;const BV={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};var Hd=BV;const LV={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};var tc=LV;const DV={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"};var nc=DV;const FV={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};var rc=FV;const kV=["mode","contrastThreshold","tonalOffset"],H2={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:rp.white,default:rp.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},E1={text:{primary:rp.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:rp.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function U2(n,e,t,r){const i=r.light||r,s=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=OS(n.main,i):e==="dark"&&(n.dark=kS(n.main,s)))}function OV(n="light"){return n==="dark"?{main:tc[200],light:tc[50],dark:tc[400]}:{main:tc[700],light:tc[400],dark:tc[800]}}function NV(n="light"){return n==="dark"?{main:Zu[200],light:Zu[50],dark:Zu[400]}:{main:Zu[500],light:Zu[300],dark:Zu[700]}}function HV(n="light"){return n==="dark"?{main:ec[500],light:ec[300],dark:ec[700]}:{main:ec[700],light:ec[400],dark:ec[800]}}function UV(n="light"){return n==="dark"?{main:nc[400],light:nc[300],dark:nc[700]}:{main:nc[700],light:nc[500],dark:nc[900]}}function GV(n="light"){return n==="dark"?{main:rc[400],light:rc[300],dark:rc[700]}:{main:rc[800],light:rc[500],dark:rc[900]}}function zV(n="light"){return n==="dark"?{main:Hd[400],light:Hd[300],dark:Hd[700]}:{main:"#ed6c02",light:Hd[500],dark:Hd[900]}}function VV(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2}=n,i=Vt(n,kV),s=n.primary||OV(e),o=n.secondary||NV(e),a=n.error||HV(e),l=n.info||UV(e),u=n.success||GV(e),d=n.warning||zV(e);function h(g){return MV(g,E1.text.primary)>=t?E1.text.primary:H2.text.primary}const p=({color:g,name:_,mainShade:w=500,lightShade:x=300,darkShade:A=700})=>{if(g=Re({},g),!g.main&&g[w]&&(g.main=g[w]),!g.hasOwnProperty("main"))throw new Error(qh(11,_?` (${_})`:"",w));if(typeof g.main!="string")throw new Error(qh(12,_?` (${_})`:"",JSON.stringify(g.main)));return U2(g,"light",x,r),U2(g,"dark",A,r),g.contrastText||(g.contrastText=h(g.main)),g},m={dark:E1,light:H2};return Ro(Re({common:rp,mode:e,primary:p({color:s,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:a,name:"error"}),warning:p({color:d,name:"warning"}),info:p({color:l,name:"info"}),success:p({color:u,name:"success"}),grey:RV,contrastThreshold:t,getContrastText:h,augmentColor:p,tonalOffset:r},m[e]),i)}const WV=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function jV(n){return Math.round(n*1e5)/1e5}const G2={textTransform:"uppercase"},z2='"Roboto", "Helvetica", "Arial", sans-serif';function JV(n,e){const t=typeof e=="function"?e(n):e,{fontFamily:r=z2,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:d,pxToRem:h}=t,p=Vt(t,WV),m=i/14,y=h||(w=>`${w/u*m}rem`),g=(w,x,A,E,C)=>Re({fontFamily:r,fontWeight:w,fontSize:y(x),lineHeight:A},r===z2?{letterSpacing:`${jV(E/x)}em`}:{},C,d),_={h1:g(s,96,1.167,-1.5),h2:g(s,60,1.2,-.5),h3:g(o,48,1.167,0),h4:g(o,34,1.235,.25),h5:g(o,24,1.334,0),h6:g(a,20,1.6,.15),subtitle1:g(o,16,1.75,.15),subtitle2:g(a,14,1.57,.1),body1:g(o,16,1.5,.15),body2:g(o,14,1.43,.15),button:g(a,14,1.75,.4,G2),caption:g(o,12,1.66,.4),overline:g(o,12,2.66,1,G2)};return Ro(Re({htmlFontSize:u,pxToRem:y,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},_),p,{clone:!1})}const $V=.2,KV=.14,XV=.12;function cn(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${$V})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${KV})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${XV})`].join(",")}const QV=["none",cn(0,2,1,-1,0,1,1,0,0,1,3,0),cn(0,3,1,-2,0,2,2,0,0,1,5,0),cn(0,3,3,-2,0,3,4,0,0,1,8,0),cn(0,2,4,-1,0,4,5,0,0,1,10,0),cn(0,3,5,-1,0,5,8,0,0,1,14,0),cn(0,3,5,-1,0,6,10,0,0,1,18,0),cn(0,4,5,-2,0,7,10,1,0,2,16,1),cn(0,5,5,-3,0,8,10,1,0,3,14,2),cn(0,5,6,-3,0,9,12,1,0,3,16,2),cn(0,6,6,-3,0,10,14,1,0,4,18,3),cn(0,6,7,-4,0,11,15,1,0,4,20,3),cn(0,7,8,-4,0,12,17,2,0,5,22,4),cn(0,7,8,-4,0,13,19,2,0,5,24,4),cn(0,7,9,-4,0,14,21,2,0,5,26,4),cn(0,8,9,-5,0,15,22,2,0,6,28,5),cn(0,8,10,-5,0,16,24,2,0,6,30,5),cn(0,8,11,-5,0,17,26,2,0,6,32,5),cn(0,9,11,-5,0,18,28,2,0,7,34,6),cn(0,9,12,-6,0,19,29,2,0,7,36,6),cn(0,10,13,-6,0,20,31,3,0,8,38,7),cn(0,10,13,-6,0,21,33,3,0,8,40,7),cn(0,10,14,-6,0,22,35,3,0,8,42,7),cn(0,11,14,-7,0,23,36,3,0,9,44,8),cn(0,11,15,-7,0,24,38,3,0,9,46,8)];var qV=QV;const YV=["duration","easing","delay"],ZV={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},eW={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function V2(n){return`${Math.round(n)}ms`}function tW(n){if(!n)return 0;const e=n/36;return Math.round((4+15*e**.25+e/5)*10)}function nW(n){const e=Re({},ZV,n.easing),t=Re({},eW,n.duration);return Re({getAutoHeightDuration:tW,create:(i=["all"],s={})=>{const{duration:o=t.standard,easing:a=e.easeInOut,delay:l=0}=s;return Vt(s,YV),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:V2(o)} ${a} ${typeof l=="string"?l:V2(l)}`).join(",")}},n,{easing:e,duration:t})}const rW={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};var iW=rW;const sW=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function oW(n={},...e){const{mixins:t={},palette:r={},transitions:i={},typography:s={}}=n,o=Vt(n,sW),a=VV(r),l=yM(n);let u=Ro(l,{mixins:CV(l.breakpoints,l.spacing,t),palette:a,shadows:qV.slice(),typography:JV(a,s),transitions:nW(i),zIndex:Re({},iW)});return u=Ro(u,o),u=e.reduce((d,h)=>Ro(d,h),u),u}const aW=oW();var _M=aW;const xM=n=>ry(n)&&n!=="classes",lW=xV({defaultTheme:_M,rootShouldForwardProp:xM});var Wn=lW;function es({props:n,name:e}){return SV({props:n,name:e,defaultTheme:_M})}function NS(n,e){return NS=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},NS(n,e)}function xF(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,NS(n,e)}var W2={disabled:!1},zy=Zr.createContext(null),lh="unmounted",Bl="exited",Ll="entering",Cc="entered",HS="exiting",Uo=function(n){xF(e,n);function e(r,i){var s;s=n.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Bl,s.appearStatus=Ll):l=Cc:r.unmountOnExit||r.mountOnEnter?l=lh:l=Bl,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===lh?{status:Bl}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Ll&&o!==Cc&&(s=Ll):(o===Ll||o===Cc)&&(s=HS)}this.updateStatus(!1,s)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},t.updateStatus=function(i,s){i===void 0&&(i=!1),s!==null?(this.cancelNextCallback(),s===Ll?this.performEnter(i):this.performExit()):this.props.unmountOnExit&&this.state.status===Bl&&this.setState({status:lh})},t.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[v1.findDOMNode(this),a],u=l[0],d=l[1],h=this.getTimeouts(),p=a?h.appear:h.enter;if(!i&&!o||W2.disabled){this.safeSetState({status:Cc},function(){s.props.onEntered(u)});return}this.props.onEnter(u,d),this.safeSetState({status:Ll},function(){s.props.onEntering(u,d),s.onTransitionEnd(p,function(){s.safeSetState({status:Cc},function(){s.props.onEntered(u,d)})})})},t.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:v1.findDOMNode(this);if(!s||W2.disabled){this.safeSetState({status:Bl},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:HS},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Bl},function(){i.props.onExited(a)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},t.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},t.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:v1.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],d=l[1];this.props.addEndListener(u,d)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===lh)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Vt(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Zr.createElement(zy.Provider,{value:null},typeof o=="function"?o(i,a):Zr.cloneElement(Zr.Children.only(o),a))},e}(Zr.Component);Uo.contextType=zy;Uo.propTypes={};function ic(){}Uo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ic,onEntering:ic,onEntered:ic,onExit:ic,onExiting:ic,onExited:ic};Uo.UNMOUNTED=lh;Uo.EXITED=Bl;Uo.ENTERING=Ll;Uo.ENTERED=Cc;Uo.EXITING=HS;var wF=Uo;function uW(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function wM(n,e){var t=function(s){return e&&V.exports.isValidElement(s)?e(s):s},r=Object.create(null);return n&&V.exports.Children.map(n,function(i){return i}).forEach(function(i){r[i.key]=t(i)}),r}function cW(n,e){n=n||{},e=e||{};function t(d){return d in e?e[d]:n[d]}var r=Object.create(null),i=[];for(var s in n)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=t(u)}a[l]=t(l)}for(o=0;o<i.length;o++)a[i[o]]=t(i[o]);return a}function jl(n,e,t){return t[e]!=null?t[e]:n.props[e]}function fW(n,e){return wM(n.children,function(t){return V.exports.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:jl(t,"appear",n),enter:jl(t,"enter",n),exit:jl(t,"exit",n)})})}function dW(n,e,t){var r=wM(n.children),i=cW(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(!!V.exports.isValidElement(o)){var a=s in e,l=s in r,u=e[s],d=V.exports.isValidElement(u)&&!u.props.in;l&&(!a||d)?i[s]=V.exports.cloneElement(o,{onExited:t.bind(null,o),in:!0,exit:jl(o,"exit",n),enter:jl(o,"enter",n)}):!l&&a&&!d?i[s]=V.exports.cloneElement(o,{in:!1}):l&&a&&V.exports.isValidElement(u)&&(i[s]=V.exports.cloneElement(o,{onExited:t.bind(null,o),in:u.props.in,exit:jl(o,"exit",n),enter:jl(o,"enter",n)}))}}),i}var hW=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},pW={component:"div",childFactory:function(e){return e}},SM=function(n){xF(e,n);function e(r,i){var s;s=n.call(this,r,i)||this;var o=s.handleExited.bind(uW(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?fW(i,a):dW(i,o,a),firstRender:!1}},t.handleExited=function(i,s){var o=wM(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=Re({},a.children);return delete l[i.key],{children:l}}))},t.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=Vt(i,["component","childFactory"]),l=this.state.contextValue,u=hW(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Zr.createElement(zy.Provider,{value:l},u):Zr.createElement(zy.Provider,{value:l},Zr.createElement(s,a,u))},e}(Zr.Component);SM.propTypes={};SM.defaultProps=pW;var mW=SM;function AM(){return vF(_M)}const SF=n=>n.scrollTop;function Vy(n,e){var t,r;const{timeout:i,easing:s,style:o={}}=n;return{duration:(t=o.transitionDuration)!=null?t:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}const gW=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],yW={entering:{opacity:1},entered:{opacity:1}},vW=V.exports.forwardRef(function(e,t){const r=AM(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:u,onEnter:d,onEntered:h,onEntering:p,onExit:m,onExited:y,onExiting:g,style:_,timeout:w=i,TransitionComponent:x=wF}=e,A=Vt(e,gW),E=V.exports.useRef(null),C=wi(a.ref,t),T=wi(E,C),R=$=>J=>{if($){const K=E.current;J===void 0?$(K):$(K,J)}},I=R(p),O=R(($,J)=>{SF($);const K=Vy({style:_,timeout:w,easing:l},{mode:"enter"});$.style.webkitTransition=r.transitions.create("opacity",K),$.style.transition=r.transitions.create("opacity",K),d&&d($,J)}),L=R(h),P=R(g),B=R($=>{const J=Vy({style:_,timeout:w,easing:l},{mode:"exit"});$.style.webkitTransition=r.transitions.create("opacity",J),$.style.transition=r.transitions.create("opacity",J),m&&m($)}),q=R(y);return ot(x,Re({appear:o,in:u,nodeRef:E,onEnter:O,onEntered:L,onEntering:I,onExit:B,onExited:q,onExiting:P,addEndListener:$=>{s&&s(E.current,$)},timeout:w},A,{children:($,J)=>V.exports.cloneElement(a,Re({style:Re({opacity:0,visibility:$==="exited"&&!u?"hidden":void 0},yW[$],_,a.props.style),ref:T},J))}))});var _W=vW;function xW(n){return Zi("MuiBackdrop",n)}Gr("MuiBackdrop",["root","invisible"]);const wW=["children","component","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],SW=n=>{const{classes:e,invisible:t}=n;return Ss({root:["root",t&&"invisible"]},xW,e)},AW=Wn("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})(({ownerState:n})=>Re({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},n.invisible&&{backgroundColor:"transparent"})),EW=V.exports.forwardRef(function(e,t){var r,i;const s=es({props:e,name:"MuiBackdrop"}),{children:o,component:a="div",components:l={},componentsProps:u={},className:d,invisible:h=!1,open:p,transitionDuration:m,TransitionComponent:y=_W}=s,g=Vt(s,wW),_=Re({},s,{component:a,invisible:h}),w=SW(_);return ot(y,Re({in:p,timeout:m},g,{children:ot(AW,{"aria-hidden":!0,as:(r=l.Root)!=null?r:a,className:Bn(w.root,d),ownerState:Re({},_,(i=u.root)==null?void 0:i.ownerState),classes:w,ref:t,children:o})}))});var MW=EW;const CW=["BackdropComponent","closeAfterTransition","children","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted"],bW=n=>n.classes,TW=Wn("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(({theme:n,ownerState:e})=>Re({position:"fixed",zIndex:n.zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),RW=Wn(MW,{name:"MuiModal",slot:"Backdrop",overridesResolver:(n,e)=>e.backdrop})({zIndex:-1}),PW=V.exports.forwardRef(function(e,t){var r;const i=es({name:"MuiModal",props:e}),{BackdropComponent:s=RW,closeAfterTransition:o=!1,children:a,components:l={},componentsProps:u={},disableAutoFocus:d=!1,disableEnforceFocus:h=!1,disableEscapeKeyDown:p=!1,disablePortal:m=!1,disableRestoreFocus:y=!1,disableScrollLock:g=!1,hideBackdrop:_=!1,keepMounted:w=!1}=i,x=Vt(i,CW),[A,E]=V.exports.useState(!0),C={closeAfterTransition:o,disableAutoFocus:d,disableEnforceFocus:h,disableEscapeKeyDown:p,disablePortal:m,disableRestoreFocus:y,disableScrollLock:g,hideBackdrop:_,keepMounted:w},T=Re({},i,C,{exited:A}),R=bW(T);return ot(R6,Re({components:Re({Root:TW},l),componentsProps:{root:Re({},u.root,(!l.Root||!WD(l.Root))&&{ownerState:Re({},(r=u.root)==null?void 0:r.ownerState)})},BackdropComponent:s,onTransitionEnter:()=>E(!1),onTransitionExited:()=>E(!0),ref:t},x,{classes:R},C,{children:a}))});var IW=PW,Jl;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Jl||(Jl={}));var j2=function(n){return n},J2="beforeunload",BW="popstate";function LW(n){n===void 0&&(n={});var e=n,t=e.window,r=t===void 0?document.defaultView:t,i=r.history;function s(){var R=r.location,I=R.pathname,O=R.search,L=R.hash,P=i.state||{};return[P.idx,j2({pathname:I,search:O,hash:L,state:P.usr||null,key:P.key||"default"})]}var o=null;function a(){if(o)m.call(o),o=null;else{var R=Jl.Pop,I=s(),O=I[0],L=I[1];if(m.length){if(O!=null){var P=d-O;P&&(o={action:R,location:L,retry:function(){C(P*-1)}},C(P))}}else x(R)}}r.addEventListener(BW,a);var l=Jl.Pop,u=s(),d=u[0],h=u[1],p=K2(),m=K2();d==null&&(d=0,i.replaceState(Re({},i.state,{idx:d}),""));function y(R){return typeof R=="string"?R:US(R)}function g(R,I){return I===void 0&&(I=null),j2(Re({pathname:h.pathname,hash:"",search:""},typeof R=="string"?Pu(R):R,{state:I,key:DW()}))}function _(R,I){return[{usr:R.state,key:R.key,idx:I},y(R)]}function w(R,I,O){return!m.length||(m.call({action:R,location:I,retry:O}),!1)}function x(R){l=R;var I=s();d=I[0],h=I[1],p.call({action:l,location:h})}function A(R,I){var O=Jl.Push,L=g(R,I);function P(){A(R,I)}if(w(O,L,P)){var B=_(L,d+1),q=B[0],W=B[1];try{i.pushState(q,"",W)}catch{r.location.assign(W)}x(O)}}function E(R,I){var O=Jl.Replace,L=g(R,I);function P(){E(R,I)}if(w(O,L,P)){var B=_(L,d),q=B[0],W=B[1];i.replaceState(q,"",W),x(O)}}function C(R){i.go(R)}var T={get action(){return l},get location(){return h},createHref:y,push:A,replace:E,go:C,back:function(){C(-1)},forward:function(){C(1)},listen:function(I){return p.push(I)},block:function(I){var O=m.push(I);return m.length===1&&r.addEventListener(J2,$2),function(){O(),m.length||r.removeEventListener(J2,$2)}}};return T}function $2(n){n.preventDefault(),n.returnValue=""}function K2(){var n=[];return{get length(){return n.length},push:function(t){return n.push(t),function(){n=n.filter(function(r){return r!==t})}},call:function(t){n.forEach(function(r){return r&&r(t)})}}}function DW(){return Math.random().toString(36).substr(2,8)}function US(n){var e=n.pathname,t=e===void 0?"/":e,r=n.search,i=r===void 0?"":r,s=n.hash,o=s===void 0?"":s;return i&&i!=="?"&&(t+=i.charAt(0)==="?"?i:"?"+i),o&&o!=="#"&&(t+=o.charAt(0)==="#"?o:"#"+o),t}function Pu(n){var e={};if(n){var t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));var r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const EM=V.exports.createContext(null),MM=V.exports.createContext(null),Kv=V.exports.createContext({outlet:null,matches:[]});function Qs(n,e){if(!n)throw new Error(e)}function FW(n,e,t){t===void 0&&(t="/");let r=typeof e=="string"?Pu(e):e,i=MF(r.pathname||"/",t);if(i==null)return null;let s=AF(n);kW(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=jW(s[a],i);return o}function AF(n,e,t,r){return e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r=""),n.forEach((i,s)=>{let o={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||Qs(!1),o.relativePath=o.relativePath.slice(r.length));let a=Ba([r,o.relativePath]),l=t.concat(o);i.children&&i.children.length>0&&(i.index===!0&&Qs(!1),AF(i.children,e,l,a)),!(i.path==null&&!i.index)&&e.push({path:a,score:VW(a,i.index),routesMeta:l})}),e}function kW(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:WW(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const OW=/^:\w+$/,NW=3,HW=2,UW=1,GW=10,zW=-2,X2=n=>n==="*";function VW(n,e){let t=n.split("/"),r=t.length;return t.some(X2)&&(r+=zW),e&&(r+=HW),t.filter(i=>!X2(i)).reduce((i,s)=>i+(OW.test(s)?NW:s===""?UW:GW),r)}function WW(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function jW(n,e){let{routesMeta:t}=n,r={},i="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=JW({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!d)return null;Object.assign(r,d.params);let h=a.route;s.push({params:r,pathname:Ba([i,d.pathname]),pathnameBase:CF(Ba([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Ba([i,d.pathnameBase]))}return s}function JW(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=$W(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,h)=>{if(d==="*"){let p=a[h]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}return u[d]=KW(a[h]||""),u},{}),pathname:s,pathnameBase:o,pattern:n}}function $W(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(o,a)=>(r.push(a),"([^\\/]+)"));return n.endsWith("*")?(r.push("*"),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=t?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(i,e?void 0:"i"),r]}function KW(n,e){try{return decodeURIComponent(n)}catch{return n}}function XW(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Pu(n):n;return{pathname:t?t.startsWith("/")?t:QW(t,e):e,search:YW(r),hash:ZW(i)}}function QW(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function EF(n,e,t){let r=typeof n=="string"?Pu(n):n,i=n===""||r.pathname===""?"/":r.pathname,s;if(i==null)s=t;else{let a=e.length-1;if(i.startsWith("..")){let l=i.split("/");for(;l[0]==="..";)l.shift(),a-=1;r.pathname=l.join("/")}s=a>=0?e[a]:"/"}let o=XW(r,s);return i&&i!=="/"&&i.endsWith("/")&&!o.pathname.endsWith("/")&&(o.pathname+="/"),o}function qW(n){return n===""||n.pathname===""?"/":typeof n=="string"?Pu(n).pathname:n.pathname}function MF(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=n.charAt(e.length);return t&&t!=="/"?null:n.slice(e.length)||"/"}const Ba=n=>n.join("/").replace(/\/\/+/g,"/"),CF=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),YW=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ZW=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function e7(n){Fp()||Qs(!1);let{basename:e,navigator:t}=V.exports.useContext(EM),{hash:r,pathname:i,search:s}=bF(n),o=i;if(e!=="/"){let a=qW(n),l=a!=null&&a.endsWith("/");o=i==="/"?e+(l?"/":""):Ba([e,i])}return t.createHref({pathname:o,search:s,hash:r})}function Fp(){return V.exports.useContext(MM)!=null}function Xv(){return Fp()||Qs(!1),V.exports.useContext(MM).location}function t7(){Fp()||Qs(!1);let{basename:n,navigator:e}=V.exports.useContext(EM),{matches:t}=V.exports.useContext(Kv),{pathname:r}=Xv(),i=JSON.stringify(t.map(a=>a.pathnameBase)),s=V.exports.useRef(!1);return V.exports.useEffect(()=>{s.current=!0}),V.exports.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=EF(a,JSON.parse(i),r);n!=="/"&&(u.pathname=Ba([n,u.pathname])),(l.replace?e.replace:e.push)(u,l.state)},[n,e,i,r])}function bF(n){let{matches:e}=V.exports.useContext(Kv),{pathname:t}=Xv(),r=JSON.stringify(e.map(i=>i.pathnameBase));return V.exports.useMemo(()=>EF(n,JSON.parse(r),t),[n,r,t])}function n7(n,e){Fp()||Qs(!1);let{matches:t}=V.exports.useContext(Kv),r=t[t.length-1],i=r?r.params:{};r&&r.pathname;let s=r?r.pathnameBase:"/";r&&r.route;let o=Xv(),a;if(e){var l;let p=typeof e=="string"?Pu(e):e;s==="/"||((l=p.pathname)==null?void 0:l.startsWith(s))||Qs(!1),a=p}else a=o;let u=a.pathname||"/",d=s==="/"?u:u.slice(s.length)||"/",h=FW(n,{pathname:d});return r7(h&&h.map(p=>Object.assign({},p,{params:Object.assign({},i,p.params),pathname:Ba([s,p.pathname]),pathnameBase:p.pathnameBase==="/"?s:Ba([s,p.pathnameBase])})),t)}function r7(n,e){return e===void 0&&(e=[]),n==null?null:n.reduceRight((t,r,i)=>V.exports.createElement(Kv.Provider,{children:r.route.element!==void 0?r.route.element:t,value:{outlet:t,matches:e.concat(n.slice(0,i+1))}}),null)}function i7(n){Qs(!1)}function s7(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Jl.Pop,navigator:s,static:o=!1}=n;Fp()&&Qs(!1);let a=CF(e),l=V.exports.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Pu(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=r,y=V.exports.useMemo(()=>{let g=MF(u,a);return g==null?null:{pathname:g,search:d,hash:h,state:p,key:m}},[a,u,d,h,p,m]);return y==null?null:V.exports.createElement(EM.Provider,{value:l},V.exports.createElement(MM.Provider,{children:t,value:{location:y,navigationType:i}}))}function kae(n){let{children:e,location:t}=n;return n7(GS(e),t)}function GS(n){let e=[];return V.exports.Children.forEach(n,t=>{if(!V.exports.isValidElement(t))return;if(t.type===V.exports.Fragment){e.push.apply(e,GS(t.props.children));return}t.type!==i7&&Qs(!1);let r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=GS(t.props.children)),e.push(r)}),e}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zS(){return zS=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},zS.apply(this,arguments)}function o7(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}const a7=["onClick","reloadDocument","replace","state","target","to"];function Oae(n){let{basename:e,children:t,window:r}=n,i=V.exports.useRef();i.current==null&&(i.current=LW({window:r}));let s=i.current,[o,a]=V.exports.useState({action:s.action,location:s.location});return V.exports.useLayoutEffect(()=>s.listen(a),[s]),V.exports.createElement(s7,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}function l7(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const Nae=V.exports.forwardRef(function(e,t){let{onClick:r,reloadDocument:i,replace:s=!1,state:o,target:a,to:l}=e,u=o7(e,a7),d=e7(l),h=u7(l,{replace:s,state:o,target:a});function p(m){r&&r(m),!m.defaultPrevented&&!i&&h(m)}return V.exports.createElement("a",zS({},u,{href:d,onClick:p,ref:t,target:a}))});function u7(n,e){let{target:t,replace:r,state:i}=e===void 0?{}:e,s=t7(),o=Xv(),a=bF(n);return V.exports.useCallback(l=>{if(l.button===0&&(!t||t==="_self")&&!l7(l)){l.preventDefault();let u=!!r||US(o)===US(a);s(n,{replace:u,state:i})}},[o,s,a,r,i,t,n])}var en={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv=60103,qv=60106,kp=60107,Op=60108,Np=60114,Hp=60109,Up=60110,Gp=60112,zp=60113,CM=60120,Vp=60115,Wp=60116,TF=60121,RF=60122,PF=60117,IF=60129,BF=60131;if(typeof Symbol=="function"&&Symbol.for){var or=Symbol.for;Qv=or("react.element"),qv=or("react.portal"),kp=or("react.fragment"),Op=or("react.strict_mode"),Np=or("react.profiler"),Hp=or("react.provider"),Up=or("react.context"),Gp=or("react.forward_ref"),zp=or("react.suspense"),CM=or("react.suspense_list"),Vp=or("react.memo"),Wp=or("react.lazy"),TF=or("react.block"),RF=or("react.server.block"),PF=or("react.fundamental"),IF=or("react.debug_trace_mode"),BF=or("react.legacy_hidden")}function As(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case Qv:switch(n=n.type,n){case kp:case Np:case Op:case zp:case CM:return n;default:switch(n=n&&n.$$typeof,n){case Up:case Gp:case Wp:case Vp:case Hp:return n;default:return e}}case qv:return e}}}var c7=Hp,f7=Qv,d7=Gp,h7=kp,p7=Wp,m7=Vp,g7=qv,y7=Np,v7=Op,_7=zp;en.ContextConsumer=Up;en.ContextProvider=c7;en.Element=f7;en.ForwardRef=d7;en.Fragment=h7;en.Lazy=p7;en.Memo=m7;en.Portal=g7;en.Profiler=y7;en.StrictMode=v7;en.Suspense=_7;en.isAsyncMode=function(){return!1};en.isConcurrentMode=function(){return!1};en.isContextConsumer=function(n){return As(n)===Up};en.isContextProvider=function(n){return As(n)===Hp};en.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===Qv};en.isForwardRef=function(n){return As(n)===Gp};en.isFragment=function(n){return As(n)===kp};en.isLazy=function(n){return As(n)===Wp};en.isMemo=function(n){return As(n)===Vp};en.isPortal=function(n){return As(n)===qv};en.isProfiler=function(n){return As(n)===Np};en.isStrictMode=function(n){return As(n)===Op};en.isSuspense=function(n){return As(n)===zp};en.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===kp||n===Np||n===IF||n===Op||n===zp||n===CM||n===BF||typeof n=="object"&&n!==null&&(n.$$typeof===Wp||n.$$typeof===Vp||n.$$typeof===Hp||n.$$typeof===Up||n.$$typeof===Gp||n.$$typeof===PF||n.$$typeof===TF||n[0]===RF)};en.typeOf=As;const x7=V.exports.createContext({});var VS=x7;function w7(n){return Zi("MuiList",n)}Gr("MuiList",["root","padding","dense","subheader"]);const S7=["children","className","component","dense","disablePadding","subheader"],A7=n=>{const{classes:e,disablePadding:t,dense:r,subheader:i}=n;return Ss({root:["root",!t&&"padding",r&&"dense",i&&"subheader"]},w7,e)},E7=Wn("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})(({ownerState:n})=>Re({listStyle:"none",margin:0,padding:0,position:"relative"},!n.disablePadding&&{paddingTop:8,paddingBottom:8},n.subheader&&{paddingTop:0})),M7=V.exports.forwardRef(function(e,t){const r=es({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:u}=r,d=Vt(r,S7),h=V.exports.useMemo(()=>({dense:a}),[a]),p=Re({},r,{component:o,dense:a,disablePadding:l}),m=A7(p);return ot(VS.Provider,{value:h,children:Ru(E7,Re({as:o,className:Bn(m.root,s),ref:t,ownerState:p},d,{children:[u,i]}))})});var C7=M7;const b7=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function M1(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function Q2(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function LF(n,e){if(e===void 0)return!0;let t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.indexOf(e.keys.join(""))===0}function Ud(n,e,t,r,i,s){let o=!1,a=i(n,e,e?t:!1);for(;a;){if(a===n.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!LF(a,s)||l)a=i(n,a,t);else return a.focus(),!0}return!1}const T7=V.exports.forwardRef(function(e,t){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:d,variant:h="selectedMenu"}=e,p=Vt(e,b7),m=V.exports.useRef(null),y=V.exports.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Zh(()=>{i&&m.current.focus()},[i]),V.exports.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(A,E)=>{const C=!m.current.style.width;if(A.clientHeight<m.current.clientHeight&&C){const T=`${jD(_s(A))}px`;m.current.style[E.direction==="rtl"?"paddingLeft":"paddingRight"]=T,m.current.style.width=`calc(100% + ${T})`}return m.current}}),[]);const g=A=>{const E=m.current,C=A.key,T=_s(E).activeElement;if(C==="ArrowDown")A.preventDefault(),Ud(E,T,u,l,M1);else if(C==="ArrowUp")A.preventDefault(),Ud(E,T,u,l,Q2);else if(C==="Home")A.preventDefault(),Ud(E,null,u,l,M1);else if(C==="End")A.preventDefault(),Ud(E,null,u,l,Q2);else if(C.length===1){const R=y.current,I=C.toLowerCase(),O=performance.now();R.keys.length>0&&(O-R.lastTime>500?(R.keys=[],R.repeating=!0,R.previousKeyMatched=!0):R.repeating&&I!==R.keys[0]&&(R.repeating=!1)),R.lastTime=O,R.keys.push(I);const L=T&&!R.repeating&&LF(T,R);R.previousKeyMatched&&(L||Ud(E,T,!1,l,M1,R))?A.preventDefault():R.previousKeyMatched=!1}d&&d(A)},_=wi(m,t);let w=-1;V.exports.Children.forEach(o,(A,E)=>{!V.exports.isValidElement(A)||A.props.disabled||(h==="selectedMenu"&&A.props.selected||w===-1)&&(w=E)});const x=V.exports.Children.map(o,(A,E)=>{if(E===w){const C={};return s&&(C.autoFocus=!0),A.props.tabIndex===void 0&&h==="selectedMenu"&&(C.tabIndex=0),V.exports.cloneElement(A,C)}return A});return ot(C7,Re({role:"menu",ref:_,className:a,onKeyDown:g,tabIndex:i?0:-1},p,{children:x}))});var R7=T7;function P7(n){return Zi("MuiPaper",n)}Gr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const I7=["className","component","elevation","square","variant"],q2=n=>{let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,(e/100).toFixed(2)},B7=n=>{const{square:e,elevation:t,variant:r,classes:i}=n,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${t}`]};return Ss(s,P7,i)},L7=Wn("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(({theme:n,ownerState:e})=>Re({backgroundColor:n.palette.background.paper,color:n.palette.text.primary,transition:n.transitions.create("box-shadow")},!e.square&&{borderRadius:n.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${n.palette.divider}`},e.variant==="elevation"&&Re({boxShadow:n.shadows[e.elevation]},n.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${xa("#fff",q2(e.elevation))}, ${xa("#fff",q2(e.elevation))})`}))),D7=V.exports.forwardRef(function(e,t){const r=es({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,u=Vt(r,I7),d=Re({},r,{component:s,elevation:o,square:a,variant:l}),h=B7(d);return ot(L7,Re({as:s,ownerState:d,className:Bn(h.root,i),ref:t},u))});var bM=D7;const F7=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function WS(n){return`scale(${n}, ${n**2})`}const k7={entering:{opacity:1,transform:WS(1)},entered:{opacity:1,transform:"none"}},C1=typeof navigator!="undefined"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)[4-9]/i.test(navigator.userAgent),DF=V.exports.forwardRef(function(e,t){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:u,onEntering:d,onExit:h,onExited:p,onExiting:m,style:y,timeout:g="auto",TransitionComponent:_=wF}=e,w=Vt(e,F7),x=V.exports.useRef(),A=V.exports.useRef(),E=AM(),C=V.exports.useRef(null),T=wi(s.ref,t),R=wi(C,T),I=J=>K=>{if(J){const k=C.current;K===void 0?J(k):J(k,K)}},O=I(d),L=I((J,K)=>{SF(J);const{duration:k,delay:X,easing:Z}=Vy({style:y,timeout:g,easing:o},{mode:"enter"});let ae;g==="auto"?(ae=E.transitions.getAutoHeightDuration(J.clientHeight),A.current=ae):ae=k,J.style.transition=[E.transitions.create("opacity",{duration:ae,delay:X}),E.transitions.create("transform",{duration:C1?ae:ae*.666,delay:X,easing:Z})].join(","),l&&l(J,K)}),P=I(u),B=I(m),q=I(J=>{const{duration:K,delay:k,easing:X}=Vy({style:y,timeout:g,easing:o},{mode:"exit"});let Z;g==="auto"?(Z=E.transitions.getAutoHeightDuration(J.clientHeight),A.current=Z):Z=K,J.style.transition=[E.transitions.create("opacity",{duration:Z,delay:k}),E.transitions.create("transform",{duration:C1?Z:Z*.666,delay:C1?k:k||Z*.333,easing:X})].join(","),J.style.opacity=0,J.style.transform=WS(.75),h&&h(J)}),W=I(p),$=J=>{g==="auto"&&(x.current=setTimeout(J,A.current||0)),r&&r(C.current,J)};return V.exports.useEffect(()=>()=>{clearTimeout(x.current)},[]),ot(_,Re({appear:i,in:a,nodeRef:C,onEnter:L,onEntered:P,onEntering:O,onExit:q,onExited:W,onExiting:B,addEndListener:$,timeout:g==="auto"?null:g},w,{children:(J,K)=>V.exports.cloneElement(s,Re({style:Re({opacity:0,transform:WS(.75),visibility:J==="exited"&&!a?"hidden":void 0},k7[J],y,s.props.style),ref:R},K))}))});DF.muiSupportAuto=!0;var O7=DF;function N7(n){return Zi("MuiPopover",n)}Gr("MuiPopover",["root","paper"]);const H7=["onEntering"],U7=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function Y2(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function Z2(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function eP(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function b1(n){return typeof n=="function"?n():n}const G7=n=>{const{classes:e}=n;return Ss({root:["root"],paper:["paper"]},N7,e)},z7=Wn(IW,{name:"MuiPopover",slot:"Root",overridesResolver:(n,e)=>e.root})({}),V7=Wn(bM,{name:"MuiPopover",slot:"Paper",overridesResolver:(n,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),W7=V.exports.forwardRef(function(e,t){const r=es({props:e,name:"MuiPopover"}),{action:i,anchorEl:s,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:u,className:d,container:h,elevation:p=8,marginThreshold:m=16,open:y,PaperProps:g={},transformOrigin:_={vertical:"top",horizontal:"left"},TransitionComponent:w=O7,transitionDuration:x="auto",TransitionProps:{onEntering:A}={}}=r,E=Vt(r.TransitionProps,H7),C=Vt(r,U7),T=V.exports.useRef(),R=wi(T,g.ref),I=Re({},r,{anchorOrigin:o,anchorReference:l,elevation:p,marginThreshold:m,PaperProps:g,transformOrigin:_,TransitionComponent:w,transitionDuration:x,TransitionProps:E}),O=G7(I),L=V.exports.useCallback(()=>{if(l==="anchorPosition")return a;const K=b1(s),X=(K&&K.nodeType===1?K:_s(T.current).body).getBoundingClientRect();return{top:X.top+Y2(X,o.vertical),left:X.left+Z2(X,o.horizontal)}},[s,o.horizontal,o.vertical,a,l]),P=V.exports.useCallback(K=>({vertical:Y2(K,_.vertical),horizontal:Z2(K,_.horizontal)}),[_.horizontal,_.vertical]),B=V.exports.useCallback(K=>{const k={width:K.offsetWidth,height:K.offsetHeight},X=P(k);if(l==="none")return{top:null,left:null,transformOrigin:eP(X)};const Z=L();let ae=Z.top-X.vertical,Q=Z.left-X.horizontal;const se=ae+k.height,pe=Q+k.width,_e=Yh(b1(s)),H=_e.innerHeight-m,Be=_e.innerWidth-m;if(ae<m){const ue=ae-m;ae-=ue,X.vertical+=ue}else if(se>H){const ue=se-H;ae-=ue,X.vertical+=ue}if(Q<m){const ue=Q-m;Q-=ue,X.horizontal+=ue}else if(pe>Be){const ue=pe-Be;Q-=ue,X.horizontal+=ue}return{top:`${Math.round(ae)}px`,left:`${Math.round(Q)}px`,transformOrigin:eP(X)}},[s,l,L,P,m]),q=V.exports.useCallback(()=>{const K=T.current;if(!K)return;const k=B(K);k.top!==null&&(K.style.top=k.top),k.left!==null&&(K.style.left=k.left),K.style.transformOrigin=k.transformOrigin},[B]),W=(K,k)=>{A&&A(K,k),q()};V.exports.useEffect(()=>{y&&q()}),V.exports.useImperativeHandle(i,()=>y?{updatePosition:()=>{q()}}:null,[y,q]),V.exports.useEffect(()=>{if(!y)return;const K=U5(()=>{q()}),k=Yh(s);return k.addEventListener("resize",K),()=>{K.clear(),k.removeEventListener("resize",K)}},[s,y,q]);let $=x;x==="auto"&&!w.muiSupportAuto&&($=void 0);const J=h||(s?_s(b1(s)).body:void 0);return ot(z7,Re({BackdropProps:{invisible:!0},className:Bn(O.root,d),container:J,open:y,ref:t,ownerState:I},C,{children:ot(w,Re({appear:!0,in:y,onEntering:W,timeout:$},E,{children:ot(V7,Re({elevation:p},g,{ref:R,className:Bn(O.paper,g.className),children:u}))}))}))});var j7=W7;function J7(n){return Zi("MuiMenu",n)}Gr("MuiMenu",["root","paper","list"]);const $7=["onEntering"],K7=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],X7={vertical:"top",horizontal:"right"},Q7={vertical:"top",horizontal:"left"},q7=n=>{const{classes:e}=n;return Ss({root:["root"],paper:["paper"],list:["list"]},J7,e)},Y7=Wn(j7,{shouldForwardProp:n=>xM(n)||n==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(n,e)=>e.root})({}),Z7=Wn(bM,{name:"MuiMenu",slot:"Paper",overridesResolver:(n,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),ej=Wn(R7,{name:"MuiMenu",slot:"List",overridesResolver:(n,e)=>e.list})({outline:0}),tj=V.exports.forwardRef(function(e,t){const r=es({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:s,disableAutoFocusItem:o=!1,MenuListProps:a={},onClose:l,open:u,PaperProps:d={},PopoverClasses:h,transitionDuration:p="auto",TransitionProps:{onEntering:m}={},variant:y="selectedMenu"}=r,g=Vt(r.TransitionProps,$7),_=Vt(r,K7),w=AM(),x=w.direction==="rtl",A=Re({},r,{autoFocus:i,disableAutoFocusItem:o,MenuListProps:a,onEntering:m,PaperProps:d,transitionDuration:p,TransitionProps:g,variant:y}),E=q7(A),C=i&&!o&&u,T=V.exports.useRef(null),R=(L,P)=>{T.current&&T.current.adjustStyleForScrollbar(L,w),m&&m(L,P)},I=L=>{L.key==="Tab"&&(L.preventDefault(),l&&l(L,"tabKeyDown"))};let O=-1;return V.exports.Children.map(s,(L,P)=>{!V.exports.isValidElement(L)||L.props.disabled||(y==="selectedMenu"&&L.props.selected||O===-1)&&(O=P)}),ot(Y7,Re({classes:h,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:x?"right":"left"},transformOrigin:x?X7:Q7,PaperProps:Re({component:Z7},d,{classes:Re({},d.classes,{root:E.paper})}),className:E.root,open:u,ref:t,transitionDuration:p,TransitionProps:Re({onEntering:R},g),ownerState:A},_,{children:ot(ej,Re({onKeyDown:I,actions:T,autoFocus:i&&(O===-1||o),autoFocusItem:C,variant:y},a,{className:Bn(E.list,a.className),children:s}))}))});var Hae=tj;function nj(n){const{className:e,classes:t,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=n,[d,h]=V.exports.useState(!1),p=Bn(e,t.ripple,t.rippleVisible,r&&t.ripplePulsate),m={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},y=Bn(t.child,d&&t.childLeaving,r&&t.childPulsate);return!a&&!d&&h(!0),V.exports.useEffect(()=>{if(!a&&l!=null){const g=setTimeout(l,u);return()=>{clearTimeout(g)}}},[l,a,u]),ot("span",{className:p,style:m,children:ot("span",{className:y})})}const rj=Gr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var zi=rj;const ij=["center","classes","className"];let Yv=n=>n,tP,nP,rP,iP;const jS=550,sj=80,oj=cM(tP||(tP=Yv`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),aj=cM(nP||(nP=Yv`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),lj=cM(rP||(rP=Yv`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),uj=Wn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),cj=Wn(nj,{name:"MuiTouchRipple",slot:"Ripple"})(iP||(iP=Yv`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),zi.rippleVisible,oj,jS,({theme:n})=>n.transitions.easing.easeInOut,zi.ripplePulsate,({theme:n})=>n.transitions.duration.shorter,zi.child,zi.childLeaving,aj,jS,({theme:n})=>n.transitions.easing.easeInOut,zi.childPulsate,lj,({theme:n})=>n.transitions.easing.easeInOut),fj=V.exports.forwardRef(function(e,t){const r=es({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=Vt(r,ij),[l,u]=V.exports.useState([]),d=V.exports.useRef(0),h=V.exports.useRef(null);V.exports.useEffect(()=>{h.current&&(h.current(),h.current=null)},[l]);const p=V.exports.useRef(!1),m=V.exports.useRef(null),y=V.exports.useRef(null),g=V.exports.useRef(null);V.exports.useEffect(()=>()=>{clearTimeout(m.current)},[]);const _=V.exports.useCallback(E=>{const{pulsate:C,rippleX:T,rippleY:R,rippleSize:I,cb:O}=E;u(L=>[...L,ot(cj,{classes:{ripple:Bn(s.ripple,zi.ripple),rippleVisible:Bn(s.rippleVisible,zi.rippleVisible),ripplePulsate:Bn(s.ripplePulsate,zi.ripplePulsate),child:Bn(s.child,zi.child),childLeaving:Bn(s.childLeaving,zi.childLeaving),childPulsate:Bn(s.childPulsate,zi.childPulsate)},timeout:jS,pulsate:C,rippleX:T,rippleY:R,rippleSize:I},d.current)]),d.current+=1,h.current=O},[s]),w=V.exports.useCallback((E={},C={},T)=>{const{pulsate:R=!1,center:I=i||C.pulsate,fakeElement:O=!1}=C;if(E.type==="mousedown"&&p.current){p.current=!1;return}E.type==="touchstart"&&(p.current=!0);const L=O?null:g.current,P=L?L.getBoundingClientRect():{width:0,height:0,left:0,top:0};let B,q,W;if(I||E.clientX===0&&E.clientY===0||!E.clientX&&!E.touches)B=Math.round(P.width/2),q=Math.round(P.height/2);else{const{clientX:$,clientY:J}=E.touches?E.touches[0]:E;B=Math.round($-P.left),q=Math.round(J-P.top)}if(I)W=Math.sqrt((2*P.width**2+P.height**2)/3),W%2===0&&(W+=1);else{const $=Math.max(Math.abs((L?L.clientWidth:0)-B),B)*2+2,J=Math.max(Math.abs((L?L.clientHeight:0)-q),q)*2+2;W=Math.sqrt($**2+J**2)}E.touches?y.current===null&&(y.current=()=>{_({pulsate:R,rippleX:B,rippleY:q,rippleSize:W,cb:T})},m.current=setTimeout(()=>{y.current&&(y.current(),y.current=null)},sj)):_({pulsate:R,rippleX:B,rippleY:q,rippleSize:W,cb:T})},[i,_]),x=V.exports.useCallback(()=>{w({},{pulsate:!0})},[w]),A=V.exports.useCallback((E,C)=>{if(clearTimeout(m.current),E.type==="touchend"&&y.current){y.current(),y.current=null,m.current=setTimeout(()=>{A(E,C)});return}y.current=null,u(T=>T.length>0?T.slice(1):T),h.current=C},[]);return V.exports.useImperativeHandle(t,()=>({pulsate:x,start:w,stop:A}),[x,w,A]),ot(uj,Re({className:Bn(s.root,zi.root,o),ref:g},a,{children:ot(mW,{component:null,exit:!0,children:l})}))});var dj=fj;function hj(n){return Zi("MuiButtonBase",n)}const pj=Gr("MuiButtonBase",["root","disabled","focusVisible"]);var mj=pj;const gj=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],yj=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:r,classes:i}=n,o=Ss({root:["root",e&&"disabled",t&&"focusVisible"]},hj,i);return t&&r&&(o.root+=` ${r}`),o},vj=Wn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${mj.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),_j=V.exports.forwardRef(function(e,t){const r=es({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:d=!1,disableTouchRipple:h=!1,focusRipple:p=!1,LinkComponent:m="a",onBlur:y,onClick:g,onContextMenu:_,onDragLeave:w,onFocus:x,onFocusVisible:A,onKeyDown:E,onKeyUp:C,onMouseDown:T,onMouseLeave:R,onMouseUp:I,onTouchEnd:O,onTouchMove:L,onTouchStart:P,tabIndex:B=0,TouchRippleProps:q,touchRippleRef:W,type:$}=r,J=Vt(r,gj),K=V.exports.useRef(null),k=V.exports.useRef(null),X=wi(k,W),{isFocusVisibleRef:Z,onFocus:ae,onBlur:Q,ref:se}=K5(),[pe,_e]=V.exports.useState(!1);u&&pe&&_e(!1),V.exports.useImperativeHandle(i,()=>({focusVisible:()=>{_e(!0),K.current.focus()}}),[]);const[H,Be]=V.exports.useState(!1);V.exports.useEffect(()=>{Be(!0)},[]);const ue=H&&!d&&!u;V.exports.useEffect(()=>{pe&&p&&!d&&H&&k.current.pulsate()},[d,p,pe,H]);function Le(Te,it,j=h){return Gc(N=>(it&&it(N),!j&&k.current&&k.current[Te](N),!0))}const ve=Le("start",T),Pe=Le("stop",_),ne=Le("stop",w),oe=Le("stop",I),xe=Le("stop",Te=>{pe&&Te.preventDefault(),R&&R(Te)}),Ae=Le("start",P),Ee=Le("stop",O),Me=Le("stop",L),ze=Le("stop",Te=>{Q(Te),Z.current===!1&&_e(!1),y&&y(Te)},!1),$e=Gc(Te=>{K.current||(K.current=Te.currentTarget),ae(Te),Z.current===!0&&(_e(!0),A&&A(Te)),x&&x(Te)}),Ze=()=>{const Te=K.current;return l&&l!=="button"&&!(Te.tagName==="A"&&Te.href)},dt=V.exports.useRef(!1),z=Gc(Te=>{p&&!dt.current&&pe&&k.current&&Te.key===" "&&(dt.current=!0,k.current.stop(Te,()=>{k.current.start(Te)})),Te.target===Te.currentTarget&&Ze()&&Te.key===" "&&Te.preventDefault(),E&&E(Te),Te.target===Te.currentTarget&&Ze()&&Te.key==="Enter"&&!u&&(Te.preventDefault(),g&&g(Te))}),D=Gc(Te=>{p&&Te.key===" "&&k.current&&pe&&!Te.defaultPrevented&&(dt.current=!1,k.current.stop(Te,()=>{k.current.pulsate(Te)})),C&&C(Te),g&&Te.target===Te.currentTarget&&Ze()&&Te.key===" "&&!Te.defaultPrevented&&g(Te)});let ee=l;ee==="button"&&(J.href||J.to)&&(ee=m);const me={};ee==="button"?(me.type=$===void 0?"button":$,me.disabled=u):(!J.href&&!J.to&&(me.role="button"),u&&(me["aria-disabled"]=u));const Fe=wi(se,K),ke=wi(t,Fe),Ke=Re({},r,{centerRipple:s,component:l,disabled:u,disableRipple:d,disableTouchRipple:h,focusRipple:p,tabIndex:B,focusVisible:pe}),he=yj(Ke);return Ru(vj,Re({as:ee,className:Bn(he.root,a),ownerState:Ke,onBlur:ze,onClick:g,onContextMenu:Pe,onFocus:$e,onKeyDown:z,onKeyUp:D,onMouseDown:ve,onMouseLeave:xe,onMouseUp:oe,onDragLeave:ne,onTouchEnd:Ee,onTouchMove:Me,onTouchStart:Ae,ref:ke,tabIndex:u?-1:B,type:$},me,J,{children:[o,ue?ot(dj,Re({ref:X,center:s},q)):null]}))});var FF=_j;const xj=Gr("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);var sP=xj;const wj=Gr("MuiListItemIcon",["root","alignItemsFlexStart"]);var oP=wj;const Sj=Gr("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);var aP=Sj;function Aj(n){return Zi("MuiMenuItem",n)}const Ej=Gr("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var Gd=Ej;const Mj=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],Cj=(n,e)=>{const{ownerState:t}=n;return[e.root,t.dense&&e.dense,t.divider&&e.divider,!t.disableGutters&&e.gutters]},bj=n=>{const{disabled:e,dense:t,divider:r,disableGutters:i,selected:s,classes:o}=n,l=Ss({root:["root",t&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},Aj,o);return Re({},o,l)},Tj=Wn(FF,{shouldForwardProp:n=>xM(n)||n==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Cj})(({theme:n,ownerState:e})=>Re({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${n.palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:n.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Gd.selected}`]:{backgroundColor:xa(n.palette.primary.main,n.palette.action.selectedOpacity),[`&.${Gd.focusVisible}`]:{backgroundColor:xa(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}},[`&.${Gd.selected}:hover`]:{backgroundColor:xa(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:xa(n.palette.primary.main,n.palette.action.selectedOpacity)}},[`&.${Gd.focusVisible}`]:{backgroundColor:n.palette.action.focus},[`&.${Gd.disabled}`]:{opacity:n.palette.action.disabledOpacity},[`& + .${sP.root}`]:{marginTop:n.spacing(1),marginBottom:n.spacing(1)},[`& + .${sP.inset}`]:{marginLeft:52},[`& .${aP.root}`]:{marginTop:0,marginBottom:0},[`& .${aP.inset}`]:{paddingLeft:36},[`& .${oP.root}`]:{minWidth:36}},!e.dense&&{[n.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&Re({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,{[`& .${oP.root} svg`]:{fontSize:"1.25rem"}}))),Rj=V.exports.forwardRef(function(e,t){const r=es({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:u,role:d="menuitem",tabIndex:h}=r,p=Vt(r,Mj),m=V.exports.useContext(VS),y={dense:o||m.dense||!1,disableGutters:l},g=V.exports.useRef(null);Zh(()=>{i&&g.current&&g.current.focus()},[i]);const _=Re({},r,{dense:y.dense,divider:a,disableGutters:l}),w=bj(r),x=wi(g,t);let A;return r.disabled||(A=h!==void 0?h:-1),ot(VS.Provider,{value:y,children:ot(Tj,Re({ref:x,role:d,tabIndex:A,component:s,focusVisibleClassName:Bn(w.focusVisible,u)},p,{ownerState:_,classes:w}))})});var Uae=Rj,Cn={},TM={},jp={},Jp={},kF="Expected a function",lP=0/0,Pj="[object Symbol]",Ij=/^\s+|\s+$/g,Bj=/^[-+]0x[0-9a-f]+$/i,Lj=/^0b[01]+$/i,Dj=/^0o[0-7]+$/i,Fj=parseInt,kj=typeof vg=="object"&&vg&&vg.Object===Object&&vg,Oj=typeof self=="object"&&self&&self.Object===Object&&self,Nj=kj||Oj||Function("return this")(),Hj=Object.prototype,Uj=Hj.toString,Gj=Math.max,zj=Math.min,T1=function(){return Nj.Date.now()};function Vj(n,e,t){var r,i,s,o,a,l,u=0,d=!1,h=!1,p=!0;if(typeof n!="function")throw new TypeError(kF);e=uP(e)||0,Wy(t)&&(d=!!t.leading,h="maxWait"in t,s=h?Gj(uP(t.maxWait)||0,e):s,p="trailing"in t?!!t.trailing:p);function m(T){var R=r,I=i;return r=i=void 0,u=T,o=n.apply(I,R),o}function y(T){return u=T,a=setTimeout(w,e),d?m(T):o}function g(T){var R=T-l,I=T-u,O=e-R;return h?zj(O,s-I):O}function _(T){var R=T-l,I=T-u;return l===void 0||R>=e||R<0||h&&I>=s}function w(){var T=T1();if(_(T))return x(T);a=setTimeout(w,g(T))}function x(T){return a=void 0,p&&r?m(T):(r=i=void 0,o)}function A(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function E(){return a===void 0?o:x(T1())}function C(){var T=T1(),R=_(T);if(r=arguments,i=this,l=T,R){if(a===void 0)return y(l);if(h)return a=setTimeout(w,e),m(l)}return a===void 0&&(a=setTimeout(w,e)),o}return C.cancel=A,C.flush=E,C}function Wj(n,e,t){var r=!0,i=!0;if(typeof n!="function")throw new TypeError(kF);return Wy(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),Vj(n,e,{leading:r,maxWait:e,trailing:i})}function Wy(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function jj(n){return!!n&&typeof n=="object"}function Jj(n){return typeof n=="symbol"||jj(n)&&Uj.call(n)==Pj}function uP(n){if(typeof n=="number")return n;if(Jj(n))return lP;if(Wy(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Wy(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(Ij,"");var t=Lj.test(n);return t||Dj.test(n)?Fj(n.slice(2),t?2:8):Bj.test(n)?lP:+n}var $j=Wj,$p={};Object.defineProperty($p,"__esModule",{value:!0});$p.addPassiveEventListener=function(e,t,r){var i=function(){var s=!1;try{var o=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("test",null,o)}catch{}return s}();e.addEventListener(t,r,i?{passive:!0}:!1)};$p.removePassiveEventListener=function(e,t,r){e.removeEventListener(t,r)};Object.defineProperty(Jp,"__esModule",{value:!0});var Kj=$j,Xj=qj(Kj),Qj=$p;function qj(n){return n&&n.__esModule?n:{default:n}}var Yj=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,Xj.default)(e,t)},Mn={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(e,t){if(e){var r=Yj(function(i){Mn.scrollHandler(e)},t);Mn.scrollSpyContainers.push(e),(0,Qj.addPassiveEventListener)(e,"scroll",r)}},isMounted:function(e){return Mn.scrollSpyContainers.indexOf(e)!==-1},currentPositionX:function(e){if(e===document){var t=window.pageYOffset!==void 0,r=(document.compatMode||"")==="CSS1Compat";return t?window.pageXOffset:r?document.documentElement.scrollLeft:document.body.scrollLeft}else return e.scrollLeft},currentPositionY:function(e){if(e===document){var t=window.pageXOffset!==void 0,r=(document.compatMode||"")==="CSS1Compat";return t?window.pageYOffset:r?document.documentElement.scrollTop:document.body.scrollTop}else return e.scrollTop},scrollHandler:function(e){var t=Mn.scrollSpyContainers[Mn.scrollSpyContainers.indexOf(e)].spyCallbacks||[];t.forEach(function(r){return r(Mn.currentPositionX(e),Mn.currentPositionY(e))})},addStateHandler:function(e){Mn.spySetState.push(e)},addSpyHandler:function(e,t){var r=Mn.scrollSpyContainers[Mn.scrollSpyContainers.indexOf(t)];r.spyCallbacks||(r.spyCallbacks=[]),r.spyCallbacks.push(e),e(Mn.currentPositionX(t),Mn.currentPositionY(t))},updateStates:function(){Mn.spySetState.forEach(function(e){return e()})},unmount:function(e,t){Mn.scrollSpyContainers.forEach(function(r){return r.spyCallbacks&&r.spyCallbacks.length&&r.spyCallbacks.splice(r.spyCallbacks.indexOf(t),1)}),Mn.spySetState&&Mn.spySetState.length&&Mn.spySetState.splice(Mn.spySetState.indexOf(e),1),document.removeEventListener("scroll",Mn.scrollHandler)},update:function(){return Mn.scrollSpyContainers.forEach(function(e){return Mn.scrollHandler(e)})}};Jp.default=Mn;var Xf={},Kp={};Object.defineProperty(Kp,"__esModule",{value:!0});var Zj=function(e,t){var r=e.indexOf("#")===0?e.substring(1):e,i=r?"#"+r:"",s=window&&window.location,o=i?s.pathname+s.search+i:s.pathname+s.search;t?history.pushState(history.state,"",o):history.replaceState(history.state,"",o)},eJ=function(){return window.location.hash.replace(/^#/,"")},tJ=function(e){return function(t){return e.contains?e!=t&&e.contains(t):!!(e.compareDocumentPosition(t)&16)}},nJ=function(e){return getComputedStyle(e).position!=="static"},R1=function(e,t){for(var r=e.offsetTop,i=e.offsetParent;i&&!t(i);)r+=i.offsetTop,i=i.offsetParent;return{offsetTop:r,offsetParent:i}},rJ=function(e,t,r){if(r)return e===document?t.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(e).position!=="static"?t.offsetLeft:t.offsetLeft-e.offsetLeft;if(e===document)return t.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(nJ(e)){if(t.offsetParent!==e){var i=function(d){return d===e||d===document},s=R1(t,i),o=s.offsetTop,a=s.offsetParent;if(a!==e)throw new Error("Seems containerElement is not an ancestor of the Element");return o}return t.offsetTop}if(t.offsetParent===e.offsetParent)return t.offsetTop-e.offsetTop;var l=function(d){return d===document};return R1(t,l).offsetTop-R1(e,l).offsetTop};Kp.default={updateHash:Zj,getHash:eJ,filterElementInContainer:tJ,scrollOffset:rJ};var Zv={},RM={};Object.defineProperty(RM,"__esModule",{value:!0});RM.default={defaultEasing:function(e){return e<.5?Math.pow(e*2,2)/2:1-Math.pow((1-e)*2,2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};var PM={};Object.defineProperty(PM,"__esModule",{value:!0});var iJ=$p,sJ=["mousedown","mousewheel","touchmove","keydown"];PM.default={subscribe:function(e){return typeof document!="undefined"&&sJ.forEach(function(t){return(0,iJ.addPassiveEventListener)(document,t,e)})}};var Xp={};Object.defineProperty(Xp,"__esModule",{value:!0});var JS={registered:{},scrollEvent:{register:function(e,t){JS.registered[e]=t},remove:function(e){JS.registered[e]=null}}};Xp.default=JS;Object.defineProperty(Zv,"__esModule",{value:!0});var oJ=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},aJ=Kp;e_(aJ);var lJ=RM,cP=e_(lJ),uJ=PM,cJ=e_(uJ),fJ=Xp,Os=e_(fJ);function e_(n){return n&&n.__esModule?n:{default:n}}var OF=function(e){return cP.default[e.smooth]||cP.default.defaultEasing},dJ=function(e){return typeof e=="function"?e:function(){return e}},hJ=function(){if(typeof window!="undefined")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},$S=function(){return hJ()||function(n,e,t){window.setTimeout(n,t||1e3/60,new Date().getTime())}}(),NF=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},HF=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollLeft;var r=window.pageXOffset!==void 0,i=(document.compatMode||"")==="CSS1Compat";return r?window.pageXOffset:i?document.documentElement.scrollLeft:document.body.scrollLeft},UF=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollTop;var r=window.pageXOffset!==void 0,i=(document.compatMode||"")==="CSS1Compat";return r?window.pageYOffset:i?document.documentElement.scrollTop:document.body.scrollTop},pJ=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollWidth-t.offsetWidth;var r=document.body,i=document.documentElement;return Math.max(r.scrollWidth,r.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth)},mJ=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollHeight-t.offsetHeight;var r=document.body,i=document.documentElement;return Math.max(r.scrollHeight,r.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight)},gJ=function n(e,t,r){var i=t.data;if(!t.ignoreCancelEvents&&i.cancel){Os.default.registered.end&&Os.default.registered.end(i.to,i.target,i.currentPositionY);return}if(i.delta=Math.round(i.targetPosition-i.startPosition),i.start===null&&(i.start=r),i.progress=r-i.start,i.percent=i.progress>=i.duration?1:e(i.progress/i.duration),i.currentPosition=i.startPosition+Math.ceil(i.delta*i.percent),i.containerElement&&i.containerElement!==document&&i.containerElement!==document.body?t.horizontal?i.containerElement.scrollLeft=i.currentPosition:i.containerElement.scrollTop=i.currentPosition:t.horizontal?window.scrollTo(i.currentPosition,0):window.scrollTo(0,i.currentPosition),i.percent<1){var s=n.bind(null,e,t);$S.call(window,s);return}Os.default.registered.end&&Os.default.registered.end(i.to,i.target,i.currentPosition)},IM=function(e){e.data.containerElement=e?e.containerId?document.getElementById(e.containerId):e.container&&e.container.nodeType?e.container:document:null},Qp=function(e,t,r,i){if(t.data=t.data||NF(),window.clearTimeout(t.data.delayTimeout),cJ.default.subscribe(function(){t.data.cancel=!0}),IM(t),t.data.start=null,t.data.cancel=!1,t.data.startPosition=t.horizontal?HF(t):UF(t),t.data.targetPosition=t.absolute?e:e+t.data.startPosition,t.data.startPosition===t.data.targetPosition){Os.default.registered.end&&Os.default.registered.end(t.data.to,t.data.target,t.data.currentPosition);return}t.data.delta=Math.round(t.data.targetPosition-t.data.startPosition),t.data.duration=dJ(t.duration)(t.data.delta),t.data.duration=isNaN(parseFloat(t.data.duration))?1e3:parseFloat(t.data.duration),t.data.to=r,t.data.target=i;var s=OF(t),o=gJ.bind(null,s,t);if(t&&t.delay>0){t.data.delayTimeout=window.setTimeout(function(){Os.default.registered.begin&&Os.default.registered.begin(t.data.to,t.data.target),$S.call(window,o)},t.delay);return}Os.default.registered.begin&&Os.default.registered.begin(t.data.to,t.data.target),$S.call(window,o)},t_=function(e){return e=oJ({},e),e.data=e.data||NF(),e.absolute=!0,e},yJ=function(e){Qp(0,t_(e))},vJ=function(e,t){Qp(e,t_(t))},_J=function(e){e=t_(e),IM(e),Qp(e.horizontal?pJ(e):mJ(e),e)},xJ=function(e,t){t=t_(t),IM(t);var r=t.horizontal?HF(t):UF(t);Qp(e+r,t)};Zv.default={animateTopScroll:Qp,getAnimationType:OF,scrollToTop:yJ,scrollToBottom:_J,scrollTo:vJ,scrollMore:xJ};Object.defineProperty(Xf,"__esModule",{value:!0});var wJ=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},SJ=Kp,AJ=BM(SJ),EJ=Zv,MJ=BM(EJ),CJ=Xp,Vg=BM(CJ);function BM(n){return n&&n.__esModule?n:{default:n}}var Wg={},fP=void 0;Xf.default={unmount:function(){Wg={}},register:function(e,t){Wg[e]=t},unregister:function(e){delete Wg[e]},get:function(e){return Wg[e]||document.getElementById(e)||document.getElementsByName(e)[0]||document.getElementsByClassName(e)[0]},setActiveLink:function(e){return fP=e},getActiveLink:function(){return fP},scrollTo:function(e,t){var r=this.get(e);if(!r){console.warn("target Element not found");return}t=wJ({},t,{absolute:!1});var i=t.containerId,s=t.container,o=void 0;i?o=document.getElementById(i):s&&s.nodeType?o=s:o=document,t.absolute=!0;var a=t.horizontal,l=AJ.default.scrollOffset(o,r,a)+(t.offset||0);if(!t.smooth){Vg.default.registered.begin&&Vg.default.registered.begin(e,r),o===document?t.horizontal?window.scrollTo(l,0):window.scrollTo(0,l):o.scrollTop=l,Vg.default.registered.end&&Vg.default.registered.end(e,r);return}MJ.default.animateTopScroll(l,t,e,r)}};var n_={};Object.defineProperty(n_,"__esModule",{value:!0});var bJ=Kp,P1=TJ(bJ);function TJ(n){return n&&n.__esModule?n:{default:n}}var RJ={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(e){this.scroller=e,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(e,t){this.containers[e]=t},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var e=this,t=this.getHash();t?window.setTimeout(function(){e.scrollTo(t,!0),e.initialized=!0},10):this.initialized=!0},scrollTo:function(e,t){var r=this.scroller,i=r.get(e);if(i&&(t||e!==r.getActiveLink())){var s=this.containers[e]||document;r.scrollTo(e,{container:s})}},getHash:function(){return P1.default.getHash()},changeHash:function(e,t){this.isInitialized()&&P1.default.getHash()!==e&&P1.default.updateHash(e,t)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};n_.default=RJ;Object.defineProperty(jp,"__esModule",{value:!0});var dP=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},PJ=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),IJ=V.exports,hP=qp(IJ),BJ=Jp,jg=qp(BJ),LJ=Xf,DJ=qp(LJ),FJ=Pp.exports,gn=qp(FJ),kJ=n_,ra=qp(kJ);function qp(n){return n&&n.__esModule?n:{default:n}}function OJ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function NJ(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function HJ(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var pP={to:gn.default.string.isRequired,containerId:gn.default.string,container:gn.default.object,activeClass:gn.default.string,spy:gn.default.bool,horizontal:gn.default.bool,smooth:gn.default.oneOfType([gn.default.bool,gn.default.string]),offset:gn.default.number,delay:gn.default.number,isDynamic:gn.default.bool,onClick:gn.default.func,duration:gn.default.oneOfType([gn.default.number,gn.default.func]),absolute:gn.default.bool,onSetActive:gn.default.func,onSetInactive:gn.default.func,ignoreCancelEvents:gn.default.bool,hashSpy:gn.default.bool,saveHashHistory:gn.default.bool,spyThrottle:gn.default.number};jp.default=function(n,e){var t=e||DJ.default,r=function(s){HJ(o,s);function o(a){OJ(this,o);var l=NJ(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,a));return i.call(l),l.state={active:!1},l}return PJ(o,[{key:"getScrollSpyContainer",value:function(){var l=this.props.containerId,u=this.props.container;return l&&!u?document.getElementById(l):u&&u.nodeType?u:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var l=this.getScrollSpyContainer();jg.default.isMounted(l)||jg.default.mount(l,this.props.spyThrottle),this.props.hashSpy&&(ra.default.isMounted()||ra.default.mount(t),ra.default.mapContainer(this.props.to,l)),jg.default.addSpyHandler(this.spyHandler,l),this.setState({container:l})}}},{key:"componentWillUnmount",value:function(){jg.default.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var l="";this.state&&this.state.active?l=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():l=this.props.className;var u=dP({},this.props);for(var d in pP)u.hasOwnProperty(d)&&delete u[d];return u.className=l,u.onClick=this.handleClick,hP.default.createElement(n,u)}}]),o}(hP.default.PureComponent),i=function(){var o=this;this.scrollTo=function(a,l){t.scrollTo(a,dP({},o.state,l))},this.handleClick=function(a){o.props.onClick&&o.props.onClick(a),a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),o.scrollTo(o.props.to,o.props)},this.spyHandler=function(a,l){var u=o.getScrollSpyContainer();if(!(ra.default.isMounted()&&!ra.default.isInitialized())){var d=o.props.horizontal,h=o.props.to,p=null,m=void 0,y=void 0;if(d){var g=0,_=0,w=0;if(u.getBoundingClientRect){var x=u.getBoundingClientRect();w=x.left}if(!p||o.props.isDynamic){if(p=t.get(h),!p)return;var A=p.getBoundingClientRect();g=A.left-w+a,_=g+A.width}var E=a-o.props.offset;m=E>=Math.floor(g)&&E<Math.floor(_),y=E<Math.floor(g)||E>=Math.floor(_)}else{var C=0,T=0,R=0;if(u.getBoundingClientRect){var I=u.getBoundingClientRect();R=I.top}if(!p||o.props.isDynamic){if(p=t.get(h),!p)return;var O=p.getBoundingClientRect();C=O.top-R+l,T=C+O.height}var L=l-o.props.offset;m=L>=Math.floor(C)&&L<Math.floor(T),y=L<Math.floor(C)||L>=Math.floor(T)}var P=t.getActiveLink();if(y){if(h===P&&t.setActiveLink(void 0),o.props.hashSpy&&ra.default.getHash()===h){var B=o.props.saveHashHistory,q=B===void 0?!1:B;ra.default.changeHash("",q)}o.props.spy&&o.state.active&&(o.setState({active:!1}),o.props.onSetInactive&&o.props.onSetInactive(h,p))}if(m&&(P!==h||o.state.active===!1)){t.setActiveLink(h);var W=o.props.saveHashHistory,$=W===void 0?!1:W;o.props.hashSpy&&ra.default.changeHash(h,$),o.props.spy&&(o.setState({active:!0}),o.props.onSetActive&&o.props.onSetActive(h,p))}}}};return r.propTypes=pP,r.defaultProps={offset:0},r};Object.defineProperty(TM,"__esModule",{value:!0});var UJ=V.exports,mP=GF(UJ),GJ=jp,zJ=GF(GJ);function GF(n){return n&&n.__esModule?n:{default:n}}function VJ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function gP(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function WJ(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var jJ=function(n){WJ(e,n);function e(){var t,r,i,s;VJ(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=gP(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),i),i.render=function(){return mP.default.createElement("a",i.props,i.props.children)},r),gP(i,s)}return e}(mP.default.Component);TM.default=(0,zJ.default)(jJ);var LM={};Object.defineProperty(LM,"__esModule",{value:!0});var JJ=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),$J=V.exports,yP=zF($J),KJ=jp,XJ=zF(KJ);function zF(n){return n&&n.__esModule?n:{default:n}}function QJ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function qJ(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function YJ(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var ZJ=function(n){YJ(e,n);function e(){return QJ(this,e),qJ(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return JJ(e,[{key:"render",value:function(){return yP.default.createElement("input",this.props,this.props.children)}}]),e}(yP.default.Component);LM.default=(0,XJ.default)(ZJ);var DM={},r_={};Object.defineProperty(r_,"__esModule",{value:!0});var e$=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},t$=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),n$=V.exports,vP=i_(n$),r$=Ep.exports;i_(r$);var i$=Xf,_P=i_(i$),s$=Pp.exports,xP=i_(s$);function i_(n){return n&&n.__esModule?n:{default:n}}function o$(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function a$(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function l$(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}r_.default=function(n){var e=function(t){l$(r,t);function r(i){o$(this,r);var s=a$(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,i));return s.childBindings={domNode:null},s}return t$(r,[{key:"componentDidMount",value:function(){if(typeof window=="undefined")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(s){this.props.name!==s.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window=="undefined")return!1;_P.default.unregister(this.props.name)}},{key:"registerElems",value:function(s){_P.default.register(s,this.childBindings.domNode)}},{key:"render",value:function(){return vP.default.createElement(n,e$({},this.props,{parentBindings:this.childBindings}))}}]),r}(vP.default.Component);return e.propTypes={name:xP.default.string,id:xP.default.string},e};Object.defineProperty(DM,"__esModule",{value:!0});var wP=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},u$=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),c$=V.exports,SP=FM(c$),f$=r_,d$=FM(f$),h$=Pp.exports,AP=FM(h$);function FM(n){return n&&n.__esModule?n:{default:n}}function p$(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function m$(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function g$(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var VF=function(n){g$(e,n);function e(){return p$(this,e),m$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return u$(e,[{key:"render",value:function(){var r=this,i=wP({},this.props);return i.parentBindings&&delete i.parentBindings,SP.default.createElement("div",wP({},i,{ref:function(o){r.props.parentBindings.domNode=o}}),this.props.children)}}]),e}(SP.default.Component);VF.propTypes={name:AP.default.string,id:AP.default.string};DM.default=(0,d$.default)(VF);var y$=x4(a6),EP=y$.jsx,MP=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},CP=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function bP(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function TP(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function RP(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var PP=V.exports,wl=Jp,I1=Xf,yn=Pp.exports,ia=n_,IP={to:yn.string.isRequired,containerId:yn.string,container:yn.object,activeClass:yn.string,spy:yn.bool,smooth:yn.oneOfType([yn.bool,yn.string]),offset:yn.number,delay:yn.number,isDynamic:yn.bool,onClick:yn.func,duration:yn.oneOfType([yn.number,yn.func]),absolute:yn.bool,onSetActive:yn.func,onSetInactive:yn.func,ignoreCancelEvents:yn.bool,hashSpy:yn.bool,spyThrottle:yn.number},v$={Scroll:function(e,t){console.warn("Helpers.Scroll is deprecated since v1.7.0");var r=t||I1,i=function(o){RP(a,o);function a(l){bP(this,a);var u=TP(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l));return s.call(u),u.state={active:!1},u}return CP(a,[{key:"getScrollSpyContainer",value:function(){var u=this.props.containerId,d=this.props.container;return u?document.getElementById(u):d&&d.nodeType?d:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var u=this.getScrollSpyContainer();wl.isMounted(u)||wl.mount(u,this.props.spyThrottle),this.props.hashSpy&&(ia.isMounted()||ia.mount(r),ia.mapContainer(this.props.to,u)),this.props.spy&&wl.addStateHandler(this.stateHandler),wl.addSpyHandler(this.spyHandler,u),this.setState({container:u})}}},{key:"componentWillUnmount",value:function(){wl.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var u="";this.state&&this.state.active?u=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():u=this.props.className;var d=MP({},this.props);for(var h in IP)d.hasOwnProperty(h)&&delete d[h];return d.className=u,d.onClick=this.handleClick,EP(e,Bt({},d))}}]),a}(PP.Component),s=function(){var a=this;this.scrollTo=function(l,u){r.scrollTo(l,MP({},a.state,u))},this.handleClick=function(l){a.props.onClick&&a.props.onClick(l),l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault(),a.scrollTo(a.props.to,a.props)},this.stateHandler=function(){r.getActiveLink()!==a.props.to&&(a.state!==null&&a.state.active&&a.props.onSetInactive&&a.props.onSetInactive(),a.setState({active:!1}))},this.spyHandler=function(l){var u=a.getScrollSpyContainer();if(!(ia.isMounted()&&!ia.isInitialized())){var d=a.props.to,h=null,p=0,m=0,y=0;if(u.getBoundingClientRect){var g=u.getBoundingClientRect();y=g.top}if(!h||a.props.isDynamic){if(h=r.get(d),!h)return;var _=h.getBoundingClientRect();p=_.top-y+l,m=p+_.height}var w=l-a.props.offset,x=w>=Math.floor(p)&&w<Math.floor(m),A=w<Math.floor(p)||w>=Math.floor(m),E=r.getActiveLink();if(A)return d===E&&r.setActiveLink(void 0),a.props.hashSpy&&ia.getHash()===d&&ia.changeHash(),a.props.spy&&a.state.active&&(a.setState({active:!1}),a.props.onSetInactive&&a.props.onSetInactive()),wl.updateStates();if(x&&E!==d)return r.setActiveLink(d),a.props.hashSpy&&ia.changeHash(d),a.props.spy&&(a.setState({active:!0}),a.props.onSetActive&&a.props.onSetActive(d)),wl.updateStates()}}};return i.propTypes=IP,i.defaultProps={offset:0},i},Element:function(e){console.warn("Helpers.Element is deprecated since v1.7.0");var t=function(r){RP(i,r);function i(s){bP(this,i);var o=TP(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,s));return o.childBindings={domNode:null},o}return CP(i,[{key:"componentDidMount",value:function(){if(typeof window=="undefined")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(o){this.props.name!==o.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window=="undefined")return!1;I1.unregister(this.props.name)}},{key:"registerElems",value:function(o){I1.register(o,this.childBindings.domNode)}},{key:"render",value:function(){return EP(e,Br(Bt({},this.props),{parentBindings:this.childBindings}))}}]),i}(PP.Component);return t.propTypes={name:yn.string,id:yn.string},t}},_$=v$;Object.defineProperty(Cn,"__esModule",{value:!0});Cn.Helpers=Cn.ScrollElement=Cn.ScrollLink=Cn.animateScroll=Cn.scrollSpy=Cn.Events=Cn.scroller=I$=Cn.Element=Cn.Button=P$=Cn.Link=void 0;var x$=TM,WF=no(x$),w$=LM,jF=no(w$),S$=DM,JF=no(S$),A$=Xf,$F=no(A$),E$=Xp,KF=no(E$),M$=Jp,XF=no(M$),C$=Zv,QF=no(C$),b$=jp,qF=no(b$),T$=r_,YF=no(T$),R$=_$,ZF=no(R$);function no(n){return n&&n.__esModule?n:{default:n}}var P$=Cn.Link=WF.default;Cn.Button=jF.default;var I$=Cn.Element=JF.default;Cn.scroller=$F.default;Cn.Events=KF.default;Cn.scrollSpy=XF.default;Cn.animateScroll=QF.default;Cn.ScrollLink=qF.default;Cn.ScrollElement=YF.default;Cn.Helpers=ZF.default;Cn.default={Link:WF.default,Button:jF.default,Element:JF.default,scroller:$F.default,Events:KF.default,scrollSpy:XF.default,animateScroll:QF.default,ScrollLink:qF.default,ScrollElement:YF.default,Helpers:ZF.default};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He=function(n,e){if(!n)throw Qf(e)},Qf=function(n){return new Error("Firebase Database ("+ek.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},B$=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],a=n[t++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},kM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,u=l?n[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(p=64)),r.push(t[d],t[h],t[p],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(tk(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):B$(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const u=i<n.length?t[n.charAt(i)]:64;++i;const h=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw Error();const p=s<<2|a>>4;if(r.push(p),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const y=u<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},nk=function(n){const e=tk(n);return kM.encodeByteArray(e,!0)},rk=function(n){return nk(n).replace(/\./g,"")},BP=function(n){try{return kM.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L$(n){return ik(void 0,n)}function ik(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!D$(t)||(n[t]=ik(n[t],e[t]));return n}function D$(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F$(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sk(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(F$())}function k$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ok(){return ek.NODE_ADMIN===!0}function O$(){return typeof indexedDB=="object"}function N$(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H$="FirebaseError";class OM extends Error{constructor(e,t,r){super(t);this.code=e,this.customData=r,this.name=H$,Object.setPrototypeOf(this,OM.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ak.prototype.create)}}class ak{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?U$(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new OM(i,a,r)}}function U$(n,e){return n.replace(G$,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const G$=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(n){return JSON.parse(n)}function ur(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=function(n){let e={},t={},r={},i="";try{const s=n.split(".");e=ip(BP(s[0])||""),t=ip(BP(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}},z$=function(n){const e=lk(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},V$=function(n){const e=lk(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function _f(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function LP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function jy(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function KS(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(DP(s)&&DP(o)){if(!KS(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function DP(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W$(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let h=0;h<16;h++)r[h]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let h=16;h<80;h++){const p=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(p<<1|p>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,d;for(let h=0;h<80;h++){h<40?h<20?(u=a^s&(o^a),d=1518500249):(u=s^o^a,d=1859775393):h<60?(u=s&o|a&(s|o),d=2400959708):(u=s^o^a,d=3395469782);const p=(i<<5|i>>>27)+u+l+d+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=p}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const r=t-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<t;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=t&255,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function NM(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,He(r<n.length,"Surrogate pair missing trail surrogate.");const o=n.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},o_=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(n){return n&&n._delegate?n._delegate:n}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(n,e){return new Promise((t,r)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var s;r(`${e}: ${(s=i.target.error)===null||s===void 0?void 0:s.message}`)}})}class FP{constructor(e){this._db=e,this.objectStoreNames=this._db.objectStoreNames}transaction(e,t){return new uk(this._db.transaction.call(this._db,e,t))}createObjectStore(e,t){return new ck(this._db.createObjectStore(e,t))}close(){this._db.close()}}class uk{constructor(e){this._transaction=e,this.complete=new Promise((t,r)=>{this._transaction.oncomplete=function(){t()},this._transaction.onerror=()=>{r(this._transaction.error)},this._transaction.onabort=()=>{r(this._transaction.error)}})}objectStore(e){return new ck(this._transaction.objectStore(e))}}class ck{constructor(e){this._store=e}index(e){return new kP(this._store.index(e))}createIndex(e,t,r){return new kP(this._store.createIndex(e,t,r))}get(e){const t=this._store.get(e);return uh(t,"Error reading from IndexedDB")}put(e,t){const r=this._store.put(e,t);return uh(r,"Error writing to IndexedDB")}delete(e){const t=this._store.delete(e);return uh(t,"Error deleting from IndexedDB")}clear(){const e=this._store.clear();return uh(e,"Error clearing IndexedDB object store")}}class kP{constructor(e){this._index=e}get(e){const t=this._index.get(e);return uh(t,"Error reading from IndexedDB")}}function $$(n,e,t){return new Promise((r,i)=>{try{const s=indexedDB.open(n,e);s.onsuccess=o=>{r(new FP(o.target.result))},s.onerror=o=>{var a;i(`Error opening indexedDB: ${(a=o.target.error)===null||a===void 0?void 0:a.message}`)},s.onupgradeneeded=o=>{t(new FP(s.result),o.oldVersion,o.newVersion,new uk(s.transaction))}}catch(s){i(`Error opening indexedDB: ${s.message}`)}})}class sp{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new s_;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Q$(e))try{this.getOrInitializeService({instanceIdentifier:Dl})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Dl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Dl){return this.instances.has(e)}getOptions(e=Dl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(!!r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:X$(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Dl){return this.component?this.component.multipleInstances?e:Dl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function X$(n){return n===Dl?void 0:n}function Q$(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new K$(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(qt||(qt={}));const Y$={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},Z$=qt.INFO,eK={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},tK=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=eK[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fk{constructor(e){this.name=e,this._logLevel=Z$,this._logHandler=tK,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Y$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...e),this._logHandler(this,qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...e),this._logHandler(this,qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...e),this._logHandler(this,qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...e),this._logHandler(this,qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...e),this._logHandler(this,qt.ERROR,...e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(rK(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function rK(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const XS="@firebase/app",OP="0.7.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=new fk("@firebase/app"),iK="@firebase/app-compat",sK="@firebase/analytics-compat",oK="@firebase/analytics",aK="@firebase/app-check-compat",lK="@firebase/app-check",uK="@firebase/auth",cK="@firebase/auth-compat",fK="@firebase/database",dK="@firebase/database-compat",hK="@firebase/functions",pK="@firebase/functions-compat",mK="@firebase/installations",gK="@firebase/installations-compat",yK="@firebase/messaging",vK="@firebase/messaging-compat",_K="@firebase/performance",xK="@firebase/performance-compat",wK="@firebase/remote-config",SK="@firebase/remote-config-compat",AK="@firebase/storage",EK="@firebase/storage-compat",MK="@firebase/firestore",CK="@firebase/firestore-compat",bK="firebase",TK="9.6.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk="[DEFAULT]",RK={[XS]:"fire-core",[iK]:"fire-core-compat",[oK]:"fire-analytics",[sK]:"fire-analytics-compat",[lK]:"fire-app-check",[aK]:"fire-app-check-compat",[uK]:"fire-auth",[cK]:"fire-auth-compat",[fK]:"fire-rtdb",[dK]:"fire-rtdb-compat",[hK]:"fire-fn",[pK]:"fire-fn-compat",[mK]:"fire-iid",[gK]:"fire-iid-compat",[yK]:"fire-fcm",[vK]:"fire-fcm-compat",[_K]:"fire-perf",[xK]:"fire-perf-compat",[wK]:"fire-rc",[SK]:"fire-rc-compat",[AK]:"fire-gcs",[EK]:"fire-gcs-compat",[MK]:"fire-fst",[CK]:"fire-fst-compat","fire-js":"fire-js",[bK]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=new Map,QS=new Map;function PK(n,e){try{n.container.addComponent(e)}catch(t){HM.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function $y(n){const e=n.name;if(QS.has(e))return HM.debug(`There were multiple attempts to register component ${e}.`),!1;QS.set(e,n);for(const t of Jy.values())PK(t,n);return!0}function IK(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BK={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},hu=new ak("app","Firebase",BK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sp("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DK=TK;function Gae(n,e={}){typeof e!="object"&&(e={name:e});const t=Object.assign({name:dk,automaticDataCollectionEnabled:!1},e),r=t.name;if(typeof r!="string"||!r)throw hu.create("bad-app-name",{appName:String(r)});const i=Jy.get(r);if(i){if(KS(n,i.options)&&KS(t,i.config))return i;throw hu.create("duplicate-app",{appName:r})}const s=new q$(r);for(const a of QS.values())s.addComponent(a);const o=new LK(n,t,s);return Jy.set(r,o),o}function FK(n=dk){const e=Jy.get(n);if(!e)throw hu.create("no-app",{appName:n});return e}function tf(n,e,t){var r;let i=(r=RK[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),HM.warn(a.join(" "));return}$y(new sp(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kK="firebase-heartbeat-database",OK=1,op="firebase-heartbeat-store";let B1=null;function hk(){return B1||(B1=$$(kK,OK,(n,e)=>{switch(e){case 0:n.createObjectStore(op)}}).catch(n=>{throw hu.create("storage-open",{originalErrorMessage:n.message})})),B1}async function NK(n){try{return(await hk()).transaction(op).objectStore(op).get(pk(n))}catch(e){throw hu.create("storage-get",{originalErrorMessage:e.message})}}async function NP(n,e){try{const r=(await hk()).transaction(op,"readwrite");return await r.objectStore(op).put(e,pk(n)),r.complete}catch(t){throw hu.create("storage-set",{originalErrorMessage:t.message})}}function pk(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HK=1024,UK=30*24*60*60*1e3;class GK{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new VK(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=HP();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=UK}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=HP(),{heartbeatsToSend:t,unsentEntries:r}=zK(this._heartbeatsCache.heartbeats),i=rk(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function HP(){return new Date().toISOString().substring(0,10)}function zK(n,e=HK){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),UP(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),UP(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class VK{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O$()?N$().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await NK(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return NP(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return NP(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function UP(n){return rk(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WK(n){$y(new sp("platform-logger",e=>new nK(e),"PRIVATE")),$y(new sp("heartbeat",e=>new GK(e),"PRIVATE")),tf(XS,OP,n),tf(XS,OP,"esm2017"),tf("fire-js","")}WK("");const GP="@firebase/database",zP="0.12.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mk="";function jK(n){mk=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JK{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ur(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:ip(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $K{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Go(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=function(n){try{if(typeof window!="undefined"&&typeof window[n]!="undefined"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new JK(e)}}catch{}return new $K},$l=gk("localStorage"),qS=gk("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=new fk("@firebase/database"),KK=function(){let n=1;return function(){return n++}}(),yk=function(n){const e=J$(n),t=new j$;t.update(e);const r=t.digest();return kM.encodeByteArray(r)},Yp=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Yp.apply(null,r):typeof r=="object"?e+=ur(r):e+=r,e+=" "}return e};let tu=null,VP=!0;const XK=function(n,e){He(!e||n===!0||n===!1,"Can't turn on custom loggers persistently."),n===!0?(nf.logLevel=qt.VERBOSE,tu=nf.log.bind(nf),e&&qS.set("logging_enabled",!0)):typeof n=="function"?tu=n:(tu=null,qS.remove("logging_enabled"))},Er=function(...n){if(VP===!0&&(VP=!1,tu===null&&qS.get("logging_enabled")===!0&&XK(!0)),tu){const e=Yp.apply(null,n);tu(e)}},Zp=function(n){return function(...e){Er(n,...e)}},YS=function(...n){const e="FIREBASE INTERNAL ERROR: "+Yp(...n);nf.error(e)},pu=function(...n){const e=`FIREBASE FATAL ERROR: ${Yp(...n)}`;throw nf.error(e),new Error(e)},si=function(...n){const e="FIREBASE WARNING: "+Yp(...n);nf.warn(e)},QK=function(){typeof window!="undefined"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&si("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},vk=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},qK=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},xf="[MIN_NAME]",mu="[MAX_NAME]",qf=function(n,e){if(n===e)return 0;if(n===xf||e===mu)return-1;if(e===xf||n===mu)return 1;{const t=WP(n),r=WP(e);return t!==null?r!==null?t-r===0?n.length-e.length:t-r:-1:r!==null?1:n<e?-1:1}},YK=function(n,e){return n===e?0:n<e?-1:1},zd=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+ur(e))},UM=function(n){if(typeof n!="object"||n===null)return ur(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)r!==0&&(t+=","),t+=ur(e[r]),t+=":",t+=UM(n[e[r]]);return t+="}",t},_k=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)i+e>t?r.push(n.substring(i,t)):r.push(n.substring(i,i+e));return r};function Yi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const xk=function(n){He(!vk(n),"Invalid JSON number");const e=11,t=52,r=(1<<e-1)-1;let i,s,o,a,l;n===0?(s=0,o=0,i=1/n===-1/0?1:0):(i=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,t-a)-Math.pow(2,t))):(s=0,o=Math.round(n/Math.pow(2,1-r-t))));const u=[];for(l=t;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const d=u.join("");let h="";for(l=0;l<64;l+=8){let p=parseInt(d.substr(l,8),2).toString(16);p.length===1&&(p="0"+p),h=h+p}return h.toLowerCase()},ZK=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},eX=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},tX=new RegExp("^-?(0*)\\d{1,10}$"),nX=-2147483648,rX=2147483647,WP=function(n){if(tX.test(n)){const e=Number(n);if(e>=nX&&e<=rX)return e}return null},Yf=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw si("Exception was thrown by user callback.",t),e},Math.floor(0))}},iX=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ah=function(n,e){const t=setTimeout(n,e);return typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sX{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){si(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oX{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(Er("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',si(e)}}class ZS{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ZS.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM="5",wk="v",Sk="s",Ak="r",Ek="f",Mk=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ck="ls",aX="p",eA="ac",bk="websocket",Tk="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lX{constructor(e,t,r,i,s=!1,o="",a=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$l.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&$l.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function uX(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function Rk(n,e,t){He(typeof e=="string","typeof type must == string"),He(typeof t=="object","typeof params must == object");let r;if(e===bk)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===Tk)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);uX(n)&&(t.ns=n.namespace);const i=[];return Yi(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cX{constructor(){this.counters_={}}incrementCounter(e,t=1){Go(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return L$(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1={},D1={};function zM(n){const e=n.toString();return L1[e]||(L1[e]=new cX),L1[e]}function fX(n,e){const t=n.toString();return D1[t]||(D1[t]=e()),D1[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dX{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Yf(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP="start",hX="close",pX="pLPCommand",mX="pRTLPCB",Pk="id",Ik="pw",Bk="ser",gX="cb",yX="seg",vX="ts",_X="d",xX="dframe",Lk=1870,Dk=30,wX=Lk-Dk,SX=25e3,AX=3e4;class zc{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Zp(e),this.stats_=zM(t),this.urlFn=l=>(this.appCheckToken&&(l[eA]=this.appCheckToken),Rk(t,Tk,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new dX(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(AX)),qK(()=>{if(this.isClosed_)return;this.scriptTagHolder=new VM((...s)=>{const[o,a,l,u,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===jP)this.id=a,this.password=l;else if(o===hX)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[jP]="t",r[Bk]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[gX]=this.scriptTagHolder.uniqueCallbackIdentifier),r[wk]=GM,this.transportSessionId&&(r[Sk]=this.transportSessionId),this.lastSessionId&&(r[Ck]=this.lastSessionId),this.applicationId&&(r[aX]=this.applicationId),this.appCheckToken&&(r[eA]=this.appCheckToken),typeof location!="undefined"&&location.hostname&&Mk.test(location.hostname)&&(r[Ak]=Ek);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){zc.forceAllow_=!0}static forceDisallow(){zc.forceDisallow_=!0}static isAvailable(){return zc.forceAllow_?!0:!zc.forceDisallow_&&typeof document!="undefined"&&document.createElement!=null&&!ZK()&&!eX()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=ur(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=nk(t),i=_k(r,wX);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={};r[xX]="t",r[Pk]=e,r[Ik]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=ur(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class VM{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=KK(),window[pX+this.uniqueCallbackIdentifier]=e,window[mX+this.uniqueCallbackIdentifier]=t,this.myIFrame=VM.createIFrame_();let s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){const a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Er("frame writing exception"),a.stack&&Er(a.stack),Er(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Er("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Pk]=this.myID,e[Ik]=this.myPW,e[Bk]=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Dk+r.length<=Lk;){const o=this.pendingSegs.shift();r=r+"&"+yX+i+"="+o.seg+"&"+vX+i+"="+o.ts+"&"+_X+i+"="+o.d,i++}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(SX)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Er("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EX=16384,MX=45e3;let Ky=null;typeof MozWebSocket!="undefined"?Ky=MozWebSocket:typeof WebSocket!="undefined"&&(Ky=WebSocket);class ds{constructor(e,t,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Zp(this.connId),this.stats_=zM(t),this.connURL=ds.connectionURL_(t,o,a,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,r,i){const s={};return s[wk]=GM,typeof location!="undefined"&&location.hostname&&Mk.test(location.hostname)&&(s[Ak]=Ek),t&&(s[Sk]=t),r&&(s[Ck]=r),i&&(s[eA]=i),Rk(e,bk,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$l.set("previous_websocket_failure",!0);try{if(!ok()){const r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Ky(this.connURL,[],r)}}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){ds.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator!="undefined"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(t);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ky!==null&&!ds.forceDisallow_}static previouslyFailed(){return $l.isInMemoryStorage||$l.get("previous_websocket_failure")===!0}markConnectionHealthy(){$l.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const r=ip(t);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(He(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const r=this.extractFrameCount_(t);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const t=ur(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=_k(t,EX);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(MX))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ds.responsesRequiredToBeHealthy=2;ds.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[zc,ds]}initTransports_(e){const t=ds&&ds.isAvailable();let r=t&&!ds.previouslyFailed();if(e.webSocketOnly&&(t||si("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ds];else{const i=this.transports_=[];for(const s of WM.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CX=6e4,bX=5e3,TX=10*1024,RX=100*1024,F1="t",JP="d",PX="s",$P="r",IX="e",KP="o",XP="a",QP="n",qP="p",BX="h";class LX{constructor(e,t,r,i,s,o,a,l,u,d){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Zp("c:"+this.id+":"),this.transportManager_=new WM(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ah(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>RX?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>TX?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(F1 in e){const t=e[F1];t===XP?this.upgradeIfSecondaryHealthy_():t===$P?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===KP&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=zd("t",e),r=zd("d",e);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:qP,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:XP,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:QP,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=zd("t",e),r=zd("d",e);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=zd(F1,e);if(JP in e){const r=e[JP];if(t===BX)this.onHandshake_(r);else if(t===QP){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===PX?this.onConnectionShutdown_(r):t===$P?this.onReset_(r):t===IX?YS("Server Error: "+r):t===KP?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):YS("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),GM!==r&&si("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Ah(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(CX))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ah(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(bX))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:qP,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($l.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.allowedEvents_=e,this.listeners_={},He(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){He(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy extends kk{constructor(){super(["online"]);this.online_=!0,typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&!sk()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Xy}getInitialEvent(e){return He(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=32,ZP=768;class an{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function Kt(){return new an("")}function St(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ua(n){return n.pieces_.length-n.pieceNum_}function sn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new an(n.pieces_,e)}function Ok(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function DX(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function Nk(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function Hk(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new an(e,0)}function $n(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof an)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new an(t,0)}function bt(n){return n.pieceNum_>=n.pieces_.length}function $i(n,e){const t=St(n),r=St(e);if(t===null)return e;if(t===r)return $i(sn(n),sn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Uk(n,e){if(Ua(n)!==Ua(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function hs(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Ua(n)>Ua(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class FX{constructor(e,t){this.errorPrefix_=t,this.parts_=Nk(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=o_(this.parts_[r]);Gk(this)}}function kX(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=o_(e),Gk(n)}function OX(n){const e=n.parts_.pop();n.byteLength_-=o_(e),n.parts_.length>0&&(n.byteLength_-=1)}function Gk(n){if(n.byteLength_>ZP)throw new Error(n.errorPrefix_+"has a key path longer than "+ZP+" bytes ("+n.byteLength_+").");if(n.parts_.length>YP)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+YP+") or object contains a cycle "+Fl(n))}function Fl(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM extends kk{constructor(){super(["visible"]);let e,t;typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(t="visibilitychange",e="hidden"):typeof document.mozHidden!="undefined"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden!="undefined"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden!="undefined"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new jM}getInitialEvent(e){return He(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=1e3,NX=60*5*1e3,HX=3*1e3,eI=30*1e3,UX=1.3,GX=3e4,zX="server_kill",tI=3;class Po extends Fk{constructor(e,t,r,i,s,o,a,l){super();if(this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Po.nextPersistentConnectionId_++,this.log_=Zp("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Vd,this.maxReconnectDelay_=NX,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!ok())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");jM.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Xy.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,r){const i=++this.requestNumber_,s={r:i,a:e,b:t};this.log_(ur(s)),He(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const t=new s_,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:o=>{const a=o.d;o.s==="ok"?(this.onDataUpdate_(r.p,a,!1,null),t.resolve(a)):t.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const o=this.outstandingGets_[s];o===void 0||i!==o||(delete this.outstandingGets_[s],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),this.log_("get "+s+" timed out on connection"),t.reject(new Error("Client is offline.")))},HX),this.connected_&&this.sendGet_(s),t.promise}listen(e,t,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),He(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),He(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:t,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(r)})}sendListen_(e){const t=e.query,r=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=t._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Po.warnOnListenWarnings_(l,t),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Go(e,"w")){const r=_f(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+t._queryParams.getIndex().toString()+'"',s=t._path.toString();si(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||V$(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=eI)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=z$(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(t,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,r=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,r)})}unlisten(e,t){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),He(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,t)}sendUnlisten_(e,t,r,i){this.log_("Unlisten on "+e+" for "+t);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:r})}onDisconnectMerge(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:r})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,r,i){const s={p:t,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,t,r,i){this.putInternal("p",e,t,r,i)}merge(e,t,r,i){this.putInternal("m",e,t,r,i)}putInternal(e,t,r,i,s){this.initConnection_();const o={p:t,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,r,s=>{this.log_(t+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ur(e));const t=e.r,r=this.requestCBHash_[t];r&&(delete this.requestCBHash_[t],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):YS("Unrecognized action received from server: "+ur(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){He(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vd,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Vd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>GX&&(this.reconnectDelay_=Vd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*UX)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Po.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(h){He(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,p]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?Er("getToken() completed but was canceled"):(Er("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=p&&p.token,a=new LX(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,r,m=>{si(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(zX)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&si(h),l())}}}interrupt(e){Er("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Er("Resuming connection for reason: "+e),delete this.interruptReasons_[e],LP(this.interruptReasons_)&&(this.reconnectDelay_=Vd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let r;t?r=t.map(s=>UM(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const r=new an(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(t),s.delete(t),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,t){Er("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=tI&&(this.reconnectDelay_=eI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Er("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=tI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+mk.replace(/\./g,"-")]=1,sk()?e["framework.cordova"]=1:k$()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Xy.getInstance().currentlyOnline();return LP(this.interruptReasons_)&&e}}Po.nextPersistentConnectionId_=0;Po.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Rt(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Rt(xf,e),i=new Rt(xf,t);return this.compare(r,i)!==0}minPost(){return Rt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jg;class zk extends l_{static get __EMPTY_NODE(){return Jg}static set __EMPTY_NODE(e){Jg=e}compare(e,t){return qf(e.name,t.name)}isDefinedOn(e){throw Qf("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Rt.MIN}maxPost(){return new Rt(mu,Jg)}makePost(e,t){return He(typeof e=="string","KeyIndex indexValue must always be a string."),new Rt(e,Jg)}toString(){return".key"}}const rf=new zk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?r(e.key,t):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class rr{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r!=null?r:rr.RED,this.left=i!=null?i:ei.EMPTY_NODE,this.right=s!=null?s:ei.EMPTY_NODE}copy(e,t,r,i,s){return new rr(e!=null?e:this.key,t!=null?t:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i=i.copy(null,t,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ei.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let r,i;if(r=this,t(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),t(e,r.key)===0){if(r.right.isEmpty())return ei.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,rr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,rr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}rr.RED=!0;rr.BLACK=!1;class VX{copy(e,t,r,i,s){return this}insert(e,t,r){return new rr(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ei{constructor(e,t=ei.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new ei(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,rr.BLACK,null,null))}remove(e){return new ei(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,rr.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();)if(t=this.comparator_(e,r.key),t===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new $g(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new $g(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new $g(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new $g(this.root_,null,this.comparator_,!0,e)}}ei.EMPTY_NODE=new VX;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WX(n,e){return qf(n.name,e.name)}function JM(n,e){return qf(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tA;function jX(n){tA=n}const Vk=function(n){return typeof n=="number"?"number:"+xk(n):"string:"+n},Wk=function(n){if(n.isLeafNode()){const e=n.val();He(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Go(e,".sv"),"Priority must be a string or number.")}else He(n===tA||n.isEmpty(),"priority of unexpected type.");He(n===tA||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nI;class tr{constructor(e,t=tr.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,He(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Wk(this.priorityNode_)}static set __childrenNodeConstructor(e){nI=e}static get __childrenNodeConstructor(){return nI}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new tr(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:tr.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return bt(e)?this:St(e)===".priority"?this.priorityNode_:tr.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:tr.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const r=St(e);return r===null?t:t.isEmpty()&&r!==".priority"?this:(He(r!==".priority"||Ua(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,tr.__childrenNodeConstructor.EMPTY_NODE.updateChild(sn(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Vk(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=xk(this.value_):e+=this.value_,this.lazyHash_=yk(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===tr.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof tr.__childrenNodeConstructor?-1:(He(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,r=typeof this.value_,i=tr.VALUE_TYPE_ORDER.indexOf(t),s=tr.VALUE_TYPE_ORDER.indexOf(r);return He(i>=0,"Unknown leaf type: "+t),He(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}tr.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jk,Jk;function JX(n){jk=n}function $X(n){Jk=n}class KX extends l_{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return s===0?qf(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Rt.MIN}maxPost(){return new Rt(mu,new tr("[PRIORITY-POST]",Jk))}makePost(e,t){const r=jk(e);return new Rt(t,new tr("[PRIORITY-POST]",r))}toString(){return".priority"}}const Cr=new KX;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XX=Math.log(2);class QX{constructor(e){const t=s=>parseInt(Math.log(s)/XX,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Qy=function(n,e,t,r){n.sort(e);const i=function(l,u){const d=u-l;let h,p;if(d===0)return null;if(d===1)return h=n[l],p=t?t(h):h,new rr(p,h.node,rr.BLACK,null,null);{const m=parseInt(d/2,10)+l,y=i(l,m),g=i(m+1,u);return h=n[m],p=t?t(h):h,new rr(p,h.node,rr.BLACK,y,g)}},s=function(l){let u=null,d=null,h=n.length;const p=function(y,g){const _=h-y,w=h;h-=y;const x=i(_+1,w),A=n[_],E=t?t(A):A;m(new rr(E,A.node,g,null,x))},m=function(y){u?(u.left=y,u=y):(d=y,u=y)};for(let y=0;y<l.count;++y){const g=l.nextBitIsOne(),_=Math.pow(2,l.count-(y+1));g?p(_,rr.BLACK):(p(_,rr.BLACK),p(_,rr.RED))}return d},o=new QX(n.length),a=s(o);return new ei(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k1;const sc={};class Co{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return He(sc&&Cr,"ChildrenNode.ts has not been loaded"),k1=k1||new Co({".priority":sc},{".priority":Cr}),k1}get(e){const t=_f(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ei?t:null}hasIndex(e){return Go(this.indexSet_,e.toString())}addIndex(e,t){He(e!==rf,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(Rt.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Qy(r,e.getCompare()):a=sc;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const d=Object.assign({},this.indexes_);return d[l]=a,new Co(d,u)}addToIndexes(e,t){const r=jy(this.indexes_,(i,s)=>{const o=_f(this.indexSet_,s);if(He(o,"Missing index implementation for "+s),i===sc)if(o.isDefinedOn(e.node)){const a=[],l=t.getIterator(Rt.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Qy(a,o.getCompare())}else return sc;else{const a=t.get(e.name);let l=i;return a&&(l=l.remove(new Rt(e.name,a))),l.insert(e,e.node)}});return new Co(r,this.indexSet_)}removeFromIndexes(e,t){const r=jy(this.indexes_,i=>{if(i===sc)return i;{const s=t.get(e.name);return s?i.remove(new Rt(e.name,s)):i}});return new Co(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wd;class zt{constructor(e,t,r){this.children_=e,this.priorityNode_=t,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Wk(this.priorityNode_),this.children_.isEmpty()&&He(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Wd||(Wd=new zt(new ei(JM),null,Co.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Wd}updatePriority(e){return this.children_.isEmpty()?this:new zt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?Wd:t}}getChild(e){const t=St(e);return t===null?this:this.getImmediateChild(t).getChild(sn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(He(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const r=new Rt(e,t);let i,s;t.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,t),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Wd:this.priorityNode_;return new zt(i,o,s)}}updateChild(e,t){const r=St(e);if(r===null)return t;{He(St(e)!==".priority"||Ua(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(sn(e),t);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let r=0,i=0,s=!0;if(this.forEachChild(Cr,(o,a)=>{t[o]=a.val(e),r++,s&&zt.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in t)o[a]=t[a];return o}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Vk(this.getPriority().val())+":"),this.forEachChild(Cr,(t,r)=>{const i=r.hash();i!==""&&(e+=":"+t+":"+i)}),this.lazyHash_=e===""?"":yk(e)}return this.lazyHash_}getPredecessorChildName(e,t,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Rt(e,t));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Rt(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Rt(t,this.children_.get(t)):null}forEachChild(e,t){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>t(i.name,i.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Rt.Wrap);let s=i.peek();for(;s!=null&&t.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Rt.Wrap);let s=i.peek();for(;s!=null&&t.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===em?-1:0}withIndex(e){if(e===rf||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new zt(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===rf||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const r=this.getIterator(Cr),i=t.getIterator(Cr);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===rf?null:this.indexMap_.get(e.toString())}}zt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class qX extends zt{constructor(){super(new ei(JM),zt.EMPTY_NODE,Co.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return zt.EMPTY_NODE}isEmpty(){return!1}}const em=new qX;Object.defineProperties(Rt,{MIN:{value:new Rt(xf,zt.EMPTY_NODE)},MAX:{value:new Rt(mu,em)}});zk.__EMPTY_NODE=zt.EMPTY_NODE;tr.__childrenNodeConstructor=zt;jX(em);$X(em);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YX=!0;function lr(n,e=null){if(n===null)return zt.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),He(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new tr(t,lr(e))}if(!(n instanceof Array)&&YX){const t=[];let r=!1;if(Yi(n,(o,a)=>{if(o.substring(0,1)!=="."){const l=lr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),t.push(new Rt(o,l)))}}),t.length===0)return zt.EMPTY_NODE;const s=Qy(t,WX,o=>o.name,JM);if(r){const o=Qy(t,Cr.getCompare());return new zt(s,lr(e),new Co({".priority":o},{".priority":Cr}))}else return new zt(s,lr(e),Co.Default)}else{let t=zt.EMPTY_NODE;return Yi(n,(r,i)=>{if(Go(n,r)&&r.substring(0,1)!=="."){const s=lr(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(lr(e))}}JX(lr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZX extends l_{constructor(e){super();this.indexPath_=e,He(!bt(e)&&St(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return s===0?qf(e.name,t.name):s}makePost(e,t){const r=lr(e),i=zt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Rt(t,i)}maxPost(){const e=zt.EMPTY_NODE.updateChild(this.indexPath_,em);return new Rt(mu,e)}toString(){return Nk(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eQ extends l_{compare(e,t){const r=e.node.compareTo(t.node);return r===0?qf(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Rt.MIN}maxPost(){return Rt.MAX}makePost(e,t){const r=lr(e);return new Rt(t,r)}toString(){return".value"}}const tQ=new eQ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nQ(n){return{type:"value",snapshotNode:n}}function rQ(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function iQ(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function rI(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function sQ(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Cr}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return He(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return He(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:xf}hasEnd(){return this.endSet_}getIndexEndValue(){return He(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return He(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:mu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return He(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Cr}copy(){const e=new $M;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function iI(n){const e={};if(n.isDefault())return e;let t;return n.index_===Cr?t="$priority":n.index_===tQ?t="$value":n.index_===rf?t="$key":(He(n.index_ instanceof ZX,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=ur(t),n.startSet_&&(e.startAt=ur(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+ur(n.indexStartName_))),n.endSet_&&(e.endAt=ur(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+ur(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function sI(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==Cr&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy extends Fk{constructor(e,t,r,i){super();this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Zp("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(He(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=qy.getListenId_(e,r),a={};this.listens_[o]=a;const l=iI(e._queryParams);this.restRequest_(s+".json",l,(u,d)=>{let h=d;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(s,h,!1,r),_f(this.listens_,o)===a){let p;u?u===401?p="permission_denied":p="rest_error:"+u:p="ok",i(p,null)}})}unlisten(e,t){const r=qy.getListenId_(e,t);delete this.listens_[r]}get(e){const t=iI(e._queryParams),r=e._path.toString(),i=new s_;return this.restRequest_(r+".json",t,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+W$(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=ip(a.responseText)}catch{si("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&si("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oQ{constructor(){this.rootNode_=zt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(){return{value:null,children:new Map}}function $k(n,e,t){if(bt(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const r=St(e);n.children.has(r)||n.children.set(r,Yy());const i=n.children.get(r);e=sn(e),$k(i,e,t)}}function nA(n,e,t){n.value!==null?t(e,n.value):aQ(n,(r,i)=>{const s=new an(e.toString()+"/"+r);nA(i,s,t)})}function aQ(n,e){n.children.forEach((t,r)=>{e(r,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lQ{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Yi(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=10*1e3,uQ=30*1e3,cQ=5*60*1e3;class fQ{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new lQ(e);const r=oI+(uQ-oI)*Math.random();Ah(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Yi(e,(i,s)=>{s>0&&Go(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),Ah(this.reportStats_.bind(this),Math.floor(Math.random()*2*cQ))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gs;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Gs||(Gs={}));function Kk(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Xk(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Qk(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Gs.ACK_USER_WRITE,this.source=Kk()}operationForChild(e){if(bt(this.path)){if(this.affectedTree.value!=null)return He(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new an(e));return new Zy(Kt(),t,this.revert)}}else return He(St(this.path)===e,"operationForChild called for unrelated child."),new Zy(sn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Gs.OVERWRITE}operationForChild(e){return bt(this.path)?new gu(this.source,Kt(),this.snap.getImmediateChild(e)):new gu(this.source,sn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Gs.MERGE}operationForChild(e){if(bt(this.path)){const t=this.children.subtree(new an(e));return t.isEmpty()?null:t.value?new gu(this.source,Kt(),t.value):new ap(this.source,Kt(),t)}else return He(St(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ap(this.source,sn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(bt(e))return this.isFullyInitialized()&&!this.filtered_;const t=St(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function dQ(n,e,t,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(sQ(o.childName,o.snapshotNode))}),jd(n,i,"child_removed",e,r,t),jd(n,i,"child_added",e,r,t),jd(n,i,"child_moved",s,r,t),jd(n,i,"child_changed",e,r,t),jd(n,i,"value",e,r,t),i}function jd(n,e,t,r,i,s){const o=r.filter(a=>a.type===t);o.sort((a,l)=>pQ(n,a,l)),o.forEach(a=>{const l=hQ(n,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,n.query_))})})}function hQ(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function pQ(n,e,t){if(e.childName==null||t.childName==null)throw Qf("Should only compare child_ events.");const r=new Rt(e.childName,e.snapshotNode),i=new Rt(t.childName,t.snapshotNode);return n.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(n,e){return{eventCache:n,serverCache:e}}function Eh(n,e,t,r){return qk(new KM(e,t,r),n.serverCache)}function Yk(n,e,t,r){return qk(n.eventCache,new KM(e,t,r))}function rA(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function yu(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O1;const mQ=()=>(O1||(O1=new ei(YK)),O1);class rn{constructor(e,t=mQ()){this.value=e,this.children=t}static fromObject(e){let t=new rn(null);return Yi(e,(r,i)=>{t=t.set(new an(r),i)}),t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:Kt(),value:this.value};if(bt(e))return null;{const r=St(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(sn(e),t);return s!=null?{path:$n(new an(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(bt(e))return this;{const t=St(e),r=this.children.get(t);return r!==null?r.subtree(sn(e)):new rn(null)}}set(e,t){if(bt(e))return new rn(t,this.children);{const r=St(e),s=(this.children.get(r)||new rn(null)).set(sn(e),t),o=this.children.insert(r,s);return new rn(this.value,o)}}remove(e){if(bt(e))return this.children.isEmpty()?new rn(null):new rn(null,this.children);{const t=St(e),r=this.children.get(t);if(r){const i=r.remove(sn(e));let s;return i.isEmpty()?s=this.children.remove(t):s=this.children.insert(t,i),this.value===null&&s.isEmpty()?new rn(null):new rn(this.value,s)}else return this}}get(e){if(bt(e))return this.value;{const t=St(e),r=this.children.get(t);return r?r.get(sn(e)):null}}setTree(e,t){if(bt(e))return t;{const r=St(e),s=(this.children.get(r)||new rn(null)).setTree(sn(e),t);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new rn(this.value,o)}}fold(e){return this.fold_(Kt(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_($n(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Kt(),t)}findOnPath_(e,t,r){const i=this.value?r(t,this.value):!1;if(i)return i;if(bt(e))return null;{const s=St(e),o=this.children.get(s);return o?o.findOnPath_(sn(e),$n(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Kt(),t)}foreachOnPath_(e,t,r){if(bt(e))return this;{this.value&&r(t,this.value);const i=St(e),s=this.children.get(i);return s?s.foreachOnPath_(sn(e),$n(t,i),r):new rn(null)}}foreach(e){this.foreach_(Kt(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_($n(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this.writeTree_=e}static empty(){return new gs(new rn(null))}}function Mh(n,e,t){if(bt(e))return new gs(new rn(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=$i(i,e);return s=s.updateChild(o,t),new gs(n.writeTree_.set(i,s))}else{const i=new rn(t),s=n.writeTree_.setTree(e,i);return new gs(s)}}}function aI(n,e,t){let r=n;return Yi(t,(i,s)=>{r=Mh(r,$n(e,i),s)}),r}function lI(n,e){if(bt(e))return gs.empty();{const t=n.writeTree_.setTree(e,new rn(null));return new gs(t)}}function iA(n,e){return Iu(n,e)!=null}function Iu(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild($i(t.path,e)):null}function uI(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Cr,(r,i)=>{e.push(new Rt(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Rt(r,i.value))}),e}function La(n,e){if(bt(e))return n;{const t=Iu(n,e);return t!=null?new gs(new rn(t)):new gs(n.writeTree_.subtree(e))}}function sA(n){return n.writeTree_.isEmpty()}function wf(n,e){return Zk(Kt(),n.writeTree_,e)}function Zk(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(He(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):t=Zk($n(n,i),s,t)}),!t.getChild(n).isEmpty()&&r!==null&&(t=t.updateChild($n(n,".priority"),r)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(n,e){return sO(e,n)}function gQ(n,e,t,r,i){He(r>n.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Mh(n.visibleWrites,e,t)),n.lastWriteId=r}function yQ(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}function vQ(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);He(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&_Q(a,r.path)?i=!1:hs(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return xQ(n),!0;if(r.snap)n.visibleWrites=lI(n.visibleWrites,r.path);else{const a=r.children;Yi(a,l=>{n.visibleWrites=lI(n.visibleWrites,$n(r.path,l))})}return!0}else return!1}function _Q(n,e){if(n.snap)return hs(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&hs($n(n.path,t),e))return!0;return!1}function xQ(n){n.visibleWrites=tO(n.allWrites,wQ,Kt()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function wQ(n){return n.visible}function tO(n,e,t){let r=gs.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const o=s.path;let a;if(s.snap)hs(t,o)?(a=$i(t,o),r=Mh(r,a,s.snap)):hs(o,t)&&(a=$i(o,t),r=Mh(r,Kt(),s.snap.getChild(a)));else if(s.children){if(hs(t,o))a=$i(t,o),r=aI(r,a,s.children);else if(hs(o,t))if(a=$i(o,t),bt(a))r=aI(r,Kt(),s.children);else{const l=_f(s.children,St(a));if(l){const u=l.getChild(sn(a));r=Mh(r,Kt(),u)}}}else throw Qf("WriteRecord should have .snap or .children")}}return r}function nO(n,e,t,r,i){if(!r&&!i){const s=Iu(n.visibleWrites,e);if(s!=null)return s;{const o=La(n.visibleWrites,e);if(sA(o))return t;if(t==null&&!iA(o,Kt()))return null;{const a=t||zt.EMPTY_NODE;return wf(o,a)}}}else{const s=La(n.visibleWrites,e);if(!i&&sA(s))return t;if(!i&&t==null&&!iA(s,Kt()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(hs(u.path,e)||hs(e,u.path))},a=tO(n.allWrites,o,e),l=t||zt.EMPTY_NODE;return wf(a,l)}}}function SQ(n,e,t){let r=zt.EMPTY_NODE;const i=Iu(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Cr,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){const s=La(n.visibleWrites,e);return t.forEachChild(Cr,(o,a)=>{const l=wf(La(s,new an(o)),a);r=r.updateImmediateChild(o,l)}),uI(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=La(n.visibleWrites,e);return uI(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function AQ(n,e,t,r,i){He(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=$n(e,t);if(iA(n.visibleWrites,s))return null;{const o=La(n.visibleWrites,s);return sA(o)?i.getChild(t):wf(o,i.getChild(t))}}function EQ(n,e,t,r){const i=$n(e,t),s=Iu(n.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(t)){const o=La(n.visibleWrites,i);return wf(o,r.getNode().getImmediateChild(t))}else return null}function MQ(n,e){return Iu(n.visibleWrites,e)}function CQ(n,e,t,r,i,s,o){let a;const l=La(n.visibleWrites,e),u=Iu(l,Kt());if(u!=null)a=u;else if(t!=null)a=wf(l,t);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],h=o.getCompare(),p=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let m=p.getNext();for(;m&&d.length<i;)h(m,r)!==0&&d.push(m),m=p.getNext();return d}else return[]}function bQ(){return{visibleWrites:gs.empty(),allWrites:[],lastWriteId:-1}}function oA(n,e,t,r){return nO(n.writeTree,n.treePath,e,t,r)}function rO(n,e){return SQ(n.writeTree,n.treePath,e)}function cI(n,e,t,r){return AQ(n.writeTree,n.treePath,e,t,r)}function ev(n,e){return MQ(n.writeTree,$n(n.treePath,e))}function TQ(n,e,t,r,i,s){return CQ(n.writeTree,n.treePath,e,t,r,i,s)}function XM(n,e,t){return EQ(n.writeTree,n.treePath,e,t)}function iO(n,e){return sO($n(n.treePath,e),n.writeTree)}function sO(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RQ{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;He(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),He(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(t==="child_added"&&s==="child_removed")this.changeMap.set(r,rI(r,e.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&s==="child_changed")this.changeMap.set(r,iQ(r,i.oldSnap));else if(t==="child_changed"&&s==="child_added")this.changeMap.set(r,rQ(r,e.snapshotNode));else if(t==="child_changed"&&s==="child_changed")this.changeMap.set(r,rI(r,e.snapshotNode,i.oldSnap));else throw Qf("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PQ{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}}const oO=new PQ;class QM{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new KM(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return XM(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:yu(this.viewCache_),s=TQ(this.writes_,i,t,1,r,e);return s.length===0?null:s[0]}}function IQ(n,e){He(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),He(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function BQ(n,e,t,r,i){const s=new RQ;let o,a;if(t.type===Gs.OVERWRITE){const u=t;u.source.fromUser?o=aA(n,e,u.path,u.snap,r,i,s):(He(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!bt(u.path),o=tv(n,e,u.path,u.snap,r,i,a,s))}else if(t.type===Gs.MERGE){const u=t;u.source.fromUser?o=DQ(n,e,u.path,u.children,r,i,s):(He(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=lA(n,e,u.path,u.children,r,i,a,s))}else if(t.type===Gs.ACK_USER_WRITE){const u=t;u.revert?o=OQ(n,e,u.path,r,i,s):o=FQ(n,e,u.path,u.affectedTree,r,i,s)}else if(t.type===Gs.LISTEN_COMPLETE)o=kQ(n,e,t.path,r,s);else throw Qf("Unknown operation type: "+t.type);const l=s.getChanges();return LQ(e,o,l),{viewCache:o,changes:l}}function LQ(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=rA(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(nQ(rA(e)))}}function aO(n,e,t,r,i,s){const o=e.eventCache;if(ev(r,t)!=null)return e;{let a,l;if(bt(t))if(He(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=yu(e),d=u instanceof zt?u:zt.EMPTY_NODE,h=rO(r,d);a=n.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const u=oA(r,yu(e));a=n.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=St(t);if(u===".priority"){He(Ua(t)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const h=cI(r,t,d,l);h!=null?a=n.filter.updatePriority(d,h):a=o.getNode()}else{const d=sn(t);let h;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const p=cI(r,t,o.getNode(),l);p!=null?h=o.getNode().getImmediateChild(u).updateChild(d,p):h=o.getNode().getImmediateChild(u)}else h=XM(r,u,e.serverCache);h!=null?a=n.filter.updateChild(o.getNode(),u,h,d,i,s):a=o.getNode()}}return Eh(e,a,o.isFullyInitialized()||bt(t),n.filter.filtersNodes())}}function tv(n,e,t,r,i,s,o,a){const l=e.serverCache;let u;const d=o?n.filter:n.filter.getIndexedFilter();if(bt(t))u=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const m=l.getNode().updateChild(t,r);u=d.updateFullNode(l.getNode(),m,null)}else{const m=St(t);if(!l.isCompleteForPath(t)&&Ua(t)>1)return e;const y=sn(t),_=l.getNode().getImmediateChild(m).updateChild(y,r);m===".priority"?u=d.updatePriority(l.getNode(),_):u=d.updateChild(l.getNode(),m,_,y,oO,null)}const h=Yk(e,u,l.isFullyInitialized()||bt(t),d.filtersNodes()),p=new QM(i,h,s);return aO(n,h,t,i,p,a)}function aA(n,e,t,r,i,s,o){const a=e.eventCache;let l,u;const d=new QM(i,e,s);if(bt(t))u=n.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Eh(e,u,!0,n.filter.filtersNodes());else{const h=St(t);if(h===".priority")u=n.filter.updatePriority(e.eventCache.getNode(),r),l=Eh(e,u,a.isFullyInitialized(),a.isFiltered());else{const p=sn(t),m=a.getNode().getImmediateChild(h);let y;if(bt(p))y=r;else{const g=d.getCompleteChild(h);g!=null?Ok(p)===".priority"&&g.getChild(Hk(p)).isEmpty()?y=g:y=g.updateChild(p,r):y=zt.EMPTY_NODE}if(m.equals(y))l=e;else{const g=n.filter.updateChild(a.getNode(),h,y,p,d,o);l=Eh(e,g,a.isFullyInitialized(),n.filter.filtersNodes())}}}return l}function fI(n,e){return n.eventCache.isCompleteForChild(e)}function DQ(n,e,t,r,i,s,o){let a=e;return r.foreach((l,u)=>{const d=$n(t,l);fI(e,St(d))&&(a=aA(n,a,d,u,i,s,o))}),r.foreach((l,u)=>{const d=$n(t,l);fI(e,St(d))||(a=aA(n,a,d,u,i,s,o))}),a}function dI(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function lA(n,e,t,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;bt(t)?u=r:u=new rn(null).setTree(t,r);const d=e.serverCache.getNode();return u.children.inorderTraversal((h,p)=>{if(d.hasChild(h)){const m=e.serverCache.getNode().getImmediateChild(h),y=dI(n,m,p);l=tv(n,l,new an(h),y,i,s,o,a)}}),u.children.inorderTraversal((h,p)=>{const m=!e.serverCache.isCompleteForChild(h)&&p.value===void 0;if(!d.hasChild(h)&&!m){const y=e.serverCache.getNode().getImmediateChild(h),g=dI(n,y,p);l=tv(n,l,new an(h),g,i,s,o,a)}}),l}function FQ(n,e,t,r,i,s,o){if(ev(i,t)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(bt(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return tv(n,e,t,l.getNode().getChild(t),i,s,a,o);if(bt(t)){let u=new rn(null);return l.getNode().forEachChild(rf,(d,h)=>{u=u.set(new an(d),h)}),lA(n,e,t,u,i,s,a,o)}else return e}else{let u=new rn(null);return r.foreach((d,h)=>{const p=$n(t,d);l.isCompleteForPath(p)&&(u=u.set(d,l.getNode().getChild(p)))}),lA(n,e,t,u,i,s,a,o)}}function kQ(n,e,t,r,i){const s=e.serverCache,o=Yk(e,s.getNode(),s.isFullyInitialized()||bt(t),s.isFiltered());return aO(n,o,t,r,oO,i)}function OQ(n,e,t,r,i,s){let o;if(ev(r,t)!=null)return e;{const a=new QM(r,e,i),l=e.eventCache.getNode();let u;if(bt(t)||St(t)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=oA(r,yu(e));else{const h=e.serverCache.getNode();He(h instanceof zt,"serverChildren would be complete if leaf node"),d=rO(r,h)}d=d,u=n.filter.updateFullNode(l,d,s)}else{const d=St(t);let h=XM(r,d,e.serverCache);h==null&&e.serverCache.isCompleteForChild(d)&&(h=l.getImmediateChild(d)),h!=null?u=n.filter.updateChild(l,d,h,sn(t),a,s):e.eventCache.getNode().hasChild(d)?u=n.filter.updateChild(l,d,zt.EMPTY_NODE,sn(t),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=oA(r,yu(e)),o.isLeafNode()&&(u=n.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||ev(r,Kt())!=null,Eh(e,u,o,n.filter.filtersNodes())}}function NQ(n,e){const t=yu(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!bt(e)&&!t.getImmediateChild(St(e)).isEmpty())?t.getChild(e):null}function hI(n,e,t,r){e.type===Gs.MERGE&&e.source.queryId!==null&&(He(yu(n.viewCache_),"We should always have a full cache before handling merges"),He(rA(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=BQ(n.processor_,i,e,t,r);return IQ(n.processor_,s.viewCache),He(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,HQ(n,s.changes,s.viewCache.eventCache.getNode(),null)}function HQ(n,e,t,r){const i=r?[r]:n.eventRegistrations_;return dQ(n.eventGenerator_,e,t,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pI;function UQ(n){He(!pI,"__referenceConstructor has already been defined"),pI=n}function qM(n,e,t,r){const i=e.source.queryId;if(i!==null){const s=n.views.get(i);return He(s!=null,"SyncTree gave us an op for an invalid query."),hI(s,e,t,r)}else{let s=[];for(const o of n.views.values())s=s.concat(hI(o,e,t,r));return s}}function YM(n,e){let t=null;for(const r of n.views.values())t=t||NQ(r,e);return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mI;function GQ(n){He(!mI,"__referenceConstructor has already been defined"),mI=n}class gI{constructor(e){this.listenProvider_=e,this.syncPointTree_=new rn(null),this.pendingWriteTree_=bQ(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function lO(n,e,t,r,i){return gQ(n.pendingWriteTree_,e,t,r,i),i?c_(n,new gu(Kk(),e,t)):[]}function Kl(n,e,t=!1){const r=yQ(n.pendingWriteTree_,e);if(vQ(n.pendingWriteTree_,e)){let s=new rn(null);return r.snap!=null?s=s.set(Kt(),!0):Yi(r.children,o=>{s=s.set(new an(o),!0)}),c_(n,new Zy(r.path,s,t))}else return[]}function u_(n,e,t){return c_(n,new gu(Xk(),e,t))}function zQ(n,e,t){const r=rn.fromObject(t);return c_(n,new ap(Xk(),e,r))}function VQ(n,e,t,r){const i=fO(n,r);if(i!=null){const s=dO(i),o=s.path,a=s.queryId,l=$i(o,e),u=new gu(Qk(a),l,t);return hO(n,o,u)}else return[]}function WQ(n,e,t,r){const i=fO(n,r);if(i){const s=dO(i),o=s.path,a=s.queryId,l=$i(o,e),u=rn.fromObject(t),d=new ap(Qk(a),l,u);return hO(n,o,d)}else return[]}function ZM(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{const l=$i(o,e),u=YM(a,l);if(u)return u});return nO(i,e,s,t,!0)}function c_(n,e){return uO(e,n.syncPointTree_,null,eO(n.pendingWriteTree_,Kt()))}function uO(n,e,t,r){if(bt(n.path))return cO(n,e,t,r);{const i=e.get(Kt());t==null&&i!=null&&(t=YM(i,Kt()));let s=[];const o=St(n.path),a=n.operationForChild(o),l=e.children.get(o);if(l&&a){const u=t?t.getImmediateChild(o):null,d=iO(r,o);s=s.concat(uO(a,l,u,d))}return i&&(s=s.concat(qM(i,n,r,t))),s}}function cO(n,e,t,r){const i=e.get(Kt());t==null&&i!=null&&(t=YM(i,Kt()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=t?t.getImmediateChild(o):null,u=iO(r,o),d=n.operationForChild(o);d&&(s=s.concat(cO(d,a,l,u)))}),i&&(s=s.concat(qM(i,n,r,t))),s}function fO(n,e){return n.tagToQueryMap.get(e)}function dO(n){const e=n.indexOf("$");return He(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new an(n.substr(0,e))}}function hO(n,e,t){const r=n.syncPointTree_.get(e);He(r,"Missing sync point for query tag that we're tracking");const i=eO(n.pendingWriteTree_,e);return qM(r,t,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new eC(t)}node(){return this.node_}}class tC{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=$n(this.path_,e);return new tC(this.syncTree_,t)}node(){return ZM(this.syncTree_,this.path_)}}const jQ=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},yI=function(n,e,t){if(!n||typeof n!="object")return n;if(He(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return JQ(n[".sv"],e,t);if(typeof n[".sv"]=="object")return $Q(n[".sv"],e);He(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},JQ=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:He(!1,"Unexpected server value: "+n)}},$Q=function(n,e,t){n.hasOwnProperty("increment")||He(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;typeof r!="number"&&He(!1,"Unexpected increment value: "+r);const i=e.node();if(He(i!==null&&typeof i!="undefined","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},KQ=function(n,e,t,r){return nC(e,new tC(t,n),r)},pO=function(n,e,t){return nC(n,new eC(e),t)};function nC(n,e,t){const r=n.getPriority().val(),i=yI(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,a=yI(o.getValue(),e,t);return a!==o.getValue()||i!==o.getPriority().val()?new tr(a,lr(i)):n}else{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new tr(i))),o.forEachChild(Cr,(a,l)=>{const u=nC(l,e.getImmediateChild(a),t);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function iC(n,e){let t=e instanceof an?e:new an(e),r=n,i=St(t);for(;i!==null;){const s=_f(r.node.children,i)||{children:{},childCount:0};r=new rC(i,r,s),t=sn(t),i=St(t)}return r}function Zf(n){return n.node.value}function mO(n,e){n.node.value=e,uA(n)}function gO(n){return n.node.childCount>0}function XQ(n){return Zf(n)===void 0&&!gO(n)}function f_(n,e){Yi(n.node.children,(t,r)=>{e(new rC(t,n,r))})}function yO(n,e,t,r){t&&!r&&e(n),f_(n,i=>{yO(i,e,!0,r)}),t&&r&&e(n)}function QQ(n,e,t){let r=t?n:n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function tm(n){return new an(n.parent===null?n.name:tm(n.parent)+"/"+n.name)}function uA(n){n.parent!==null&&qQ(n.parent,n.name,n)}function qQ(n,e,t){const r=XQ(t),i=Go(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,uA(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,uA(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YQ=/[\[\].#$\/\u0000-\u001F\u007F]/,ZQ=/[\[\].#$\u0000-\u001F\u007F]/,N1=10*1024*1024,vO=function(n){return typeof n=="string"&&n.length!==0&&!YQ.test(n)},_O=function(n){return typeof n=="string"&&n.length!==0&&!ZQ.test(n)},eq=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),_O(n)},tq=function(n,e,t,r){r&&e===void 0||sC(NM(n,"value"),e,t)},sC=function(n,e,t){const r=t instanceof an?new FX(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+Fl(r));if(typeof e=="function")throw new Error(n+"contains a function "+Fl(r)+" with contents = "+e.toString());if(vk(e))throw new Error(n+"contains "+e.toString()+" "+Fl(r));if(typeof e=="string"&&e.length>N1/3&&o_(e)>N1)throw new Error(n+"contains a string greater than "+N1+" utf8 bytes "+Fl(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Yi(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!vO(o)))throw new Error(n+" contains an invalid key ("+o+") "+Fl(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);kX(r,o),sC(n,a,r),OX(r)}),i&&s)throw new Error(n+' contains ".value" child '+Fl(r)+" in addition to actual children.")}},xO=function(n,e,t,r){if(!(r&&t===void 0)&&!_O(t))throw new Error(NM(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},nq=function(n,e,t,r){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),xO(n,e,t,r)},rq=function(n,e){if(St(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},iq=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!vO(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!eq(t))throw new Error(NM(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function wO(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();t!==null&&!Uk(s,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function ko(n,e,t){wO(n,t),oq(n,r=>hs(r,e)||hs(e,r))}function oq(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];if(i){const s=i.path;e(s)?(aq(n.eventLists_[r]),n.eventLists_[r]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function aq(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const r=t.getEventRunner();tu&&Er("event: "+t.toString()),Yf(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lq="repo_interrupt",uq=25;class cq{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sq,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Yy(),this.transactionQueueTree_=new rC,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function fq(n,e,t){if(n.stats_=zM(n.repoInfo_),n.forceRestClient_||iX())n.server_=new qy(n.repoInfo_,(r,i,s,o)=>{vI(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>_I(n,!0),0);else{if(typeof t!="undefined"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ur(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Po(n.repoInfo_,e,(r,i,s,o)=>{vI(n,r,i,s,o)},r=>{_I(n,r)},r=>{hq(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=fX(n.repoInfo_,()=>new fQ(n.stats_,n.server_)),n.infoData_=new oQ,n.infoSyncTree_=new gI({startListening:(r,i,s,o)=>{let a=[];const l=n.infoData_.getNode(r._path);return l.isEmpty()||(a=u_(n.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),aC(n,"connected",!1),n.serverSyncTree_=new gI({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);ko(n.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}function dq(n){const t=n.infoData_.getNode(new an(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function oC(n){return jQ({timestamp:dq(n)})}function vI(n,e,t,r,i){n.dataUpdateCount++;const s=new an(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){const l=jy(t,u=>lr(u));o=WQ(n.serverSyncTree_,s,l,i)}else{const l=lr(t);o=VQ(n.serverSyncTree_,s,l,i)}else if(r){const l=jy(t,u=>lr(u));o=zQ(n.serverSyncTree_,s,l)}else{const l=lr(t);o=u_(n.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=d_(n,s)),ko(n.eventQueue_,a,o)}function _I(n,e){aC(n,"connected",e),e===!1&&mq(n)}function hq(n,e){Yi(e,(t,r)=>{aC(n,t,r)})}function aC(n,e,t){const r=new an("/.info/"+e),i=lr(t);n.infoData_.updateSnapshot(r,i);const s=u_(n.infoSyncTree_,r,i);ko(n.eventQueue_,r,s)}function SO(n){return n.nextWriteId_++}function pq(n,e,t,r,i){lC(n,"set",{path:e.toString(),value:t,priority:r});const s=oC(n),o=lr(t,r),a=ZM(n.serverSyncTree_,e),l=pO(o,a,s),u=SO(n),d=lO(n.serverSyncTree_,e,l,u,!0);wO(n.eventQueue_,d),n.server_.put(e.toString(),o.val(!0),(p,m)=>{const y=p==="ok";y||si("set at "+e+" failed: "+p);const g=Kl(n.serverSyncTree_,u,!y);ko(n.eventQueue_,e,g),yq(n,i,p,m)});const h=bO(n,e);d_(n,h),ko(n.eventQueue_,h,[])}function mq(n){lC(n,"onDisconnectEvents");const e=oC(n),t=Yy();nA(n.onDisconnect_,Kt(),(i,s)=>{const o=KQ(i,s,n.serverSyncTree_,e);$k(t,i,o)});let r=[];nA(t,Kt(),(i,s)=>{r=r.concat(u_(n.serverSyncTree_,i,s));const o=bO(n,i);d_(n,o)}),n.onDisconnect_=Yy(),ko(n.eventQueue_,Kt(),r)}function gq(n){n.persistentConnection_&&n.persistentConnection_.interrupt(lq)}function lC(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Er(t,...e)}function yq(n,e,t,r){e&&Yf(()=>{if(t==="ok")e(null);else{const i=(t||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function AO(n,e,t){return ZM(n.serverSyncTree_,e,t)||zt.EMPTY_NODE}function uC(n,e=n.transactionQueueTree_){if(e||h_(n,e),Zf(e)){const t=MO(n,e);He(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&vq(n,tm(e),t)}else gO(e)&&f_(e,t=>{uC(n,t)})}function vq(n,e,t){const r=t.map(u=>u.currentWriteId),i=AO(n,e,r);let s=i;const o=i.hash();for(let u=0;u<t.length;u++){const d=t[u];He(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const h=$i(e,d.path);s=s.updateChild(h,d.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;n.server_.put(l.toString(),a,u=>{lC(n,"transaction put response",{path:l.toString(),status:u});let d=[];if(u==="ok"){const h=[];for(let p=0;p<t.length;p++)t[p].status=2,d=d.concat(Kl(n.serverSyncTree_,t[p].currentWriteId)),t[p].onComplete&&h.push(()=>t[p].onComplete(null,!0,t[p].currentOutputSnapshotResolved)),t[p].unwatcher();h_(n,iC(n.transactionQueueTree_,e)),uC(n,n.transactionQueueTree_),ko(n.eventQueue_,e,d);for(let p=0;p<h.length;p++)Yf(h[p])}else{if(u==="datastale")for(let h=0;h<t.length;h++)t[h].status===3?t[h].status=4:t[h].status=0;else{si("transaction at "+l.toString()+" failed: "+u);for(let h=0;h<t.length;h++)t[h].status=4,t[h].abortReason=u}d_(n,e)}},o)}function d_(n,e){const t=EO(n,e),r=tm(t),i=MO(n,t);return _q(n,i,r),r}function _q(n,e,t){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=$i(t,l.path);let d=!1,h;if(He(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,h=l.abortReason,i=i.concat(Kl(n.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=uq)d=!0,h="maxretry",i=i.concat(Kl(n.serverSyncTree_,l.currentWriteId,!0));else{const p=AO(n,l.path,o);l.currentInputSnapshot=p;const m=e[a].update(p.val());if(m!==void 0){sC("transaction failed: Data returned ",m,l.path);let y=lr(m);typeof m=="object"&&m!=null&&Go(m,".priority")||(y=y.updatePriority(p.getPriority()));const _=l.currentWriteId,w=oC(n),x=pO(y,p,w);l.currentOutputSnapshotRaw=y,l.currentOutputSnapshotResolved=x,l.currentWriteId=SO(n),o.splice(o.indexOf(_),1),i=i.concat(lO(n.serverSyncTree_,l.path,x,l.currentWriteId,l.applyLocally)),i=i.concat(Kl(n.serverSyncTree_,_,!0))}else d=!0,h="nodata",i=i.concat(Kl(n.serverSyncTree_,l.currentWriteId,!0))}ko(n.eventQueue_,t,i),i=[],d&&(e[a].status=2,function(p){setTimeout(p,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}h_(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)Yf(r[a]);uC(n,n.transactionQueueTree_)}function EO(n,e){let t,r=n.transactionQueueTree_;for(t=St(e);t!==null&&Zf(r)===void 0;)r=iC(r,t),e=sn(e),t=St(e);return r}function MO(n,e){const t=[];return CO(n,e,t),t.sort((r,i)=>r.order-i.order),t}function CO(n,e,t){const r=Zf(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);f_(e,i=>{CO(n,i,t)})}function h_(n,e){const t=Zf(e);if(t){let r=0;for(let i=0;i<t.length;i++)t[i].status!==2&&(t[r]=t[i],r++);t.length=r,mO(e,t.length>0?t:void 0)}f_(e,r=>{h_(n,r)})}function bO(n,e){const t=tm(EO(n,e)),r=iC(n.transactionQueueTree_,e);return QQ(r,i=>{H1(n,i)}),H1(n,r),yO(r,i=>{H1(n,i)}),t}function H1(n,e){const t=Zf(e);if(t){const r=[];let i=[],s=-1;for(let o=0;o<t.length;o++)t[o].status===3||(t[o].status===1?(He(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(He(t[o].status===0,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(Kl(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?mO(e,void 0):t.length=s+1,ko(n.eventQueue_,tm(e),i);for(let o=0;o<r.length;o++)Yf(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xq(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function wq(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const r=t.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):si(`Invalid query segment '${t}' in query '${n}'`)}return e}const xI=function(n,e){const t=Sq(n),r=t.namespace;t.domain==="firebase.com"&&pu(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&pu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||QK();const i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new lX(t.host,t.secure,r,e,i,"",r!==t.subdomain),path:new an(t.pathString)}},Sq=function(n){let e="",t="",r="",i="",s="",o=!0,a="https",l=443;if(typeof n=="string"){let u=n.indexOf("//");u>=0&&(a=n.substring(0,u-1),n=n.substring(u+2));let d=n.indexOf("/");d===-1&&(d=n.length);let h=n.indexOf("?");h===-1&&(h=n.length),e=n.substring(0,Math.min(d,h)),d<h&&(i=xq(n.substring(d,h)));const p=wq(n.substring(Math.min(n.length,h)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const m=e.slice(0,u);if(m.toLowerCase()==="localhost")t="localhost";else if(m.split(".").length<=2)t=m;else{const y=e.indexOf(".");r=e.substring(0,y).toLowerCase(),t=e.substring(y+1),s=r}"ns"in p&&(s=p.ns)}return{host:e,port:l,domain:t,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return bt(this._path)?null:Ok(this._path)}get ref(){return new Bu(this._repo,this._path)}get _queryIdentifier(){const e=sI(this._queryParams),t=UM(e);return t==="{}"?"default":t}get _queryObject(){return sI(this._queryParams)}isEqual(e){if(e=a_(e),!(e instanceof cC))return!1;const t=this._repo===e._repo,r=Uk(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+DX(this._path)}}class Bu extends cC{constructor(e,t){super(e,t,new $M,!1)}get parent(){const e=Hk(this._path);return e===null?null:new Bu(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}function zae(n,e){return n=a_(n),n._checkNotDeleted("ref"),e!==void 0?Aq(n._root,e):n._root}function Aq(n,e){return n=a_(n),St(n._path)===null?nq("child","path",e,!1):xO("child","path",e,!1),new Bu(n._repo,$n(n._path,e))}function Vae(n,e){n=a_(n),rq("set",n._path),tq("set",e,n._path,!1);const t=new s_;return pq(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}UQ(Bu);GQ(Bu);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eq="FIREBASE_DATABASE_EMULATOR_HOST",cA={};let Mq=!1;function Cq(n,e,t,r,i){let s=r||n.options.databaseURL;s===void 0&&(n.options.projectId||pu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Er("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let o=xI(s,i),a=o.repoInfo,l,u;typeof process!="undefined"&&(u=process.env[Eq]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=xI(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const d=i&&l?new ZS(ZS.OWNER):new oX(n.name,n.options,e);iq("Invalid Firebase Database URL",o),bt(o.path)||pu("Database URL must point to the root of a Firebase Database (not including a child path).");const h=Tq(a,n,d,new sX(n.name,t));return new Rq(h,n)}function bq(n,e){const t=cA[e];(!t||t[n.key]!==n)&&pu(`Database ${e}(${n.repoInfo_}) has already been deleted.`),gq(n),delete t[n.key]}function Tq(n,e,t,r){let i=cA[e.name];i||(i={},cA[e.name]=i);let s=i[n.toURLString()];return s&&pu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new cq(n,Mq,t,r),i[n.toURLString()]=s,s}class Rq{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(fq(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Bu(this._repo,Kt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(bq(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&pu("Cannot call "+e+" on a deleted database.")}}function Wae(n=FK(),e){return IK(n,"database").getImmediate({identifier:e})}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pq(n){jK(DK),$y(new sp("database",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Cq(r,i,s,t)},"PUBLIC").setMultipleInstances(!0)),tf(GP,zP,n),tf(GP,zP,"esm2017")}Po.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Po.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};Pq();var Iq="firebase",Bq="9.6.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tf(Iq,Bq,"app");function Lq(n){return Zi("MuiAlert",n)}const Dq=Gr("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);var wI=Dq;function Fq(n){return Zi("MuiIconButton",n)}const kq=Gr("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]);var Oq=kq;const Nq=["edge","children","className","color","disabled","disableFocusRipple","size"],Hq=n=>{const{classes:e,disabled:t,color:r,edge:i,size:s}=n,o={root:["root",t&&"disabled",r!=="default"&&`color${br(r)}`,i&&`edge${br(i)}`,`size${br(s)}`]};return Ss(o,Fq,e)},Uq=Wn(FF,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="default"&&e[`color${br(t.color)}`],t.edge&&e[`edge${br(t.edge)}`],e[`size${br(t.size)}`]]}})(({theme:n,ownerState:e})=>Re({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:n.palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:xa(n.palette.action.active,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:n,ownerState:e})=>Re({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&Re({color:n.palette[e.color].main},!e.disableRipple&&{"&:hover":{backgroundColor:xa(n.palette[e.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),e.size==="small"&&{padding:5,fontSize:n.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:n.typography.pxToRem(28)},{[`&.${Oq.disabled}`]:{backgroundColor:"transparent",color:n.palette.action.disabled}})),Gq=V.exports.forwardRef(function(e,t){const r=es({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:u=!1,size:d="medium"}=r,h=Vt(r,Nq),p=Re({},r,{edge:i,color:a,disabled:l,disableFocusRipple:u,size:d}),m=Hq(p);return ot(Uq,Re({className:Bn(m.root,o),centerRipple:!0,focusRipple:!u,disabled:l,ref:t,ownerState:p},h,{children:s}))});var zq=Gq;function Vq(n){return Zi("MuiSvgIcon",n)}Gr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Wq=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],jq=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${br(e)}`,`fontSize${br(t)}`]};return Ss(i,Vq,r)},Jq=Wn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${br(t.color)}`],e[`fontSize${br(t.fontSize)}`]]}})(({theme:n,ownerState:e})=>{var t,r,i,s,o,a,l,u,d,h,p,m,y,g,_,w,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(t=n.transitions)==null||(r=t.create)==null?void 0:r.call(t,"fill",{duration:(i=n.transitions)==null||(s=i.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((o=n.typography)==null||(a=o.pxToRem)==null?void 0:a.call(o,20))||"1.25rem",medium:((l=n.typography)==null||(u=l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem",large:((d=n.typography)==null||(h=d.pxToRem)==null?void 0:h.call(d,35))||"2.1875"}[e.fontSize],color:(p=(m=n.palette)==null||(y=m[e.color])==null?void 0:y.main)!=null?p:{action:(g=n.palette)==null||(_=g.action)==null?void 0:_.active,disabled:(w=n.palette)==null||(x=w.action)==null?void 0:x.disabled,inherit:void 0}[e.color]}}),TO=V.exports.forwardRef(function(e,t){const r=es({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:h,viewBox:p="0 0 24 24"}=r,m=Vt(r,Wq),y=Re({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:p}),g={};d||(g.viewBox=p);const _=jq(y);return Ru(Jq,Re({as:a,className:Bn(_.root,s),ownerState:y,focusable:"false",color:u,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:t},g,m,{children:[i,h?ot("title",{children:h}):null]}))});TO.muiName="SvgIcon";var SI=TO;function nm(n,e){const t=(r,i)=>ot(SI,Re({"data-testid":`${e}Icon`,ref:i},r,{children:n}));return t.muiName=SI.muiName,V.exports.memo(V.exports.forwardRef(t))}var $q=nm(ot("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),Kq=nm(ot("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),Xq=nm(ot("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),Qq=nm(ot("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),qq=nm(ot("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),AI;const Yq=["action","children","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"],Zq=n=>{const{variant:e,color:t,severity:r,classes:i}=n,s={root:["root",`${e}${br(t||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return Ss(s,Lq,i)},eY=Wn(bM,{name:"MuiAlert",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${br(t.color||t.severity)}`]]}})(({theme:n,ownerState:e})=>{const t=n.palette.mode==="light"?kS:OS,r=n.palette.mode==="light"?OS:kS,i=e.color||e.severity;return Re({},n.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},i&&e.variant==="standard"&&{color:t(n.palette[i].light,.6),backgroundColor:r(n.palette[i].light,.9),[`& .${wI.icon}`]:{color:n.palette.mode==="dark"?n.palette[i].main:n.palette[i].light}},i&&e.variant==="outlined"&&{color:t(n.palette[i].light,.6),border:`1px solid ${n.palette[i].light}`,[`& .${wI.icon}`]:{color:n.palette.mode==="dark"?n.palette[i].main:n.palette[i].light}},i&&e.variant==="filled"&&{color:"#fff",fontWeight:n.typography.fontWeightMedium,backgroundColor:n.palette.mode==="dark"?n.palette[i].dark:n.palette[i].main})}),tY=Wn("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(n,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),nY=Wn("div",{name:"MuiAlert",slot:"Message",overridesResolver:(n,e)=>e.message})({padding:"8px 0"}),EI=Wn("div",{name:"MuiAlert",slot:"Action",overridesResolver:(n,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),MI={success:ot($q,{fontSize:"inherit"}),warning:ot(Kq,{fontSize:"inherit"}),error:ot(Xq,{fontSize:"inherit"}),info:ot(Qq,{fontSize:"inherit"})},rY=V.exports.forwardRef(function(e,t){const r=es({props:e,name:"MuiAlert"}),{action:i,children:s,className:o,closeText:a="Close",color:l,icon:u,iconMapping:d=MI,onClose:h,role:p="alert",severity:m="success",variant:y="standard"}=r,g=Vt(r,Yq),_=Re({},r,{color:l,severity:m,variant:y}),w=Zq(_);return Ru(eY,Re({role:p,elevation:0,ownerState:_,className:Bn(w.root,o),ref:t},g,{children:[u!==!1?ot(tY,{ownerState:_,className:w.icon,children:u||d[m]||MI[m]}):null,ot(nY,{ownerState:_,className:w.message,children:s}),i!=null?ot(EI,{className:w.action,children:i}):null,i==null&&h?ot(EI,{ownerState:_,className:w.action,children:ot(zq,{size:"small","aria-label":a,title:a,color:"inherit",onClick:h,children:AI||(AI=ot(qq,{fontSize:"small"}))})}):null]}))});var jae=rY;/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const p_="139",kl={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Ol={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},RO=0,fA=1,PO=2,iY=3,sY=0,fC=1,dC=2,Vc=3,Ga=0,Ai=1,za=2,hC=1,oY=2,Io=0,nu=1,dA=2,hA=3,pA=4,IO=5,Ul=100,BO=101,LO=102,mA=103,gA=104,DO=200,FO=201,kO=202,OO=203,pC=204,mC=205,NO=206,HO=207,UO=208,GO=209,zO=210,VO=0,WO=1,jO=2,nv=3,JO=4,$O=5,KO=6,XO=7,rm=0,QO=1,qO=2,ys=0,YO=1,ZO=2,eN=3,gC=4,tN=5,m_=300,Va=301,Wa=302,lp=303,up=304,ed=306,ja=1e3,Mr=1001,Sf=1002,Dn=1003,cp=1004,aY=1004,fp=1005,lY=1005,_n=1006,g_=1007,uY=1007,zo=1008,cY=1008,Ja=1009,nN=1010,rN=1011,Af=1012,iN=1013,Ch=1014,bo=1015,ru=1016,sN=1017,oN=1018,iu=1020,aN=1021,lN=1022,_i=1023,uN=1024,cN=1025,Da=1026,vu=1027,fN=1028,dN=1029,hN=1030,pN=1031,mN=1033,iy=33776,sy=33777,oy=33778,ay=33779,yA=35840,vA=35841,_A=35842,xA=35843,gN=36196,wA=37492,SA=37496,AA=37808,EA=37809,MA=37810,CA=37811,bA=37812,TA=37813,RA=37814,PA=37815,IA=37816,BA=37817,LA=37818,DA=37819,FA=37820,kA=37821,OA=36492,yN=2200,vN=2201,_N=2202,Ef=2300,_u=2301,ly=2302,Xl=2400,Ql=2401,dp=2402,y_=2500,yC=2501,xN=0,wN=1,vC=2,xs=3e3,Ut=3001,SN=3200,AN=3201,rl=0,EN=1,fY="",Ds="srgb",wa="srgb-linear",dY=0,uy=7680,hY=7681,pY=7682,mY=7683,gY=34055,yY=34056,vY=5386,_Y=512,xY=513,wY=514,SY=515,AY=516,EY=517,MY=518,MN=519,Mf=35044,Cf=35048,CY=35040,bY=35045,TY=35049,RY=35041,PY=35046,IY=35050,BY=35042,LY="100",NA="300 es",rv=1035;class Vo{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const ar=[];for(let n=0;n<256;n++)ar[n]=(n<16?"0":"")+n.toString(16);let CI=1234567;const su=Math.PI/180,hp=180/Math.PI;function Ei(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ar[n&255]+ar[n>>8&255]+ar[n>>16&255]+ar[n>>24&255]+"-"+ar[e&255]+ar[e>>8&255]+"-"+ar[e>>16&15|64]+ar[e>>24&255]+"-"+ar[t&63|128]+ar[t>>8&255]+"-"+ar[t>>16&255]+ar[t>>24&255]+ar[r&255]+ar[r>>8&255]+ar[r>>16&255]+ar[r>>24&255]).toLowerCase()}function Fn(n,e,t){return Math.max(e,Math.min(t,n))}function _C(n,e){return(n%e+e)%e}function DY(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function FY(n,e,t){return n!==e?(t-n)/(e-n):0}function bh(n,e,t){return(1-t)*n+t*e}function kY(n,e,t,r){return bh(n,e,1-Math.exp(-t*r))}function OY(n,e=1){return e-Math.abs(_C(n,e*2)-e)}function NY(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function HY(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function UY(n,e){return n+Math.floor(Math.random()*(e-n+1))}function GY(n,e){return n+Math.random()*(e-n)}function zY(n){return n*(.5-Math.random())}function VY(n){n!==void 0&&(CI=n);let e=CI+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function WY(n){return n*su}function jY(n){return n*hp}function HA(n){return(n&n-1)===0&&n!==0}function CN(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function iv(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function JY(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),u=s((e+r)/2),d=o((e+r)/2),h=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),y=o((r-e)/2);switch(i){case"XYX":n.set(a*d,l*h,l*p,a*u);break;case"YZY":n.set(l*p,a*d,l*h,a*u);break;case"ZXZ":n.set(l*h,l*p,a*d,a*u);break;case"XZX":n.set(a*d,l*y,l*m,a*u);break;case"YXY":n.set(l*m,a*d,l*y,a*u);break;case"ZYZ":n.set(l*y,l*m,a*d,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function $Y(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function KY(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var UA=Object.freeze({__proto__:null,DEG2RAD:su,RAD2DEG:hp,generateUUID:Ei,clamp:Fn,euclideanModulo:_C,mapLinear:DY,inverseLerp:FY,lerp:bh,damp:kY,pingpong:OY,smoothstep:NY,smootherstep:HY,randInt:UY,randFloat:GY,randFloatSpread:zY,seededRandom:VY,degToRad:WY,radToDeg:jY,isPowerOfTwo:HA,ceilPowerOfTwo:CN,floorPowerOfTwo:iv,setQuaternionFromProperEuler:JY,normalize:KY,denormalize:$Y});class ye{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}ye.prototype.isVector2=!0;class Xn{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,s,o,a,l,u){const d=this.elements;return d[0]=e,d[1]=i,d[2]=a,d[3]=t,d[4]=s,d[5]=l,d[6]=r,d[7]=o,d[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],d=r[4],h=r[7],p=r[2],m=r[5],y=r[8],g=i[0],_=i[3],w=i[6],x=i[1],A=i[4],E=i[7],C=i[2],T=i[5],R=i[8];return s[0]=o*g+a*x+l*C,s[3]=o*_+a*A+l*T,s[6]=o*w+a*E+l*R,s[1]=u*g+d*x+h*C,s[4]=u*_+d*A+h*T,s[7]=u*w+d*E+h*R,s[2]=p*g+m*x+y*C,s[5]=p*_+m*A+y*T,s[8]=p*w+m*E+y*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8];return t*o*d-t*a*u-r*s*d+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8],h=d*o-a*u,p=a*l-d*s,m=u*s-o*l,y=t*h+r*p+i*m;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/y;return e[0]=h*g,e[1]=(i*u-d*r)*g,e[2]=(a*r-i*o)*g,e[3]=p*g,e[4]=(d*t-i*l)*g,e[5]=(i*s-a*t)*g,e[6]=m*g,e[7]=(r*l-u*t)*g,e[8]=(o*t-r*s)*g,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.elements,s=i[0],o=i[3],a=i[6],l=i[1],u=i[4],d=i[7];return i[0]=t*s+r*l,i[3]=t*o+r*u,i[6]=t*a+r*d,i[1]=-r*s+t*l,i[4]=-r*o+t*u,i[7]=-r*a+t*d,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}Xn.prototype.isMatrix3=!0;function bN(n){for(let e=n.length-1;e>=0;--e)if(n[e]>65535)return!0;return!1}const XY={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Wc(n,e){return new XY[n](e)}function pp(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function ou(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function cy(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const U1={[Ds]:{[wa]:ou},[wa]:{[Ds]:cy}},Dr={legacyMode:!0,get workingColorSpace(){return wa},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(U1[e]&&U1[e][t]!==void 0){const r=U1[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},TN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Jn={r:0,g:0,b:0},is={h:0,s:0,l:0},Kg={h:0,s:0,l:0};function G1(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function Xg(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}class Ie{constructor(e,t,r){return t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Ds){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Dr.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=wa){return this.r=e,this.g=t,this.b=r,Dr.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=wa){if(e=_C(e,1),t=Fn(t,0,1),r=Fn(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=G1(o,s,e+1/3),this.g=G1(o,s,e),this.b=G1(o,s,e-1/3)}return Dr.toWorkingColorSpace(this,i),this}setStyle(e,t=Ds){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,Dr.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,Dr.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,u=parseInt(s[2],10)/100,d=parseInt(s[3],10)/100;return r(s[4]),this.setHSL(l,u,d,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,Dr.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,Dr.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Ds){const r=TN[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ou(e.r),this.g=ou(e.g),this.b=ou(e.b),this}copyLinearToSRGB(e){return this.r=cy(e.r),this.g=cy(e.g),this.b=cy(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ds){return Dr.fromWorkingColorSpace(Xg(this,Jn),e),Fn(Jn.r*255,0,255)<<16^Fn(Jn.g*255,0,255)<<8^Fn(Jn.b*255,0,255)<<0}getHexString(e=Ds){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=wa){Dr.fromWorkingColorSpace(Xg(this,Jn),t);const r=Jn.r,i=Jn.g,s=Jn.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const d=(a+o)/2;if(a===o)l=0,u=0;else{const h=o-a;switch(u=d<=.5?h/(o+a):h/(2-o-a),o){case r:l=(i-s)/h+(i<s?6:0);break;case i:l=(s-r)/h+2;break;case s:l=(r-i)/h+4;break}l/=6}return e.h=l,e.s=u,e.l=d,e}getRGB(e,t=wa){return Dr.fromWorkingColorSpace(Xg(this,Jn),t),e.r=Jn.r,e.g=Jn.g,e.b=Jn.b,e}getStyle(e=Ds){return Dr.fromWorkingColorSpace(Xg(this,Jn),e),e!==Ds?`color(${e} ${Jn.r} ${Jn.g} ${Jn.b})`:`rgb(${Jn.r*255|0},${Jn.g*255|0},${Jn.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(is),is.h+=e,is.s+=t,is.l+=r,this.setHSL(is.h,is.s,is.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(is),e.getHSL(Kg);const r=bh(is.h,Kg.h,t),i=bh(is.s,Kg.s,t),s=bh(is.l,Kg.l,t);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}Ie.NAMES=TN;Ie.prototype.isColor=!0;Ie.prototype.r=1;Ie.prototype.g=1;Ie.prototype.b=1;let oc;class il{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{oc===void 0&&(oc=pp("canvas")),oc.width=e.width,oc.height=e.height;const r=oc.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=oc}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement!="undefined"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&e instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&e instanceof ImageBitmap){const t=pp("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=ou(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(ou(t[r]/255)*255):t[r]=ou(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class ql{constructor(e=null){this.uuid=Ei(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(z1(i[o].image)):s.push(z1(i[o]))}else s=z1(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function z1(n){return typeof HTMLImageElement!="undefined"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&n instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&n instanceof ImageBitmap?il.getDataURL(n):n.data?{data:Array.prototype.slice.call(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}ql.prototype.isSource=!0;let QY=0;class Sn extends Vo{constructor(e=Sn.DEFAULT_IMAGE,t=Sn.DEFAULT_MAPPING,r=Mr,i=Mr,s=_n,o=zo,a=_i,l=Ja,u=1,d=xs){super();Object.defineProperty(this,"id",{value:QY++}),this.uuid=Ei(),this.name="",this.source=new ql(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new ye(0,0),this.repeat=new ye(1,1),this.center=new ye(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Xn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==m_)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ja:e.x=e.x-Math.floor(e.x);break;case Mr:e.x=e.x<0?0:1;break;case Sf:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case ja:e.y=e.y-Math.floor(e.y);break;case Mr:e.y=e.y<0?0:1;break;case Sf:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Sn.DEFAULT_IMAGE=null;Sn.DEFAULT_MAPPING=m_;Sn.prototype.isTexture=!0;class Gt{constructor(e=0,t=0,r=0,i=1){this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,u=l[0],d=l[4],h=l[8],p=l[1],m=l[5],y=l[9],g=l[2],_=l[6],w=l[10];if(Math.abs(d-p)<.01&&Math.abs(h-g)<.01&&Math.abs(y-_)<.01){if(Math.abs(d+p)<.1&&Math.abs(h+g)<.1&&Math.abs(y+_)<.1&&Math.abs(u+m+w-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const A=(u+1)/2,E=(m+1)/2,C=(w+1)/2,T=(d+p)/4,R=(h+g)/4,I=(y+_)/4;return A>E&&A>C?A<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(A),i=T/r,s=R/r):E>C?E<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(E),r=T/i,s=I/i):C<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(C),r=R/s,i=I/s),this.set(r,i,s,t),this}let x=Math.sqrt((_-y)*(_-y)+(h-g)*(h-g)+(p-d)*(p-d));return Math.abs(x)<.001&&(x=1),this.x=(_-y)/x,this.y=(h-g)/x,this.z=(p-d)/x,this.w=Math.acos((u+m+w-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}Gt.prototype.isVector4=!0;class fr extends Vo{constructor(e,t,r={}){super();this.width=e,this.height=t,this.depth=1,this.scissor=new Gt(0,0,e,t),this.scissorTest=!1,this.viewport=new Gt(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new Sn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:_n,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0,this.texture.image=Object.assign({},e.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}fr.prototype.isWebGLRenderTarget=!0;class td extends Sn{constructor(e=null,t=1,r=1,i=1){super(null);this.image={data:e,width:t,height:r,depth:i},this.magFilter=Dn,this.minFilter=Dn,this.wrapR=Mr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}td.prototype.isDataArrayTexture=!0;class RN extends fr{constructor(e,t,r){super(e,t);this.depth=r,this.texture=new td(null,e,t,r),this.texture.isRenderTargetTexture=!0}}RN.prototype.isWebGLArrayRenderTarget=!0;class im extends Sn{constructor(e=null,t=1,r=1,i=1){super(null);this.image={data:e,width:t,height:r,depth:i},this.magFilter=Dn,this.minFilter=Dn,this.wrapR=Mr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}im.prototype.isData3DTexture=!0;class PN extends fr{constructor(e,t,r){super(e,t);this.depth=r,this.texture=new im(null,e,t,r),this.texture.isRenderTargetTexture=!0}}PN.prototype.isWebGL3DRenderTarget=!0;class IN extends fr{constructor(e,t,r,i={}){super(e,t,i);const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone();return this}}IN.prototype.isWebGLMultipleRenderTargets=!0;class Vn{constructor(e=0,t=0,r=0,i=1){this._x=e,this._y=t,this._z=r,this._w=i}static slerp(e,t,r,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,t,i)}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],u=r[i+1],d=r[i+2],h=r[i+3];const p=s[o+0],m=s[o+1],y=s[o+2],g=s[o+3];if(a===0){e[t+0]=l,e[t+1]=u,e[t+2]=d,e[t+3]=h;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=y,e[t+3]=g;return}if(h!==g||l!==p||u!==m||d!==y){let _=1-a;const w=l*p+u*m+d*y+h*g,x=w>=0?1:-1,A=1-w*w;if(A>Number.EPSILON){const C=Math.sqrt(A),T=Math.atan2(C,w*x);_=Math.sin(_*T)/C,a=Math.sin(a*T)/C}const E=a*x;if(l=l*_+p*E,u=u*_+m*E,d=d*_+y*E,h=h*_+g*E,_===1-a){const C=1/Math.sqrt(l*l+u*u+d*d+h*h);l*=C,u*=C,d*=C,h*=C}}e[t]=l,e[t+1]=u,e[t+2]=d,e[t+3]=h}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],d=r[i+3],h=s[o],p=s[o+1],m=s[o+2],y=s[o+3];return e[t]=a*y+d*h+l*m-u*p,e[t+1]=l*y+d*p+u*h-a*m,e[t+2]=u*y+d*m+a*p-l*h,e[t+3]=d*y-a*h-l*p-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),d=a(i/2),h=a(s/2),p=l(r/2),m=l(i/2),y=l(s/2);switch(o){case"XYZ":this._x=p*d*h+u*m*y,this._y=u*m*h-p*d*y,this._z=u*d*y+p*m*h,this._w=u*d*h-p*m*y;break;case"YXZ":this._x=p*d*h+u*m*y,this._y=u*m*h-p*d*y,this._z=u*d*y-p*m*h,this._w=u*d*h+p*m*y;break;case"ZXY":this._x=p*d*h-u*m*y,this._y=u*m*h+p*d*y,this._z=u*d*y+p*m*h,this._w=u*d*h-p*m*y;break;case"ZYX":this._x=p*d*h-u*m*y,this._y=u*m*h+p*d*y,this._z=u*d*y-p*m*h,this._w=u*d*h+p*m*y;break;case"YZX":this._x=p*d*h+u*m*y,this._y=u*m*h+p*d*y,this._z=u*d*y-p*m*h,this._w=u*d*h-p*m*y;break;case"XZY":this._x=p*d*h-u*m*y,this._y=u*m*h-p*d*y,this._z=u*d*y+p*m*h,this._w=u*d*h+p*m*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],u=t[2],d=t[6],h=t[10],p=r+a+h;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(d-l)*m,this._y=(s-u)*m,this._z=(o-i)*m}else if(r>a&&r>h){const m=2*Math.sqrt(1+r-a-h);this._w=(d-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+u)/m}else if(a>h){const m=2*Math.sqrt(1+a-r-h);this._w=(s-u)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+d)/m}else{const m=2*Math.sqrt(1+h-r-a);this._w=(o-i)/m,this._x=(s+u)/m,this._y=(l+d)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Fn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,u=t._z,d=t._w;return this._x=r*d+o*a+i*u-s*l,this._y=i*d+o*l+s*a-r*u,this._z=s*d+o*u+r*l-i*a,this._w=o*d-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),d=Math.atan2(u,a),h=Math.sin((1-t)*d)/u,p=Math.sin(t*d)/u;return this._w=o*h+this._w*p,this._x=r*h+this._x*p,this._y=i*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Vn.prototype.isQuaternion=!0;class F{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(bI.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(bI.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*t+o*i-a*r,d=l*r+a*t-s*i,h=l*i+s*r-o*t,p=-s*t-o*r-a*i;return this.x=u*l+p*-s+d*-a-h*-o,this.y=d*l+p*-o+h*-s-u*-a,this.z=h*l+p*-a+u*-o-d*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return V1.copy(this).projectOnVector(e),this.sub(V1)}reflect(e){return this.sub(V1.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Fn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}F.prototype.isVector3=!0;const V1=new F,bI=new Vn;class ui{constructor(e=new F(1/0,1/0,1/0),t=new F(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.length;l<u;l+=3){const d=e[l],h=e[l+1],p=e[l+2];d<t&&(t=d),h<r&&(r=h),p<i&&(i=p),d>s&&(s=d),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.count;l<u;l++){const d=e.getX(l),h=e.getY(l),p=e.getZ(l);d<t&&(t=d),h<r&&(r=h),p<i&&(i=p),d>s&&(s=d),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Sl.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)Sl.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Sl)}else r.boundingBox===null&&r.computeBoundingBox(),W1.copy(r.boundingBox),W1.applyMatrix4(e.matrixWorld),this.union(W1);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Sl),Sl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Jd),Qg.subVectors(this.max,Jd),ac.subVectors(e.a,Jd),lc.subVectors(e.b,Jd),uc.subVectors(e.c,Jd),sa.subVectors(lc,ac),oa.subVectors(uc,lc),Al.subVectors(ac,uc);let t=[0,-sa.z,sa.y,0,-oa.z,oa.y,0,-Al.z,Al.y,sa.z,0,-sa.x,oa.z,0,-oa.x,Al.z,0,-Al.x,-sa.y,sa.x,0,-oa.y,oa.x,0,-Al.y,Al.x,0];return!j1(t,ac,lc,uc,Qg)||(t=[1,0,0,0,1,0,0,0,1],!j1(t,ac,lc,uc,Qg))?!1:(qg.crossVectors(sa,oa),t=[qg.x,qg.y,qg.z],j1(t,ac,lc,uc,Qg))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Sl.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Sl).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(co[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),co[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),co[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),co[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),co[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),co[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),co[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),co[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(co),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}ui.prototype.isBox3=!0;const co=[new F,new F,new F,new F,new F,new F,new F,new F],Sl=new F,W1=new ui,ac=new F,lc=new F,uc=new F,sa=new F,oa=new F,Al=new F,Jd=new F,Qg=new F,qg=new F,El=new F;function j1(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){El.fromArray(n,s);const a=i.x*Math.abs(El.x)+i.y*Math.abs(El.y)+i.z*Math.abs(El.z),l=e.dot(El),u=t.dot(El),d=r.dot(El);if(Math.max(-Math.max(l,u,d),Math.min(l,u,d))>a)return!1}return!0}const qY=new ui,TI=new F,Yg=new F,J1=new F;class Wo{constructor(e=new F,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):qY.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){J1.subVectors(e,this.center);const t=J1.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.add(J1.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return this.center.equals(e.center)===!0?Yg.set(0,0,1).multiplyScalar(e.radius):Yg.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(TI.copy(e.center).add(Yg)),this.expandByPoint(TI.copy(e.center).sub(Yg)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const fo=new F,$1=new F,Zg=new F,aa=new F,K1=new F,e0=new F,X1=new F;class sl{constructor(e=new F,t=new F(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,fo)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=fo.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(fo.copy(this.direction).multiplyScalar(t).add(this.origin),fo.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){$1.copy(e).add(t).multiplyScalar(.5),Zg.copy(t).sub(e).normalize(),aa.copy(this.origin).sub($1);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Zg),a=aa.dot(this.direction),l=-aa.dot(Zg),u=aa.lengthSq(),d=Math.abs(1-o*o);let h,p,m,y;if(d>0)if(h=o*l-a,p=o*a-l,y=s*d,h>=0)if(p>=-y)if(p<=y){const g=1/d;h*=g,p*=g,m=h*(h+o*p+2*a)+p*(o*h+p+2*l)+u}else p=s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+u;else p=-s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+u;else p<=-y?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+u):p<=y?(h=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+u):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+u);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+u;return r&&r.copy(this.direction).multiplyScalar(h).add(this.origin),i&&i.copy(Zg).multiplyScalar(p).add($1),m}intersectSphere(e,t){fo.subVectors(e.center,this.origin);const r=fo.dot(this.direction),i=fo.dot(fo)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const u=1/this.direction.x,d=1/this.direction.y,h=1/this.direction.z,p=this.origin;return u>=0?(r=(e.min.x-p.x)*u,i=(e.max.x-p.x)*u):(r=(e.max.x-p.x)*u,i=(e.min.x-p.x)*u),d>=0?(s=(e.min.y-p.y)*d,o=(e.max.y-p.y)*d):(s=(e.max.y-p.y)*d,o=(e.min.y-p.y)*d),r>o||s>i||((s>r||r!==r)&&(r=s),(o<i||i!==i)&&(i=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,fo)!==null}intersectTriangle(e,t,r,i,s){K1.subVectors(t,e),e0.subVectors(r,e),X1.crossVectors(K1,e0);let o=this.direction.dot(X1),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;aa.subVectors(this.origin,e);const l=a*this.direction.dot(e0.crossVectors(aa,e0));if(l<0)return null;const u=a*this.direction.dot(K1.cross(aa));if(u<0||l+u>o)return null;const d=-a*aa.dot(X1);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Xe{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,s,o,a,l,u,d,h,p,m,y,g,_){const w=this.elements;return w[0]=e,w[4]=t,w[8]=r,w[12]=i,w[1]=s,w[5]=o,w[9]=a,w[13]=l,w[2]=u,w[6]=d,w[10]=h,w[14]=p,w[3]=m,w[7]=y,w[11]=g,w[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Xe().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/cc.setFromMatrixColumn(e,0).length(),s=1/cc.setFromMatrixColumn(e,1).length(),o=1/cc.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),d=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*d,m=o*h,y=a*d,g=a*h;t[0]=l*d,t[4]=-l*h,t[8]=u,t[1]=m+y*u,t[5]=p-g*u,t[9]=-a*l,t[2]=g-p*u,t[6]=y+m*u,t[10]=o*l}else if(e.order==="YXZ"){const p=l*d,m=l*h,y=u*d,g=u*h;t[0]=p+g*a,t[4]=y*a-m,t[8]=o*u,t[1]=o*h,t[5]=o*d,t[9]=-a,t[2]=m*a-y,t[6]=g+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*d,m=l*h,y=u*d,g=u*h;t[0]=p-g*a,t[4]=-o*h,t[8]=y+m*a,t[1]=m+y*a,t[5]=o*d,t[9]=g-p*a,t[2]=-o*u,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*d,m=o*h,y=a*d,g=a*h;t[0]=l*d,t[4]=y*u-m,t[8]=p*u+g,t[1]=l*h,t[5]=g*u+p,t[9]=m*u-y,t[2]=-u,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*u,y=a*l,g=a*u;t[0]=l*d,t[4]=g-p*h,t[8]=y*h+m,t[1]=h,t[5]=o*d,t[9]=-a*d,t[2]=-u*d,t[6]=m*h+y,t[10]=p-g*h}else if(e.order==="XZY"){const p=o*l,m=o*u,y=a*l,g=a*u;t[0]=l*d,t[4]=-h,t[8]=u*d,t[1]=p*h+g,t[5]=o*d,t[9]=m*h-y,t[2]=y*h-m,t[6]=a*d,t[10]=g*h+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(YY,e,ZY)}lookAt(e,t,r){const i=this.elements;return mi.subVectors(e,t),mi.lengthSq()===0&&(mi.z=1),mi.normalize(),la.crossVectors(r,mi),la.lengthSq()===0&&(Math.abs(r.z)===1?mi.x+=1e-4:mi.z+=1e-4,mi.normalize(),la.crossVectors(r,mi)),la.normalize(),t0.crossVectors(mi,la),i[0]=la.x,i[4]=t0.x,i[8]=mi.x,i[1]=la.y,i[5]=t0.y,i[9]=mi.y,i[2]=la.z,i[6]=t0.z,i[10]=mi.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],d=r[1],h=r[5],p=r[9],m=r[13],y=r[2],g=r[6],_=r[10],w=r[14],x=r[3],A=r[7],E=r[11],C=r[15],T=i[0],R=i[4],I=i[8],O=i[12],L=i[1],P=i[5],B=i[9],q=i[13],W=i[2],$=i[6],J=i[10],K=i[14],k=i[3],X=i[7],Z=i[11],ae=i[15];return s[0]=o*T+a*L+l*W+u*k,s[4]=o*R+a*P+l*$+u*X,s[8]=o*I+a*B+l*J+u*Z,s[12]=o*O+a*q+l*K+u*ae,s[1]=d*T+h*L+p*W+m*k,s[5]=d*R+h*P+p*$+m*X,s[9]=d*I+h*B+p*J+m*Z,s[13]=d*O+h*q+p*K+m*ae,s[2]=y*T+g*L+_*W+w*k,s[6]=y*R+g*P+_*$+w*X,s[10]=y*I+g*B+_*J+w*Z,s[14]=y*O+g*q+_*K+w*ae,s[3]=x*T+A*L+E*W+C*k,s[7]=x*R+A*P+E*$+C*X,s[11]=x*I+A*B+E*J+C*Z,s[15]=x*O+A*q+E*K+C*ae,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],d=e[2],h=e[6],p=e[10],m=e[14],y=e[3],g=e[7],_=e[11],w=e[15];return y*(+s*l*h-i*u*h-s*a*p+r*u*p+i*a*m-r*l*m)+g*(+t*l*m-t*u*p+s*o*p-i*o*m+i*u*d-s*l*d)+_*(+t*u*h-t*a*m-s*o*h+r*o*m+s*a*d-r*u*d)+w*(-i*a*d-t*l*h+t*a*p+i*o*h-r*o*p+r*l*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8],h=e[9],p=e[10],m=e[11],y=e[12],g=e[13],_=e[14],w=e[15],x=h*_*u-g*p*u+g*l*m-a*_*m-h*l*w+a*p*w,A=y*p*u-d*_*u-y*l*m+o*_*m+d*l*w-o*p*w,E=d*g*u-y*h*u+y*a*m-o*g*m-d*a*w+o*h*w,C=y*h*l-d*g*l-y*a*p+o*g*p+d*a*_-o*h*_,T=t*x+r*A+i*E+s*C;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/T;return e[0]=x*R,e[1]=(g*p*s-h*_*s-g*i*m+r*_*m+h*i*w-r*p*w)*R,e[2]=(a*_*s-g*l*s+g*i*u-r*_*u-a*i*w+r*l*w)*R,e[3]=(h*l*s-a*p*s-h*i*u+r*p*u+a*i*m-r*l*m)*R,e[4]=A*R,e[5]=(d*_*s-y*p*s+y*i*m-t*_*m-d*i*w+t*p*w)*R,e[6]=(y*l*s-o*_*s-y*i*u+t*_*u+o*i*w-t*l*w)*R,e[7]=(o*p*s-d*l*s+d*i*u-t*p*u-o*i*m+t*l*m)*R,e[8]=E*R,e[9]=(y*h*s-d*g*s-y*r*m+t*g*m+d*r*w-t*h*w)*R,e[10]=(o*g*s-y*a*s+y*r*u-t*g*u-o*r*w+t*a*w)*R,e[11]=(d*a*s-o*h*s-d*r*u+t*h*u+o*r*m-t*a*m)*R,e[12]=C*R,e[13]=(d*g*i-y*h*i+y*r*p-t*g*p-d*r*_+t*h*_)*R,e[14]=(y*a*i-o*g*i-y*r*l+t*g*l+o*r*_-t*a*_)*R,e[15]=(o*h*i-d*a*i+d*r*l-t*h*l-o*r*p+t*a*p)*R,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,d=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,d*a+r,d*l-i*o,0,u*l-i*a,d*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,u=s+s,d=o+o,h=a+a,p=s*u,m=s*d,y=s*h,g=o*d,_=o*h,w=a*h,x=l*u,A=l*d,E=l*h,C=r.x,T=r.y,R=r.z;return i[0]=(1-(g+w))*C,i[1]=(m+E)*C,i[2]=(y-A)*C,i[3]=0,i[4]=(m-E)*T,i[5]=(1-(p+w))*T,i[6]=(_+x)*T,i[7]=0,i[8]=(y+A)*R,i[9]=(_-x)*R,i[10]=(1-(p+g))*R,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=cc.set(i[0],i[1],i[2]).length();const o=cc.set(i[4],i[5],i[6]).length(),a=cc.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],ss.copy(this);const u=1/s,d=1/o,h=1/a;return ss.elements[0]*=u,ss.elements[1]*=u,ss.elements[2]*=u,ss.elements[4]*=d,ss.elements[5]*=d,ss.elements[6]*=d,ss.elements[8]*=h,ss.elements[9]*=h,ss.elements[10]*=h,t.setFromRotationMatrix(ss),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){o===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,l=2*s/(t-e),u=2*s/(r-i),d=(t+e)/(t-e),h=(r+i)/(r-i),p=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=d,a[12]=0,a[1]=0,a[5]=u,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,l=1/(t-e),u=1/(r-i),d=1/(o-s),h=(t+e)*l,p=(r+i)*u,m=(o+s)*d;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*d,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}Xe.prototype.isMatrix4=!0;const cc=new F,ss=new Xe,YY=new F(0,0,0),ZY=new F(1,1,1),la=new F,t0=new F,mi=new F,RI=new Xe,PI=new Vn;class ol{constructor(e=0,t=0,r=0,i=ol.DefaultOrder){this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],d=i[9],h=i[2],p=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(Fn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Fn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Fn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Fn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Fn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Fn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return RI.makeRotationFromQuaternion(e),this.setFromRotationMatrix(RI,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return PI.setFromEuler(this),this.setFromQuaternion(PI,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}ol.prototype.isEuler=!0;ol.DefaultOrder="XYZ";ol.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class au{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let eZ=0;const II=new F,fc=new Vn,ho=new Xe,n0=new F,$d=new F,tZ=new F,nZ=new Vn,BI=new F(1,0,0),LI=new F(0,1,0),DI=new F(0,0,1),rZ={type:"added"},FI={type:"removed"};class _t extends Vo{constructor(){super();Object.defineProperty(this,"id",{value:eZ++}),this.uuid=Ei(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=_t.DefaultUp.clone();const e=new F,t=new ol,r=new Vn,i=new F(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Xe},normalMatrix:{value:new Xn}}),this.matrix=new Xe,this.matrixWorld=new Xe,this.matrixAutoUpdate=_t.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new au,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return fc.setFromAxisAngle(e,t),this.quaternion.multiply(fc),this}rotateOnWorldAxis(e,t){return fc.setFromAxisAngle(e,t),this.quaternion.premultiply(fc),this}rotateX(e){return this.rotateOnAxis(BI,e)}rotateY(e){return this.rotateOnAxis(LI,e)}rotateZ(e){return this.rotateOnAxis(DI,e)}translateOnAxis(e,t){return II.copy(e).applyQuaternion(this.quaternion),this.position.add(II.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(BI,e)}translateY(e){return this.translateOnAxis(LI,e)}translateZ(e){return this.translateOnAxis(DI,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(ho.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?n0.copy(e):n0.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),$d.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ho.lookAt($d,n0,this.up):ho.lookAt(n0,$d,this.up),this.quaternion.setFromRotationMatrix(ho),i&&(ho.extractRotation(i.matrixWorld),fc.setFromRotationMatrix(ho),this.quaternion.premultiply(fc.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(rZ)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(FI)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(FI)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),ho.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ho.multiply(e.parent.matrixWorld)),e.applyMatrix4(ho),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($d,e,tZ),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($d,nZ,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,d=l.length;u<d;u++){const h=l[u];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),d=o(e.images),h=o(e.shapes),p=o(e.skeletons),m=o(e.animations),y=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),d.length>0&&(r.images=d),h.length>0&&(r.shapes=h),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),y.length>0&&(r.nodes=y)}return r.object=i,r;function o(a){const l=[];for(const u in a){const d=a[u];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}_t.DefaultUp=new F(0,1,0);_t.DefaultMatrixAutoUpdate=!0;_t.prototype.isObject3D=!0;const os=new F,po=new F,Q1=new F,mo=new F,dc=new F,hc=new F,kI=new F,q1=new F,Y1=new F,Z1=new F;class kn{constructor(e=new F,t=new F,r=new F){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),os.subVectors(e,t),i.cross(os);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){os.subVectors(i,t),po.subVectors(r,t),Q1.subVectors(e,t);const o=os.dot(os),a=os.dot(po),l=os.dot(Q1),u=po.dot(po),d=po.dot(Q1),h=o*u-a*a;if(h===0)return s.set(-2,-1,-1);const p=1/h,m=(u*l-a*d)*p,y=(o*d-a*l)*p;return s.set(1-m-y,y,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,mo),mo.x>=0&&mo.y>=0&&mo.x+mo.y<=1}static getUV(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,mo),l.set(0,0),l.addScaledVector(s,mo.x),l.addScaledVector(o,mo.y),l.addScaledVector(a,mo.z),l}static isFrontFacing(e,t,r,i){return os.subVectors(r,t),po.subVectors(e,t),os.cross(po).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return os.subVectors(this.c,this.b),po.subVectors(this.a,this.b),os.cross(po).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return kn.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return kn.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return kn.getUV(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return kn.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return kn.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;dc.subVectors(i,r),hc.subVectors(s,r),q1.subVectors(e,r);const l=dc.dot(q1),u=hc.dot(q1);if(l<=0&&u<=0)return t.copy(r);Y1.subVectors(e,i);const d=dc.dot(Y1),h=hc.dot(Y1);if(d>=0&&h<=d)return t.copy(i);const p=l*h-d*u;if(p<=0&&l>=0&&d<=0)return o=l/(l-d),t.copy(r).addScaledVector(dc,o);Z1.subVectors(e,s);const m=dc.dot(Z1),y=hc.dot(Z1);if(y>=0&&m<=y)return t.copy(s);const g=m*u-l*y;if(g<=0&&u>=0&&y<=0)return a=u/(u-y),t.copy(r).addScaledVector(hc,a);const _=d*y-m*h;if(_<=0&&h-d>=0&&m-y>=0)return kI.subVectors(s,i),a=(h-d)/(h-d+(m-y)),t.copy(i).addScaledVector(kI,a);const w=1/(_+g+p);return o=g*w,a=p*w,t.copy(r).addScaledVector(dc,o).addScaledVector(hc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let iZ=0;class hn extends Vo{constructor(){super();Object.defineProperty(this,"id",{value:iZ++}),this.uuid=Ei(),this.name="",this.type="Material",this.fog=!0,this.blending=nu,this.side=Ga,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=pC,this.blendDst=mC,this.blendEquation=Ul,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=nv,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=MN,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=uy,this.stencilZFail=uy,this.stencilZPass=uy,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===hC;continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==nu&&(r.blending=this.blending),this.side!==Ga&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}hn.prototype.isMaterial=!0;hn.fromType=function(){return null};class ti extends hn{constructor(e){super();this.type="MeshBasicMaterial",this.color=new Ie(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=rm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}ti.prototype.isMeshBasicMaterial=!0;const Hn=new F,r0=new ye;class vt{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r===!0,this.usage=Mf,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new Ie),t[r++]=o.r,t[r++]=o.g,t[r++]=o.b}return this}copyVector2sArray(e){const t=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new ye),t[r++]=o.x,t[r++]=o.y}return this}copyVector3sArray(e){const t=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new F),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z}return this}copyVector4sArray(e){const t=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new Gt),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z,t[r++]=o.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)r0.fromBufferAttribute(this,t),r0.applyMatrix3(e),this.setXY(t,r0.x,r0.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Hn.fromBufferAttribute(this,t),Hn.applyMatrix3(e),this.setXYZ(t,Hn.x,Hn.y,Hn.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Hn.fromBufferAttribute(this,t),Hn.applyMatrix4(e),this.setXYZ(t,Hn.x,Hn.y,Hn.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Hn.fromBufferAttribute(this,t),Hn.applyNormalMatrix(e),this.setXYZ(t,Hn.x,Hn.y,Hn.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Hn.fromBufferAttribute(this,t),Hn.transformDirection(e),this.setXYZ(t,Hn.x,Hn.y,Hn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Mf&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}vt.prototype.isBufferAttribute=!0;class BN extends vt{constructor(e,t,r){super(new Int8Array(e),t,r)}}class LN extends vt{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class DN extends vt{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class FN extends vt{constructor(e,t,r){super(new Int16Array(e),t,r)}}class v_ extends vt{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class kN extends vt{constructor(e,t,r){super(new Int32Array(e),t,r)}}class __ extends vt{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class ON extends vt{constructor(e,t,r){super(new Uint16Array(e),t,r)}}ON.prototype.isFloat16BufferAttribute=!0;class Qe extends vt{constructor(e,t,r){super(new Float32Array(e),t,r)}}class NN extends vt{constructor(e,t,r){super(new Float64Array(e),t,r)}}let sZ=0;const Gi=new Xe,ew=new _t,pc=new F,gi=new ui,Kd=new ui,er=new F;class rt extends Vo{constructor(){super();Object.defineProperty(this,"id",{value:sZ++}),this.uuid=Ei(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(bN(e)?__:v_)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Xn().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Gi.makeRotationFromQuaternion(e),this.applyMatrix4(Gi),this}rotateX(e){return Gi.makeRotationX(e),this.applyMatrix4(Gi),this}rotateY(e){return Gi.makeRotationY(e),this.applyMatrix4(Gi),this}rotateZ(e){return Gi.makeRotationZ(e),this.applyMatrix4(Gi),this}translate(e,t,r){return Gi.makeTranslation(e,t,r),this.applyMatrix4(Gi),this}scale(e,t,r){return Gi.makeScale(e,t,r),this.applyMatrix4(Gi),this}lookAt(e){return ew.lookAt(e),ew.updateMatrix(),this.applyMatrix4(ew.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(pc).negate(),this.translate(pc.x,pc.y,pc.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Qe(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ui);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new F(-1/0,-1/0,-1/0),new F(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];gi.setFromBufferAttribute(s),this.morphTargetsRelative?(er.addVectors(this.boundingBox.min,gi.min),this.boundingBox.expandByPoint(er),er.addVectors(this.boundingBox.max,gi.max),this.boundingBox.expandByPoint(er)):(this.boundingBox.expandByPoint(gi.min),this.boundingBox.expandByPoint(gi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Wo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new F,1/0);return}if(e){const r=this.boundingSphere.center;if(gi.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];Kd.setFromBufferAttribute(a),this.morphTargetsRelative?(er.addVectors(gi.min,Kd.min),gi.expandByPoint(er),er.addVectors(gi.max,Kd.max),gi.expandByPoint(er)):(gi.expandByPoint(Kd.min),gi.expandByPoint(Kd.max))}gi.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)er.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(er));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let u=0,d=a.count;u<d;u++)er.fromBufferAttribute(a,u),l&&(pc.fromBufferAttribute(e,u),er.add(pc)),i=Math.max(i,r.distanceToSquared(er))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new vt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],d=[];for(let L=0;L<a;L++)u[L]=new F,d[L]=new F;const h=new F,p=new F,m=new F,y=new ye,g=new ye,_=new ye,w=new F,x=new F;function A(L,P,B){h.fromArray(i,L*3),p.fromArray(i,P*3),m.fromArray(i,B*3),y.fromArray(o,L*2),g.fromArray(o,P*2),_.fromArray(o,B*2),p.sub(h),m.sub(h),g.sub(y),_.sub(y);const q=1/(g.x*_.y-_.x*g.y);!isFinite(q)||(w.copy(p).multiplyScalar(_.y).addScaledVector(m,-g.y).multiplyScalar(q),x.copy(m).multiplyScalar(g.x).addScaledVector(p,-_.x).multiplyScalar(q),u[L].add(w),u[P].add(w),u[B].add(w),d[L].add(x),d[P].add(x),d[B].add(x))}let E=this.groups;E.length===0&&(E=[{start:0,count:r.length}]);for(let L=0,P=E.length;L<P;++L){const B=E[L],q=B.start,W=B.count;for(let $=q,J=q+W;$<J;$+=3)A(r[$+0],r[$+1],r[$+2])}const C=new F,T=new F,R=new F,I=new F;function O(L){R.fromArray(s,L*3),I.copy(R);const P=u[L];C.copy(P),C.sub(R.multiplyScalar(R.dot(P))).normalize(),T.crossVectors(I,P);const q=T.dot(d[L])<0?-1:1;l[L*4]=C.x,l[L*4+1]=C.y,l[L*4+2]=C.z,l[L*4+3]=q}for(let L=0,P=E.length;L<P;++L){const B=E[L],q=B.start,W=B.count;for(let $=q,J=q+W;$<J;$+=3)O(r[$+0]),O(r[$+1]),O(r[$+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new vt(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new F,s=new F,o=new F,a=new F,l=new F,u=new F,d=new F,h=new F;if(e)for(let p=0,m=e.count;p<m;p+=3){const y=e.getX(p+0),g=e.getX(p+1),_=e.getX(p+2);i.fromBufferAttribute(t,y),s.fromBufferAttribute(t,g),o.fromBufferAttribute(t,_),d.subVectors(o,s),h.subVectors(i,s),d.cross(h),a.fromBufferAttribute(r,y),l.fromBufferAttribute(r,g),u.fromBufferAttribute(r,_),a.add(d),l.add(d),u.add(d),r.setXYZ(y,a.x,a.y,a.z),r.setXYZ(g,l.x,l.y,l.z),r.setXYZ(_,u.x,u.y,u.z)}else for(let p=0,m=t.count;p<m;p+=3)i.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),d.subVectors(o,s),h.subVectors(i,s),d.cross(h),r.setXYZ(p+0,d.x,d.y,d.z),r.setXYZ(p+1,d.x,d.y,d.z),r.setXYZ(p+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const r=this.attributes;for(const i in r){if(e.attributes[i]===void 0)continue;const o=r[i].array,a=e.attributes[i],l=a.array,u=a.itemSize*t,d=Math.min(l.length,o.length-u);for(let h=0,p=u;h<d;h++,p++)o[p]=l[h]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)er.fromBufferAttribute(e,t),er.normalize(),e.setXYZ(t,er.x,er.y,er.z)}toNonIndexed(){function e(a,l){const u=a.array,d=a.itemSize,h=a.normalized,p=new u.constructor(l.length*d);let m=0,y=0;for(let g=0,_=l.length;g<_;g++){a.isInterleavedBufferAttribute?m=l[g]*a.data.stride+a.offset:m=l[g]*d;for(let w=0;w<d;w++)p[y++]=u[m++]}return new vt(p,d,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new rt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);t.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let d=0,h=u.length;d<h;d++){const p=u[d],m=e(p,r);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],d=[];for(let h=0,p=u.length;h<p;h++){const m=u[h];d.push(m.toJSON(e.data))}d.length>0&&(i[l]=d,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const u in i){const d=i[u];this.setAttribute(u,d.clone(t))}const s=e.morphAttributes;for(const u in s){const d=[],h=s[u];for(let p=0,m=h.length;p<m;p++)d.push(h[p].clone(t));this.morphAttributes[u]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,d=o.length;u<d;u++){const h=o[u];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}rt.prototype.isBufferGeometry=!0;const OI=new Xe,mc=new sl,tw=new Wo,ua=new F,ca=new F,fa=new F,nw=new F,rw=new F,iw=new F,i0=new F,s0=new F,o0=new F,a0=new ye,l0=new ye,u0=new ye,sw=new F,c0=new F;class bn extends _t{constructor(e=new rt,t=new ti){super();this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),tw.copy(r.boundingSphere),tw.applyMatrix4(s),e.ray.intersectsSphere(tw)===!1)||(OI.copy(s).invert(),mc.copy(e.ray).applyMatrix4(OI),r.boundingBox!==null&&mc.intersectsBox(r.boundingBox)===!1))return;let o;if(r.isBufferGeometry){const a=r.index,l=r.attributes.position,u=r.morphAttributes.position,d=r.morphTargetsRelative,h=r.attributes.uv,p=r.attributes.uv2,m=r.groups,y=r.drawRange;if(a!==null)if(Array.isArray(i))for(let g=0,_=m.length;g<_;g++){const w=m[g],x=i[w.materialIndex],A=Math.max(w.start,y.start),E=Math.min(a.count,Math.min(w.start+w.count,y.start+y.count));for(let C=A,T=E;C<T;C+=3){const R=a.getX(C),I=a.getX(C+1),O=a.getX(C+2);o=f0(this,x,e,mc,l,u,d,h,p,R,I,O),o&&(o.faceIndex=Math.floor(C/3),o.face.materialIndex=w.materialIndex,t.push(o))}}else{const g=Math.max(0,y.start),_=Math.min(a.count,y.start+y.count);for(let w=g,x=_;w<x;w+=3){const A=a.getX(w),E=a.getX(w+1),C=a.getX(w+2);o=f0(this,i,e,mc,l,u,d,h,p,A,E,C),o&&(o.faceIndex=Math.floor(w/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let g=0,_=m.length;g<_;g++){const w=m[g],x=i[w.materialIndex],A=Math.max(w.start,y.start),E=Math.min(l.count,Math.min(w.start+w.count,y.start+y.count));for(let C=A,T=E;C<T;C+=3){const R=C,I=C+1,O=C+2;o=f0(this,x,e,mc,l,u,d,h,p,R,I,O),o&&(o.faceIndex=Math.floor(C/3),o.face.materialIndex=w.materialIndex,t.push(o))}}else{const g=Math.max(0,y.start),_=Math.min(l.count,y.start+y.count);for(let w=g,x=_;w<x;w+=3){const A=w,E=w+1,C=w+2;o=f0(this,i,e,mc,l,u,d,h,p,A,E,C),o&&(o.faceIndex=Math.floor(w/3),t.push(o))}}}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}bn.prototype.isMesh=!0;function oZ(n,e,t,r,i,s,o,a){let l;if(e.side===Ai?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side!==za,a),l===null)return null;c0.copy(a),c0.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(c0);return u<t.near||u>t.far?null:{distance:u,point:c0.clone(),object:n}}function f0(n,e,t,r,i,s,o,a,l,u,d,h){ua.fromBufferAttribute(i,u),ca.fromBufferAttribute(i,d),fa.fromBufferAttribute(i,h);const p=n.morphTargetInfluences;if(s&&p){i0.set(0,0,0),s0.set(0,0,0),o0.set(0,0,0);for(let y=0,g=s.length;y<g;y++){const _=p[y],w=s[y];_!==0&&(nw.fromBufferAttribute(w,u),rw.fromBufferAttribute(w,d),iw.fromBufferAttribute(w,h),o?(i0.addScaledVector(nw,_),s0.addScaledVector(rw,_),o0.addScaledVector(iw,_)):(i0.addScaledVector(nw.sub(ua),_),s0.addScaledVector(rw.sub(ca),_),o0.addScaledVector(iw.sub(fa),_)))}ua.add(i0),ca.add(s0),fa.add(o0)}n.isSkinnedMesh&&(n.boneTransform(u,ua),n.boneTransform(d,ca),n.boneTransform(h,fa));const m=oZ(n,e,t,r,ua,ca,fa,sw);if(m){a&&(a0.fromBufferAttribute(a,u),l0.fromBufferAttribute(a,d),u0.fromBufferAttribute(a,h),m.uv=kn.getUV(sw,ua,ca,fa,a0,l0,u0,new ye)),l&&(a0.fromBufferAttribute(l,u),l0.fromBufferAttribute(l,d),u0.fromBufferAttribute(l,h),m.uv2=kn.getUV(sw,ua,ca,fa,a0,l0,u0,new ye));const y={a:u,b:d,c:h,normal:new F,materialIndex:0};kn.getNormal(ua,ca,fa,y.normal),m.face=y}return m}class Oo extends rt{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super();this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],d=[],h=[];let p=0,m=0;y("z","y","x",-1,-1,r,t,e,o,s,0),y("z","y","x",1,-1,r,t,-e,o,s,1),y("x","z","y",1,1,e,r,t,i,o,2),y("x","z","y",1,-1,e,r,-t,i,o,3),y("x","y","z",1,-1,e,t,r,i,s,4),y("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Qe(u,3)),this.setAttribute("normal",new Qe(d,3)),this.setAttribute("uv",new Qe(h,2));function y(g,_,w,x,A,E,C,T,R,I,O){const L=E/R,P=C/I,B=E/2,q=C/2,W=T/2,$=R+1,J=I+1;let K=0,k=0;const X=new F;for(let Z=0;Z<J;Z++){const ae=Z*P-q;for(let Q=0;Q<$;Q++){const se=Q*L-B;X[g]=se*x,X[_]=ae*A,X[w]=W,u.push(X.x,X.y,X.z),X[g]=0,X[_]=0,X[w]=T>0?1:-1,d.push(X.x,X.y,X.z),h.push(Q/R),h.push(1-Z/I),K+=1}}for(let Z=0;Z<I;Z++)for(let ae=0;ae<R;ae++){const Q=p+ae+$*Z,se=p+ae+$*(Z+1),pe=p+(ae+1)+$*(Z+1),_e=p+(ae+1)+$*Z;l.push(Q,se,_e),l.push(se,pe,_e),k+=6}a.addGroup(m,k,O),m+=k,p+=K}}static fromJSON(e){return new Oo(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function bf(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Sr(n){const e={};for(let t=0;t<n.length;t++){const r=bf(n[t]);for(const i in r)e[i]=r[i]}return e}const HN={clone:bf,merge:Sr};var aZ=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,lZ=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ai extends hn{constructor(e){super();this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=aZ,this.fragmentShader=lZ,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=bf(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}ai.prototype.isShaderMaterial=!0;class nd extends _t{constructor(){super();this.type="Camera",this.matrixWorldInverse=new Xe,this.projectionMatrix=new Xe,this.projectionMatrixInverse=new Xe}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}nd.prototype.isCamera=!0;class Yt extends nd{constructor(e=50,t=1,r=.1,i=2e3){super();this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=hp*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(su*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return hp*2*Math.atan(Math.tan(su*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(su*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}Yt.prototype.isPerspectiveCamera=!0;const gc=90,yc=1;class x_ extends _t{constructor(e,t,r){super();if(this.type="CubeCamera",r.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=r;const i=new Yt(gc,yc,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new F(1,0,0)),this.add(i);const s=new Yt(gc,yc,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new F(-1,0,0)),this.add(s);const o=new Yt(gc,yc,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new F(0,1,0)),this.add(o);const a=new Yt(gc,yc,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new F(0,-1,0)),this.add(a);const l=new Yt(gc,yc,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new F(0,0,1)),this.add(l);const u=new Yt(gc,yc,e,t);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new F(0,0,-1)),this.add(u)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,u]=this.children,d=e.getRenderTarget(),h=e.outputEncoding,p=e.toneMapping,m=e.xr.enabled;e.outputEncoding=xs,e.toneMapping=ys,e.xr.enabled=!1;const y=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=y,e.setRenderTarget(r,5),e.render(t,u),e.setRenderTarget(d),e.outputEncoding=h,e.toneMapping=p,e.xr.enabled=m,r.texture.needsPMREMUpdate=!0}}class rd extends Sn{constructor(e,t,r,i,s,o,a,l,u,d){e=e!==void 0?e:[],t=t!==void 0?t:Va;super(e,t,r,i,s,o,a,l,u,d);this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}rd.prototype.isCubeTexture=!0;class w_ extends fr{constructor(e,t={}){super(e,e,t);const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new rd(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:_n}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Oo(5,5,5),s=new ai({name:"CubemapFromEquirect",uniforms:bf(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Ai,blending:Io});s.uniforms.tEquirect.value=t;const o=new bn(i,s),a=t.minFilter;return t.minFilter===zo&&(t.minFilter=_n),new x_(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}w_.prototype.isWebGLCubeRenderTarget=!0;const ow=new F,uZ=new F,cZ=new Xn;class Ns{constructor(e=new F(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=ow.subVectors(r,t).cross(uZ.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(ow),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||cZ.getNormalMatrix(e),i=this.coplanarPoint(ow).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}Ns.prototype.isPlane=!0;const vc=new Wo,d0=new F;class sm{constructor(e=new Ns,t=new Ns,r=new Ns,i=new Ns,s=new Ns,o=new Ns){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],u=r[5],d=r[6],h=r[7],p=r[8],m=r[9],y=r[10],g=r[11],_=r[12],w=r[13],x=r[14],A=r[15];return t[0].setComponents(a-i,h-l,g-p,A-_).normalize(),t[1].setComponents(a+i,h+l,g+p,A+_).normalize(),t[2].setComponents(a+s,h+u,g+m,A+w).normalize(),t[3].setComponents(a-s,h-u,g-m,A-w).normalize(),t[4].setComponents(a-o,h-d,g-y,A-x).normalize(),t[5].setComponents(a+o,h+d,g+y,A+x).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),vc.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(vc)}intersectsSprite(e){return vc.center.set(0,0,0),vc.radius=.7071067811865476,vc.applyMatrix4(e.matrixWorld),this.intersectsSphere(vc)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(d0.x=i.normal.x>0?e.max.x:e.min.x,d0.y=i.normal.y>0?e.max.y:e.min.y,d0.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(d0)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function UN(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function fZ(n,e){const t=e.isWebGL2,r=new WeakMap;function i(u,d){const h=u.array,p=u.usage,m=n.createBuffer();n.bindBuffer(d,m),n.bufferData(d,h,p),u.onUploadCallback();let y;if(h instanceof Float32Array)y=5126;else if(h instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(t)y=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=5123;else if(h instanceof Int16Array)y=5122;else if(h instanceof Uint32Array)y=5125;else if(h instanceof Int32Array)y=5124;else if(h instanceof Int8Array)y=5120;else if(h instanceof Uint8Array)y=5121;else if(h instanceof Uint8ClampedArray)y=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:m,type:y,bytesPerElement:h.BYTES_PER_ELEMENT,version:u.version}}function s(u,d,h){const p=d.array,m=d.updateRange;n.bindBuffer(h,u),m.count===-1?n.bufferSubData(h,0,p):(t?n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1)}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const d=r.get(u);d&&(n.deleteBuffer(d.buffer),r.delete(u))}function l(u,d){if(u.isGLBufferAttribute){const p=r.get(u);(!p||p.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const h=r.get(u);h===void 0?r.set(u,i(u,d)):h.version<u.version&&(s(h.buffer,u,d),h.version=u.version)}return{get:o,remove:a,update:l}}class $a extends rt{constructor(e=1,t=1,r=1,i=1){super();this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),u=a+1,d=l+1,h=e/a,p=t/l,m=[],y=[],g=[],_=[];for(let w=0;w<d;w++){const x=w*p-o;for(let A=0;A<u;A++){const E=A*h-s;y.push(E,-x,0),g.push(0,0,1),_.push(A/a),_.push(1-w/l)}}for(let w=0;w<l;w++)for(let x=0;x<a;x++){const A=x+u*w,E=x+u*(w+1),C=x+1+u*(w+1),T=x+1+u*w;m.push(A,E,T),m.push(E,C,T)}this.setIndex(m),this.setAttribute("position",new Qe(y,3)),this.setAttribute("normal",new Qe(g,3)),this.setAttribute("uv",new Qe(_,2))}static fromJSON(e){return new $a(e.width,e.height,e.widthSegments,e.heightSegments)}}var dZ=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,hZ=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,pZ=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,mZ=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,gZ=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,yZ=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,vZ="vec3 transformed = vec3( position );",_Z=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,xZ=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,wZ=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,SZ=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,AZ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,EZ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,MZ=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,CZ=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,bZ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,TZ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,RZ=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,PZ=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,IZ=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,BZ=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,LZ=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,DZ=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,FZ=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,kZ=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,OZ="gl_FragColor = linearToOutputTexel( gl_FragColor );",NZ=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,HZ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,UZ=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,GZ=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,zZ=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,VZ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,WZ=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,jZ=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,JZ=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,$Z=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,KZ=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,XZ=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,QZ=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,qZ=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,YZ=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,ZZ=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,eee=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,tee=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,nee=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,ree=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,iee=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,see=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,oee=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,aee=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lee=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,uee=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,cee=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,fee=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,dee=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,hee=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,pee=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,mee=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,gee=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,yee=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,vee=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,_ee=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,xee=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,wee=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,See=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Aee=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,Eee=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Mee=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Cee=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,bee=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Tee=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,Ree=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Pee=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,Iee=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,Bee=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Lee=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,Dee=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Fee=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,kee=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Oee=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Nee=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Hee=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Uee=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Gee=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,zee=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,Vee=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Wee=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,jee=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,Jee=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,$ee=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Kee=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Xee=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Qee=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,qee=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Yee=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,Zee=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,ete=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,tte=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,nte=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,rte=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,ite=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,ste=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,ote=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const ate=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,lte=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,ute=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cte=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,fte=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,dte=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,hte=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,pte=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,mte=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,gte=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,yte=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,vte=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,_te=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,xte=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wte=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ste=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ate=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Ete=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Mte=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Cte=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,bte=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Tte=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Rte=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Pte=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ite=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Bte=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Lte=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Dte=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Fte=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,kte=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Ote=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Nte=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,yt={alphamap_fragment:dZ,alphamap_pars_fragment:hZ,alphatest_fragment:pZ,alphatest_pars_fragment:mZ,aomap_fragment:gZ,aomap_pars_fragment:yZ,begin_vertex:vZ,beginnormal_vertex:_Z,bsdfs:xZ,bumpmap_pars_fragment:wZ,clipping_planes_fragment:SZ,clipping_planes_pars_fragment:AZ,clipping_planes_pars_vertex:EZ,clipping_planes_vertex:MZ,color_fragment:CZ,color_pars_fragment:bZ,color_pars_vertex:TZ,color_vertex:RZ,common:PZ,cube_uv_reflection_fragment:IZ,defaultnormal_vertex:BZ,displacementmap_pars_vertex:LZ,displacementmap_vertex:DZ,emissivemap_fragment:FZ,emissivemap_pars_fragment:kZ,encodings_fragment:OZ,encodings_pars_fragment:NZ,envmap_fragment:HZ,envmap_common_pars_fragment:UZ,envmap_pars_fragment:GZ,envmap_pars_vertex:zZ,envmap_physical_pars_fragment:ZZ,envmap_vertex:VZ,fog_vertex:WZ,fog_pars_vertex:jZ,fog_fragment:JZ,fog_pars_fragment:$Z,gradientmap_pars_fragment:KZ,lightmap_fragment:XZ,lightmap_pars_fragment:QZ,lights_lambert_vertex:qZ,lights_pars_begin:YZ,lights_toon_fragment:eee,lights_toon_pars_fragment:tee,lights_phong_fragment:nee,lights_phong_pars_fragment:ree,lights_physical_fragment:iee,lights_physical_pars_fragment:see,lights_fragment_begin:oee,lights_fragment_maps:aee,lights_fragment_end:lee,logdepthbuf_fragment:uee,logdepthbuf_pars_fragment:cee,logdepthbuf_pars_vertex:fee,logdepthbuf_vertex:dee,map_fragment:hee,map_pars_fragment:pee,map_particle_fragment:mee,map_particle_pars_fragment:gee,metalnessmap_fragment:yee,metalnessmap_pars_fragment:vee,morphcolor_vertex:_ee,morphnormal_vertex:xee,morphtarget_pars_vertex:wee,morphtarget_vertex:See,normal_fragment_begin:Aee,normal_fragment_maps:Eee,normal_pars_fragment:Mee,normal_pars_vertex:Cee,normal_vertex:bee,normalmap_pars_fragment:Tee,clearcoat_normal_fragment_begin:Ree,clearcoat_normal_fragment_maps:Pee,clearcoat_pars_fragment:Iee,output_fragment:Bee,packing:Lee,premultiplied_alpha_fragment:Dee,project_vertex:Fee,dithering_fragment:kee,dithering_pars_fragment:Oee,roughnessmap_fragment:Nee,roughnessmap_pars_fragment:Hee,shadowmap_pars_fragment:Uee,shadowmap_pars_vertex:Gee,shadowmap_vertex:zee,shadowmask_pars_fragment:Vee,skinbase_vertex:Wee,skinning_pars_vertex:jee,skinning_vertex:Jee,skinnormal_vertex:$ee,specularmap_fragment:Kee,specularmap_pars_fragment:Xee,tonemapping_fragment:Qee,tonemapping_pars_fragment:qee,transmission_fragment:Yee,transmission_pars_fragment:Zee,uv_pars_fragment:ete,uv_pars_vertex:tte,uv_vertex:nte,uv2_pars_fragment:rte,uv2_pars_vertex:ite,uv2_vertex:ste,worldpos_vertex:ote,background_vert:ate,background_frag:lte,cube_vert:ute,cube_frag:cte,depth_vert:fte,depth_frag:dte,distanceRGBA_vert:hte,distanceRGBA_frag:pte,equirect_vert:mte,equirect_frag:gte,linedashed_vert:yte,linedashed_frag:vte,meshbasic_vert:_te,meshbasic_frag:xte,meshlambert_vert:wte,meshlambert_frag:Ste,meshmatcap_vert:Ate,meshmatcap_frag:Ete,meshnormal_vert:Mte,meshnormal_frag:Cte,meshphong_vert:bte,meshphong_frag:Tte,meshphysical_vert:Rte,meshphysical_frag:Pte,meshtoon_vert:Ite,meshtoon_frag:Bte,points_vert:Lte,points_frag:Dte,shadow_vert:Fte,shadow_frag:kte,sprite_vert:Ote,sprite_frag:Nte},Ne={common:{diffuse:{value:new Ie(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Xn},uv2Transform:{value:new Xn},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ye(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ie(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ie(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Xn}},sprite:{diffuse:{value:new Ie(16777215)},opacity:{value:1},center:{value:new ye(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Xn}}},fs={basic:{uniforms:Sr([Ne.common,Ne.specularmap,Ne.envmap,Ne.aomap,Ne.lightmap,Ne.fog]),vertexShader:yt.meshbasic_vert,fragmentShader:yt.meshbasic_frag},lambert:{uniforms:Sr([Ne.common,Ne.specularmap,Ne.envmap,Ne.aomap,Ne.lightmap,Ne.emissivemap,Ne.fog,Ne.lights,{emissive:{value:new Ie(0)}}]),vertexShader:yt.meshlambert_vert,fragmentShader:yt.meshlambert_frag},phong:{uniforms:Sr([Ne.common,Ne.specularmap,Ne.envmap,Ne.aomap,Ne.lightmap,Ne.emissivemap,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.fog,Ne.lights,{emissive:{value:new Ie(0)},specular:{value:new Ie(1118481)},shininess:{value:30}}]),vertexShader:yt.meshphong_vert,fragmentShader:yt.meshphong_frag},standard:{uniforms:Sr([Ne.common,Ne.envmap,Ne.aomap,Ne.lightmap,Ne.emissivemap,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.roughnessmap,Ne.metalnessmap,Ne.fog,Ne.lights,{emissive:{value:new Ie(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:yt.meshphysical_vert,fragmentShader:yt.meshphysical_frag},toon:{uniforms:Sr([Ne.common,Ne.aomap,Ne.lightmap,Ne.emissivemap,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.gradientmap,Ne.fog,Ne.lights,{emissive:{value:new Ie(0)}}]),vertexShader:yt.meshtoon_vert,fragmentShader:yt.meshtoon_frag},matcap:{uniforms:Sr([Ne.common,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,Ne.fog,{matcap:{value:null}}]),vertexShader:yt.meshmatcap_vert,fragmentShader:yt.meshmatcap_frag},points:{uniforms:Sr([Ne.points,Ne.fog]),vertexShader:yt.points_vert,fragmentShader:yt.points_frag},dashed:{uniforms:Sr([Ne.common,Ne.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:yt.linedashed_vert,fragmentShader:yt.linedashed_frag},depth:{uniforms:Sr([Ne.common,Ne.displacementmap]),vertexShader:yt.depth_vert,fragmentShader:yt.depth_frag},normal:{uniforms:Sr([Ne.common,Ne.bumpmap,Ne.normalmap,Ne.displacementmap,{opacity:{value:1}}]),vertexShader:yt.meshnormal_vert,fragmentShader:yt.meshnormal_frag},sprite:{uniforms:Sr([Ne.sprite,Ne.fog]),vertexShader:yt.sprite_vert,fragmentShader:yt.sprite_frag},background:{uniforms:{uvTransform:{value:new Xn},t2D:{value:null}},vertexShader:yt.background_vert,fragmentShader:yt.background_frag},cube:{uniforms:Sr([Ne.envmap,{opacity:{value:1}}]),vertexShader:yt.cube_vert,fragmentShader:yt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:yt.equirect_vert,fragmentShader:yt.equirect_frag},distanceRGBA:{uniforms:Sr([Ne.common,Ne.displacementmap,{referencePosition:{value:new F},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:yt.distanceRGBA_vert,fragmentShader:yt.distanceRGBA_frag},shadow:{uniforms:Sr([Ne.lights,Ne.fog,{color:{value:new Ie(0)},opacity:{value:1}}]),vertexShader:yt.shadow_vert,fragmentShader:yt.shadow_frag}};fs.physical={uniforms:Sr([fs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ye(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new Ie(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ye},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Ie(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Ie(1,1,1)},specularColorMap:{value:null}}]),vertexShader:yt.meshphysical_vert,fragmentShader:yt.meshphysical_frag};function Hte(n,e,t,r,i,s){const o=new Ie(0);let a=i===!0?0:1,l,u,d=null,h=0,p=null;function m(g,_){let w=!1,x=_.isScene===!0?_.background:null;x&&x.isTexture&&(x=e.get(x));const A=n.xr,E=A.getSession&&A.getSession();E&&E.environmentBlendMode==="additive"&&(x=null),x===null?y(o,a):x&&x.isColor&&(y(x,1),w=!0),(n.autoClear||w)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),x&&(x.isCubeTexture||x.mapping===ed)?(u===void 0&&(u=new bn(new Oo(1,1,1),new ai({name:"BackgroundCubeMaterial",uniforms:bf(fs.cube.uniforms),vertexShader:fs.cube.vertexShader,fragmentShader:fs.cube.fragmentShader,side:Ai,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(C,T,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),u.material.uniforms.envMap.value=x,u.material.uniforms.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,(d!==x||h!==x.version||p!==n.toneMapping)&&(u.material.needsUpdate=!0,d=x,h=x.version,p=n.toneMapping),g.unshift(u,u.geometry,u.material,0,0,null)):x&&x.isTexture&&(l===void 0&&(l=new bn(new $a(2,2),new ai({name:"BackgroundMaterial",uniforms:bf(fs.background.uniforms),vertexShader:fs.background.vertexShader,fragmentShader:fs.background.fragmentShader,side:Ga,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=x,x.matrixAutoUpdate===!0&&x.updateMatrix(),l.material.uniforms.uvTransform.value.copy(x.matrix),(d!==x||h!==x.version||p!==n.toneMapping)&&(l.material.needsUpdate=!0,d=x,h=x.version,p=n.toneMapping),g.unshift(l,l.geometry,l.material,0,0,null))}function y(g,_){t.buffers.color.setClear(g.r,g.g,g.b,_,s)}return{getClearColor:function(){return o},setClearColor:function(g,_=1){o.set(g),a=_,y(o,a)},getClearAlpha:function(){return a},setClearAlpha:function(g){a=g,y(o,a)},render:m}}function Ute(n,e,t,r){const i=n.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=_(null);let u=l,d=!1;function h(W,$,J,K,k){let X=!1;if(o){const Z=g(K,J,$);u!==Z&&(u=Z,m(u.object)),X=w(K,k),X&&x(K,k)}else{const Z=$.wireframe===!0;(u.geometry!==K.id||u.program!==J.id||u.wireframe!==Z)&&(u.geometry=K.id,u.program=J.id,u.wireframe=Z,X=!0)}W.isInstancedMesh===!0&&(X=!0),k!==null&&t.update(k,34963),(X||d)&&(d=!1,I(W,$,J,K),k!==null&&n.bindBuffer(34963,t.get(k).buffer))}function p(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(W){return r.isWebGL2?n.bindVertexArray(W):s.bindVertexArrayOES(W)}function y(W){return r.isWebGL2?n.deleteVertexArray(W):s.deleteVertexArrayOES(W)}function g(W,$,J){const K=J.wireframe===!0;let k=a[W.id];k===void 0&&(k={},a[W.id]=k);let X=k[$.id];X===void 0&&(X={},k[$.id]=X);let Z=X[K];return Z===void 0&&(Z=_(p()),X[K]=Z),Z}function _(W){const $=[],J=[],K=[];for(let k=0;k<i;k++)$[k]=0,J[k]=0,K[k]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:$,enabledAttributes:J,attributeDivisors:K,object:W,attributes:{},index:null}}function w(W,$){const J=u.attributes,K=W.attributes;let k=0;for(const X in K){const Z=J[X],ae=K[X];if(Z===void 0||Z.attribute!==ae||Z.data!==ae.data)return!0;k++}return u.attributesNum!==k||u.index!==$}function x(W,$){const J={},K=W.attributes;let k=0;for(const X in K){const Z=K[X],ae={};ae.attribute=Z,Z.data&&(ae.data=Z.data),J[X]=ae,k++}u.attributes=J,u.attributesNum=k,u.index=$}function A(){const W=u.newAttributes;for(let $=0,J=W.length;$<J;$++)W[$]=0}function E(W){C(W,0)}function C(W,$){const J=u.newAttributes,K=u.enabledAttributes,k=u.attributeDivisors;J[W]=1,K[W]===0&&(n.enableVertexAttribArray(W),K[W]=1),k[W]!==$&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](W,$),k[W]=$)}function T(){const W=u.newAttributes,$=u.enabledAttributes;for(let J=0,K=$.length;J<K;J++)$[J]!==W[J]&&(n.disableVertexAttribArray(J),$[J]=0)}function R(W,$,J,K,k,X){r.isWebGL2===!0&&(J===5124||J===5125)?n.vertexAttribIPointer(W,$,J,k,X):n.vertexAttribPointer(W,$,J,K,k,X)}function I(W,$,J,K){if(r.isWebGL2===!1&&(W.isInstancedMesh||K.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;A();const k=K.attributes,X=J.getAttributes(),Z=$.defaultAttributeValues;for(const ae in X){const Q=X[ae];if(Q.location>=0){let se=k[ae];if(se===void 0&&(ae==="instanceMatrix"&&W.instanceMatrix&&(se=W.instanceMatrix),ae==="instanceColor"&&W.instanceColor&&(se=W.instanceColor)),se!==void 0){const pe=se.normalized,_e=se.itemSize,H=t.get(se);if(H===void 0)continue;const Be=H.buffer,ue=H.type,Le=H.bytesPerElement;if(se.isInterleavedBufferAttribute){const ve=se.data,Pe=ve.stride,ne=se.offset;if(ve.isInstancedInterleavedBuffer){for(let oe=0;oe<Q.locationSize;oe++)C(Q.location+oe,ve.meshPerAttribute);W.isInstancedMesh!==!0&&K._maxInstanceCount===void 0&&(K._maxInstanceCount=ve.meshPerAttribute*ve.count)}else for(let oe=0;oe<Q.locationSize;oe++)E(Q.location+oe);n.bindBuffer(34962,Be);for(let oe=0;oe<Q.locationSize;oe++)R(Q.location+oe,_e/Q.locationSize,ue,pe,Pe*Le,(ne+_e/Q.locationSize*oe)*Le)}else{if(se.isInstancedBufferAttribute){for(let ve=0;ve<Q.locationSize;ve++)C(Q.location+ve,se.meshPerAttribute);W.isInstancedMesh!==!0&&K._maxInstanceCount===void 0&&(K._maxInstanceCount=se.meshPerAttribute*se.count)}else for(let ve=0;ve<Q.locationSize;ve++)E(Q.location+ve);n.bindBuffer(34962,Be);for(let ve=0;ve<Q.locationSize;ve++)R(Q.location+ve,_e/Q.locationSize,ue,pe,_e*Le,_e/Q.locationSize*ve*Le)}}else if(Z!==void 0){const pe=Z[ae];if(pe!==void 0)switch(pe.length){case 2:n.vertexAttrib2fv(Q.location,pe);break;case 3:n.vertexAttrib3fv(Q.location,pe);break;case 4:n.vertexAttrib4fv(Q.location,pe);break;default:n.vertexAttrib1fv(Q.location,pe)}}}}T()}function O(){B();for(const W in a){const $=a[W];for(const J in $){const K=$[J];for(const k in K)y(K[k].object),delete K[k];delete $[J]}delete a[W]}}function L(W){if(a[W.id]===void 0)return;const $=a[W.id];for(const J in $){const K=$[J];for(const k in K)y(K[k].object),delete K[k];delete $[J]}delete a[W.id]}function P(W){for(const $ in a){const J=a[$];if(J[W.id]===void 0)continue;const K=J[W.id];for(const k in K)y(K[k].object),delete K[k];delete J[W.id]}}function B(){q(),d=!0,u!==l&&(u=l,m(u.object))}function q(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:B,resetDefaultState:q,dispose:O,releaseStatesOfGeometry:L,releaseStatesOfProgram:P,initAttributes:A,enableAttribute:E,disableUnusedAttributes:T}}function Gte(n,e,t,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,d){n.drawArrays(s,u,d),t.update(d,s,1)}function l(u,d,h){if(h===0)return;let p,m;if(i)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,u,d,h),t.update(d,s,h)}this.setMode=o,this.render=a,this.renderInstances=l}function zte(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(R){if(R==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";R="mediump"}return R==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext!="undefined"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&n instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),d=t.logarithmicDepthBuffer===!0,h=n.getParameter(34930),p=n.getParameter(35660),m=n.getParameter(3379),y=n.getParameter(34076),g=n.getParameter(34921),_=n.getParameter(36347),w=n.getParameter(36348),x=n.getParameter(36349),A=p>0,E=o||e.has("OES_texture_float"),C=A&&E,T=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:d,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:y,maxAttributes:g,maxVertexUniforms:_,maxVaryings:w,maxFragmentUniforms:x,vertexTextures:A,floatFragmentTextures:E,floatVertexTextures:C,maxSamples:T}}function Vte(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new Ns,a=new Xn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p,m){const y=h.length!==0||p||r!==0||i;return i=p,t=d(h,m,0),r=h.length,y},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1,u()},this.setState=function(h,p,m){const y=h.clippingPlanes,g=h.clipIntersection,_=h.clipShadows,w=n.get(h);if(!i||y===null||y.length===0||s&&!_)s?d(null):u();else{const x=s?0:r,A=x*4;let E=w.clippingState||null;l.value=E,E=d(y,p,A,m);for(let C=0;C!==A;++C)E[C]=t[C];w.clippingState=E,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=x}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(h,p,m,y){const g=h!==null?h.length:0;let _=null;if(g!==0){if(_=l.value,y!==!0||_===null){const w=m+g*4,x=p.matrixWorldInverse;a.getNormalMatrix(x),(_===null||_.length<w)&&(_=new Float32Array(w));for(let A=0,E=m;A!==g;++A,E+=4)o.copy(h[A]).applyMatrix4(x,a),o.normal.toArray(_,E),_[E+3]=o.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,_}}function Wte(n){let e=new WeakMap;function t(o,a){return a===lp?o.mapping=Va:a===up&&(o.mapping=Wa),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===lp||a===up)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new w_(l.height/2);return u.fromEquirectangularTexture(n,o),e.set(o,u),o.addEventListener("dispose",i),t(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Js extends nd{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super();this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}Js.prototype.isOrthographicCamera=!0;const jc=4,NI=[.125,.215,.35,.446,.526,.582],Gl=20,aw=new Js,HI=new Ie;let lw=null;const Nl=(1+Math.sqrt(5))/2,_c=1/Nl,UI=[new F(1,1,1),new F(-1,1,1),new F(1,1,-1),new F(-1,1,-1),new F(0,Nl,_c),new F(0,Nl,-_c),new F(_c,0,Nl),new F(-_c,0,Nl),new F(Nl,_c,0),new F(-Nl,_c,0)];class GA{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){lw=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=VI(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=zI(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(lw),e.scissorTest=!1,h0(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Va||e.mapping===Wa?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),lw=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize-32,r={magFilter:_n,minFilter:_n,generateMipmaps:!1,type:ru,format:_i,encoding:xs,depthBuffer:!1},i=GI(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=GI(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=jte(s)),this._blurMaterial=Jte(s,e,t)}return i}_compileMaterial(e){const t=new bn(this._lodPlanes[0],e);this._renderer.compile(t,aw)}_sceneToCubeUV(e,t,r,i){const a=new Yt(90,1,t,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],d=this._renderer,h=d.autoClear,p=d.toneMapping;d.getClearColor(HI),d.toneMapping=ys,d.autoClear=!1;const m=new ti({name:"PMREM.Background",side:Ai,depthWrite:!1,depthTest:!1}),y=new bn(new Oo,m);let g=!1;const _=e.background;_?_.isColor&&(m.color.copy(_),e.background=null,g=!0):(m.color.copy(HI),g=!0);for(let w=0;w<6;w++){const x=w%3;x===0?(a.up.set(0,l[w],0),a.lookAt(u[w],0,0)):x===1?(a.up.set(0,0,l[w]),a.lookAt(0,u[w],0)):(a.up.set(0,l[w],0),a.lookAt(0,0,u[w]));const A=this._cubeSize;h0(i,x*A,w>2?A:0,A,A),d.setRenderTarget(i),g&&d.render(y,a),d.render(e,a)}y.geometry.dispose(),y.material.dispose(),d.toneMapping=p,d.autoClear=h,e.background=_}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Va||e.mapping===Wa;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=VI()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=zI());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new bn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;h0(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,aw)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=UI[(i-1)%UI.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,h=new bn(this._lodPlanes[i],u),p=u.uniforms,m=this._sizeLods[r]-1,y=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Gl-1),g=s/y,_=isFinite(s)?1+Math.floor(d*g):Gl;_>Gl&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${Gl}`);const w=[];let x=0;for(let R=0;R<Gl;++R){const I=R/g,O=Math.exp(-I*I/2);w.push(O),R===0?x+=O:R<_&&(x+=2*O)}for(let R=0;R<w.length;R++)w[R]=w[R]/x;p.envMap.value=e.texture,p.samples.value=_,p.weights.value=w,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:A}=this;p.dTheta.value=y,p.mipInt.value=A-r;const E=this._sizeLods[i],C=3*E*(i>A-jc?i-A+jc:0),T=4*(this._cubeSize-E);h0(t,C,T,3*E,2*E),l.setRenderTarget(t),l.render(h,aw)}}function jte(n){const e=[],t=[],r=[];let i=n;const s=n-jc+1+NI.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-jc?l=NI[o-n+jc-1]:o===0&&(l=0),r.push(l);const u=1/(a-1),d=-u/2,h=1+u/2,p=[d,d,h,d,h,h,d,d,h,h,d,h],m=6,y=6,g=3,_=2,w=1,x=new Float32Array(g*y*m),A=new Float32Array(_*y*m),E=new Float32Array(w*y*m);for(let T=0;T<m;T++){const R=T%3*2/3-1,I=T>2?0:-1,O=[R,I,0,R+2/3,I,0,R+2/3,I+1,0,R,I,0,R+2/3,I+1,0,R,I+1,0];x.set(O,g*y*T),A.set(p,_*y*T);const L=[T,T,T,T,T,T];E.set(L,w*y*T)}const C=new rt;C.setAttribute("position",new vt(x,g)),C.setAttribute("uv",new vt(A,_)),C.setAttribute("faceIndex",new vt(E,w)),e.push(C),i>jc&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function GI(n,e,t){const r=new fr(n,e,t);return r.texture.mapping=ed,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function h0(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function Jte(n,e,t){const r=new Float32Array(Gl),i=new F(0,1,0);return new ai({name:"SphericalGaussianBlur",defines:{n:Gl,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:xC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Io,depthTest:!1,depthWrite:!1})}function zI(){return new ai({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:xC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Io,depthTest:!1,depthWrite:!1})}function VI(){return new ai({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:xC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Io,depthTest:!1,depthWrite:!1})}function xC(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function $te(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===lp||l===up,d=l===Va||l===Wa;if(u||d)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return t===null&&(t=new GA(n)),h=u?t.fromEquirectangular(a,h):t.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(u&&h&&h.height>0||d&&h&&i(h)){t===null&&(t=new GA(n));const p=u?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let d=0;d<u;d++)a[d]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function Kte(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Xte(n,e,t,r){const i={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(h,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,t.memory.geometries++),p}function l(h){const p=h.attributes;for(const y in p)e.update(p[y],34962);const m=h.morphAttributes;for(const y in m){const g=m[y];for(let _=0,w=g.length;_<w;_++)e.update(g[_],34962)}}function u(h){const p=[],m=h.index,y=h.attributes.position;let g=0;if(m!==null){const x=m.array;g=m.version;for(let A=0,E=x.length;A<E;A+=3){const C=x[A+0],T=x[A+1],R=x[A+2];p.push(C,T,T,R,R,C)}}else{const x=y.array;g=y.version;for(let A=0,E=x.length/3-1;A<E;A+=3){const C=A+0,T=A+1,R=A+2;p.push(C,T,T,R,R,C)}}const _=new(bN(p)?__:v_)(p,1);_.version=g;const w=s.get(h);w&&e.remove(w),s.set(h,_)}function d(h){const p=s.get(h);if(p){const m=h.index;m!==null&&p.version<m.version&&u(h)}else u(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:d}}function Qte(n,e,t,r){const i=r.isWebGL2;let s;function o(p){s=p}let a,l;function u(p){a=p.type,l=p.bytesPerElement}function d(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function h(p,m,y){if(y===0)return;let g,_;if(i)g=n,_="drawElementsInstanced";else if(g=e.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[_](s,m,a,p*l,y),t.update(m,s,y)}this.setMode=o,this.setIndex=u,this.render=d,this.renderInstances=h}function qte(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function Yte(n,e){return n[0]-e[0]}function Zte(n,e){return Math.abs(e[1])-Math.abs(n[1])}function uw(n,e){let t=1;const r=e.isInterleavedBufferAttribute?e.data.array:e.array;r instanceof Int8Array?t=127:r instanceof Int16Array?t=32767:r instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),n.divideScalar(t)}function ene(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new Gt,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,d,h,p){const m=u.morphTargetInfluences;if(e.isWebGL2===!0){const y=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,g=y!==void 0?y.length:0;let _=s.get(d);if(_===void 0||_.count!==g){let $=function(){q.dispose(),s.delete(d),d.removeEventListener("dispose",$)};_!==void 0&&_.texture.dispose();const A=d.morphAttributes.position!==void 0,E=d.morphAttributes.normal!==void 0,C=d.morphAttributes.color!==void 0,T=d.morphAttributes.position||[],R=d.morphAttributes.normal||[],I=d.morphAttributes.color||[];let O=0;A===!0&&(O=1),E===!0&&(O=2),C===!0&&(O=3);let L=d.attributes.position.count*O,P=1;L>e.maxTextureSize&&(P=Math.ceil(L/e.maxTextureSize),L=e.maxTextureSize);const B=new Float32Array(L*P*4*g),q=new td(B,L,P,g);q.type=bo,q.needsUpdate=!0;const W=O*4;for(let J=0;J<g;J++){const K=T[J],k=R[J],X=I[J],Z=L*P*4*J;for(let ae=0;ae<K.count;ae++){const Q=ae*W;A===!0&&(o.fromBufferAttribute(K,ae),K.normalized===!0&&uw(o,K),B[Z+Q+0]=o.x,B[Z+Q+1]=o.y,B[Z+Q+2]=o.z,B[Z+Q+3]=0),E===!0&&(o.fromBufferAttribute(k,ae),k.normalized===!0&&uw(o,k),B[Z+Q+4]=o.x,B[Z+Q+5]=o.y,B[Z+Q+6]=o.z,B[Z+Q+7]=0),C===!0&&(o.fromBufferAttribute(X,ae),X.normalized===!0&&uw(o,X),B[Z+Q+8]=o.x,B[Z+Q+9]=o.y,B[Z+Q+10]=o.z,B[Z+Q+11]=X.itemSize===4?o.w:1)}}_={count:g,texture:q,size:new ye(L,P)},s.set(d,_),d.addEventListener("dispose",$)}let w=0;for(let A=0;A<m.length;A++)w+=m[A];const x=d.morphTargetsRelative?1:1-w;p.getUniforms().setValue(n,"morphTargetBaseInfluence",x),p.getUniforms().setValue(n,"morphTargetInfluences",m),p.getUniforms().setValue(n,"morphTargetsTexture",_.texture,t),p.getUniforms().setValue(n,"morphTargetsTextureSize",_.size)}else{const y=m===void 0?0:m.length;let g=r[d.id];if(g===void 0||g.length!==y){g=[];for(let E=0;E<y;E++)g[E]=[E,0];r[d.id]=g}for(let E=0;E<y;E++){const C=g[E];C[0]=E,C[1]=m[E]}g.sort(Zte);for(let E=0;E<8;E++)E<y&&g[E][1]?(a[E][0]=g[E][0],a[E][1]=g[E][1]):(a[E][0]=Number.MAX_SAFE_INTEGER,a[E][1]=0);a.sort(Yte);const _=d.morphAttributes.position,w=d.morphAttributes.normal;let x=0;for(let E=0;E<8;E++){const C=a[E],T=C[0],R=C[1];T!==Number.MAX_SAFE_INTEGER&&R?(_&&d.getAttribute("morphTarget"+E)!==_[T]&&d.setAttribute("morphTarget"+E,_[T]),w&&d.getAttribute("morphNormal"+E)!==w[T]&&d.setAttribute("morphNormal"+E,w[T]),i[E]=R,x+=R):(_&&d.hasAttribute("morphTarget"+E)===!0&&d.deleteAttribute("morphTarget"+E),w&&d.hasAttribute("morphNormal"+E)===!0&&d.deleteAttribute("morphNormal"+E),i[E]=0)}const A=d.morphTargetsRelative?1:1-x;p.getUniforms().setValue(n,"morphTargetBaseInfluence",A),p.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function tne(n,e,t,r){let i=new WeakMap;function s(l){const u=r.render.frame,d=l.geometry,h=e.get(l,d);return i.get(h)!==u&&(e.update(h),i.set(h,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),h}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:o}}const GN=new Sn,zN=new td,VN=new im,WN=new rd,WI=[],jI=[],JI=new Float32Array(16),$I=new Float32Array(9),KI=new Float32Array(4);function id(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=WI[i];if(s===void 0&&(s=new Float32Array(i),WI[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Or(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Rr(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function S_(n,e){let t=jI[e];t===void 0&&(t=new Int32Array(e),jI[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function nne(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function rne(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Or(t,e))return;n.uniform2fv(this.addr,e),Rr(t,e)}}function ine(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Or(t,e))return;n.uniform3fv(this.addr,e),Rr(t,e)}}function sne(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Or(t,e))return;n.uniform4fv(this.addr,e),Rr(t,e)}}function one(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Or(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Rr(t,e)}else{if(Or(t,r))return;KI.set(r),n.uniformMatrix2fv(this.addr,!1,KI),Rr(t,r)}}function ane(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Or(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Rr(t,e)}else{if(Or(t,r))return;$I.set(r),n.uniformMatrix3fv(this.addr,!1,$I),Rr(t,r)}}function lne(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Or(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Rr(t,e)}else{if(Or(t,r))return;JI.set(r),n.uniformMatrix4fv(this.addr,!1,JI),Rr(t,r)}}function une(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function cne(n,e){const t=this.cache;Or(t,e)||(n.uniform2iv(this.addr,e),Rr(t,e))}function fne(n,e){const t=this.cache;Or(t,e)||(n.uniform3iv(this.addr,e),Rr(t,e))}function dne(n,e){const t=this.cache;Or(t,e)||(n.uniform4iv(this.addr,e),Rr(t,e))}function hne(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function pne(n,e){const t=this.cache;Or(t,e)||(n.uniform2uiv(this.addr,e),Rr(t,e))}function mne(n,e){const t=this.cache;Or(t,e)||(n.uniform3uiv(this.addr,e),Rr(t,e))}function gne(n,e){const t=this.cache;Or(t,e)||(n.uniform4uiv(this.addr,e),Rr(t,e))}function yne(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||GN,i)}function vne(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||VN,i)}function _ne(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||WN,i)}function xne(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||zN,i)}function wne(n){switch(n){case 5126:return nne;case 35664:return rne;case 35665:return ine;case 35666:return sne;case 35674:return one;case 35675:return ane;case 35676:return lne;case 5124:case 35670:return une;case 35667:case 35671:return cne;case 35668:case 35672:return fne;case 35669:case 35673:return dne;case 5125:return hne;case 36294:return pne;case 36295:return mne;case 36296:return gne;case 35678:case 36198:case 36298:case 36306:case 35682:return yne;case 35679:case 36299:case 36307:return vne;case 35680:case 36300:case 36308:case 36293:return _ne;case 36289:case 36303:case 36311:case 36292:return xne}}function Sne(n,e){n.uniform1fv(this.addr,e)}function Ane(n,e){const t=id(e,this.size,2);n.uniform2fv(this.addr,t)}function Ene(n,e){const t=id(e,this.size,3);n.uniform3fv(this.addr,t)}function Mne(n,e){const t=id(e,this.size,4);n.uniform4fv(this.addr,t)}function Cne(n,e){const t=id(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function bne(n,e){const t=id(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Tne(n,e){const t=id(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function Rne(n,e){n.uniform1iv(this.addr,e)}function Pne(n,e){n.uniform2iv(this.addr,e)}function Ine(n,e){n.uniform3iv(this.addr,e)}function Bne(n,e){n.uniform4iv(this.addr,e)}function Lne(n,e){n.uniform1uiv(this.addr,e)}function Dne(n,e){n.uniform2uiv(this.addr,e)}function Fne(n,e){n.uniform3uiv(this.addr,e)}function kne(n,e){n.uniform4uiv(this.addr,e)}function One(n,e,t){const r=e.length,i=S_(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.setTexture2D(e[s]||GN,i[s])}function Nne(n,e,t){const r=e.length,i=S_(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.setTexture3D(e[s]||VN,i[s])}function Hne(n,e,t){const r=e.length,i=S_(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.setTextureCube(e[s]||WN,i[s])}function Une(n,e,t){const r=e.length,i=S_(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.setTexture2DArray(e[s]||zN,i[s])}function Gne(n){switch(n){case 5126:return Sne;case 35664:return Ane;case 35665:return Ene;case 35666:return Mne;case 35674:return Cne;case 35675:return bne;case 35676:return Tne;case 5124:case 35670:return Rne;case 35667:case 35671:return Pne;case 35668:case 35672:return Ine;case 35669:case 35673:return Bne;case 5125:return Lne;case 36294:return Dne;case 36295:return Fne;case 36296:return kne;case 35678:case 36198:case 36298:case 36306:case 35682:return One;case 35679:case 36299:case 36307:return Nne;case 35680:case 36300:case 36308:case 36293:return Hne;case 36289:case 36303:case 36311:case 36292:return Une}}function zne(n,e,t){this.id=n,this.addr=t,this.cache=[],this.setValue=wne(e.type)}function jN(n,e,t){this.id=n,this.addr=t,this.cache=[],this.size=e.size,this.setValue=Gne(e.type)}jN.prototype.updateCache=function(n){const e=this.cache;n instanceof Float32Array&&e.length!==n.length&&(this.cache=new Float32Array(n.length)),Rr(e,n)};function JN(n){this.id=n,this.seq=[],this.map={}}JN.prototype.setValue=function(n,e,t){const r=this.seq;for(let i=0,s=r.length;i!==s;++i){const o=r[i];o.setValue(n,e[o.id],t)}};const cw=/(\w+)(\])?(\[|\.)?/g;function XI(n,e){n.seq.push(e),n.map[e.id]=e}function Vne(n,e,t){const r=n.name,i=r.length;for(cw.lastIndex=0;;){const s=cw.exec(r),o=cw.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){XI(t,u===void 0?new zne(a,n,e):new jN(a,n,e));break}else{let h=t.map[a];h===void 0&&(h=new JN(a),XI(t,h)),t=h}}}function Fa(n,e){this.seq=[],this.map={};const t=n.getProgramParameter(e,35718);for(let r=0;r<t;++r){const i=n.getActiveUniform(e,r),s=n.getUniformLocation(e,i.name);Vne(i,s,this)}}Fa.prototype.setValue=function(n,e,t,r){const i=this.map[e];i!==void 0&&i.setValue(n,t,r)};Fa.prototype.setOptional=function(n,e,t){const r=e[t];r!==void 0&&this.setValue(n,t,r)};Fa.upload=function(n,e,t,r){for(let i=0,s=e.length;i!==s;++i){const o=e[i],a=t[o.id];a.needsUpdate!==!1&&o.setValue(n,a.value,r)}};Fa.seqWithValue=function(n,e){const t=[];for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.id in e&&t.push(s)}return t};function QI(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let Wne=0;function jne(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++)r.push(o+1+": "+t[o]);return r.join(`
`)}function Jne(n){switch(n){case xs:return["Linear","( value )"];case Ut:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function qI(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=parseInt(/ERROR: 0:(\d+)/.exec(i)[1]);return t.toUpperCase()+`

`+i+`

`+jne(n.getShaderSource(e),s)}function $ne(n,e){const t=Jne(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function Kne(n,e){let t;switch(e){case YO:t="Linear";break;case ZO:t="Reinhard";break;case eN:t="OptimizedCineon";break;case gC:t="ACESFilmic";break;case tN:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function Xne(n){return[n.extensionDerivatives||!!n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ch).join(`
`)}function Qne(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function qne(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function ch(n){return n!==""}function YI(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function ZI(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Yne=/^[ \t]*#include +<([\w\d./]+)>/gm;function zA(n){return n.replace(Yne,Zne)}function Zne(n,e){const t=yt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return zA(t)}const ere=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,tre=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function eB(n){return n.replace(tre,$N).replace(ere,nre)}function nre(n,e,t,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),$N(n,e,t,r)}function $N(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function tB(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function rre(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===fC?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===dC?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Vc&&(e="SHADOWMAP_TYPE_VSM"),e}function ire(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Va:case Wa:e="ENVMAP_TYPE_CUBE";break;case ed:e="ENVMAP_TYPE_CUBE_UV";break}return e}function sre(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Wa:e="ENVMAP_MODE_REFRACTION";break}return e}function ore(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case rm:e="ENVMAP_BLENDING_MULTIPLY";break;case QO:e="ENVMAP_BLENDING_MIX";break;case qO:e="ENVMAP_BLENDING_ADD";break}return e}function are(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e/32+1)+3,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function lre(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=rre(t),u=ire(t),d=sre(t),h=ore(t),p=are(t),m=t.isWebGL2?"":Xne(t),y=Qne(s),g=i.createProgram();let _,w,x=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=[y].filter(ch).join(`
`),_.length>0&&(_+=`
`),w=[m,y].filter(ch).join(`
`),w.length>0&&(w+=`
`)):(_=[tB(t),"#define SHADER_NAME "+t.shaderName,y,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+t.maxBones,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.useVertexTexture?"#define BONE_TEXTURE":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(ch).join(`
`),w=[m,tB(t),"#define SHADER_NAME "+t.shaderName,y,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",t.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==ys?"#define TONE_MAPPING":"",t.toneMapping!==ys?yt.tonemapping_pars_fragment:"",t.toneMapping!==ys?Kne("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",yt.encodings_pars_fragment,$ne("linearToOutputTexel",t.outputEncoding),t.depthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(ch).join(`
`)),o=zA(o),o=YI(o,t),o=ZI(o,t),a=zA(a),a=YI(a,t),a=ZI(a,t),o=eB(o),a=eB(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,_=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,w=["#define varying in",t.glslVersion===NA?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===NA?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const A=x+_+o,E=x+w+a,C=QI(i,35633,A),T=QI(i,35632,E);if(i.attachShader(g,C),i.attachShader(g,T),t.index0AttributeName!==void 0?i.bindAttribLocation(g,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(g,0,"position"),i.linkProgram(g),n.debug.checkShaderErrors){const O=i.getProgramInfoLog(g).trim(),L=i.getShaderInfoLog(C).trim(),P=i.getShaderInfoLog(T).trim();let B=!0,q=!0;if(i.getProgramParameter(g,35714)===!1){B=!1;const W=qI(i,C,"vertex"),$=qI(i,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(g,35715)+`

Program Info Log: `+O+`
`+W+`
`+$)}else O!==""?console.warn("THREE.WebGLProgram: Program Info Log:",O):(L===""||P==="")&&(q=!1);q&&(this.diagnostics={runnable:B,programLog:O,vertexShader:{log:L,prefix:_},fragmentShader:{log:P,prefix:w}})}i.deleteShader(C),i.deleteShader(T);let R;this.getUniforms=function(){return R===void 0&&(R=new Fa(i,g)),R};let I;return this.getAttributes=function(){return I===void 0&&(I=qne(i,g)),I},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(g),this.program=void 0},this.name=t.shaderName,this.id=Wne++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=C,this.fragmentShader=T,this}let ure=0;class cre{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;return t.has(e)===!1&&t.set(e,new Set),t.get(e)}_getShaderStage(e){const t=this.shaderCache;if(t.has(e)===!1){const r=new fre(e);t.set(e,r)}return t.get(e)}}class fre{constructor(e){this.id=ure++,this.code=e,this.usedTimes=0}}function dre(n,e,t,r,i,s,o){const a=new au,l=new cre,u=[],d=i.isWebGL2,h=i.logarithmicDepthBuffer,p=i.floatVertexTextures,m=i.maxVertexUniforms,y=i.vertexTextures;let g=i.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function w(P){const q=P.skeleton.bones;if(p)return 1024;{const $=Math.floor((m-20)/4),J=Math.min($,q.length);return J<q.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+q.length+" bones. This GPU supports "+J+"."),0):J}}function x(P,B,q,W,$){const J=W.fog,K=$.geometry,k=P.isMeshStandardMaterial?W.environment:null,X=(P.isMeshStandardMaterial?t:e).get(P.envMap||k),Z=!!X&&X.mapping===ed?X.image.height:null,ae=_[P.type],Q=$.isSkinnedMesh?w($):0;P.precision!==null&&(g=i.getMaxPrecision(P.precision),g!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",g,"instead."));const se=K.morphAttributes.position||K.morphAttributes.normal||K.morphAttributes.color,pe=se!==void 0?se.length:0;let _e=0;K.morphAttributes.position!==void 0&&(_e=1),K.morphAttributes.normal!==void 0&&(_e=2),K.morphAttributes.color!==void 0&&(_e=3);let H,Be,ue,Le;if(ae){const xe=fs[ae];H=xe.vertexShader,Be=xe.fragmentShader}else H=P.vertexShader,Be=P.fragmentShader,l.update(P),ue=l.getVertexShaderID(P),Le=l.getFragmentShaderID(P);const ve=n.getRenderTarget(),Pe=P.alphaTest>0,ne=P.clearcoat>0;return{isWebGL2:d,shaderID:ae,shaderName:P.type,vertexShader:H,fragmentShader:Be,defines:P.defines,customVertexShaderID:ue,customFragmentShaderID:Le,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:g,instancing:$.isInstancedMesh===!0,instancingColor:$.isInstancedMesh===!0&&$.instanceColor!==null,supportsVertexTextures:y,outputEncoding:ve===null?n.outputEncoding:ve.isXRRenderTarget===!0?ve.texture.encoding:xs,map:!!P.map,matcap:!!P.matcap,envMap:!!X,envMapMode:X&&X.mapping,envMapCubeUVHeight:Z,lightMap:!!P.lightMap,aoMap:!!P.aoMap,emissiveMap:!!P.emissiveMap,bumpMap:!!P.bumpMap,normalMap:!!P.normalMap,objectSpaceNormalMap:P.normalMapType===EN,tangentSpaceNormalMap:P.normalMapType===rl,decodeVideoTexture:!!P.map&&P.map.isVideoTexture===!0&&P.map.encoding===Ut,clearcoat:ne,clearcoatMap:ne&&!!P.clearcoatMap,clearcoatRoughnessMap:ne&&!!P.clearcoatRoughnessMap,clearcoatNormalMap:ne&&!!P.clearcoatNormalMap,displacementMap:!!P.displacementMap,roughnessMap:!!P.roughnessMap,metalnessMap:!!P.metalnessMap,specularMap:!!P.specularMap,specularIntensityMap:!!P.specularIntensityMap,specularColorMap:!!P.specularColorMap,opaque:P.transparent===!1&&P.blending===nu,alphaMap:!!P.alphaMap,alphaTest:Pe,gradientMap:!!P.gradientMap,sheen:P.sheen>0,sheenColorMap:!!P.sheenColorMap,sheenRoughnessMap:!!P.sheenRoughnessMap,transmission:P.transmission>0,transmissionMap:!!P.transmissionMap,thicknessMap:!!P.thicknessMap,combine:P.combine,vertexTangents:!!P.normalMap&&!!K.attributes.tangent,vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!K.attributes.color&&K.attributes.color.itemSize===4,vertexUvs:!!P.map||!!P.bumpMap||!!P.normalMap||!!P.specularMap||!!P.alphaMap||!!P.emissiveMap||!!P.roughnessMap||!!P.metalnessMap||!!P.clearcoatMap||!!P.clearcoatRoughnessMap||!!P.clearcoatNormalMap||!!P.displacementMap||!!P.transmissionMap||!!P.thicknessMap||!!P.specularIntensityMap||!!P.specularColorMap||!!P.sheenColorMap||!!P.sheenRoughnessMap,uvsVertexOnly:!(!!P.map||!!P.bumpMap||!!P.normalMap||!!P.specularMap||!!P.alphaMap||!!P.emissiveMap||!!P.roughnessMap||!!P.metalnessMap||!!P.clearcoatNormalMap||P.transmission>0||!!P.transmissionMap||!!P.thicknessMap||!!P.specularIntensityMap||!!P.specularColorMap||P.sheen>0||!!P.sheenColorMap||!!P.sheenRoughnessMap)&&!!P.displacementMap,fog:!!J,useFog:P.fog,fogExp2:J&&J.isFogExp2,flatShading:!!P.flatShading,sizeAttenuation:P.sizeAttenuation,logarithmicDepthBuffer:h,skinning:$.isSkinnedMesh===!0&&Q>0,maxBones:Q,useVertexTexture:p,morphTargets:K.morphAttributes.position!==void 0,morphNormals:K.morphAttributes.normal!==void 0,morphColors:K.morphAttributes.color!==void 0,morphTargetsCount:pe,morphTextureStride:_e,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:P.dithering,shadowMapEnabled:n.shadowMap.enabled&&q.length>0,shadowMapType:n.shadowMap.type,toneMapping:P.toneMapped?n.toneMapping:ys,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===za,flipSided:P.side===Ai,depthPacking:P.depthPacking!==void 0?P.depthPacking:!1,index0AttributeName:P.index0AttributeName,extensionDerivatives:P.extensions&&P.extensions.derivatives,extensionFragDepth:P.extensions&&P.extensions.fragDepth,extensionDrawBuffers:P.extensions&&P.extensions.drawBuffers,extensionShaderTextureLOD:P.extensions&&P.extensions.shaderTextureLOD,rendererExtensionFragDepth:d||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||r.has("EXT_shader_texture_lod"),customProgramCacheKey:P.customProgramCacheKey()}}function A(P){const B=[];if(P.shaderID?B.push(P.shaderID):(B.push(P.customVertexShaderID),B.push(P.customFragmentShaderID)),P.defines!==void 0)for(const q in P.defines)B.push(q),B.push(P.defines[q]);return P.isRawShaderMaterial===!1&&(E(B,P),C(B,P),B.push(n.outputEncoding)),B.push(P.customProgramCacheKey),B.join()}function E(P,B){P.push(B.precision),P.push(B.outputEncoding),P.push(B.envMapMode),P.push(B.envMapCubeUVHeight),P.push(B.combine),P.push(B.vertexUvs),P.push(B.fogExp2),P.push(B.sizeAttenuation),P.push(B.maxBones),P.push(B.morphTargetsCount),P.push(B.morphAttributeCount),P.push(B.numDirLights),P.push(B.numPointLights),P.push(B.numSpotLights),P.push(B.numHemiLights),P.push(B.numRectAreaLights),P.push(B.numDirLightShadows),P.push(B.numPointLightShadows),P.push(B.numSpotLightShadows),P.push(B.shadowMapType),P.push(B.toneMapping),P.push(B.numClippingPlanes),P.push(B.numClipIntersection)}function C(P,B){a.disableAll(),B.isWebGL2&&a.enable(0),B.supportsVertexTextures&&a.enable(1),B.instancing&&a.enable(2),B.instancingColor&&a.enable(3),B.map&&a.enable(4),B.matcap&&a.enable(5),B.envMap&&a.enable(6),B.lightMap&&a.enable(7),B.aoMap&&a.enable(8),B.emissiveMap&&a.enable(9),B.bumpMap&&a.enable(10),B.normalMap&&a.enable(11),B.objectSpaceNormalMap&&a.enable(12),B.tangentSpaceNormalMap&&a.enable(13),B.clearcoat&&a.enable(14),B.clearcoatMap&&a.enable(15),B.clearcoatRoughnessMap&&a.enable(16),B.clearcoatNormalMap&&a.enable(17),B.displacementMap&&a.enable(18),B.specularMap&&a.enable(19),B.roughnessMap&&a.enable(20),B.metalnessMap&&a.enable(21),B.gradientMap&&a.enable(22),B.alphaMap&&a.enable(23),B.alphaTest&&a.enable(24),B.vertexColors&&a.enable(25),B.vertexAlphas&&a.enable(26),B.vertexUvs&&a.enable(27),B.vertexTangents&&a.enable(28),B.uvsVertexOnly&&a.enable(29),B.fog&&a.enable(30),P.push(a.mask),a.disableAll(),B.useFog&&a.enable(0),B.flatShading&&a.enable(1),B.logarithmicDepthBuffer&&a.enable(2),B.skinning&&a.enable(3),B.useVertexTexture&&a.enable(4),B.morphTargets&&a.enable(5),B.morphNormals&&a.enable(6),B.morphColors&&a.enable(7),B.premultipliedAlpha&&a.enable(8),B.shadowMapEnabled&&a.enable(9),B.physicallyCorrectLights&&a.enable(10),B.doubleSided&&a.enable(11),B.flipSided&&a.enable(12),B.depthPacking&&a.enable(13),B.dithering&&a.enable(14),B.specularIntensityMap&&a.enable(15),B.specularColorMap&&a.enable(16),B.transmission&&a.enable(17),B.transmissionMap&&a.enable(18),B.thicknessMap&&a.enable(19),B.sheen&&a.enable(20),B.sheenColorMap&&a.enable(21),B.sheenRoughnessMap&&a.enable(22),B.decodeVideoTexture&&a.enable(23),B.opaque&&a.enable(24),P.push(a.mask)}function T(P){const B=_[P.type];let q;if(B){const W=fs[B];q=HN.clone(W.uniforms)}else q=P.uniforms;return q}function R(P,B){let q;for(let W=0,$=u.length;W<$;W++){const J=u[W];if(J.cacheKey===B){q=J,++q.usedTimes;break}}return q===void 0&&(q=new lre(n,B,P,s),u.push(q)),q}function I(P){if(--P.usedTimes===0){const B=u.indexOf(P);u[B]=u[u.length-1],u.pop(),P.destroy()}}function O(P){l.remove(P)}function L(){l.dispose()}return{getParameters:x,getProgramCacheKey:A,getUniforms:T,acquireProgram:R,releaseProgram:I,releaseShaderCache:O,programs:u,dispose:L}}function hre(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function pre(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function nB(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function rB(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(h,p,m,y,g,_){let w=n[e];return w===void 0?(w={id:h.id,object:h,geometry:p,material:m,groupOrder:y,renderOrder:h.renderOrder,z:g,group:_},n[e]=w):(w.id=h.id,w.object=h,w.geometry=p,w.material=m,w.groupOrder=y,w.renderOrder=h.renderOrder,w.z=g,w.group=_),e++,w}function a(h,p,m,y,g,_){const w=o(h,p,m,y,g,_);m.transmission>0?r.push(w):m.transparent===!0?i.push(w):t.push(w)}function l(h,p,m,y,g,_){const w=o(h,p,m,y,g,_);m.transmission>0?r.unshift(w):m.transparent===!0?i.unshift(w):t.unshift(w)}function u(h,p){t.length>1&&t.sort(h||pre),r.length>1&&r.sort(p||nB),i.length>1&&i.sort(p||nB)}function d(){for(let h=e,p=n.length;h<p;h++){const m=n[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:d,sort:u}}function mre(){let n=new WeakMap;function e(r,i){let s;return n.has(r)===!1?(s=new rB,n.set(r,[s])):i>=n.get(r).length?(s=new rB,n.get(r).push(s)):s=n.get(r)[i],s}function t(){n=new WeakMap}return{get:e,dispose:t}}function gre(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new F,color:new Ie};break;case"SpotLight":t={position:new F,direction:new F,color:new Ie,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new F,color:new Ie,distance:0,decay:0};break;case"HemisphereLight":t={direction:new F,skyColor:new Ie,groundColor:new Ie};break;case"RectAreaLight":t={color:new Ie,position:new F,halfWidth:new F,halfHeight:new F};break}return n[e.id]=t,t}}}function yre(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ye};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ye};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ye,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let vre=0;function _re(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function xre(n,e){const t=new gre,r=yre(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let d=0;d<9;d++)i.probe.push(new F);const s=new F,o=new Xe,a=new Xe;function l(d,h){let p=0,m=0,y=0;for(let O=0;O<9;O++)i.probe[O].set(0,0,0);let g=0,_=0,w=0,x=0,A=0,E=0,C=0,T=0;d.sort(_re);const R=h!==!0?Math.PI:1;for(let O=0,L=d.length;O<L;O++){const P=d[O],B=P.color,q=P.intensity,W=P.distance,$=P.shadow&&P.shadow.map?P.shadow.map.texture:null;if(P.isAmbientLight)p+=B.r*q*R,m+=B.g*q*R,y+=B.b*q*R;else if(P.isLightProbe)for(let J=0;J<9;J++)i.probe[J].addScaledVector(P.sh.coefficients[J],q);else if(P.isDirectionalLight){const J=t.get(P);if(J.color.copy(P.color).multiplyScalar(P.intensity*R),P.castShadow){const K=P.shadow,k=r.get(P);k.shadowBias=K.bias,k.shadowNormalBias=K.normalBias,k.shadowRadius=K.radius,k.shadowMapSize=K.mapSize,i.directionalShadow[g]=k,i.directionalShadowMap[g]=$,i.directionalShadowMatrix[g]=P.shadow.matrix,E++}i.directional[g]=J,g++}else if(P.isSpotLight){const J=t.get(P);if(J.position.setFromMatrixPosition(P.matrixWorld),J.color.copy(B).multiplyScalar(q*R),J.distance=W,J.coneCos=Math.cos(P.angle),J.penumbraCos=Math.cos(P.angle*(1-P.penumbra)),J.decay=P.decay,P.castShadow){const K=P.shadow,k=r.get(P);k.shadowBias=K.bias,k.shadowNormalBias=K.normalBias,k.shadowRadius=K.radius,k.shadowMapSize=K.mapSize,i.spotShadow[w]=k,i.spotShadowMap[w]=$,i.spotShadowMatrix[w]=P.shadow.matrix,T++}i.spot[w]=J,w++}else if(P.isRectAreaLight){const J=t.get(P);J.color.copy(B).multiplyScalar(q),J.halfWidth.set(P.width*.5,0,0),J.halfHeight.set(0,P.height*.5,0),i.rectArea[x]=J,x++}else if(P.isPointLight){const J=t.get(P);if(J.color.copy(P.color).multiplyScalar(P.intensity*R),J.distance=P.distance,J.decay=P.decay,P.castShadow){const K=P.shadow,k=r.get(P);k.shadowBias=K.bias,k.shadowNormalBias=K.normalBias,k.shadowRadius=K.radius,k.shadowMapSize=K.mapSize,k.shadowCameraNear=K.camera.near,k.shadowCameraFar=K.camera.far,i.pointShadow[_]=k,i.pointShadowMap[_]=$,i.pointShadowMatrix[_]=P.shadow.matrix,C++}i.point[_]=J,_++}else if(P.isHemisphereLight){const J=t.get(P);J.skyColor.copy(P.color).multiplyScalar(q*R),J.groundColor.copy(P.groundColor).multiplyScalar(q*R),i.hemi[A]=J,A++}}x>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ne.LTC_FLOAT_1,i.rectAreaLTC2=Ne.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Ne.LTC_HALF_1,i.rectAreaLTC2=Ne.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=y;const I=i.hash;(I.directionalLength!==g||I.pointLength!==_||I.spotLength!==w||I.rectAreaLength!==x||I.hemiLength!==A||I.numDirectionalShadows!==E||I.numPointShadows!==C||I.numSpotShadows!==T)&&(i.directional.length=g,i.spot.length=w,i.rectArea.length=x,i.point.length=_,i.hemi.length=A,i.directionalShadow.length=E,i.directionalShadowMap.length=E,i.pointShadow.length=C,i.pointShadowMap.length=C,i.spotShadow.length=T,i.spotShadowMap.length=T,i.directionalShadowMatrix.length=E,i.pointShadowMatrix.length=C,i.spotShadowMatrix.length=T,I.directionalLength=g,I.pointLength=_,I.spotLength=w,I.rectAreaLength=x,I.hemiLength=A,I.numDirectionalShadows=E,I.numPointShadows=C,I.numSpotShadows=T,i.version=vre++)}function u(d,h){let p=0,m=0,y=0,g=0,_=0;const w=h.matrixWorldInverse;for(let x=0,A=d.length;x<A;x++){const E=d[x];if(E.isDirectionalLight){const C=i.directional[p];C.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(w),p++}else if(E.isSpotLight){const C=i.spot[y];C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(w),C.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(w),y++}else if(E.isRectAreaLight){const C=i.rectArea[g];C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(w),a.identity(),o.copy(E.matrixWorld),o.premultiply(w),a.extractRotation(o),C.halfWidth.set(E.width*.5,0,0),C.halfHeight.set(0,E.height*.5,0),C.halfWidth.applyMatrix4(a),C.halfHeight.applyMatrix4(a),g++}else if(E.isPointLight){const C=i.point[m];C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(w),m++}else if(E.isHemisphereLight){const C=i.hemi[_];C.direction.setFromMatrixPosition(E.matrixWorld),C.direction.transformDirection(w),C.direction.normalize(),_++}}}return{setup:l,setupView:u,state:i}}function iB(n,e){const t=new xre(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(h){r.push(h)}function a(h){i.push(h)}function l(h){t.setup(r,h)}function u(h){t.setupView(r,h)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function wre(n,e){let t=new WeakMap;function r(s,o=0){let a;return t.has(s)===!1?(a=new iB(n,e),t.set(s,[a])):o>=t.get(s).length?(a=new iB(n,e),t.get(s).push(a)):a=t.get(s)[o],a}function i(){t=new WeakMap}return{get:r,dispose:i}}class om extends hn{constructor(e){super();this.type="MeshDepthMaterial",this.depthPacking=SN,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}om.prototype.isMeshDepthMaterial=!0;class A_ extends hn{constructor(e){super();this.type="MeshDistanceMaterial",this.referencePosition=new F,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}A_.prototype.isMeshDistanceMaterial=!0;const Sre=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Are=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function KN(n,e,t){let r=new sm;const i=new ye,s=new ye,o=new Gt,a=new om({depthPacking:AN}),l=new A_,u={},d=t.maxTextureSize,h={0:Ai,1:Ga,2:za},p=new ai({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ye},radius:{value:4}},vertexShader:Sre,fragmentShader:Are}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const y=new rt;y.setAttribute("position",new vt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new bn(y,p),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=fC,this.render=function(E,C,T){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||E.length===0)return;const R=n.getRenderTarget(),I=n.getActiveCubeFace(),O=n.getActiveMipmapLevel(),L=n.state;L.setBlending(Io),L.buffers.color.setClear(1,1,1,1),L.buffers.depth.setTest(!0),L.setScissorTest(!1);for(let P=0,B=E.length;P<B;P++){const q=E[P],W=q.shadow;if(W===void 0){console.warn("THREE.WebGLShadowMap:",q,"has no shadow.");continue}if(W.autoUpdate===!1&&W.needsUpdate===!1)continue;i.copy(W.mapSize);const $=W.getFrameExtents();if(i.multiply($),s.copy(W.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(s.x=Math.floor(d/$.x),i.x=s.x*$.x,W.mapSize.x=s.x),i.y>d&&(s.y=Math.floor(d/$.y),i.y=s.y*$.y,W.mapSize.y=s.y)),W.map===null&&!W.isPointLightShadow&&this.type===Vc&&(W.map=new fr(i.x,i.y),W.map.texture.name=q.name+".shadowMap",W.mapPass=new fr(i.x,i.y),W.camera.updateProjectionMatrix()),W.map===null){const K={minFilter:Dn,magFilter:Dn,format:_i};W.map=new fr(i.x,i.y,K),W.map.texture.name=q.name+".shadowMap",W.camera.updateProjectionMatrix()}n.setRenderTarget(W.map),n.clear();const J=W.getViewportCount();for(let K=0;K<J;K++){const k=W.getViewport(K);o.set(s.x*k.x,s.y*k.y,s.x*k.z,s.y*k.w),L.viewport(o),W.updateMatrices(q,K),r=W.getFrustum(),A(C,T,W.camera,q,this.type)}!W.isPointLightShadow&&this.type===Vc&&w(W,T),W.needsUpdate=!1}_.needsUpdate=!1,n.setRenderTarget(R,I,O)};function w(E,C){const T=e.update(g);p.defines.VSM_SAMPLES!==E.blurSamples&&(p.defines.VSM_SAMPLES=E.blurSamples,m.defines.VSM_SAMPLES=E.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),p.uniforms.shadow_pass.value=E.map.texture,p.uniforms.resolution.value=E.mapSize,p.uniforms.radius.value=E.radius,n.setRenderTarget(E.mapPass),n.clear(),n.renderBufferDirect(C,null,T,p,g,null),m.uniforms.shadow_pass.value=E.mapPass.texture,m.uniforms.resolution.value=E.mapSize,m.uniforms.radius.value=E.radius,n.setRenderTarget(E.map),n.clear(),n.renderBufferDirect(C,null,T,m,g,null)}function x(E,C,T,R,I,O){let L=null;const P=T.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(P!==void 0?L=P:L=T.isPointLight===!0?l:a,n.localClippingEnabled&&C.clipShadows===!0&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0){const B=L.uuid,q=C.uuid;let W=u[B];W===void 0&&(W={},u[B]=W);let $=W[q];$===void 0&&($=L.clone(),W[q]=$),L=$}return L.visible=C.visible,L.wireframe=C.wireframe,O===Vc?L.side=C.shadowSide!==null?C.shadowSide:C.side:L.side=C.shadowSide!==null?C.shadowSide:h[C.side],L.alphaMap=C.alphaMap,L.alphaTest=C.alphaTest,L.clipShadows=C.clipShadows,L.clippingPlanes=C.clippingPlanes,L.clipIntersection=C.clipIntersection,L.displacementMap=C.displacementMap,L.displacementScale=C.displacementScale,L.displacementBias=C.displacementBias,L.wireframeLinewidth=C.wireframeLinewidth,L.linewidth=C.linewidth,T.isPointLight===!0&&L.isMeshDistanceMaterial===!0&&(L.referencePosition.setFromMatrixPosition(T.matrixWorld),L.nearDistance=R,L.farDistance=I),L}function A(E,C,T,R,I){if(E.visible===!1)return;if(E.layers.test(C.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&I===Vc)&&(!E.frustumCulled||r.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,E.matrixWorld);const P=e.update(E),B=E.material;if(Array.isArray(B)){const q=P.groups;for(let W=0,$=q.length;W<$;W++){const J=q[W],K=B[J.materialIndex];if(K&&K.visible){const k=x(E,K,R,T.near,T.far,I);n.renderBufferDirect(T,null,P,k,E,J)}}}else if(B.visible){const q=x(E,B,R,T.near,T.far,I);n.renderBufferDirect(T,null,P,q,E,null)}}const L=E.children;for(let P=0,B=L.length;P<B;P++)A(L[P],C,T,R,I)}}function Ere(n,e,t){const r=t.isWebGL2;function i(){let N=!1;const ge=new Gt;let we=null;const We=new Gt(0,0,0,0);return{setMask:function(Oe){we!==Oe&&!N&&(n.colorMask(Oe,Oe,Oe,Oe),we=Oe)},setLocked:function(Oe){N=Oe},setClear:function(Oe,tt,De,et,xt){xt===!0&&(Oe*=et,tt*=et,De*=et),ge.set(Oe,tt,De,et),We.equals(ge)===!1&&(n.clearColor(Oe,tt,De,et),We.copy(ge))},reset:function(){N=!1,we=null,We.set(-1,0,0,0)}}}function s(){let N=!1,ge=null,we=null,We=null;return{setTest:function(Oe){Oe?_e(2929):H(2929)},setMask:function(Oe){ge!==Oe&&!N&&(n.depthMask(Oe),ge=Oe)},setFunc:function(Oe){if(we!==Oe){if(Oe)switch(Oe){case VO:n.depthFunc(512);break;case WO:n.depthFunc(519);break;case jO:n.depthFunc(513);break;case nv:n.depthFunc(515);break;case JO:n.depthFunc(514);break;case $O:n.depthFunc(518);break;case KO:n.depthFunc(516);break;case XO:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);we=Oe}},setLocked:function(Oe){N=Oe},setClear:function(Oe){We!==Oe&&(n.clearDepth(Oe),We=Oe)},reset:function(){N=!1,ge=null,we=null,We=null}}}function o(){let N=!1,ge=null,we=null,We=null,Oe=null,tt=null,De=null,et=null,xt=null;return{setTest:function(wt){N||(wt?_e(2960):H(2960))},setMask:function(wt){ge!==wt&&!N&&(n.stencilMask(wt),ge=wt)},setFunc:function(wt,Pi,ci){(we!==wt||We!==Pi||Oe!==ci)&&(n.stencilFunc(wt,Pi,ci),we=wt,We=Pi,Oe=ci)},setOp:function(wt,Pi,ci){(tt!==wt||De!==Pi||et!==ci)&&(n.stencilOp(wt,Pi,ci),tt=wt,De=Pi,et=ci)},setLocked:function(wt){N=wt},setClear:function(wt){xt!==wt&&(n.clearStencil(wt),xt=wt)},reset:function(){N=!1,ge=null,we=null,We=null,Oe=null,tt=null,De=null,et=null,xt=null}}}const a=new i,l=new s,u=new o;let d={},h={},p=new WeakMap,m=[],y=null,g=!1,_=null,w=null,x=null,A=null,E=null,C=null,T=null,R=!1,I=null,O=null,L=null,P=null,B=null;const q=n.getParameter(35661);let W=!1,$=0;const J=n.getParameter(7938);J.indexOf("WebGL")!==-1?($=parseFloat(/^WebGL (\d)/.exec(J)[1]),W=$>=1):J.indexOf("OpenGL ES")!==-1&&($=parseFloat(/^OpenGL ES (\d)/.exec(J)[1]),W=$>=2);let K=null,k={};const X=n.getParameter(3088),Z=n.getParameter(2978),ae=new Gt().fromArray(X),Q=new Gt().fromArray(Z);function se(N,ge,we){const We=new Uint8Array(4),Oe=n.createTexture();n.bindTexture(N,Oe),n.texParameteri(N,10241,9728),n.texParameteri(N,10240,9728);for(let tt=0;tt<we;tt++)n.texImage2D(ge+tt,0,6408,1,1,0,6408,5121,We);return Oe}const pe={};pe[3553]=se(3553,3553,1),pe[34067]=se(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),_e(2929),l.setFunc(nv),xe(!1),Ae(fA),_e(2884),ne(Io);function _e(N){d[N]!==!0&&(n.enable(N),d[N]=!0)}function H(N){d[N]!==!1&&(n.disable(N),d[N]=!1)}function Be(N,ge){return h[N]!==ge?(n.bindFramebuffer(N,ge),h[N]=ge,r&&(N===36009&&(h[36160]=ge),N===36160&&(h[36009]=ge)),!0):!1}function ue(N,ge){let we=m,We=!1;if(N)if(we=p.get(ge),we===void 0&&(we=[],p.set(ge,we)),N.isWebGLMultipleRenderTargets){const Oe=N.texture;if(we.length!==Oe.length||we[0]!==36064){for(let tt=0,De=Oe.length;tt<De;tt++)we[tt]=36064+tt;we.length=Oe.length,We=!0}}else we[0]!==36064&&(we[0]=36064,We=!0);else we[0]!==1029&&(we[0]=1029,We=!0);We&&(t.isWebGL2?n.drawBuffers(we):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(we))}function Le(N){return y!==N?(n.useProgram(N),y=N,!0):!1}const ve={[Ul]:32774,[BO]:32778,[LO]:32779};if(r)ve[mA]=32775,ve[gA]=32776;else{const N=e.get("EXT_blend_minmax");N!==null&&(ve[mA]=N.MIN_EXT,ve[gA]=N.MAX_EXT)}const Pe={[DO]:0,[FO]:1,[kO]:768,[pC]:770,[zO]:776,[UO]:774,[NO]:772,[OO]:769,[mC]:771,[GO]:775,[HO]:773};function ne(N,ge,we,We,Oe,tt,De,et){if(N===Io){g===!0&&(H(3042),g=!1);return}if(g===!1&&(_e(3042),g=!0),N!==IO){if(N!==_||et!==R){if((w!==Ul||E!==Ul)&&(n.blendEquation(32774),w=Ul,E=Ul),et)switch(N){case nu:n.blendFuncSeparate(1,771,1,771);break;case dA:n.blendFunc(1,1);break;case hA:n.blendFuncSeparate(0,769,0,1);break;case pA:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",N);break}else switch(N){case nu:n.blendFuncSeparate(770,771,1,771);break;case dA:n.blendFunc(770,1);break;case hA:n.blendFuncSeparate(0,769,0,1);break;case pA:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",N);break}x=null,A=null,C=null,T=null,_=N,R=et}return}Oe=Oe||ge,tt=tt||we,De=De||We,(ge!==w||Oe!==E)&&(n.blendEquationSeparate(ve[ge],ve[Oe]),w=ge,E=Oe),(we!==x||We!==A||tt!==C||De!==T)&&(n.blendFuncSeparate(Pe[we],Pe[We],Pe[tt],Pe[De]),x=we,A=We,C=tt,T=De),_=N,R=null}function oe(N,ge){N.side===za?H(2884):_e(2884);let we=N.side===Ai;ge&&(we=!we),xe(we),N.blending===nu&&N.transparent===!1?ne(Io):ne(N.blending,N.blendEquation,N.blendSrc,N.blendDst,N.blendEquationAlpha,N.blendSrcAlpha,N.blendDstAlpha,N.premultipliedAlpha),l.setFunc(N.depthFunc),l.setTest(N.depthTest),l.setMask(N.depthWrite),a.setMask(N.colorWrite);const We=N.stencilWrite;u.setTest(We),We&&(u.setMask(N.stencilWriteMask),u.setFunc(N.stencilFunc,N.stencilRef,N.stencilFuncMask),u.setOp(N.stencilFail,N.stencilZFail,N.stencilZPass)),Me(N.polygonOffset,N.polygonOffsetFactor,N.polygonOffsetUnits),N.alphaToCoverage===!0?_e(32926):H(32926)}function xe(N){I!==N&&(N?n.frontFace(2304):n.frontFace(2305),I=N)}function Ae(N){N!==RO?(_e(2884),N!==O&&(N===fA?n.cullFace(1029):N===PO?n.cullFace(1028):n.cullFace(1032))):H(2884),O=N}function Ee(N){N!==L&&(W&&n.lineWidth(N),L=N)}function Me(N,ge,we){N?(_e(32823),(P!==ge||B!==we)&&(n.polygonOffset(ge,we),P=ge,B=we)):H(32823)}function ze(N){N?_e(3089):H(3089)}function $e(N){N===void 0&&(N=33984+q-1),K!==N&&(n.activeTexture(N),K=N)}function Ze(N,ge){K===null&&$e();let we=k[K];we===void 0&&(we={type:void 0,texture:void 0},k[K]=we),(we.type!==N||we.texture!==ge)&&(n.bindTexture(N,ge||pe[N]),we.type=N,we.texture=ge)}function dt(){const N=k[K];N!==void 0&&N.type!==void 0&&(n.bindTexture(N.type,null),N.type=void 0,N.texture=void 0)}function z(){try{n.compressedTexImage2D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}}function D(){try{n.texSubImage2D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}}function ee(){try{n.texSubImage3D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}}function me(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}}function Fe(){try{n.texStorage2D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}}function ke(){try{n.texStorage3D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}}function Ke(){try{n.texImage2D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}}function he(){try{n.texImage3D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}}function Te(N){ae.equals(N)===!1&&(n.scissor(N.x,N.y,N.z,N.w),ae.copy(N))}function it(N){Q.equals(N)===!1&&(n.viewport(N.x,N.y,N.z,N.w),Q.copy(N))}function j(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),d={},K=null,k={},h={},p=new WeakMap,m=[],y=null,g=!1,_=null,w=null,x=null,A=null,E=null,C=null,T=null,R=!1,I=null,O=null,L=null,P=null,B=null,ae.set(0,0,n.canvas.width,n.canvas.height),Q.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:_e,disable:H,bindFramebuffer:Be,drawBuffers:ue,useProgram:Le,setBlending:ne,setMaterial:oe,setFlipSided:xe,setCullFace:Ae,setLineWidth:Ee,setPolygonOffset:Me,setScissorTest:ze,activeTexture:$e,bindTexture:Ze,unbindTexture:dt,compressedTexImage2D:z,texImage2D:Ke,texImage3D:he,texStorage2D:Fe,texStorage3D:ke,texSubImage2D:D,texSubImage3D:ee,compressedTexSubImage2D:me,scissor:Te,viewport:it,reset:j}}function Mre(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,d=i.maxTextureSize,h=i.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let g;const _=new WeakMap;let w=!1;try{w=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(z,D){return w?new OffscreenCanvas(z,D):pp("canvas")}function A(z,D,ee,me){let Fe=1;if((z.width>me||z.height>me)&&(Fe=me/Math.max(z.width,z.height)),Fe<1||D===!0)if(typeof HTMLImageElement!="undefined"&&z instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&z instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&z instanceof ImageBitmap){const ke=D?iv:Math.floor,Ke=ke(Fe*z.width),he=ke(Fe*z.height);g===void 0&&(g=x(Ke,he));const Te=ee?x(Ke,he):g;return Te.width=Ke,Te.height=he,Te.getContext("2d").drawImage(z,0,0,Ke,he),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+z.width+"x"+z.height+") to ("+Ke+"x"+he+")."),Te}else return"data"in z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+z.width+"x"+z.height+")."),z;return z}function E(z){return HA(z.width)&&HA(z.height)}function C(z){return a?!1:z.wrapS!==Mr||z.wrapT!==Mr||z.minFilter!==Dn&&z.minFilter!==_n}function T(z,D){return z.generateMipmaps&&D&&z.minFilter!==Dn&&z.minFilter!==_n}function R(z){n.generateMipmap(z)}function I(z,D,ee,me,Fe=!1){if(a===!1)return D;if(z!==null){if(n[z]!==void 0)return n[z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+z+"'")}let ke=D;return D===6403&&(ee===5126&&(ke=33326),ee===5131&&(ke=33325),ee===5121&&(ke=33321)),D===33319&&(ee===5126&&(ke=33328),ee===5131&&(ke=33327),ee===5121&&(ke=33323)),D===6408&&(ee===5126&&(ke=34836),ee===5131&&(ke=34842),ee===5121&&(ke=me===Ut&&Fe===!1?35907:32856),ee===32819&&(ke=32854),ee===32820&&(ke=32855)),(ke===33325||ke===33326||ke===33327||ke===33328||ke===34842||ke===34836)&&e.get("EXT_color_buffer_float"),ke}function O(z,D,ee){return T(z,ee)===!0||z.isFramebufferTexture&&z.minFilter!==Dn&&z.minFilter!==_n?Math.log2(Math.max(D.width,D.height))+1:z.mipmaps!==void 0&&z.mipmaps.length>0?z.mipmaps.length:z.isCompressedTexture&&Array.isArray(z.image)?D.mipmaps.length:1}function L(z){return z===Dn||z===cp||z===fp?9728:9729}function P(z){const D=z.target;D.removeEventListener("dispose",P),q(D),D.isVideoTexture&&y.delete(D)}function B(z){const D=z.target;D.removeEventListener("dispose",B),$(D)}function q(z){const D=r.get(z);if(D.__webglInit===void 0)return;const ee=z.source,me=_.get(ee);if(me){const Fe=me[D.__cacheKey];Fe.usedTimes--,Fe.usedTimes===0&&W(z),Object.keys(me).length===0&&_.delete(ee)}r.remove(z)}function W(z){const D=r.get(z);n.deleteTexture(D.__webglTexture);const ee=z.source,me=_.get(ee);delete me[D.__cacheKey],o.memory.textures--}function $(z){const D=z.texture,ee=r.get(z),me=r.get(D);if(me.__webglTexture!==void 0&&(n.deleteTexture(me.__webglTexture),o.memory.textures--),z.depthTexture&&z.depthTexture.dispose(),z.isWebGLCubeRenderTarget)for(let Fe=0;Fe<6;Fe++)n.deleteFramebuffer(ee.__webglFramebuffer[Fe]),ee.__webglDepthbuffer&&n.deleteRenderbuffer(ee.__webglDepthbuffer[Fe]);else n.deleteFramebuffer(ee.__webglFramebuffer),ee.__webglDepthbuffer&&n.deleteRenderbuffer(ee.__webglDepthbuffer),ee.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ee.__webglMultisampledFramebuffer),ee.__webglColorRenderbuffer&&n.deleteRenderbuffer(ee.__webglColorRenderbuffer),ee.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ee.__webglDepthRenderbuffer);if(z.isWebGLMultipleRenderTargets)for(let Fe=0,ke=D.length;Fe<ke;Fe++){const Ke=r.get(D[Fe]);Ke.__webglTexture&&(n.deleteTexture(Ke.__webglTexture),o.memory.textures--),r.remove(D[Fe])}r.remove(D),r.remove(z)}let J=0;function K(){J=0}function k(){const z=J;return z>=l&&console.warn("THREE.WebGLTextures: Trying to use "+z+" texture units while this GPU supports only "+l),J+=1,z}function X(z){const D=[];return D.push(z.wrapS),D.push(z.wrapT),D.push(z.magFilter),D.push(z.minFilter),D.push(z.anisotropy),D.push(z.internalFormat),D.push(z.format),D.push(z.type),D.push(z.generateMipmaps),D.push(z.premultiplyAlpha),D.push(z.flipY),D.push(z.unpackAlignment),D.push(z.encoding),D.join()}function Z(z,D){const ee=r.get(z);if(z.isVideoTexture&&Ze(z),z.isRenderTargetTexture===!1&&z.version>0&&ee.__version!==z.version){const me=z.image;if(me===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(me.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ue(ee,z,D);return}}t.activeTexture(33984+D),t.bindTexture(3553,ee.__webglTexture)}function ae(z,D){const ee=r.get(z);if(z.version>0&&ee.__version!==z.version){ue(ee,z,D);return}t.activeTexture(33984+D),t.bindTexture(35866,ee.__webglTexture)}function Q(z,D){const ee=r.get(z);if(z.version>0&&ee.__version!==z.version){ue(ee,z,D);return}t.activeTexture(33984+D),t.bindTexture(32879,ee.__webglTexture)}function se(z,D){const ee=r.get(z);if(z.version>0&&ee.__version!==z.version){Le(ee,z,D);return}t.activeTexture(33984+D),t.bindTexture(34067,ee.__webglTexture)}const pe={[ja]:10497,[Mr]:33071,[Sf]:33648},_e={[Dn]:9728,[cp]:9984,[fp]:9986,[_n]:9729,[g_]:9985,[zo]:9987};function H(z,D,ee){if(ee?(n.texParameteri(z,10242,pe[D.wrapS]),n.texParameteri(z,10243,pe[D.wrapT]),(z===32879||z===35866)&&n.texParameteri(z,32882,pe[D.wrapR]),n.texParameteri(z,10240,_e[D.magFilter]),n.texParameteri(z,10241,_e[D.minFilter])):(n.texParameteri(z,10242,33071),n.texParameteri(z,10243,33071),(z===32879||z===35866)&&n.texParameteri(z,32882,33071),(D.wrapS!==Mr||D.wrapT!==Mr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(z,10240,L(D.magFilter)),n.texParameteri(z,10241,L(D.minFilter)),D.minFilter!==Dn&&D.minFilter!==_n&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const me=e.get("EXT_texture_filter_anisotropic");if(D.type===bo&&e.has("OES_texture_float_linear")===!1||a===!1&&D.type===ru&&e.has("OES_texture_half_float_linear")===!1)return;(D.anisotropy>1||r.get(D).__currentAnisotropy)&&(n.texParameterf(z,me.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(D.anisotropy,i.getMaxAnisotropy())),r.get(D).__currentAnisotropy=D.anisotropy)}}function Be(z,D){let ee=!1;z.__webglInit===void 0&&(z.__webglInit=!0,D.addEventListener("dispose",P));const me=D.source;let Fe=_.get(me);Fe===void 0&&(Fe={},_.set(me,Fe));const ke=X(D);if(ke!==z.__cacheKey){Fe[ke]===void 0&&(Fe[ke]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ee=!0),Fe[ke].usedTimes++;const Ke=Fe[z.__cacheKey];Ke!==void 0&&(Fe[z.__cacheKey].usedTimes--,Ke.usedTimes===0&&W(D)),z.__cacheKey=ke,z.__webglTexture=Fe[ke].texture}return ee}function ue(z,D,ee){let me=3553;D.isDataArrayTexture&&(me=35866),D.isData3DTexture&&(me=32879);const Fe=Be(z,D),ke=D.source;if(t.activeTexture(33984+ee),t.bindTexture(me,z.__webglTexture),ke.version!==ke.__currentVersion||Fe===!0){n.pixelStorei(37440,D.flipY),n.pixelStorei(37441,D.premultiplyAlpha),n.pixelStorei(3317,D.unpackAlignment),n.pixelStorei(37443,0);const Ke=C(D)&&E(D.image)===!1;let he=A(D.image,Ke,!1,d);he=dt(D,he);const Te=E(he)||a,it=s.convert(D.format,D.encoding);let j=s.convert(D.type),N=I(D.internalFormat,it,j,D.encoding,D.isVideoTexture);H(me,D,Te);let ge;const we=D.mipmaps,We=a&&D.isVideoTexture!==!0,Oe=z.__version===void 0,tt=O(D,he,Te);if(D.isDepthTexture)N=6402,a?D.type===bo?N=36012:D.type===Ch?N=33190:D.type===iu?N=35056:N=33189:D.type===bo&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),D.format===Da&&N===6402&&D.type!==Af&&D.type!==Ch&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),D.type=Af,j=s.convert(D.type)),D.format===vu&&N===6402&&(N=34041,D.type!==iu&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),D.type=iu,j=s.convert(D.type))),We&&Oe?t.texStorage2D(3553,1,N,he.width,he.height):t.texImage2D(3553,0,N,he.width,he.height,0,it,j,null);else if(D.isDataTexture)if(we.length>0&&Te){We&&Oe&&t.texStorage2D(3553,tt,N,we[0].width,we[0].height);for(let De=0,et=we.length;De<et;De++)ge=we[De],We?t.texSubImage2D(3553,De,0,0,ge.width,ge.height,it,j,ge.data):t.texImage2D(3553,De,N,ge.width,ge.height,0,it,j,ge.data);D.generateMipmaps=!1}else We?(Oe&&t.texStorage2D(3553,tt,N,he.width,he.height),t.texSubImage2D(3553,0,0,0,he.width,he.height,it,j,he.data)):t.texImage2D(3553,0,N,he.width,he.height,0,it,j,he.data);else if(D.isCompressedTexture){We&&Oe&&t.texStorage2D(3553,tt,N,we[0].width,we[0].height);for(let De=0,et=we.length;De<et;De++)ge=we[De],D.format!==_i?it!==null?We?t.compressedTexSubImage2D(3553,De,0,0,ge.width,ge.height,it,ge.data):t.compressedTexImage2D(3553,De,N,ge.width,ge.height,0,ge.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):We?t.texSubImage2D(3553,De,0,0,ge.width,ge.height,it,j,ge.data):t.texImage2D(3553,De,N,ge.width,ge.height,0,it,j,ge.data)}else if(D.isDataArrayTexture)We?(Oe&&t.texStorage3D(35866,tt,N,he.width,he.height,he.depth),t.texSubImage3D(35866,0,0,0,0,he.width,he.height,he.depth,it,j,he.data)):t.texImage3D(35866,0,N,he.width,he.height,he.depth,0,it,j,he.data);else if(D.isData3DTexture)We?(Oe&&t.texStorage3D(32879,tt,N,he.width,he.height,he.depth),t.texSubImage3D(32879,0,0,0,0,he.width,he.height,he.depth,it,j,he.data)):t.texImage3D(32879,0,N,he.width,he.height,he.depth,0,it,j,he.data);else if(D.isFramebufferTexture)We&&Oe?t.texStorage2D(3553,tt,N,he.width,he.height):t.texImage2D(3553,0,N,he.width,he.height,0,it,j,null);else if(we.length>0&&Te){We&&Oe&&t.texStorage2D(3553,tt,N,we[0].width,we[0].height);for(let De=0,et=we.length;De<et;De++)ge=we[De],We?t.texSubImage2D(3553,De,0,0,it,j,ge):t.texImage2D(3553,De,N,it,j,ge);D.generateMipmaps=!1}else We?(Oe&&t.texStorage2D(3553,tt,N,he.width,he.height),t.texSubImage2D(3553,0,0,0,it,j,he)):t.texImage2D(3553,0,N,it,j,he);T(D,Te)&&R(me),ke.__currentVersion=ke.version,D.onUpdate&&D.onUpdate(D)}z.__version=D.version}function Le(z,D,ee){if(D.image.length!==6)return;const me=Be(z,D),Fe=D.source;if(t.activeTexture(33984+ee),t.bindTexture(34067,z.__webglTexture),Fe.version!==Fe.__currentVersion||me===!0){n.pixelStorei(37440,D.flipY),n.pixelStorei(37441,D.premultiplyAlpha),n.pixelStorei(3317,D.unpackAlignment),n.pixelStorei(37443,0);const ke=D.isCompressedTexture||D.image[0].isCompressedTexture,Ke=D.image[0]&&D.image[0].isDataTexture,he=[];for(let De=0;De<6;De++)!ke&&!Ke?he[De]=A(D.image[De],!1,!0,u):he[De]=Ke?D.image[De].image:D.image[De],he[De]=dt(D,he[De]);const Te=he[0],it=E(Te)||a,j=s.convert(D.format,D.encoding),N=s.convert(D.type),ge=I(D.internalFormat,j,N,D.encoding),we=a&&D.isVideoTexture!==!0,We=z.__version===void 0;let Oe=O(D,Te,it);H(34067,D,it);let tt;if(ke){we&&We&&t.texStorage2D(34067,Oe,ge,Te.width,Te.height);for(let De=0;De<6;De++){tt=he[De].mipmaps;for(let et=0;et<tt.length;et++){const xt=tt[et];D.format!==_i?j!==null?we?t.compressedTexSubImage2D(34069+De,et,0,0,xt.width,xt.height,j,xt.data):t.compressedTexImage2D(34069+De,et,ge,xt.width,xt.height,0,xt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):we?t.texSubImage2D(34069+De,et,0,0,xt.width,xt.height,j,N,xt.data):t.texImage2D(34069+De,et,ge,xt.width,xt.height,0,j,N,xt.data)}}}else{tt=D.mipmaps,we&&We&&(tt.length>0&&Oe++,t.texStorage2D(34067,Oe,ge,he[0].width,he[0].height));for(let De=0;De<6;De++)if(Ke){we?t.texSubImage2D(34069+De,0,0,0,he[De].width,he[De].height,j,N,he[De].data):t.texImage2D(34069+De,0,ge,he[De].width,he[De].height,0,j,N,he[De].data);for(let et=0;et<tt.length;et++){const wt=tt[et].image[De].image;we?t.texSubImage2D(34069+De,et+1,0,0,wt.width,wt.height,j,N,wt.data):t.texImage2D(34069+De,et+1,ge,wt.width,wt.height,0,j,N,wt.data)}}else{we?t.texSubImage2D(34069+De,0,0,0,j,N,he[De]):t.texImage2D(34069+De,0,ge,j,N,he[De]);for(let et=0;et<tt.length;et++){const xt=tt[et];we?t.texSubImage2D(34069+De,et+1,0,0,j,N,xt.image[De]):t.texImage2D(34069+De,et+1,ge,j,N,xt.image[De])}}}T(D,it)&&R(34067),Fe.__currentVersion=Fe.version,D.onUpdate&&D.onUpdate(D)}z.__version=D.version}function ve(z,D,ee,me,Fe){const ke=s.convert(ee.format,ee.encoding),Ke=s.convert(ee.type),he=I(ee.internalFormat,ke,Ke,ee.encoding);r.get(D).__hasExternalTextures||(Fe===32879||Fe===35866?t.texImage3D(Fe,0,he,D.width,D.height,D.depth,0,ke,Ke,null):t.texImage2D(Fe,0,he,D.width,D.height,0,ke,Ke,null)),t.bindFramebuffer(36160,z),$e(D)?p.framebufferTexture2DMultisampleEXT(36160,me,Fe,r.get(ee).__webglTexture,0,ze(D)):n.framebufferTexture2D(36160,me,Fe,r.get(ee).__webglTexture,0),t.bindFramebuffer(36160,null)}function Pe(z,D,ee){if(n.bindRenderbuffer(36161,z),D.depthBuffer&&!D.stencilBuffer){let me=33189;if(ee||$e(D)){const Fe=D.depthTexture;Fe&&Fe.isDepthTexture&&(Fe.type===bo?me=36012:Fe.type===Ch&&(me=33190));const ke=ze(D);$e(D)?p.renderbufferStorageMultisampleEXT(36161,ke,me,D.width,D.height):n.renderbufferStorageMultisample(36161,ke,me,D.width,D.height)}else n.renderbufferStorage(36161,me,D.width,D.height);n.framebufferRenderbuffer(36160,36096,36161,z)}else if(D.depthBuffer&&D.stencilBuffer){const me=ze(D);ee&&$e(D)===!1?n.renderbufferStorageMultisample(36161,me,35056,D.width,D.height):$e(D)?p.renderbufferStorageMultisampleEXT(36161,me,35056,D.width,D.height):n.renderbufferStorage(36161,34041,D.width,D.height),n.framebufferRenderbuffer(36160,33306,36161,z)}else{const me=D.isWebGLMultipleRenderTargets===!0?D.texture[0]:D.texture,Fe=s.convert(me.format,me.encoding),ke=s.convert(me.type),Ke=I(me.internalFormat,Fe,ke,me.encoding),he=ze(D);ee&&$e(D)===!1?n.renderbufferStorageMultisample(36161,he,Ke,D.width,D.height):$e(D)?p.renderbufferStorageMultisampleEXT(36161,he,Ke,D.width,D.height):n.renderbufferStorage(36161,Ke,D.width,D.height)}n.bindRenderbuffer(36161,null)}function ne(z,D){if(D&&D.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,z),!(D.depthTexture&&D.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(D.depthTexture).__webglTexture||D.depthTexture.image.width!==D.width||D.depthTexture.image.height!==D.height)&&(D.depthTexture.image.width=D.width,D.depthTexture.image.height=D.height,D.depthTexture.needsUpdate=!0),Z(D.depthTexture,0);const me=r.get(D.depthTexture).__webglTexture,Fe=ze(D);if(D.depthTexture.format===Da)$e(D)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,me,0,Fe):n.framebufferTexture2D(36160,36096,3553,me,0);else if(D.depthTexture.format===vu)$e(D)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,me,0,Fe):n.framebufferTexture2D(36160,33306,3553,me,0);else throw new Error("Unknown depthTexture format")}function oe(z){const D=r.get(z),ee=z.isWebGLCubeRenderTarget===!0;if(z.depthTexture&&!D.__autoAllocateDepthBuffer){if(ee)throw new Error("target.depthTexture not supported in Cube render targets");ne(D.__webglFramebuffer,z)}else if(ee){D.__webglDepthbuffer=[];for(let me=0;me<6;me++)t.bindFramebuffer(36160,D.__webglFramebuffer[me]),D.__webglDepthbuffer[me]=n.createRenderbuffer(),Pe(D.__webglDepthbuffer[me],z,!1)}else t.bindFramebuffer(36160,D.__webglFramebuffer),D.__webglDepthbuffer=n.createRenderbuffer(),Pe(D.__webglDepthbuffer,z,!1);t.bindFramebuffer(36160,null)}function xe(z,D,ee){const me=r.get(z);D!==void 0&&ve(me.__webglFramebuffer,z,z.texture,36064,3553),ee!==void 0&&oe(z)}function Ae(z){const D=z.texture,ee=r.get(z),me=r.get(D);z.addEventListener("dispose",B),z.isWebGLMultipleRenderTargets!==!0&&(me.__webglTexture===void 0&&(me.__webglTexture=n.createTexture()),me.__version=D.version,o.memory.textures++);const Fe=z.isWebGLCubeRenderTarget===!0,ke=z.isWebGLMultipleRenderTargets===!0,Ke=E(z)||a;if(Fe){ee.__webglFramebuffer=[];for(let he=0;he<6;he++)ee.__webglFramebuffer[he]=n.createFramebuffer()}else if(ee.__webglFramebuffer=n.createFramebuffer(),ke)if(i.drawBuffers){const he=z.texture;for(let Te=0,it=he.length;Te<it;Te++){const j=r.get(he[Te]);j.__webglTexture===void 0&&(j.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(a&&z.samples>0&&$e(z)===!1){ee.__webglMultisampledFramebuffer=n.createFramebuffer(),ee.__webglColorRenderbuffer=n.createRenderbuffer(),n.bindRenderbuffer(36161,ee.__webglColorRenderbuffer);const he=s.convert(D.format,D.encoding),Te=s.convert(D.type),it=I(D.internalFormat,he,Te,D.encoding),j=ze(z);n.renderbufferStorageMultisample(36161,j,it,z.width,z.height),t.bindFramebuffer(36160,ee.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064,36161,ee.__webglColorRenderbuffer),n.bindRenderbuffer(36161,null),z.depthBuffer&&(ee.__webglDepthRenderbuffer=n.createRenderbuffer(),Pe(ee.__webglDepthRenderbuffer,z,!0)),t.bindFramebuffer(36160,null)}if(Fe){t.bindTexture(34067,me.__webglTexture),H(34067,D,Ke);for(let he=0;he<6;he++)ve(ee.__webglFramebuffer[he],z,D,36064,34069+he);T(D,Ke)&&R(34067),t.unbindTexture()}else if(ke){const he=z.texture;for(let Te=0,it=he.length;Te<it;Te++){const j=he[Te],N=r.get(j);t.bindTexture(3553,N.__webglTexture),H(3553,j,Ke),ve(ee.__webglFramebuffer,z,j,36064+Te,3553),T(j,Ke)&&R(3553)}t.unbindTexture()}else{let he=3553;(z.isWebGL3DRenderTarget||z.isWebGLArrayRenderTarget)&&(a?he=z.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(he,me.__webglTexture),H(he,D,Ke),ve(ee.__webglFramebuffer,z,D,36064,he),T(D,Ke)&&R(he),t.unbindTexture()}z.depthBuffer&&oe(z)}function Ee(z){const D=E(z)||a,ee=z.isWebGLMultipleRenderTargets===!0?z.texture:[z.texture];for(let me=0,Fe=ee.length;me<Fe;me++){const ke=ee[me];if(T(ke,D)){const Ke=z.isWebGLCubeRenderTarget?34067:3553,he=r.get(ke).__webglTexture;t.bindTexture(Ke,he),R(Ke),t.unbindTexture()}}}function Me(z){if(a&&z.samples>0&&$e(z)===!1){const D=z.width,ee=z.height;let me=16384;const Fe=[36064],ke=z.stencilBuffer?33306:36096;z.depthBuffer&&Fe.push(ke);const Ke=r.get(z),he=Ke.__ignoreDepthValues!==void 0?Ke.__ignoreDepthValues:!1;he===!1&&(z.depthBuffer&&(me|=256),z.stencilBuffer&&(me|=1024)),t.bindFramebuffer(36008,Ke.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Ke.__webglFramebuffer),he===!0&&(n.invalidateFramebuffer(36008,[ke]),n.invalidateFramebuffer(36009,[ke])),n.blitFramebuffer(0,0,D,ee,0,0,D,ee,me,9728),m&&n.invalidateFramebuffer(36008,Fe),t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,Ke.__webglMultisampledFramebuffer)}}function ze(z){return Math.min(h,z.samples)}function $e(z){const D=r.get(z);return a&&z.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&D.__useRenderToTexture!==!1}function Ze(z){const D=o.render.frame;y.get(z)!==D&&(y.set(z,D),z.update())}function dt(z,D){const ee=z.encoding,me=z.format,Fe=z.type;return z.isCompressedTexture===!0||z.isVideoTexture===!0||z.format===rv||ee!==xs&&(ee===Ut?a===!1?e.has("EXT_sRGB")===!0&&me===_i?(z.format=rv,z.minFilter=_n,z.generateMipmaps=!1):D=il.sRGBToLinear(D):(me!==_i||Fe!==Ja)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ee)),D}this.allocateTextureUnit=k,this.resetTextureUnits=K,this.setTexture2D=Z,this.setTexture2DArray=ae,this.setTexture3D=Q,this.setTextureCube=se,this.rebindTextures=xe,this.setupRenderTarget=Ae,this.updateRenderTargetMipmap=Ee,this.updateMultisampleRenderTarget=Me,this.setupDepthRenderbuffer=oe,this.setupFrameBufferTexture=ve,this.useMultisampledRTT=$e}function XN(n,e,t){const r=t.isWebGL2;function i(s,o=null){let a;if(s===Ja)return 5121;if(s===sN)return 32819;if(s===oN)return 32820;if(s===nN)return 5120;if(s===rN)return 5122;if(s===Af)return 5123;if(s===iN)return 5124;if(s===Ch)return 5125;if(s===bo)return 5126;if(s===ru)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===aN)return 6406;if(s===_i)return 6408;if(s===uN)return 6409;if(s===cN)return 6410;if(s===Da)return 6402;if(s===vu)return 34041;if(s===fN)return 6403;if(s===lN)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===rv)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===dN)return 36244;if(s===hN)return 33319;if(s===pN)return 33320;if(s===mN)return 36249;if(s===iy||s===sy||s===oy||s===ay)if(o===Ut)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===iy)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===sy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===oy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===ay)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===iy)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===sy)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===oy)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===ay)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===yA||s===vA||s===_A||s===xA)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===yA)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===vA)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===_A)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===xA)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===gN)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===wA||s===SA)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===wA)return o===Ut?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===SA)return o===Ut?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===AA||s===EA||s===MA||s===CA||s===bA||s===TA||s===RA||s===PA||s===IA||s===BA||s===LA||s===DA||s===FA||s===kA)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===AA)return o===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===EA)return o===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===MA)return o===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===CA)return o===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===bA)return o===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===TA)return o===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===RA)return o===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===PA)return o===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===IA)return o===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===BA)return o===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===LA)return o===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===DA)return o===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===FA)return o===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===kA)return o===Ut?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===OA)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===OA)return o===Ut?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===iu)return r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:i}}class wC extends Yt{constructor(e=[]){super();this.cameras=e}}wC.prototype.isArrayCamera=!0;class zs extends _t{constructor(){super();this.type="Group"}}zs.prototype.isGroup=!0;const Cre={type:"move"};class fw{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new zs,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new zs,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new F,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new F),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new zs,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new F,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new F),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred")if(a!==null&&(i=t.getPose(e.targetRaySpace,r),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Cre))),u&&e.hand){o=!0;for(const g of e.hand.values()){const _=t.getJointPose(g,r);if(u.joints[g.jointName]===void 0){const x=new zs;x.matrixAutoUpdate=!1,x.visible=!1,u.joints[g.jointName]=x,u.add(x)}const w=u.joints[g.jointName];_!==null&&(w.matrix.fromArray(_.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale),w.jointRadius=_.radius),w.visible=_!==null}const d=u.joints["index-finger-tip"],h=u.joints["thumb-tip"],p=d.position.distanceTo(h.position),m=.02,y=.005;u.inputState.pinching&&p>m+y?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=m-y&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}}class SC extends Sn{constructor(e,t,r,i,s,o,a,l,u,d){if(d=d!==void 0?d:Da,d!==Da&&d!==vu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&d===Da&&(r=Af),r===void 0&&d===vu&&(r=iu);super(null,i,s,o,a,l,d,r,u);this.image={width:e,height:t},this.magFilter=a!==void 0?a:Dn,this.minFilter=l!==void 0?l:Dn,this.flipY=!1,this.generateMipmaps=!1}}SC.prototype.isDepthTexture=!0;class bre extends Vo{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=null,u=null,d=null,h=null,p=null;const m=t.getContextAttributes();let y=null,g=null;const _=[],w=new Map,x=new Yt;x.layers.enable(1),x.viewport=new Gt;const A=new Yt;A.layers.enable(2),A.viewport=new Gt;const E=[x,A],C=new wC;C.layers.enable(1),C.layers.enable(2);let T=null,R=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(k){let X=_[k];return X===void 0&&(X=new fw,_[k]=X),X.getTargetRaySpace()},this.getControllerGrip=function(k){let X=_[k];return X===void 0&&(X=new fw,_[k]=X),X.getGripSpace()},this.getHand=function(k){let X=_[k];return X===void 0&&(X=new fw,_[k]=X),X.getHandSpace()};function I(k){const X=w.get(k.inputSource);X&&X.dispatchEvent({type:k.type,data:k.inputSource})}function O(){w.forEach(function(k,X){k.disconnect(X)}),w.clear(),T=null,R=null,e.setRenderTarget(y),h=null,d=null,u=null,i=null,g=null,K.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(k){s=k,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(k){a=k,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getBaseLayer=function(){return d!==null?d:h},this.getBinding=function(){return u},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(k){if(i=k,i!==null){if(y=e.getRenderTarget(),i.addEventListener("select",I),i.addEventListener("selectstart",I),i.addEventListener("selectend",I),i.addEventListener("squeeze",I),i.addEventListener("squeezestart",I),i.addEventListener("squeezeend",I),i.addEventListener("end",O),i.addEventListener("inputsourceschange",L),m.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const X={antialias:i.renderState.layers===void 0?m.antialias:!0,alpha:m.alpha,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:s};h=new XRWebGLLayer(i,t,X),i.updateRenderState({baseLayer:h}),g=new fr(h.framebufferWidth,h.framebufferHeight,{format:_i,type:Ja,encoding:e.outputEncoding})}else{let X=null,Z=null,ae=null;m.depth&&(ae=m.stencil?35056:33190,X=m.stencil?vu:Da,Z=m.stencil?iu:Af);const Q={colorFormat:e.outputEncoding===Ut?35907:32856,depthFormat:ae,scaleFactor:s};u=new XRWebGLBinding(i,t),d=u.createProjectionLayer(Q),i.updateRenderState({layers:[d]}),g=new fr(d.textureWidth,d.textureHeight,{format:_i,type:Ja,depthTexture:new SC(d.textureWidth,d.textureHeight,Z,void 0,void 0,void 0,void 0,void 0,void 0,X),stencilBuffer:m.stencil,encoding:e.outputEncoding,samples:m.antialias?4:0});const se=e.properties.get(g);se.__ignoreDepthValues=d.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(1),o=await i.requestReferenceSpace(a),K.setContext(i),K.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function L(k){const X=i.inputSources;for(let Z=0;Z<_.length;Z++)w.set(X[Z],_[Z]);for(let Z=0;Z<k.removed.length;Z++){const ae=k.removed[Z],Q=w.get(ae);Q&&(Q.dispatchEvent({type:"disconnected",data:ae}),w.delete(ae))}for(let Z=0;Z<k.added.length;Z++){const ae=k.added[Z],Q=w.get(ae);Q&&Q.dispatchEvent({type:"connected",data:ae})}}const P=new F,B=new F;function q(k,X,Z){P.setFromMatrixPosition(X.matrixWorld),B.setFromMatrixPosition(Z.matrixWorld);const ae=P.distanceTo(B),Q=X.projectionMatrix.elements,se=Z.projectionMatrix.elements,pe=Q[14]/(Q[10]-1),_e=Q[14]/(Q[10]+1),H=(Q[9]+1)/Q[5],Be=(Q[9]-1)/Q[5],ue=(Q[8]-1)/Q[0],Le=(se[8]+1)/se[0],ve=pe*ue,Pe=pe*Le,ne=ae/(-ue+Le),oe=ne*-ue;X.matrixWorld.decompose(k.position,k.quaternion,k.scale),k.translateX(oe),k.translateZ(ne),k.matrixWorld.compose(k.position,k.quaternion,k.scale),k.matrixWorldInverse.copy(k.matrixWorld).invert();const xe=pe+ne,Ae=_e+ne,Ee=ve-oe,Me=Pe+(ae-oe),ze=H*_e/Ae*xe,$e=Be*_e/Ae*xe;k.projectionMatrix.makePerspective(Ee,Me,ze,$e,xe,Ae)}function W(k,X){X===null?k.matrixWorld.copy(k.matrix):k.matrixWorld.multiplyMatrices(X.matrixWorld,k.matrix),k.matrixWorldInverse.copy(k.matrixWorld).invert()}this.updateCamera=function(k){if(i===null)return;C.near=A.near=x.near=k.near,C.far=A.far=x.far=k.far,(T!==C.near||R!==C.far)&&(i.updateRenderState({depthNear:C.near,depthFar:C.far}),T=C.near,R=C.far);const X=k.parent,Z=C.cameras;W(C,X);for(let Q=0;Q<Z.length;Q++)W(Z[Q],X);C.matrixWorld.decompose(C.position,C.quaternion,C.scale),k.position.copy(C.position),k.quaternion.copy(C.quaternion),k.scale.copy(C.scale),k.matrix.copy(C.matrix),k.matrixWorld.copy(C.matrixWorld);const ae=k.children;for(let Q=0,se=ae.length;Q<se;Q++)ae[Q].updateMatrixWorld(!0);Z.length===2?q(C,x,A):C.projectionMatrix.copy(x.projectionMatrix)},this.getCamera=function(){return C},this.getFoveation=function(){if(d!==null)return d.fixedFoveation;if(h!==null)return h.fixedFoveation},this.setFoveation=function(k){d!==null&&(d.fixedFoveation=k),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=k)};let $=null;function J(k,X){if(l=X.getViewerPose(o),p=X,l!==null){const ae=l.views;h!==null&&(e.setRenderTargetFramebuffer(g,h.framebuffer),e.setRenderTarget(g));let Q=!1;ae.length!==C.cameras.length&&(C.cameras.length=0,Q=!0);for(let se=0;se<ae.length;se++){const pe=ae[se];let _e=null;if(h!==null)_e=h.getViewport(pe);else{const Be=u.getViewSubImage(d,pe);_e=Be.viewport,se===0&&(e.setRenderTargetTextures(g,Be.colorTexture,d.ignoreDepthValues?void 0:Be.depthStencilTexture),e.setRenderTarget(g))}const H=E[se];H.matrix.fromArray(pe.transform.matrix),H.projectionMatrix.fromArray(pe.projectionMatrix),H.viewport.set(_e.x,_e.y,_e.width,_e.height),se===0&&C.matrix.copy(H.matrix),Q===!0&&C.cameras.push(H)}}const Z=i.inputSources;for(let ae=0;ae<_.length;ae++){const Q=_[ae],se=Z[ae];Q.update(se,X,o)}$&&$(k,X),p=null}const K=new UN;K.setAnimationLoop(J),this.setAnimationLoop=function(k){$=k},this.dispose=function(){}}}function Tre(n,e){function t(g,_){g.fogColor.value.copy(_.color),_.isFog?(g.fogNear.value=_.near,g.fogFar.value=_.far):_.isFogExp2&&(g.fogDensity.value=_.density)}function r(g,_,w,x,A){_.isMeshBasicMaterial||_.isMeshLambertMaterial?i(g,_):_.isMeshToonMaterial?(i(g,_),d(g,_)):_.isMeshPhongMaterial?(i(g,_),u(g,_)):_.isMeshStandardMaterial?(i(g,_),h(g,_),_.isMeshPhysicalMaterial&&p(g,_,A)):_.isMeshMatcapMaterial?(i(g,_),m(g,_)):_.isMeshDepthMaterial?i(g,_):_.isMeshDistanceMaterial?(i(g,_),y(g,_)):_.isMeshNormalMaterial?i(g,_):_.isLineBasicMaterial?(s(g,_),_.isLineDashedMaterial&&o(g,_)):_.isPointsMaterial?a(g,_,w,x):_.isSpriteMaterial?l(g,_):_.isShadowMaterial?(g.color.value.copy(_.color),g.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}function i(g,_){g.opacity.value=_.opacity,_.color&&g.diffuse.value.copy(_.color),_.emissive&&g.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(g.map.value=_.map),_.alphaMap&&(g.alphaMap.value=_.alphaMap),_.bumpMap&&(g.bumpMap.value=_.bumpMap,g.bumpScale.value=_.bumpScale,_.side===Ai&&(g.bumpScale.value*=-1)),_.displacementMap&&(g.displacementMap.value=_.displacementMap,g.displacementScale.value=_.displacementScale,g.displacementBias.value=_.displacementBias),_.emissiveMap&&(g.emissiveMap.value=_.emissiveMap),_.normalMap&&(g.normalMap.value=_.normalMap,g.normalScale.value.copy(_.normalScale),_.side===Ai&&g.normalScale.value.negate()),_.specularMap&&(g.specularMap.value=_.specularMap),_.alphaTest>0&&(g.alphaTest.value=_.alphaTest);const w=e.get(_).envMap;if(w&&(g.envMap.value=w,g.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=_.reflectivity,g.ior.value=_.ior,g.refractionRatio.value=_.refractionRatio),_.lightMap){g.lightMap.value=_.lightMap;const E=n.physicallyCorrectLights!==!0?Math.PI:1;g.lightMapIntensity.value=_.lightMapIntensity*E}_.aoMap&&(g.aoMap.value=_.aoMap,g.aoMapIntensity.value=_.aoMapIntensity);let x;_.map?x=_.map:_.specularMap?x=_.specularMap:_.displacementMap?x=_.displacementMap:_.normalMap?x=_.normalMap:_.bumpMap?x=_.bumpMap:_.roughnessMap?x=_.roughnessMap:_.metalnessMap?x=_.metalnessMap:_.alphaMap?x=_.alphaMap:_.emissiveMap?x=_.emissiveMap:_.clearcoatMap?x=_.clearcoatMap:_.clearcoatNormalMap?x=_.clearcoatNormalMap:_.clearcoatRoughnessMap?x=_.clearcoatRoughnessMap:_.specularIntensityMap?x=_.specularIntensityMap:_.specularColorMap?x=_.specularColorMap:_.transmissionMap?x=_.transmissionMap:_.thicknessMap?x=_.thicknessMap:_.sheenColorMap?x=_.sheenColorMap:_.sheenRoughnessMap&&(x=_.sheenRoughnessMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),g.uvTransform.value.copy(x.matrix));let A;_.aoMap?A=_.aoMap:_.lightMap&&(A=_.lightMap),A!==void 0&&(A.isWebGLRenderTarget&&(A=A.texture),A.matrixAutoUpdate===!0&&A.updateMatrix(),g.uv2Transform.value.copy(A.matrix))}function s(g,_){g.diffuse.value.copy(_.color),g.opacity.value=_.opacity}function o(g,_){g.dashSize.value=_.dashSize,g.totalSize.value=_.dashSize+_.gapSize,g.scale.value=_.scale}function a(g,_,w,x){g.diffuse.value.copy(_.color),g.opacity.value=_.opacity,g.size.value=_.size*w,g.scale.value=x*.5,_.map&&(g.map.value=_.map),_.alphaMap&&(g.alphaMap.value=_.alphaMap),_.alphaTest>0&&(g.alphaTest.value=_.alphaTest);let A;_.map?A=_.map:_.alphaMap&&(A=_.alphaMap),A!==void 0&&(A.matrixAutoUpdate===!0&&A.updateMatrix(),g.uvTransform.value.copy(A.matrix))}function l(g,_){g.diffuse.value.copy(_.color),g.opacity.value=_.opacity,g.rotation.value=_.rotation,_.map&&(g.map.value=_.map),_.alphaMap&&(g.alphaMap.value=_.alphaMap),_.alphaTest>0&&(g.alphaTest.value=_.alphaTest);let w;_.map?w=_.map:_.alphaMap&&(w=_.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),g.uvTransform.value.copy(w.matrix))}function u(g,_){g.specular.value.copy(_.specular),g.shininess.value=Math.max(_.shininess,1e-4)}function d(g,_){_.gradientMap&&(g.gradientMap.value=_.gradientMap)}function h(g,_){g.roughness.value=_.roughness,g.metalness.value=_.metalness,_.roughnessMap&&(g.roughnessMap.value=_.roughnessMap),_.metalnessMap&&(g.metalnessMap.value=_.metalnessMap),e.get(_).envMap&&(g.envMapIntensity.value=_.envMapIntensity)}function p(g,_,w){g.ior.value=_.ior,_.sheen>0&&(g.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),g.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(g.sheenColorMap.value=_.sheenColorMap),_.sheenRoughnessMap&&(g.sheenRoughnessMap.value=_.sheenRoughnessMap)),_.clearcoat>0&&(g.clearcoat.value=_.clearcoat,g.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(g.clearcoatMap.value=_.clearcoatMap),_.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap),_.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),g.clearcoatNormalMap.value=_.clearcoatNormalMap,_.side===Ai&&g.clearcoatNormalScale.value.negate())),_.transmission>0&&(g.transmission.value=_.transmission,g.transmissionSamplerMap.value=w.texture,g.transmissionSamplerSize.value.set(w.width,w.height),_.transmissionMap&&(g.transmissionMap.value=_.transmissionMap),g.thickness.value=_.thickness,_.thicknessMap&&(g.thicknessMap.value=_.thicknessMap),g.attenuationDistance.value=_.attenuationDistance,g.attenuationColor.value.copy(_.attenuationColor)),g.specularIntensity.value=_.specularIntensity,g.specularColor.value.copy(_.specularColor),_.specularIntensityMap&&(g.specularIntensityMap.value=_.specularIntensityMap),_.specularColorMap&&(g.specularColorMap.value=_.specularColorMap)}function m(g,_){_.matcap&&(g.matcap.value=_.matcap)}function y(g,_){g.referencePosition.value.copy(_.referencePosition),g.nearDistance.value=_.nearDistance,g.farDistance.value=_.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:r}}function Rre(){const n=pp("canvas");return n.style.display="block",n}function Wt(n={}){const e=n.canvas!==void 0?n.canvas:Rre(),t=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",u=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let d;n.context!==void 0?d=t.getContextAttributes().alpha:d=n.alpha!==void 0?n.alpha:!1;let h=null,p=null;const m=[],y=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=xs,this.physicallyCorrectLights=!1,this.toneMapping=ys,this.toneMappingExposure=1;const g=this;let _=!1,w=0,x=0,A=null,E=-1,C=null;const T=new Gt,R=new Gt;let I=null,O=e.width,L=e.height,P=1,B=null,q=null;const W=new Gt(0,0,O,L),$=new Gt(0,0,O,L);let J=!1;const K=new sm;let k=!1,X=!1,Z=null;const ae=new Xe,Q=new ye,se=new F,pe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function _e(){return A===null?P:1}let H=t;function Be(U,re){for(let fe=0;fe<U.length;fe++){const le=U[fe],Se=e.getContext(le,re);if(Se!==null)return Se}return null}try{const U={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${p_}`),e.addEventListener("webglcontextlost",N,!1),e.addEventListener("webglcontextrestored",ge,!1),H===null){const re=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&re.shift(),H=Be(re,U),H===null)throw Be(re)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}H.getShaderPrecisionFormat===void 0&&(H.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(U){throw console.error("THREE.WebGLRenderer: "+U.message),U}let ue,Le,ve,Pe,ne,oe,xe,Ae,Ee,Me,ze,$e,Ze,dt,z,D,ee,me,Fe,ke,Ke,he,Te;function it(){ue=new Kte(H),Le=new zte(H,ue,n),ue.init(Le),he=new XN(H,ue,Le),ve=new Ere(H,ue,Le),Pe=new qte(H),ne=new hre,oe=new Mre(H,ue,ve,ne,Le,he,Pe),xe=new Wte(g),Ae=new $te(g),Ee=new fZ(H,Le),Te=new Ute(H,ue,Ee,Le),Me=new Xte(H,Ee,Pe,Te),ze=new tne(H,Me,Ee,Pe),Fe=new ene(H,Le,oe),D=new Vte(ne),$e=new dre(g,xe,Ae,ue,Le,Te,D),Ze=new Tre(g,ne),dt=new mre,z=new wre(ue,Le),me=new Hte(g,xe,ve,ze,d,o),ee=new KN(g,ze,Le),ke=new Gte(H,ue,Pe,Le),Ke=new Qte(H,ue,Pe,Le),Pe.programs=$e.programs,g.capabilities=Le,g.extensions=ue,g.properties=ne,g.renderLists=dt,g.shadowMap=ee,g.state=ve,g.info=Pe}it();const j=new bre(g,H);this.xr=j,this.getContext=function(){return H},this.getContextAttributes=function(){return H.getContextAttributes()},this.forceContextLoss=function(){const U=ue.get("WEBGL_lose_context");U&&U.loseContext()},this.forceContextRestore=function(){const U=ue.get("WEBGL_lose_context");U&&U.restoreContext()},this.getPixelRatio=function(){return P},this.setPixelRatio=function(U){U!==void 0&&(P=U,this.setSize(O,L,!1))},this.getSize=function(U){return U.set(O,L)},this.setSize=function(U,re,fe){if(j.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}O=U,L=re,e.width=Math.floor(U*P),e.height=Math.floor(re*P),fe!==!1&&(e.style.width=U+"px",e.style.height=re+"px"),this.setViewport(0,0,U,re)},this.getDrawingBufferSize=function(U){return U.set(O*P,L*P).floor()},this.setDrawingBufferSize=function(U,re,fe){O=U,L=re,P=fe,e.width=Math.floor(U*fe),e.height=Math.floor(re*fe),this.setViewport(0,0,U,re)},this.getCurrentViewport=function(U){return U.copy(T)},this.getViewport=function(U){return U.copy(W)},this.setViewport=function(U,re,fe,le){U.isVector4?W.set(U.x,U.y,U.z,U.w):W.set(U,re,fe,le),ve.viewport(T.copy(W).multiplyScalar(P).floor())},this.getScissor=function(U){return U.copy($)},this.setScissor=function(U,re,fe,le){U.isVector4?$.set(U.x,U.y,U.z,U.w):$.set(U,re,fe,le),ve.scissor(R.copy($).multiplyScalar(P).floor())},this.getScissorTest=function(){return J},this.setScissorTest=function(U){ve.setScissorTest(J=U)},this.setOpaqueSort=function(U){B=U},this.setTransparentSort=function(U){q=U},this.getClearColor=function(U){return U.copy(me.getClearColor())},this.setClearColor=function(){me.setClearColor.apply(me,arguments)},this.getClearAlpha=function(){return me.getClearAlpha()},this.setClearAlpha=function(){me.setClearAlpha.apply(me,arguments)},this.clear=function(U=!0,re=!0,fe=!0){let le=0;U&&(le|=16384),re&&(le|=256),fe&&(le|=1024),H.clear(le)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",N,!1),e.removeEventListener("webglcontextrestored",ge,!1),dt.dispose(),z.dispose(),ne.dispose(),xe.dispose(),Ae.dispose(),ze.dispose(),Te.dispose(),$e.dispose(),j.dispose(),j.removeEventListener("sessionstart",et),j.removeEventListener("sessionend",xt),Z&&(Z.dispose(),Z=null),wt.stop()};function N(U){U.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),_=!0}function ge(){console.log("THREE.WebGLRenderer: Context Restored."),_=!1;const U=Pe.autoReset,re=ee.enabled,fe=ee.autoUpdate,le=ee.needsUpdate,Se=ee.type;it(),Pe.autoReset=U,ee.enabled=re,ee.autoUpdate=fe,ee.needsUpdate=le,ee.type=Se}function we(U){const re=U.target;re.removeEventListener("dispose",we),We(re)}function We(U){Oe(U),ne.remove(U)}function Oe(U){const re=ne.get(U).programs;re!==void 0&&(re.forEach(function(fe){$e.releaseProgram(fe)}),U.isShaderMaterial&&$e.releaseShaderCache(U))}this.renderBufferDirect=function(U,re,fe,le,Se,st){re===null&&(re=pe);const at=Se.isMesh&&Se.matrixWorld.determinant()<0,ht=U_(U,re,fe,le,Se);ve.setMaterial(le,at);let ft=fe.index;const Ot=fe.attributes.position;if(ft===null){if(Ot===void 0||Ot.count===0)return}else if(ft.count===0)return;let Et=1;le.wireframe===!0&&(ft=Me.getWireframeAttribute(fe),Et=2),Te.setup(Se,le,ht,fe,ft);let Mt,ln=ke;ft!==null&&(Mt=Ee.get(ft),ln=Ke,ln.setIndex(Mt));const ro=ft!==null?ft.count:Ot.count,Jo=fe.drawRange.start*Et,$o=fe.drawRange.count*Et,Ii=st!==null?st.start*Et:0,Lt=st!==null?st.count*Et:1/0,Ms=Math.max(Jo,Ii),Qt=Math.min(ro,Jo+$o,Ii+Lt)-1,zr=Math.max(0,Qt-Ms+1);if(zr!==0){if(Se.isMesh)le.wireframe===!0?(ve.setLineWidth(le.wireframeLinewidth*_e()),ln.setMode(1)):ln.setMode(4);else if(Se.isLine){let Bi=le.linewidth;Bi===void 0&&(Bi=1),ve.setLineWidth(Bi*_e()),Se.isLineSegments?ln.setMode(1):Se.isLineLoop?ln.setMode(2):ln.setMode(3)}else Se.isPoints?ln.setMode(0):Se.isSprite&&ln.setMode(4);if(Se.isInstancedMesh)ln.renderInstances(Ms,zr,Se.count);else if(fe.isInstancedBufferGeometry){const Bi=Math.min(fe.instanceCount,fe._maxInstanceCount);ln.renderInstances(Ms,zr,Bi)}else ln.render(Ms,zr)}},this.compile=function(U,re){p=z.get(U),p.init(),y.push(p),U.traverseVisible(function(fe){fe.isLight&&fe.layers.test(re.layers)&&(p.pushLight(fe),fe.castShadow&&p.pushShadow(fe))}),p.setupLights(g.physicallyCorrectLights),U.traverse(function(fe){const le=fe.material;if(le)if(Array.isArray(le))for(let Se=0;Se<le.length;Se++){const st=le[Se];Nu(st,U,fe)}else Nu(le,U,fe)}),y.pop(),p=null};let tt=null;function De(U){tt&&tt(U)}function et(){wt.stop()}function xt(){wt.start()}const wt=new UN;wt.setAnimationLoop(De),typeof self!="undefined"&&wt.setContext(self),this.setAnimationLoop=function(U){tt=U,j.setAnimationLoop(U),U===null?wt.stop():wt.start()},j.addEventListener("sessionstart",et),j.addEventListener("sessionend",xt),this.render=function(U,re){if(re!==void 0&&re.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(_===!0)return;U.autoUpdate===!0&&U.updateMatrixWorld(),re.parent===null&&re.updateMatrixWorld(),j.enabled===!0&&j.isPresenting===!0&&(j.cameraAutoUpdate===!0&&j.updateCamera(re),re=j.getCamera()),U.isScene===!0&&U.onBeforeRender(g,U,re,A),p=z.get(U,y.length),p.init(),y.push(p),ae.multiplyMatrices(re.projectionMatrix,re.matrixWorldInverse),K.setFromProjectionMatrix(ae),X=this.localClippingEnabled,k=D.init(this.clippingPlanes,X,re),h=dt.get(U,m.length),h.init(),m.push(h),Pi(U,re,0,g.sortObjects),h.finish(),g.sortObjects===!0&&h.sort(B,q),k===!0&&D.beginShadows();const fe=p.state.shadowsArray;if(ee.render(fe,U,re),k===!0&&D.endShadows(),this.info.autoReset===!0&&this.info.reset(),me.render(h,U),p.setupLights(g.physicallyCorrectLights),re.isArrayCamera){const le=re.cameras;for(let Se=0,st=le.length;Se<st;Se++){const at=le[Se];ci(h,U,at,at.viewport)}}else ci(h,U,re);A!==null&&(oe.updateMultisampleRenderTarget(A),oe.updateRenderTargetMipmap(A)),U.isScene===!0&&U.onAfterRender(g,U,re),Te.resetDefaultState(),E=-1,C=null,y.pop(),y.length>0?p=y[y.length-1]:p=null,m.pop(),m.length>0?h=m[m.length-1]:h=null};function Pi(U,re,fe,le){if(U.visible===!1)return;if(U.layers.test(re.layers)){if(U.isGroup)fe=U.renderOrder;else if(U.isLOD)U.autoUpdate===!0&&U.update(re);else if(U.isLight)p.pushLight(U),U.castShadow&&p.pushShadow(U);else if(U.isSprite){if(!U.frustumCulled||K.intersectsSprite(U)){le&&se.setFromMatrixPosition(U.matrixWorld).applyMatrix4(ae);const at=ze.update(U),ht=U.material;ht.visible&&h.push(U,at,ht,fe,se.z,null)}}else if((U.isMesh||U.isLine||U.isPoints)&&(U.isSkinnedMesh&&U.skeleton.frame!==Pe.render.frame&&(U.skeleton.update(),U.skeleton.frame=Pe.render.frame),!U.frustumCulled||K.intersectsObject(U))){le&&se.setFromMatrixPosition(U.matrixWorld).applyMatrix4(ae);const at=ze.update(U),ht=U.material;if(Array.isArray(ht)){const ft=at.groups;for(let Ot=0,Et=ft.length;Ot<Et;Ot++){const Mt=ft[Ot],ln=ht[Mt.materialIndex];ln&&ln.visible&&h.push(U,at,ln,fe,se.z,Mt)}}else ht.visible&&h.push(U,at,ht,fe,se.z,null)}}const st=U.children;for(let at=0,ht=st.length;at<ht;at++)Pi(st[at],re,fe,le)}function ci(U,re,fe,le){const Se=U.opaque,st=U.transmissive,at=U.transparent;p.setupLightsView(fe),st.length>0&&wm(Se,re,fe),le&&ve.viewport(T.copy(le)),Se.length>0&&Ou(Se,re,fe),st.length>0&&Ou(st,re,fe),at.length>0&&Ou(at,re,fe),ve.buffers.depth.setTest(!0),ve.buffers.depth.setMask(!0),ve.buffers.color.setMask(!0),ve.setPolygonOffset(!1)}function wm(U,re,fe){const le=Le.isWebGL2;Z===null&&(Z=new fr(1,1,{generateMipmaps:!0,type:he.convert(ru)!==null?ru:Ja,minFilter:zo,samples:le&&s===!0?4:0})),g.getDrawingBufferSize(Q),le?Z.setSize(Q.x,Q.y):Z.setSize(iv(Q.x),iv(Q.y));const Se=g.getRenderTarget();g.setRenderTarget(Z),g.clear();const st=g.toneMapping;g.toneMapping=ys,Ou(U,re,fe),g.toneMapping=st,oe.updateMultisampleRenderTarget(Z),oe.updateRenderTargetMipmap(Z),g.setRenderTarget(Se)}function Ou(U,re,fe){const le=re.isScene===!0?re.overrideMaterial:null;for(let Se=0,st=U.length;Se<st;Se++){const at=U[Se],ht=at.object,ft=at.geometry,Ot=le===null?at.material:le,Et=at.group;ht.layers.test(fe.layers)&&Sm(ht,re,fe,ft,Ot,Et)}}function Sm(U,re,fe,le,Se,st){U.onBeforeRender(g,re,fe,le,Se,st),U.modelViewMatrix.multiplyMatrices(fe.matrixWorldInverse,U.matrixWorld),U.normalMatrix.getNormalMatrix(U.modelViewMatrix),Se.onBeforeRender(g,re,fe,le,U,st),Se.transparent===!0&&Se.side===za?(Se.side=Ai,Se.needsUpdate=!0,g.renderBufferDirect(fe,re,le,Se,U,st),Se.side=Ga,Se.needsUpdate=!0,g.renderBufferDirect(fe,re,le,Se,U,st),Se.side=za):g.renderBufferDirect(fe,re,le,Se,U,st),U.onAfterRender(g,re,fe,le,Se,st)}function Nu(U,re,fe){re.isScene!==!0&&(re=pe);const le=ne.get(U),Se=p.state.lights,st=p.state.shadowsArray,at=Se.state.version,ht=$e.getParameters(U,Se.state,st,re,fe),ft=$e.getProgramCacheKey(ht);let Ot=le.programs;le.environment=U.isMeshStandardMaterial?re.environment:null,le.fog=re.fog,le.envMap=(U.isMeshStandardMaterial?Ae:xe).get(U.envMap||le.environment),Ot===void 0&&(U.addEventListener("dispose",we),Ot=new Map,le.programs=Ot);let Et=Ot.get(ft);if(Et!==void 0){if(le.currentProgram===Et&&le.lightsStateVersion===at)return ld(U,ht),Et}else ht.uniforms=$e.getUniforms(U),U.onBuild(fe,ht,g),U.onBeforeCompile(ht,g),Et=$e.acquireProgram(ht,ft),Ot.set(ft,Et),le.uniforms=ht.uniforms;const Mt=le.uniforms;(!U.isShaderMaterial&&!U.isRawShaderMaterial||U.clipping===!0)&&(Mt.clippingPlanes=D.uniform),ld(U,ht),le.needsLights=z_(U),le.lightsStateVersion=at,le.needsLights&&(Mt.ambientLightColor.value=Se.state.ambient,Mt.lightProbe.value=Se.state.probe,Mt.directionalLights.value=Se.state.directional,Mt.directionalLightShadows.value=Se.state.directionalShadow,Mt.spotLights.value=Se.state.spot,Mt.spotLightShadows.value=Se.state.spotShadow,Mt.rectAreaLights.value=Se.state.rectArea,Mt.ltc_1.value=Se.state.rectAreaLTC1,Mt.ltc_2.value=Se.state.rectAreaLTC2,Mt.pointLights.value=Se.state.point,Mt.pointLightShadows.value=Se.state.pointShadow,Mt.hemisphereLights.value=Se.state.hemi,Mt.directionalShadowMap.value=Se.state.directionalShadowMap,Mt.directionalShadowMatrix.value=Se.state.directionalShadowMatrix,Mt.spotShadowMap.value=Se.state.spotShadowMap,Mt.spotShadowMatrix.value=Se.state.spotShadowMatrix,Mt.pointShadowMap.value=Se.state.pointShadowMap,Mt.pointShadowMatrix.value=Se.state.pointShadowMatrix);const ln=Et.getUniforms(),ro=Fa.seqWithValue(ln.seq,Mt);return le.currentProgram=Et,le.uniformsList=ro,Et}function ld(U,re){const fe=ne.get(U);fe.outputEncoding=re.outputEncoding,fe.instancing=re.instancing,fe.skinning=re.skinning,fe.morphTargets=re.morphTargets,fe.morphNormals=re.morphNormals,fe.morphColors=re.morphColors,fe.morphTargetsCount=re.morphTargetsCount,fe.numClippingPlanes=re.numClippingPlanes,fe.numIntersection=re.numClipIntersection,fe.vertexAlphas=re.vertexAlphas,fe.vertexTangents=re.vertexTangents,fe.toneMapping=re.toneMapping}function U_(U,re,fe,le,Se){re.isScene!==!0&&(re=pe),oe.resetTextureUnits();const st=re.fog,at=le.isMeshStandardMaterial?re.environment:null,ht=A===null?g.outputEncoding:A.isXRRenderTarget===!0?A.texture.encoding:xs,ft=(le.isMeshStandardMaterial?Ae:xe).get(le.envMap||at),Ot=le.vertexColors===!0&&!!fe.attributes.color&&fe.attributes.color.itemSize===4,Et=!!le.normalMap&&!!fe.attributes.tangent,Mt=!!fe.morphAttributes.position,ln=!!fe.morphAttributes.normal,ro=!!fe.morphAttributes.color,Jo=le.toneMapped?g.toneMapping:ys,$o=fe.morphAttributes.position||fe.morphAttributes.normal||fe.morphAttributes.color,Ii=$o!==void 0?$o.length:0,Lt=ne.get(le),Ms=p.state.lights;if(k===!0&&(X===!0||U!==C)){const gt=U===C&&le.id===E;D.setState(le,U,gt)}let Qt=!1;le.version===Lt.__version?(Lt.needsLights&&Lt.lightsStateVersion!==Ms.state.version||Lt.outputEncoding!==ht||Se.isInstancedMesh&&Lt.instancing===!1||!Se.isInstancedMesh&&Lt.instancing===!0||Se.isSkinnedMesh&&Lt.skinning===!1||!Se.isSkinnedMesh&&Lt.skinning===!0||Lt.envMap!==ft||le.fog&&Lt.fog!==st||Lt.numClippingPlanes!==void 0&&(Lt.numClippingPlanes!==D.numPlanes||Lt.numIntersection!==D.numIntersection)||Lt.vertexAlphas!==Ot||Lt.vertexTangents!==Et||Lt.morphTargets!==Mt||Lt.morphNormals!==ln||Lt.morphColors!==ro||Lt.toneMapping!==Jo||Le.isWebGL2===!0&&Lt.morphTargetsCount!==Ii)&&(Qt=!0):(Qt=!0,Lt.__version=le.version);let zr=Lt.currentProgram;Qt===!0&&(zr=Nu(le,re,Se));let Bi=!1,ul=!1,cl=!1;const pn=zr.getUniforms(),Vr=Lt.uniforms;if(ve.useProgram(zr.program)&&(Bi=!0,ul=!0,cl=!0),le.id!==E&&(E=le.id,ul=!0),Bi||C!==U){if(pn.setValue(H,"projectionMatrix",U.projectionMatrix),Le.logarithmicDepthBuffer&&pn.setValue(H,"logDepthBufFC",2/(Math.log(U.far+1)/Math.LN2)),C!==U&&(C=U,ul=!0,cl=!0),le.isShaderMaterial||le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshStandardMaterial||le.envMap){const gt=pn.map.cameraPosition;gt!==void 0&&gt.setValue(H,se.setFromMatrixPosition(U.matrixWorld))}(le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshLambertMaterial||le.isMeshBasicMaterial||le.isMeshStandardMaterial||le.isShaderMaterial)&&pn.setValue(H,"isOrthographic",U.isOrthographicCamera===!0),(le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshLambertMaterial||le.isMeshBasicMaterial||le.isMeshStandardMaterial||le.isShaderMaterial||le.isShadowMaterial||Se.isSkinnedMesh)&&pn.setValue(H,"viewMatrix",U.matrixWorldInverse)}if(Se.isSkinnedMesh){pn.setOptional(H,Se,"bindMatrix"),pn.setOptional(H,Se,"bindMatrixInverse");const gt=Se.skeleton;gt&&(Le.floatVertexTextures?(gt.boneTexture===null&&gt.computeBoneTexture(),pn.setValue(H,"boneTexture",gt.boneTexture,oe),pn.setValue(H,"boneTextureSize",gt.boneTextureSize)):pn.setOptional(H,gt,"boneMatrices"))}const jt=fe.morphAttributes;return(jt.position!==void 0||jt.normal!==void 0||jt.color!==void 0&&Le.isWebGL2===!0)&&Fe.update(Se,fe,le,zr),(ul||Lt.receiveShadow!==Se.receiveShadow)&&(Lt.receiveShadow=Se.receiveShadow,pn.setValue(H,"receiveShadow",Se.receiveShadow)),ul&&(pn.setValue(H,"toneMappingExposure",g.toneMappingExposure),Lt.needsLights&&G_(Vr,cl),st&&le.fog&&Ze.refreshFogUniforms(Vr,st),Ze.refreshMaterialUniforms(Vr,le,P,L,Z),Fa.upload(H,Lt.uniformsList,Vr,oe)),le.isShaderMaterial&&le.uniformsNeedUpdate===!0&&(Fa.upload(H,Lt.uniformsList,Vr,oe),le.uniformsNeedUpdate=!1),le.isSpriteMaterial&&pn.setValue(H,"center",Se.center),pn.setValue(H,"modelViewMatrix",Se.modelViewMatrix),pn.setValue(H,"normalMatrix",Se.normalMatrix),pn.setValue(H,"modelMatrix",Se.matrixWorld),zr}function G_(U,re){U.ambientLightColor.needsUpdate=re,U.lightProbe.needsUpdate=re,U.directionalLights.needsUpdate=re,U.directionalLightShadows.needsUpdate=re,U.pointLights.needsUpdate=re,U.pointLightShadows.needsUpdate=re,U.spotLights.needsUpdate=re,U.spotLightShadows.needsUpdate=re,U.rectAreaLights.needsUpdate=re,U.hemisphereLights.needsUpdate=re}function z_(U){return U.isMeshLambertMaterial||U.isMeshToonMaterial||U.isMeshPhongMaterial||U.isMeshStandardMaterial||U.isShadowMaterial||U.isShaderMaterial&&U.lights===!0}this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return x},this.getRenderTarget=function(){return A},this.setRenderTargetTextures=function(U,re,fe){ne.get(U.texture).__webglTexture=re,ne.get(U.depthTexture).__webglTexture=fe;const le=ne.get(U);le.__hasExternalTextures=!0,le.__hasExternalTextures&&(le.__autoAllocateDepthBuffer=fe===void 0,le.__autoAllocateDepthBuffer||ue.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),le.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(U,re){const fe=ne.get(U);fe.__webglFramebuffer=re,fe.__useDefaultFramebuffer=re===void 0},this.setRenderTarget=function(U,re=0,fe=0){A=U,w=re,x=fe;let le=!0;if(U){const ft=ne.get(U);ft.__useDefaultFramebuffer!==void 0?(ve.bindFramebuffer(36160,null),le=!1):ft.__webglFramebuffer===void 0?oe.setupRenderTarget(U):ft.__hasExternalTextures&&oe.rebindTextures(U,ne.get(U.texture).__webglTexture,ne.get(U.depthTexture).__webglTexture)}let Se=null,st=!1,at=!1;if(U){const ft=U.texture;(ft.isData3DTexture||ft.isDataArrayTexture)&&(at=!0);const Ot=ne.get(U).__webglFramebuffer;U.isWebGLCubeRenderTarget?(Se=Ot[re],st=!0):Le.isWebGL2&&U.samples>0&&oe.useMultisampledRTT(U)===!1?Se=ne.get(U).__webglMultisampledFramebuffer:Se=Ot,T.copy(U.viewport),R.copy(U.scissor),I=U.scissorTest}else T.copy(W).multiplyScalar(P).floor(),R.copy($).multiplyScalar(P).floor(),I=J;if(ve.bindFramebuffer(36160,Se)&&Le.drawBuffers&&le&&ve.drawBuffers(U,Se),ve.viewport(T),ve.scissor(R),ve.setScissorTest(I),st){const ft=ne.get(U.texture);H.framebufferTexture2D(36160,36064,34069+re,ft.__webglTexture,fe)}else if(at){const ft=ne.get(U.texture),Ot=re||0;H.framebufferTextureLayer(36160,36064,ft.__webglTexture,fe||0,Ot)}E=-1},this.readRenderTargetPixels=function(U,re,fe,le,Se,st,at){if(!(U&&U.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ht=ne.get(U).__webglFramebuffer;if(U.isWebGLCubeRenderTarget&&at!==void 0&&(ht=ht[at]),ht){ve.bindFramebuffer(36160,ht);try{const ft=U.texture,Ot=ft.format,Et=ft.type;if(Ot!==_i&&he.convert(Ot)!==H.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Mt=Et===ru&&(ue.has("EXT_color_buffer_half_float")||Le.isWebGL2&&ue.has("EXT_color_buffer_float"));if(Et!==Ja&&he.convert(Et)!==H.getParameter(35738)&&!(Et===bo&&(Le.isWebGL2||ue.has("OES_texture_float")||ue.has("WEBGL_color_buffer_float")))&&!Mt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}re>=0&&re<=U.width-le&&fe>=0&&fe<=U.height-Se&&H.readPixels(re,fe,le,Se,he.convert(Ot),he.convert(Et),st)}finally{const ft=A!==null?ne.get(A).__webglFramebuffer:null;ve.bindFramebuffer(36160,ft)}}},this.copyFramebufferToTexture=function(U,re,fe=0){if(re.isFramebufferTexture!==!0){console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");return}const le=Math.pow(2,-fe),Se=Math.floor(re.image.width*le),st=Math.floor(re.image.height*le);oe.setTexture2D(re,0),H.copyTexSubImage2D(3553,fe,0,0,U.x,U.y,Se,st),ve.unbindTexture()},this.copyTextureToTexture=function(U,re,fe,le=0){const Se=re.image.width,st=re.image.height,at=he.convert(fe.format),ht=he.convert(fe.type);oe.setTexture2D(fe,0),H.pixelStorei(37440,fe.flipY),H.pixelStorei(37441,fe.premultiplyAlpha),H.pixelStorei(3317,fe.unpackAlignment),re.isDataTexture?H.texSubImage2D(3553,le,U.x,U.y,Se,st,at,ht,re.image.data):re.isCompressedTexture?H.compressedTexSubImage2D(3553,le,U.x,U.y,re.mipmaps[0].width,re.mipmaps[0].height,at,re.mipmaps[0].data):H.texSubImage2D(3553,le,U.x,U.y,at,ht,re.image),le===0&&fe.generateMipmaps&&H.generateMipmap(3553),ve.unbindTexture()},this.copyTextureToTexture3D=function(U,re,fe,le,Se=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const st=U.max.x-U.min.x+1,at=U.max.y-U.min.y+1,ht=U.max.z-U.min.z+1,ft=he.convert(le.format),Ot=he.convert(le.type);let Et;if(le.isData3DTexture)oe.setTexture3D(le,0),Et=32879;else if(le.isDataArrayTexture)oe.setTexture2DArray(le,0),Et=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}H.pixelStorei(37440,le.flipY),H.pixelStorei(37441,le.premultiplyAlpha),H.pixelStorei(3317,le.unpackAlignment);const Mt=H.getParameter(3314),ln=H.getParameter(32878),ro=H.getParameter(3316),Jo=H.getParameter(3315),$o=H.getParameter(32877),Ii=fe.isCompressedTexture?fe.mipmaps[0]:fe.image;H.pixelStorei(3314,Ii.width),H.pixelStorei(32878,Ii.height),H.pixelStorei(3316,U.min.x),H.pixelStorei(3315,U.min.y),H.pixelStorei(32877,U.min.z),fe.isDataTexture||fe.isData3DTexture?H.texSubImage3D(Et,Se,re.x,re.y,re.z,st,at,ht,ft,Ot,Ii.data):fe.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),H.compressedTexSubImage3D(Et,Se,re.x,re.y,re.z,st,at,ht,ft,Ii.data)):H.texSubImage3D(Et,Se,re.x,re.y,re.z,st,at,ht,ft,Ot,Ii),H.pixelStorei(3314,Mt),H.pixelStorei(32878,ln),H.pixelStorei(3316,ro),H.pixelStorei(3315,Jo),H.pixelStorei(32877,$o),Se===0&&le.generateMipmaps&&H.generateMipmap(Et),ve.unbindTexture()},this.initTexture=function(U){oe.setTexture2D(U,0),ve.unbindTexture()},this.resetState=function(){w=0,x=0,A=null,ve.reset(),Te.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Wt.prototype.isWebGLRenderer=!0;class QN extends Wt{}QN.prototype.isWebGL1Renderer=!0;class am{constructor(e,t=25e-5){this.name="",this.color=new Ie(e),this.density=t}clone(){return new am(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}am.prototype.isFogExp2=!0;class lm{constructor(e,t=1,r=1e3){this.name="",this.color=new Ie(e),this.near=t,this.far=r}clone(){return new lm(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}lm.prototype.isFog=!0;class um extends _t{constructor(){super();this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}}um.prototype.isScene=!0;class al{constructor(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Mf,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ei()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ei()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ei()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}al.prototype.isInterleavedBuffer=!0;const Lr=new F;class No{constructor(e,t,r,i=!1){this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Lr.fromBufferAttribute(this,t),Lr.applyMatrix4(e),this.setXYZ(t,Lr.x,Lr.y,Lr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Lr.fromBufferAttribute(this,t),Lr.applyNormalMatrix(e),this.setXYZ(t,Lr.x,Lr.y,Lr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Lr.fromBufferAttribute(this,t),Lr.transformDirection(e),this.setXYZ(t,Lr.x,Lr.y,Lr.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new vt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new No(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}No.prototype.isInterleavedBufferAttribute=!0;class E_ extends hn{constructor(e){super();this.type="SpriteMaterial",this.color=new Ie(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}E_.prototype.isSpriteMaterial=!0;let xc;const Xd=new F,wc=new F,Sc=new F,Ac=new ye,Qd=new ye,qN=new Xe,p0=new F,qd=new F,m0=new F,sB=new ye,dw=new ye,oB=new ye;class M_ extends _t{constructor(e){super();if(this.type="Sprite",xc===void 0){xc=new rt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new al(t,5);xc.setIndex([0,1,2,0,2,3]),xc.setAttribute("position",new No(r,3,0,!1)),xc.setAttribute("uv",new No(r,2,3,!1))}this.geometry=xc,this.material=e!==void 0?e:new E_,this.center=new ye(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),wc.setFromMatrixScale(this.matrixWorld),qN.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Sc.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&wc.multiplyScalar(-Sc.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;g0(p0.set(-.5,-.5,0),Sc,o,wc,i,s),g0(qd.set(.5,-.5,0),Sc,o,wc,i,s),g0(m0.set(.5,.5,0),Sc,o,wc,i,s),sB.set(0,0),dw.set(1,0),oB.set(1,1);let a=e.ray.intersectTriangle(p0,qd,m0,!1,Xd);if(a===null&&(g0(qd.set(-.5,.5,0),Sc,o,wc,i,s),dw.set(0,1),a=e.ray.intersectTriangle(p0,m0,qd,!1,Xd),a===null))return;const l=e.ray.origin.distanceTo(Xd);l<e.near||l>e.far||t.push({distance:l,point:Xd.clone(),uv:kn.getUV(Xd,p0,qd,m0,sB,dw,oB,new ye),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}M_.prototype.isSprite=!0;function g0(n,e,t,r,i,s){Ac.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(Qd.x=s*Ac.x-i*Ac.y,Qd.y=i*Ac.x+s*Ac.y):Qd.copy(Ac),n.copy(e),n.x+=Qd.x,n.y+=Qd.y,n.applyMatrix4(qN)}const y0=new F,aB=new F;class YN extends _t{constructor(){super();this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i&&!(e<t[r].distance);r++);return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){y0.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(y0);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){y0.setFromMatrixPosition(e.matrixWorld),aB.setFromMatrixPosition(this.matrixWorld);const r=y0.distanceTo(aB)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s&&r>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}const lB=new F,uB=new Gt,cB=new Gt,Pre=new F,fB=new Xe;class cm extends bn{constructor(e,t){super(e,t);this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Xe,this.bindMatrixInverse=new Xe}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Gt,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;uB.fromBufferAttribute(i.attributes.skinIndex,e),cB.fromBufferAttribute(i.attributes.skinWeight,e),lB.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=cB.getComponent(s);if(o!==0){const a=uB.getComponent(s);fB.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(Pre.copy(lB).applyMatrix4(fB),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}cm.prototype.isSkinnedMesh=!0;class fm extends _t{constructor(){super();this.type="Bone"}}fm.prototype.isBone=!0;class lu extends Sn{constructor(e=null,t=1,r=1,i,s,o,a,l,u=Dn,d=Dn,h,p){super(null,o,a,l,u,d,i,s,h,p);this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}lu.prototype.isDataTexture=!0;const dB=new Xe,Ire=new Xe;class dm{constructor(e=[],t=[]){this.uuid=Ei(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Xe)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Xe;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Ire;dB.multiplyMatrices(a,t[s]),dB.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new dm(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=CN(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new lu(t,e,e,_i,bo);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new fm),this.bones.push(o),this.boneInverses.push(new Xe().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class xu extends vt{constructor(e,t,r,i=1){typeof r=="number"&&(i=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument."));super(e,t,r);this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}xu.prototype.isInstancedBufferAttribute=!0;const hB=new Xe,pB=new Xe,v0=[],Yd=new bn;class AC extends bn{constructor(e,t,r){super(e,t);this.instanceMatrix=new xu(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(Yd.geometry=this.geometry,Yd.material=this.material,Yd.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,hB),pB.multiplyMatrices(r,hB),Yd.matrixWorld=pB,Yd.raycast(e,v0);for(let o=0,a=v0.length;o<a;o++){const l=v0[o];l.instanceId=s,l.object=this,t.push(l)}v0.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new xu(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}AC.prototype.isInstancedMesh=!0;class Qn extends hn{constructor(e){super();this.type="LineBasicMaterial",this.color=new Ie(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}Qn.prototype.isLineBasicMaterial=!0;const mB=new F,gB=new F,yB=new Xe,hw=new sl,_0=new Wo;class qs extends _t{constructor(e=new rt,t=new Qn){super();this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)mB.fromBufferAttribute(t,i-1),gB.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=mB.distanceTo(gB);e.setAttribute("lineDistance",new Qe(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),_0.copy(r.boundingSphere),_0.applyMatrix4(i),_0.radius+=s,e.ray.intersectsSphere(_0)===!1)return;yB.copy(i).invert(),hw.copy(e.ray).applyMatrix4(yB);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new F,d=new F,h=new F,p=new F,m=this.isLineSegments?2:1;if(r.isBufferGeometry){const y=r.index,_=r.attributes.position;if(y!==null){const w=Math.max(0,o.start),x=Math.min(y.count,o.start+o.count);for(let A=w,E=x-1;A<E;A+=m){const C=y.getX(A),T=y.getX(A+1);if(u.fromBufferAttribute(_,C),d.fromBufferAttribute(_,T),hw.distanceSqToSegment(u,d,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const I=e.ray.origin.distanceTo(p);I<e.near||I>e.far||t.push({distance:I,point:h.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}else{const w=Math.max(0,o.start),x=Math.min(_.count,o.start+o.count);for(let A=w,E=x-1;A<E;A+=m){if(u.fromBufferAttribute(_,A),d.fromBufferAttribute(_,A+1),hw.distanceSqToSegment(u,d,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(p);T<e.near||T>e.far||t.push({distance:T,point:h.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}}else r.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}qs.prototype.isLine=!0;const vB=new F,_B=new F;class Nr extends qs{constructor(e,t){super(e,t);this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)vB.fromBufferAttribute(t,i),_B.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+vB.distanceTo(_B);e.setAttribute("lineDistance",new Qe(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}Nr.prototype.isLineSegments=!0;class C_ extends qs{constructor(e,t){super(e,t);this.type="LineLoop"}}C_.prototype.isLineLoop=!0;class ll extends hn{constructor(e){super();this.type="PointsMaterial",this.color=new Ie(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}ll.prototype.isPointsMaterial=!0;const xB=new Xe,VA=new sl,x0=new Wo,w0=new F;class sd extends _t{constructor(e=new rt,t=new ll){super();this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),x0.copy(r.boundingSphere),x0.applyMatrix4(i),x0.radius+=s,e.ray.intersectsSphere(x0)===!1)return;xB.copy(i).invert(),VA.copy(e.ray).applyMatrix4(xB);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a;if(r.isBufferGeometry){const u=r.index,h=r.attributes.position;if(u!==null){const p=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let y=p,g=m;y<g;y++){const _=u.getX(y);w0.fromBufferAttribute(h,_),wB(w0,_,l,i,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let y=p,g=m;y<g;y++)w0.fromBufferAttribute(h,y),wB(w0,y,l,i,e,t,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}sd.prototype.isPoints=!0;function wB(n,e,t,r,i,s,o){const a=VA.distanceSqToPoint(n);if(a<t){const l=new F;VA.closestPointToPoint(n,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class ZN extends Sn{constructor(e,t,r,i,s,o,a,l,u){super(e,t,r,i,s,o,a,l,u);this.minFilter=o!==void 0?o:_n,this.magFilter=s!==void 0?s:_n,this.generateMipmaps=!1;const d=this;function h(){d.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}ZN.prototype.isVideoTexture=!0;class eH extends Sn{constructor(e,t,r){super({width:e,height:t});this.format=r,this.magFilter=Dn,this.minFilter=Dn,this.generateMipmaps=!1,this.needsUpdate=!0}}eH.prototype.isFramebufferTexture=!0;class EC extends Sn{constructor(e,t,r,i,s,o,a,l,u,d,h,p){super(null,o,a,l,u,d,i,s,h,p);this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}EC.prototype.isCompressedTexture=!0;class tH extends Sn{constructor(e,t,r,i,s,o,a,l,u){super(e,t,r,i,s,o,a,l,u);this.needsUpdate=!0}}tH.prototype.isCanvasTexture=!0;class Ci{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const d=r[i],p=r[i+1]-d,m=(o-d)/p;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new ye:new F);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new F,i=[],s=[],o=[],a=new F,l=new Xe;for(let m=0;m<=e;m++){const y=m/e;i[m]=this.getTangentAt(y,new F)}s[0]=new F,o[0]=new F;let u=Number.MAX_VALUE;const d=Math.abs(i[0].x),h=Math.abs(i[0].y),p=Math.abs(i[0].z);d<=u&&(u=d,r.set(1,0,0)),h<=u&&(u=h,r.set(0,1,0)),p<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(Fn(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,y))}o[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(Fn(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(i[y],m*y)),o[y].crossVectors(i[y],s[y])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class hm extends Ci{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super();this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new ye,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,m=u-this.aY;l=p*d-m*h+this.aX,u=p*h+m*d+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}hm.prototype.isEllipseCurve=!0;class MC extends hm{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o);this.type="ArcCurve"}}MC.prototype.isArcCurve=!0;function CC(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,d,h){let p=(o-s)/u-(a-s)/(u+d)+(a-o)/d,m=(a-o)/d-(l-o)/(d+h)+(l-a)/h;p*=d,m*=d,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const S0=new F,pw=new CC,mw=new CC,gw=new CC;class bC extends Ci{constructor(e=[],t=!1,r="centripetal",i=.5){super();this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new F){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,d;this.closed||a>0?u=i[(a-1)%s]:(S0.subVectors(i[0],i[1]).add(i[0]),u=S0);const h=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?d=i[(a+2)%s]:(S0.subVectors(i[s-1],i[s-2]).add(i[s-1]),d=S0),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let y=Math.pow(u.distanceToSquared(h),m),g=Math.pow(h.distanceToSquared(p),m),_=Math.pow(p.distanceToSquared(d),m);g<1e-4&&(g=1),y<1e-4&&(y=g),_<1e-4&&(_=g),pw.initNonuniformCatmullRom(u.x,h.x,p.x,d.x,y,g,_),mw.initNonuniformCatmullRom(u.y,h.y,p.y,d.y,y,g,_),gw.initNonuniformCatmullRom(u.z,h.z,p.z,d.z,y,g,_)}else this.curveType==="catmullrom"&&(pw.initCatmullRom(u.x,h.x,p.x,d.x,this.tension),mw.initCatmullRom(u.y,h.y,p.y,d.y,this.tension),gw.initCatmullRom(u.z,h.z,p.z,d.z,this.tension));return r.set(pw.calc(l),mw.calc(l),gw.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new F().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}bC.prototype.isCatmullRomCurve3=!0;function SB(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function Bre(n,e){const t=1-n;return t*t*e}function Lre(n,e){return 2*(1-n)*n*e}function Dre(n,e){return n*n*e}function Th(n,e,t,r){return Bre(n,e)+Lre(n,t)+Dre(n,r)}function Fre(n,e){const t=1-n;return t*t*t*e}function kre(n,e){const t=1-n;return 3*t*t*n*e}function Ore(n,e){return 3*(1-n)*n*n*e}function Nre(n,e){return n*n*n*e}function Rh(n,e,t,r,i){return Fre(n,e)+kre(n,t)+Ore(n,r)+Nre(n,i)}class b_ extends Ci{constructor(e=new ye,t=new ye,r=new ye,i=new ye){super();this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new ye){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Rh(e,i.x,s.x,o.x,a.x),Rh(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}b_.prototype.isCubicBezierCurve=!0;class TC extends Ci{constructor(e=new F,t=new F,r=new F,i=new F){super();this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new F){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Rh(e,i.x,s.x,o.x,a.x),Rh(e,i.y,s.y,o.y,a.y),Rh(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}TC.prototype.isCubicBezierCurve3=!0;class pm extends Ci{constructor(e=new ye,t=new ye){super();this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ye){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new ye;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}pm.prototype.isLineCurve=!0;class nH extends Ci{constructor(e=new F,t=new F){super();this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new F){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class T_ extends Ci{constructor(e=new ye,t=new ye,r=new ye){super();this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new ye){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(Th(e,i.x,s.x,o.x),Th(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}T_.prototype.isQuadraticBezierCurve=!0;class R_ extends Ci{constructor(e=new F,t=new F,r=new F){super();this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new F){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(Th(e,i.x,s.x,o.x),Th(e,i.y,s.y,o.y),Th(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}R_.prototype.isQuadraticBezierCurve3=!0;class P_ extends Ci{constructor(e=[]){super();this.type="SplineCurve",this.points=e}getPoint(e,t=new ye){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],d=i[o>i.length-2?i.length-1:o+1],h=i[o>i.length-3?i.length-1:o+2];return r.set(SB(a,l.x,u.x,d.x,h.x),SB(a,l.y,u.y,d.y,h.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new ye().fromArray(i))}return this}}P_.prototype.isSplineCurve=!0;var RC=Object.freeze({__proto__:null,ArcCurve:MC,CatmullRomCurve3:bC,CubicBezierCurve:b_,CubicBezierCurve3:TC,EllipseCurve:hm,LineCurve:pm,LineCurve3:nH,QuadraticBezierCurve:T_,QuadraticBezierCurve3:R_,SplineCurve:P_});class rH extends Ci{constructor(){super();this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new pm(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const d=l[u];r&&r.equals(d)||(t.push(d),r=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new RC[i.type]().fromJSON(i))}return this}}class Tf extends rH{constructor(e){super();this.type="Path",this.currentPoint=new ye,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new pm(this.currentPoint.clone(),new ye(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new T_(this.currentPoint.clone(),new ye(e,t),new ye(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new b_(this.currentPoint.clone(),new ye(e,t),new ye(r,i),new ye(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new P_(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const u=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+u,t+d,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const u=new hm(e,t,r,i,s,o,a,l);if(this.curves.length>0){const h=u.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(u);const d=u.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class wu extends rt{constructor(e=[new ye(0,.5),new ye(.5,0),new ye(0,-.5)],t=12,r=0,i=Math.PI*2){super();this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=Fn(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],d=1/t,h=new F,p=new ye,m=new F,y=new F,g=new F;let _=0,w=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:_=e[x+1].x-e[x].x,w=e[x+1].y-e[x].y,m.x=w*1,m.y=-_,m.z=w*0,g.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(g.x,g.y,g.z);break;default:_=e[x+1].x-e[x].x,w=e[x+1].y-e[x].y,m.x=w*1,m.y=-_,m.z=w*0,y.copy(m),m.x+=g.x,m.y+=g.y,m.z+=g.z,m.normalize(),l.push(m.x,m.y,m.z),g.copy(y)}for(let x=0;x<=t;x++){const A=r+x*d*i,E=Math.sin(A),C=Math.cos(A);for(let T=0;T<=e.length-1;T++){h.x=e[T].x*E,h.y=e[T].y,h.z=e[T].x*C,o.push(h.x,h.y,h.z),p.x=x/t,p.y=T/(e.length-1),a.push(p.x,p.y);const R=l[3*T+0]*E,I=l[3*T+1],O=l[3*T+0]*C;u.push(R,I,O)}}for(let x=0;x<t;x++)for(let A=0;A<e.length-1;A++){const E=A+x*e.length,C=E,T=E+e.length,R=E+e.length+1,I=E+1;s.push(C,T,I),s.push(R,I,T)}this.setIndex(s),this.setAttribute("position",new Qe(o,3)),this.setAttribute("uv",new Qe(a,2)),this.setAttribute("normal",new Qe(u,3))}static fromJSON(e){return new wu(e.points,e.segments,e.phiStart,e.phiLength)}}class Rf extends wu{constructor(e=1,t=1,r=4,i=8){const s=new Tf;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5);super(s.getPoints(r),i);this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new Rf(e.radius,e.length,e.capSegments,e.radialSegments)}}class Pf extends rt{constructor(e=1,t=8,r=0,i=Math.PI*2){super();this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],u=new F,d=new ye;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=t;h++,p+=3){const m=r+h/t*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),d.x=(o[p]/e+1)/2,d.y=(o[p+1]/e+1)/2,l.push(d.x,d.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new Qe(o,3)),this.setAttribute("normal",new Qe(a,3)),this.setAttribute("uv",new Qe(l,2))}static fromJSON(e){return new Pf(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Ka extends rt{constructor(e=1,t=1,r=1,i=8,s=1,o=!1,a=0,l=Math.PI*2){super();this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const d=[],h=[],p=[],m=[];let y=0;const g=[],_=r/2;let w=0;x(),o===!1&&(e>0&&A(!0),t>0&&A(!1)),this.setIndex(d),this.setAttribute("position",new Qe(h,3)),this.setAttribute("normal",new Qe(p,3)),this.setAttribute("uv",new Qe(m,2));function x(){const E=new F,C=new F;let T=0;const R=(t-e)/r;for(let I=0;I<=s;I++){const O=[],L=I/s,P=L*(t-e)+e;for(let B=0;B<=i;B++){const q=B/i,W=q*l+a,$=Math.sin(W),J=Math.cos(W);C.x=P*$,C.y=-L*r+_,C.z=P*J,h.push(C.x,C.y,C.z),E.set($,R,J).normalize(),p.push(E.x,E.y,E.z),m.push(q,1-L),O.push(y++)}g.push(O)}for(let I=0;I<i;I++)for(let O=0;O<s;O++){const L=g[O][I],P=g[O+1][I],B=g[O+1][I+1],q=g[O][I+1];d.push(L,P,q),d.push(P,B,q),T+=6}u.addGroup(w,T,0),w+=T}function A(E){const C=y,T=new ye,R=new F;let I=0;const O=E===!0?e:t,L=E===!0?1:-1;for(let B=1;B<=i;B++)h.push(0,_*L,0),p.push(0,L,0),m.push(.5,.5),y++;const P=y;for(let B=0;B<=i;B++){const W=B/i*l+a,$=Math.cos(W),J=Math.sin(W);R.x=O*J,R.y=_*L,R.z=O*$,h.push(R.x,R.y,R.z),p.push(0,L,0),T.x=$*.5+.5,T.y=J*.5*L+.5,m.push(T.x,T.y),y++}for(let B=0;B<i;B++){const q=C+B,W=P+B;E===!0?d.push(W,W+1,q):d.push(W+1,W,q),I+=3}u.addGroup(w,I,E===!0?1:2),w+=I}}static fromJSON(e){return new Ka(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class If extends Ka{constructor(e=1,t=1,r=8,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a);this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new If(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ys extends rt{constructor(e=[],t=[],r=1,i=0){super();this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),u(r),d(),this.setAttribute("position",new Qe(s,3)),this.setAttribute("normal",new Qe(s.slice(),3)),this.setAttribute("uv",new Qe(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(x){const A=new F,E=new F,C=new F;for(let T=0;T<t.length;T+=3)m(t[T+0],A),m(t[T+1],E),m(t[T+2],C),l(A,E,C,x)}function l(x,A,E,C){const T=C+1,R=[];for(let I=0;I<=T;I++){R[I]=[];const O=x.clone().lerp(E,I/T),L=A.clone().lerp(E,I/T),P=T-I;for(let B=0;B<=P;B++)B===0&&I===T?R[I][B]=O:R[I][B]=O.clone().lerp(L,B/P)}for(let I=0;I<T;I++)for(let O=0;O<2*(T-I)-1;O++){const L=Math.floor(O/2);O%2===0?(p(R[I][L+1]),p(R[I+1][L]),p(R[I][L])):(p(R[I][L+1]),p(R[I+1][L+1]),p(R[I+1][L]))}}function u(x){const A=new F;for(let E=0;E<s.length;E+=3)A.x=s[E+0],A.y=s[E+1],A.z=s[E+2],A.normalize().multiplyScalar(x),s[E+0]=A.x,s[E+1]=A.y,s[E+2]=A.z}function d(){const x=new F;for(let A=0;A<s.length;A+=3){x.x=s[A+0],x.y=s[A+1],x.z=s[A+2];const E=_(x)/2/Math.PI+.5,C=w(x)/Math.PI+.5;o.push(E,1-C)}y(),h()}function h(){for(let x=0;x<o.length;x+=6){const A=o[x+0],E=o[x+2],C=o[x+4],T=Math.max(A,E,C),R=Math.min(A,E,C);T>.9&&R<.1&&(A<.2&&(o[x+0]+=1),E<.2&&(o[x+2]+=1),C<.2&&(o[x+4]+=1))}}function p(x){s.push(x.x,x.y,x.z)}function m(x,A){const E=x*3;A.x=e[E+0],A.y=e[E+1],A.z=e[E+2]}function y(){const x=new F,A=new F,E=new F,C=new F,T=new ye,R=new ye,I=new ye;for(let O=0,L=0;O<s.length;O+=9,L+=6){x.set(s[O+0],s[O+1],s[O+2]),A.set(s[O+3],s[O+4],s[O+5]),E.set(s[O+6],s[O+7],s[O+8]),T.set(o[L+0],o[L+1]),R.set(o[L+2],o[L+3]),I.set(o[L+4],o[L+5]),C.copy(x).add(A).add(E).divideScalar(3);const P=_(C);g(T,L+0,x,P),g(R,L+2,A,P),g(I,L+4,E,P)}}function g(x,A,E,C){C<0&&x.x===1&&(o[A]=x.x-1),E.x===0&&E.z===0&&(o[A]=C/2/Math.PI+.5)}function _(x){return Math.atan2(x.z,-x.x)}function w(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}static fromJSON(e){return new Ys(e.vertices,e.indices,e.radius,e.details)}}class Bf extends Ys{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t);this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Bf(e.radius,e.detail)}}const A0=new F,E0=new F,yw=new F,M0=new kn;class PC extends rt{constructor(e=null,t=1){super();if(this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(su*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],d=["a","b","c"],h=new Array(3),p={},m=[];for(let y=0;y<l;y+=3){o?(u[0]=o.getX(y),u[1]=o.getX(y+1),u[2]=o.getX(y+2)):(u[0]=y,u[1]=y+1,u[2]=y+2);const{a:g,b:_,c:w}=M0;if(g.fromBufferAttribute(a,u[0]),_.fromBufferAttribute(a,u[1]),w.fromBufferAttribute(a,u[2]),M0.getNormal(yw),h[0]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,h[1]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,h[2]=`${Math.round(w.x*i)},${Math.round(w.y*i)},${Math.round(w.z*i)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let x=0;x<3;x++){const A=(x+1)%3,E=h[x],C=h[A],T=M0[d[x]],R=M0[d[A]],I=`${E}_${C}`,O=`${C}_${E}`;O in p&&p[O]?(yw.dot(p[O].normal)<=s&&(m.push(T.x,T.y,T.z),m.push(R.x,R.y,R.z)),p[O]=null):I in p||(p[I]={index0:u[x],index1:u[A],normal:yw.clone()})}}for(const y in p)if(p[y]){const{index0:g,index1:_}=p[y];A0.fromBufferAttribute(a,g),E0.fromBufferAttribute(a,_),m.push(A0.x,A0.y,A0.z),m.push(E0.x,E0.y,E0.z)}this.setAttribute("position",new Qe(m,3))}}}class $s extends Tf{constructor(e){super(e);this.uuid=Ei(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new Tf().fromJSON(i))}return this}}const Hre={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=iH(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,d,h,p,m;if(r&&(s=Wre(n,e,s,t)),n.length>80*t){a=u=n[0],l=d=n[1];for(let y=t;y<i;y+=t)h=n[y],p=n[y+1],h<a&&(a=h),p<l&&(l=p),h>u&&(u=h),p>d&&(d=p);m=Math.max(u-a,d-l),m=m!==0?1/m:0}return mp(s,o,t,a,l,m),o}};function iH(n,e,t,r,i){let s,o;if(i===tie(n,e,t,r)>0)for(s=e;s<t;s+=r)o=AB(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=AB(s,n[s],n[s+1],o);return o&&I_(o,o.next)&&(yp(o),o=o.next),o}function Xa(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(I_(t,t.next)||xn(t.prev,t,t.next)===0)){if(yp(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function mp(n,e,t,r,i,s,o){if(!n)return;!o&&s&&Xre(n,r,i,s);let a=n,l,u;for(;n.prev!==n.next;){if(l=n.prev,u=n.next,s?Gre(n,r,i,s):Ure(n)){e.push(l.i/t),e.push(n.i/t),e.push(u.i/t),yp(n),n=u.next,a=u.next;continue}if(n=u,n===a){o?o===1?(n=zre(Xa(n),e,t),mp(n,e,t,r,i,s,2)):o===2&&Vre(n,e,t,r,i,s):mp(Xa(n),e,t,r,i,s,1);break}}}function Ure(n){const e=n.prev,t=n,r=n.next;if(xn(e,t,r)>=0)return!1;let i=n.next.next;for(;i!==n.prev;){if(Jc(e.x,e.y,t.x,t.y,r.x,r.y,i.x,i.y)&&xn(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Gre(n,e,t,r){const i=n.prev,s=n,o=n.next;if(xn(i,s,o)>=0)return!1;const a=i.x<s.x?i.x<o.x?i.x:o.x:s.x<o.x?s.x:o.x,l=i.y<s.y?i.y<o.y?i.y:o.y:s.y<o.y?s.y:o.y,u=i.x>s.x?i.x>o.x?i.x:o.x:s.x>o.x?s.x:o.x,d=i.y>s.y?i.y>o.y?i.y:o.y:s.y>o.y?s.y:o.y,h=WA(a,l,e,t,r),p=WA(u,d,e,t,r);let m=n.prevZ,y=n.nextZ;for(;m&&m.z>=h&&y&&y.z<=p;){if(m!==n.prev&&m!==n.next&&Jc(i.x,i.y,s.x,s.y,o.x,o.y,m.x,m.y)&&xn(m.prev,m,m.next)>=0||(m=m.prevZ,y!==n.prev&&y!==n.next&&Jc(i.x,i.y,s.x,s.y,o.x,o.y,y.x,y.y)&&xn(y.prev,y,y.next)>=0))return!1;y=y.nextZ}for(;m&&m.z>=h;){if(m!==n.prev&&m!==n.next&&Jc(i.x,i.y,s.x,s.y,o.x,o.y,m.x,m.y)&&xn(m.prev,m,m.next)>=0)return!1;m=m.prevZ}for(;y&&y.z<=p;){if(y!==n.prev&&y!==n.next&&Jc(i.x,i.y,s.x,s.y,o.x,o.y,y.x,y.y)&&xn(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function zre(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!I_(i,s)&&sH(i,r,r.next,s)&&gp(i,s)&&gp(s,i)&&(e.push(i.i/t),e.push(r.i/t),e.push(s.i/t),yp(r),yp(r.next),r=n=s),r=r.next}while(r!==n);return Xa(r)}function Vre(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&Yre(o,a)){let l=oH(o,a);o=Xa(o,o.next),l=Xa(l,l.next),mp(o,e,t,r,i,s),mp(l,e,t,r,i,s);return}a=a.next}o=o.next}while(o!==n)}function Wre(n,e,t,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,u=iH(n,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(qre(u));for(i.sort(jre),s=0;s<i.length;s++)Jre(i[s],t),t=Xa(t,t.next);return t}function jre(n,e){return n.x-e.x}function Jre(n,e){if(e=$re(n,e),e){const t=oH(e,n);Xa(e,e.next),Xa(t,t.next)}}function $re(n,e){let t=e;const r=n.x,i=n.y;let s=-1/0,o;do{if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const p=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=r&&p>s){if(s=p,p===r){if(i===t.y)return t;if(i===t.next.y)return t.next}o=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!o)return null;if(r===s)return o;const a=o,l=o.x,u=o.y;let d=1/0,h;t=o;do r>=t.x&&t.x>=l&&r!==t.x&&Jc(i<u?r:s,i,l,u,i<u?s:r,i,t.x,t.y)&&(h=Math.abs(i-t.y)/(r-t.x),gp(t,n)&&(h<d||h===d&&(t.x>o.x||t.x===o.x&&Kre(o,t)))&&(o=t,d=h)),t=t.next;while(t!==a);return o}function Kre(n,e){return xn(n.prev,n,e.prev)<0&&xn(e.next,n,n.next)<0}function Xre(n,e,t,r){let i=n;do i.z===null&&(i.z=WA(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,Qre(i)}function Qre(n){let e,t,r,i,s,o,a,l,u=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,u*=2}while(o>1);return n}function WA(n,e,t,r,i){return n=32767*(n-t)*i,e=32767*(e-r)*i,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function qre(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Jc(n,e,t,r,i,s,o,a){return(i-o)*(e-a)-(n-o)*(s-a)>=0&&(n-o)*(r-a)-(t-o)*(e-a)>=0&&(t-o)*(s-a)-(i-o)*(r-a)>=0}function Yre(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!Zre(n,e)&&(gp(n,e)&&gp(e,n)&&eie(n,e)&&(xn(n.prev,n,e.prev)||xn(n,e.prev,e))||I_(n,e)&&xn(n.prev,n,n.next)>0&&xn(e.prev,e,e.next)>0)}function xn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function I_(n,e){return n.x===e.x&&n.y===e.y}function sH(n,e,t,r){const i=b0(xn(n,e,t)),s=b0(xn(n,e,r)),o=b0(xn(t,r,n)),a=b0(xn(t,r,e));return!!(i!==s&&o!==a||i===0&&C0(n,t,e)||s===0&&C0(n,r,e)||o===0&&C0(t,n,r)||a===0&&C0(t,e,r))}function C0(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function b0(n){return n>0?1:n<0?-1:0}function Zre(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&sH(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function gp(n,e){return xn(n.prev,n,n.next)<0?xn(n,e,n.next)>=0&&xn(n,n.prev,e)>=0:xn(n,e,n.prev)<0||xn(n,n.next,e)<0}function eie(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function oH(n,e){const t=new jA(n.i,n.x,n.y),r=new jA(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function AB(n,e,t,r){const i=new jA(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function yp(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function jA(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function tie(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class Ks{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Ks.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];EB(e),MB(r,e);let o=e.length;t.forEach(EB);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,MB(r,t[l]);const a=Hre.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function EB(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function MB(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Zs extends rt{constructor(e=new $s([new ye(.5,.5),new ye(-.5,.5),new ye(-.5,-.5),new ye(.5,-.5)]),t={}){super();this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new Qe(i,3)),this.setAttribute("uv",new Qe(s,2)),this.computeVertexNormals();function o(a){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1;let h=t.depth!==void 0?t.depth:1,p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,y=t.bevelSize!==void 0?t.bevelSize:m-.1,g=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const w=t.extrudePath,x=t.UVGenerator!==void 0?t.UVGenerator:nie;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),h=t.amount);let A,E=!1,C,T,R,I;w&&(A=w.getSpacedPoints(d),E=!0,p=!1,C=w.computeFrenetFrames(d,!1),T=new F,R=new F,I=new F),p||(_=0,m=0,y=0,g=0);const O=a.extractPoints(u);let L=O.shape;const P=O.holes;if(!Ks.isClockWise(L)){L=L.reverse();for(let ne=0,oe=P.length;ne<oe;ne++){const xe=P[ne];Ks.isClockWise(xe)&&(P[ne]=xe.reverse())}}const q=Ks.triangulateShape(L,P),W=L;for(let ne=0,oe=P.length;ne<oe;ne++){const xe=P[ne];L=L.concat(xe)}function $(ne,oe,xe){return oe||console.error("THREE.ExtrudeGeometry: vec does not exist"),oe.clone().multiplyScalar(xe).add(ne)}const J=L.length,K=q.length;function k(ne,oe,xe){let Ae,Ee,Me;const ze=ne.x-oe.x,$e=ne.y-oe.y,Ze=xe.x-ne.x,dt=xe.y-ne.y,z=ze*ze+$e*$e,D=ze*dt-$e*Ze;if(Math.abs(D)>Number.EPSILON){const ee=Math.sqrt(z),me=Math.sqrt(Ze*Ze+dt*dt),Fe=oe.x-$e/ee,ke=oe.y+ze/ee,Ke=xe.x-dt/me,he=xe.y+Ze/me,Te=((Ke-Fe)*dt-(he-ke)*Ze)/(ze*dt-$e*Ze);Ae=Fe+ze*Te-ne.x,Ee=ke+$e*Te-ne.y;const it=Ae*Ae+Ee*Ee;if(it<=2)return new ye(Ae,Ee);Me=Math.sqrt(it/2)}else{let ee=!1;ze>Number.EPSILON?Ze>Number.EPSILON&&(ee=!0):ze<-Number.EPSILON?Ze<-Number.EPSILON&&(ee=!0):Math.sign($e)===Math.sign(dt)&&(ee=!0),ee?(Ae=-$e,Ee=ze,Me=Math.sqrt(z)):(Ae=ze,Ee=$e,Me=Math.sqrt(z/2))}return new ye(Ae/Me,Ee/Me)}const X=[];for(let ne=0,oe=W.length,xe=oe-1,Ae=ne+1;ne<oe;ne++,xe++,Ae++)xe===oe&&(xe=0),Ae===oe&&(Ae=0),X[ne]=k(W[ne],W[xe],W[Ae]);const Z=[];let ae,Q=X.concat();for(let ne=0,oe=P.length;ne<oe;ne++){const xe=P[ne];ae=[];for(let Ae=0,Ee=xe.length,Me=Ee-1,ze=Ae+1;Ae<Ee;Ae++,Me++,ze++)Me===Ee&&(Me=0),ze===Ee&&(ze=0),ae[Ae]=k(xe[Ae],xe[Me],xe[ze]);Z.push(ae),Q=Q.concat(ae)}for(let ne=0;ne<_;ne++){const oe=ne/_,xe=m*Math.cos(oe*Math.PI/2),Ae=y*Math.sin(oe*Math.PI/2)+g;for(let Ee=0,Me=W.length;Ee<Me;Ee++){const ze=$(W[Ee],X[Ee],Ae);Be(ze.x,ze.y,-xe)}for(let Ee=0,Me=P.length;Ee<Me;Ee++){const ze=P[Ee];ae=Z[Ee];for(let $e=0,Ze=ze.length;$e<Ze;$e++){const dt=$(ze[$e],ae[$e],Ae);Be(dt.x,dt.y,-xe)}}}const se=y+g;for(let ne=0;ne<J;ne++){const oe=p?$(L[ne],Q[ne],se):L[ne];E?(R.copy(C.normals[0]).multiplyScalar(oe.x),T.copy(C.binormals[0]).multiplyScalar(oe.y),I.copy(A[0]).add(R).add(T),Be(I.x,I.y,I.z)):Be(oe.x,oe.y,0)}for(let ne=1;ne<=d;ne++)for(let oe=0;oe<J;oe++){const xe=p?$(L[oe],Q[oe],se):L[oe];E?(R.copy(C.normals[ne]).multiplyScalar(xe.x),T.copy(C.binormals[ne]).multiplyScalar(xe.y),I.copy(A[ne]).add(R).add(T),Be(I.x,I.y,I.z)):Be(xe.x,xe.y,h/d*ne)}for(let ne=_-1;ne>=0;ne--){const oe=ne/_,xe=m*Math.cos(oe*Math.PI/2),Ae=y*Math.sin(oe*Math.PI/2)+g;for(let Ee=0,Me=W.length;Ee<Me;Ee++){const ze=$(W[Ee],X[Ee],Ae);Be(ze.x,ze.y,h+xe)}for(let Ee=0,Me=P.length;Ee<Me;Ee++){const ze=P[Ee];ae=Z[Ee];for(let $e=0,Ze=ze.length;$e<Ze;$e++){const dt=$(ze[$e],ae[$e],Ae);E?Be(dt.x,dt.y+A[d-1].y,A[d-1].x+xe):Be(dt.x,dt.y,h+xe)}}}pe(),_e();function pe(){const ne=i.length/3;if(p){let oe=0,xe=J*oe;for(let Ae=0;Ae<K;Ae++){const Ee=q[Ae];ue(Ee[2]+xe,Ee[1]+xe,Ee[0]+xe)}oe=d+_*2,xe=J*oe;for(let Ae=0;Ae<K;Ae++){const Ee=q[Ae];ue(Ee[0]+xe,Ee[1]+xe,Ee[2]+xe)}}else{for(let oe=0;oe<K;oe++){const xe=q[oe];ue(xe[2],xe[1],xe[0])}for(let oe=0;oe<K;oe++){const xe=q[oe];ue(xe[0]+J*d,xe[1]+J*d,xe[2]+J*d)}}r.addGroup(ne,i.length/3-ne,0)}function _e(){const ne=i.length/3;let oe=0;H(W,oe),oe+=W.length;for(let xe=0,Ae=P.length;xe<Ae;xe++){const Ee=P[xe];H(Ee,oe),oe+=Ee.length}r.addGroup(ne,i.length/3-ne,1)}function H(ne,oe){let xe=ne.length;for(;--xe>=0;){const Ae=xe;let Ee=xe-1;Ee<0&&(Ee=ne.length-1);for(let Me=0,ze=d+_*2;Me<ze;Me++){const $e=J*Me,Ze=J*(Me+1),dt=oe+Ae+$e,z=oe+Ee+$e,D=oe+Ee+Ze,ee=oe+Ae+Ze;Le(dt,z,D,ee)}}}function Be(ne,oe,xe){l.push(ne),l.push(oe),l.push(xe)}function ue(ne,oe,xe){ve(ne),ve(oe),ve(xe);const Ae=i.length/3,Ee=x.generateTopUV(r,i,Ae-3,Ae-2,Ae-1);Pe(Ee[0]),Pe(Ee[1]),Pe(Ee[2])}function Le(ne,oe,xe,Ae){ve(ne),ve(oe),ve(Ae),ve(oe),ve(xe),ve(Ae);const Ee=i.length/3,Me=x.generateSideWallUV(r,i,Ee-6,Ee-3,Ee-2,Ee-1);Pe(Me[0]),Pe(Me[1]),Pe(Me[3]),Pe(Me[1]),Pe(Me[2]),Pe(Me[3])}function ve(ne){i.push(l[ne*3+0]),i.push(l[ne*3+1]),i.push(l[ne*3+2])}function Pe(ne){s.push(ne.x),s.push(ne.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return rie(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new RC[i.type]().fromJSON(i)),new Zs(r,e.options)}}const nie={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],d=e[i*3+1];return[new ye(s,o),new ye(a,l),new ye(u,d)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],u=e[r*3],d=e[r*3+1],h=e[r*3+2],p=e[i*3],m=e[i*3+1],y=e[i*3+2],g=e[s*3],_=e[s*3+1],w=e[s*3+2];return Math.abs(a-d)<Math.abs(o-u)?[new ye(o,1-l),new ye(u,1-h),new ye(p,1-y),new ye(g,1-w)]:[new ye(a,1-l),new ye(d,1-h),new ye(m,1-y),new ye(_,1-w)]}};function rie(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Lf extends Ys{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t);this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Lf(e.radius,e.detail)}}class Su extends Ys{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t);this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Su(e.radius,e.detail)}}class Df extends rt{constructor(e=.5,t=1,r=8,i=1,s=0,o=Math.PI*2){super();this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],d=[];let h=e;const p=(t-e)/i,m=new F,y=new ye;for(let g=0;g<=i;g++){for(let _=0;_<=r;_++){const w=s+_/r*o;m.x=h*Math.cos(w),m.y=h*Math.sin(w),l.push(m.x,m.y,m.z),u.push(0,0,1),y.x=(m.x/t+1)/2,y.y=(m.y/t+1)/2,d.push(y.x,y.y)}h+=p}for(let g=0;g<i;g++){const _=g*(r+1);for(let w=0;w<r;w++){const x=w+_,A=x,E=x+r+1,C=x+r+2,T=x+1;a.push(A,E,T),a.push(E,C,T)}}this.setIndex(a),this.setAttribute("position",new Qe(l,3)),this.setAttribute("normal",new Qe(u,3)),this.setAttribute("uv",new Qe(d,2))}static fromJSON(e){return new Df(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Au extends rt{constructor(e=new $s([new ye(0,.5),new ye(-.5,-.5),new ye(.5,-.5)]),t=12){super();this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let d=0;d<e.length;d++)u(e[d]),this.addGroup(a,l,d),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new Qe(i,3)),this.setAttribute("normal",new Qe(s,3)),this.setAttribute("uv",new Qe(o,2));function u(d){const h=i.length/3,p=d.extractPoints(t);let m=p.shape;const y=p.holes;Ks.isClockWise(m)===!1&&(m=m.reverse());for(let _=0,w=y.length;_<w;_++){const x=y[_];Ks.isClockWise(x)===!0&&(y[_]=x.reverse())}const g=Ks.triangulateShape(m,y);for(let _=0,w=y.length;_<w;_++){const x=y[_];m=m.concat(x)}for(let _=0,w=m.length;_<w;_++){const x=m[_];i.push(x.x,x.y,0),s.push(0,0,1),o.push(x.x,x.y)}for(let _=0,w=g.length;_<w;_++){const x=g[_],A=x[0]+h,E=x[1]+h,C=x[2]+h;r.push(A,E,C),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return iie(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new Au(r,e.curveSegments)}}function iie(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class Eu extends rt{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super();this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const d=[],h=new F,p=new F,m=[],y=[],g=[],_=[];for(let w=0;w<=r;w++){const x=[],A=w/r;let E=0;w==0&&o==0?E=.5/t:w==r&&l==Math.PI&&(E=-.5/t);for(let C=0;C<=t;C++){const T=C/t;h.x=-e*Math.cos(i+T*s)*Math.sin(o+A*a),h.y=e*Math.cos(o+A*a),h.z=e*Math.sin(i+T*s)*Math.sin(o+A*a),y.push(h.x,h.y,h.z),p.copy(h).normalize(),g.push(p.x,p.y,p.z),_.push(T+E,1-A),x.push(u++)}d.push(x)}for(let w=0;w<r;w++)for(let x=0;x<t;x++){const A=d[w][x+1],E=d[w][x],C=d[w+1][x],T=d[w+1][x+1];(w!==0||o>0)&&m.push(A,E,T),(w!==r-1||l<Math.PI)&&m.push(E,C,T)}this.setIndex(m),this.setAttribute("position",new Qe(y,3)),this.setAttribute("normal",new Qe(g,3)),this.setAttribute("uv",new Qe(_,2))}static fromJSON(e){return new Eu(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Ff extends Ys{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t);this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ff(e.radius,e.detail)}}class kf extends rt{constructor(e=1,t=.4,r=8,i=6,s=Math.PI*2){super();this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],d=new F,h=new F,p=new F;for(let m=0;m<=r;m++)for(let y=0;y<=i;y++){const g=y/i*s,_=m/r*Math.PI*2;h.x=(e+t*Math.cos(_))*Math.cos(g),h.y=(e+t*Math.cos(_))*Math.sin(g),h.z=t*Math.sin(_),a.push(h.x,h.y,h.z),d.x=e*Math.cos(g),d.y=e*Math.sin(g),p.subVectors(h,d).normalize(),l.push(p.x,p.y,p.z),u.push(y/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let y=1;y<=i;y++){const g=(i+1)*m+y-1,_=(i+1)*(m-1)+y-1,w=(i+1)*(m-1)+y,x=(i+1)*m+y;o.push(g,_,x),o.push(_,w,x)}this.setIndex(o),this.setAttribute("position",new Qe(a,3)),this.setAttribute("normal",new Qe(l,3)),this.setAttribute("uv",new Qe(u,2))}static fromJSON(e){return new kf(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Of extends rt{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super();this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],d=[],h=new F,p=new F,m=new F,y=new F,g=new F,_=new F,w=new F;for(let A=0;A<=r;++A){const E=A/r*s*Math.PI*2;x(E,s,o,e,m),x(E+.01,s,o,e,y),_.subVectors(y,m),w.addVectors(y,m),g.crossVectors(_,w),w.crossVectors(g,_),g.normalize(),w.normalize();for(let C=0;C<=i;++C){const T=C/i*Math.PI*2,R=-t*Math.cos(T),I=t*Math.sin(T);h.x=m.x+(R*w.x+I*g.x),h.y=m.y+(R*w.y+I*g.y),h.z=m.z+(R*w.z+I*g.z),l.push(h.x,h.y,h.z),p.subVectors(h,m).normalize(),u.push(p.x,p.y,p.z),d.push(A/r),d.push(C/i)}}for(let A=1;A<=r;A++)for(let E=1;E<=i;E++){const C=(i+1)*(A-1)+(E-1),T=(i+1)*A+(E-1),R=(i+1)*A+E,I=(i+1)*(A-1)+E;a.push(C,T,I),a.push(T,R,I)}this.setIndex(a),this.setAttribute("position",new Qe(l,3)),this.setAttribute("normal",new Qe(u,3)),this.setAttribute("uv",new Qe(d,2));function x(A,E,C,T,R){const I=Math.cos(A),O=Math.sin(A),L=C/E*A,P=Math.cos(L);R.x=T*(2+P)*.5*I,R.y=T*(2+P)*O*.5,R.z=T*Math.sin(L)*.5}}static fromJSON(e){return new Of(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Nf extends rt{constructor(e=new R_(new F(-1,-1,0),new F(-1,1,0),new F(1,1,0)),t=64,r=1,i=8,s=!1){super();this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new F,l=new F,u=new ye;let d=new F;const h=[],p=[],m=[],y=[];g(),this.setIndex(y),this.setAttribute("position",new Qe(h,3)),this.setAttribute("normal",new Qe(p,3)),this.setAttribute("uv",new Qe(m,2));function g(){for(let A=0;A<t;A++)_(A);_(s===!1?t:0),x(),w()}function _(A){d=e.getPointAt(A/t,d);const E=o.normals[A],C=o.binormals[A];for(let T=0;T<=i;T++){const R=T/i*Math.PI*2,I=Math.sin(R),O=-Math.cos(R);l.x=O*E.x+I*C.x,l.y=O*E.y+I*C.y,l.z=O*E.z+I*C.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=d.x+r*l.x,a.y=d.y+r*l.y,a.z=d.z+r*l.z,h.push(a.x,a.y,a.z)}}function w(){for(let A=1;A<=t;A++)for(let E=1;E<=i;E++){const C=(i+1)*(A-1)+(E-1),T=(i+1)*A+(E-1),R=(i+1)*A+E,I=(i+1)*(A-1)+E;y.push(C,T,I),y.push(T,R,I)}}function x(){for(let A=0;A<=t;A++)for(let E=0;E<=i;E++)u.x=A/t,u.y=E/i,m.push(u.x,u.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Nf(new RC[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class IC extends rt{constructor(e=null){super();if(this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new F,s=new F;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,d=l.length;u<d;++u){const h=l[u],p=h.start,m=h.count;for(let y=p,g=p+m;y<g;y+=3)for(let _=0;_<3;_++){const w=a.getX(y+_),x=a.getX(y+(_+1)%3);i.fromBufferAttribute(o,w),s.fromBufferAttribute(o,x),CB(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const d=3*a+u,h=3*a+(u+1)%3;i.fromBufferAttribute(o,d),s.fromBufferAttribute(o,h),CB(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Qe(t,3))}}}function CB(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var bB=Object.freeze({__proto__:null,BoxGeometry:Oo,BoxBufferGeometry:Oo,CapsuleGeometry:Rf,CapsuleBufferGeometry:Rf,CircleGeometry:Pf,CircleBufferGeometry:Pf,ConeGeometry:If,ConeBufferGeometry:If,CylinderGeometry:Ka,CylinderBufferGeometry:Ka,DodecahedronGeometry:Bf,DodecahedronBufferGeometry:Bf,EdgesGeometry:PC,ExtrudeGeometry:Zs,ExtrudeBufferGeometry:Zs,IcosahedronGeometry:Lf,IcosahedronBufferGeometry:Lf,LatheGeometry:wu,LatheBufferGeometry:wu,OctahedronGeometry:Su,OctahedronBufferGeometry:Su,PlaneGeometry:$a,PlaneBufferGeometry:$a,PolyhedronGeometry:Ys,PolyhedronBufferGeometry:Ys,RingGeometry:Df,RingBufferGeometry:Df,ShapeGeometry:Au,ShapeBufferGeometry:Au,SphereGeometry:Eu,SphereBufferGeometry:Eu,TetrahedronGeometry:Ff,TetrahedronBufferGeometry:Ff,TorusGeometry:kf,TorusBufferGeometry:kf,TorusKnotGeometry:Of,TorusKnotBufferGeometry:Of,TubeGeometry:Nf,TubeBufferGeometry:Nf,WireframeGeometry:IC});class BC extends hn{constructor(e){super();this.type="ShadowMaterial",this.color=new Ie(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}BC.prototype.isShadowMaterial=!0;class LC extends ai{constructor(e){super(e);this.type="RawShaderMaterial"}}LC.prototype.isRawShaderMaterial=!0;class Lu extends hn{constructor(e){super();this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ie(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=rl,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}Lu.prototype.isMeshStandardMaterial=!0;class jo extends Lu{constructor(e){super();this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ye(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Fn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.sheenColor=new Ie(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Ie(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ie(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}jo.prototype.isMeshPhysicalMaterial=!0;class DC extends hn{constructor(e){super();this.type="MeshPhongMaterial",this.color=new Ie(16777215),this.specular=new Ie(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=rl,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=rm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}DC.prototype.isMeshPhongMaterial=!0;class FC extends hn{constructor(e){super();this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ie(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=rl,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}FC.prototype.isMeshToonMaterial=!0;class kC extends hn{constructor(e){super();this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=rl,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}kC.prototype.isMeshNormalMaterial=!0;class OC extends hn{constructor(e){super();this.type="MeshLambertMaterial",this.color=new Ie(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ie(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=rm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}OC.prototype.isMeshLambertMaterial=!0;class NC extends hn{constructor(e){super();this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ie(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=rl,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}NC.prototype.isMeshMatcapMaterial=!0;class HC extends Qn{constructor(e){super();this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}HC.prototype.isLineDashedMaterial=!0;const sie={ShadowMaterial:BC,SpriteMaterial:E_,RawShaderMaterial:LC,ShaderMaterial:ai,PointsMaterial:ll,MeshPhysicalMaterial:jo,MeshStandardMaterial:Lu,MeshPhongMaterial:DC,MeshToonMaterial:FC,MeshNormalMaterial:kC,MeshLambertMaterial:OC,MeshDepthMaterial:om,MeshDistanceMaterial:A_,MeshBasicMaterial:ti,MeshMatcapMaterial:NC,LineDashedMaterial:HC,LineBasicMaterial:Qn,Material:hn};hn.fromType=function(n){return new sie[n]};const nn={arraySlice:function(n,e,t){return nn.isTypedArray(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)},convertArray:function(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r},sortedArray:function(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i},flattenJSON:function(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)},subclip:function(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],d=u.getValueSize(),h=[],p=[];for(let m=0;m<u.times.length;++m){const y=u.times[m]*i;if(!(y<t||y>=r)){h.push(u.times[m]);for(let g=0;g<d;++g)p.push(u.values[m*d+g])}}h.length!==0&&(u.times=nn.convertArray(h,u.times.constructor),u.values=nn.convertArray(p,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s},makeClipAdditive:function(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(w){return w.name===a.name&&w.ValueTypeName===l});if(u===void 0)continue;let d=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);let p=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const y=a.times.length-1;let g;if(s<=a.times[0]){const w=d,x=h-d;g=nn.arraySlice(a.values,w,x)}else if(s>=a.times[y]){const w=y*h+d,x=w+h-d;g=nn.arraySlice(a.values,w,x)}else{const w=a.createInterpolant(),x=d,A=h-d;w.evaluate(s),g=nn.arraySlice(w.resultBuffer,x,A)}l==="quaternion"&&new Vn().fromArray(g).normalize().conjugate().toArray(g);const _=u.times.length;for(let w=0;w<_;++w){const x=w*m+p;if(l==="quaternion")Vn.multiplyQuaternionsFlat(u.values,x,g,0,u.values,x);else{const A=m-p*2;for(let E=0;E<A;++E)u.values[x+E]-=g[E]}}}return n.blendMode=yC,n}};class eo{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,e,s)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(i===void 0)return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,s,e)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}eo.prototype.beforeStart_=eo.prototype.copySampleValue_;eo.prototype.afterEnd_=eo.prototype.copySampleValue_;class aH extends eo{constructor(e,t,r,i){super(e,t,r,i);this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Xl,endingEnd:Xl}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Ql:s=e,a=2*t-r;break;case dp:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Ql:o=e,l=2*r-t;break;case dp:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const u=(r-t)*.5,d=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(l-r),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,d=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,m=this._weightNext,y=(r-t)/(i-t),g=y*y,_=g*y,w=-p*_+2*p*g-p*y,x=(1+p)*_+(-1.5-2*p)*g+(-.5+p)*y+1,A=(-1-m)*_+(1.5+m)*g+.5*y,E=m*_-m*g;for(let C=0;C!==a;++C)s[C]=w*o[d+C]+x*o[u+C]+A*o[l+C]+E*o[h+C];return s}}class UC extends eo{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,d=(r-t)/(i-t),h=1-d;for(let p=0;p!==a;++p)s[p]=o[u+p]*h+o[l+p]*d;return s}}class lH extends eo{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Es{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=nn.convertArray(t,this.TimeBufferType),this.values=nn.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:nn.convertArray(e.times,Array),values:nn.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new lH(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new UC(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new aH(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Ef:t=this.InterpolantFactoryMethodDiscrete;break;case _u:t=this.InterpolantFactoryMethodLinear;break;case ly:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ef;case this.InterpolantFactoryMethodLinear:return _u;case this.InterpolantFactoryMethodSmooth:return ly}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=nn.arraySlice(r,s,o),this.values=nn.arraySlice(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&nn.isTypedArray(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=nn.arraySlice(this.times),t=nn.arraySlice(this.values),r=this.getValueSize(),i=this.getInterpolation()===ly,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],d=e[a+1];if(u!==d&&(a!==1||u!==e[0]))if(i)l=!0;else{const h=a*r,p=h-r,m=h+r;for(let y=0;y!==r;++y){const g=t[h+y];if(g!==t[p+y]||g!==t[m+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*r,p=o*r;for(let m=0;m!==r;++m)t[p+m]=t[h+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)t[l+u]=t[a+u];++o}return o!==e.length?(this.times=nn.arraySlice(e,0,o),this.values=nn.arraySlice(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=nn.arraySlice(this.times,0),t=nn.arraySlice(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Es.prototype.TimeBufferType=Float32Array;Es.prototype.ValueBufferType=Float32Array;Es.prototype.DefaultInterpolation=_u;class Du extends Es{}Du.prototype.ValueTypeName="bool";Du.prototype.ValueBufferType=Array;Du.prototype.DefaultInterpolation=Ef;Du.prototype.InterpolantFactoryMethodLinear=void 0;Du.prototype.InterpolantFactoryMethodSmooth=void 0;class GC extends Es{}GC.prototype.ValueTypeName="color";class Hf extends Es{}Hf.prototype.ValueTypeName="number";class uH extends eo{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let u=e*a;for(let d=u+a;u!==d;u+=4)Vn.slerpFlat(s,0,o,u-a,o,u,l);return s}}class Qa extends Es{InterpolantFactoryMethodLinear(e){return new uH(this.times,this.values,this.getValueSize(),e)}}Qa.prototype.ValueTypeName="quaternion";Qa.prototype.DefaultInterpolation=_u;Qa.prototype.InterpolantFactoryMethodSmooth=void 0;class Fu extends Es{}Fu.prototype.ValueTypeName="string";Fu.prototype.ValueBufferType=Array;Fu.prototype.DefaultInterpolation=Ef;Fu.prototype.InterpolantFactoryMethodLinear=void 0;Fu.prototype.InterpolantFactoryMethodSmooth=void 0;class Uf extends Es{}Uf.prototype.ValueTypeName="vector";class Gf{constructor(e,t=-1,r,i=y_){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=Ei(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(aie(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(Es.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const d=nn.getKeyframeOrder(l);l=nn.sortedArray(l,1,d),u=nn.sortedArray(u,1,d),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new Hf(".morphTargetInfluences["+t[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],d=u.name.match(s);if(d&&d.length>1){const h=d[1];let p=i[h];p||(i[h]=p=[]),p.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(h,p,m,y,g){if(m.length!==0){const _=[],w=[];nn.flattenJSON(m,_,w,y),_.length!==0&&g.push(new h(p,_,w))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let h=0;h<u.length;h++){const p=u[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let g=0;g<p[y].morphTargets.length;g++)m[p[y].morphTargets[g]]=-1;for(const g in m){const _=[],w=[];for(let x=0;x!==p[y].morphTargets.length;++x){const A=p[y];_.push(A.time),w.push(A.morphTarget===g?1:0)}i.push(new Hf(".morphTargetInfluence["+g+"]",_,w))}l=m.length*o}else{const m=".bones["+t[h].name+"]";r(Uf,m+".position",p,"pos",i),r(Qa,m+".quaternion",p,"rot",i),r(Uf,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function oie(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Hf;case"vector":case"vector2":case"vector3":case"vector4":return Uf;case"color":return GC;case"quaternion":return Qa;case"bool":case"boolean":return Du;case"string":return Fu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function aie(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=oie(n.type);if(n.times===void 0){const t=[],r=[];nn.flattenJSON(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Mu={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class zC{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(d){a++,s===!1&&i.onStart!==void 0&&i.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,i.onProgress!==void 0&&i.onProgress(d,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(d){i.onError!==void 0&&i.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,h){return u.push(d,h),this},this.removeHandler=function(d){const h=u.indexOf(d);return h!==-1&&u.splice(h,2),this},this.getHandler=function(d){for(let h=0,p=u.length;h<p;h+=2){const m=u[h],y=u[h+1];if(m.global&&(m.lastIndex=0),m.test(d))return y}return null}}}const $c=new zC;class hr{constructor(e){this.manager=e!==void 0?e:$c,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const go={};class li extends hr{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Mu.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(go[e]!==void 0){go[e].push({onLoad:t,onProgress:r,onError:i});return}go[e]=[],go[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||u.body===void 0||u.body.getReader===void 0)return u;const d=go[e],h=u.body.getReader(),p=u.headers.get("Content-Length"),m=p?parseInt(p):0,y=m!==0;let g=0;const _=new ReadableStream({start(w){x();function x(){h.read().then(({done:A,value:E})=>{if(A)w.close();else{g+=E.byteLength;const C=new ProgressEvent("progress",{lengthComputable:y,loaded:g,total:m});for(let T=0,R=d.length;T<R;T++){const I=d[T];I.onProgress&&I.onProgress(C)}w.enqueue(E),x()}})}}});return new Response(_)}else throw Error(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return u.json();default:if(a===void 0)return u.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(p);return u.arrayBuffer().then(y=>m.decode(y))}}}).then(u=>{Mu.add(e,u);const d=go[e];delete go[e];for(let h=0,p=d.length;h<p;h++){const m=d[h];m.onLoad&&m.onLoad(u)}}).catch(u=>{const d=go[e];if(d===void 0)throw this.manager.itemError(e),u;delete go[e];for(let h=0,p=d.length;h<p;h++){const m=d[h];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class lie extends hr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new li(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=Gf.parse(e[r]);t.push(i)}return t}}class uie extends hr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new EC,l=new li(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function d(h){l.load(e[h],function(p){const m=s.parse(p,!0);o[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=_n),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)d(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let y=0;y<m;y++){o[y]={mipmaps:[]};for(let g=0;g<p.mipmapCount;g++)o[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+g]),o[y].format=p.format,o[y].width=p.width,o[y].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=_n),a.format=p.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class vp extends hr{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Mu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=pp("img");function l(){d(),Mu.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(h){d(),i&&i(h),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class cH extends hr{constructor(e){super(e)}load(e,t,r,i){const s=new rd,o=new vp(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(d){s.images[u]=d,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class fH extends hr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new lu,a=new li(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);!u||(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Mr,o.wrapT=u.wrapT!==void 0?u.wrapT:Mr,o.magFilter=u.magFilter!==void 0?u.magFilter:_n,o.minFilter=u.minFilter!==void 0?u.minFilter:_n,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=zo),u.mipmapCount===1&&(o.minFilter=_n),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,t&&t(o,u))},r,i),o}}class VC extends hr{constructor(e){super(e)}load(e,t,r,i){const s=new Sn,o=new vp(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class ws extends _t{constructor(e,t=1){super();this.type="Light",this.color=new Ie(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}ws.prototype.isLight=!0;class WC extends ws{constructor(e,t,r){super(e,r);this.type="HemisphereLight",this.position.copy(_t.DefaultUp),this.updateMatrix(),this.groundColor=new Ie(t)}copy(e){return ws.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}WC.prototype.isHemisphereLight=!0;const TB=new Xe,RB=new F,PB=new F;class jC{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ye(512,512),this.map=null,this.mapPass=null,this.matrix=new Xe,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new sm,this._frameExtents=new ye(1,1),this._viewportCount=1,this._viewports=[new Gt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;RB.setFromMatrixPosition(e.matrixWorld),t.position.copy(RB),PB.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(PB),t.updateMatrixWorld(),TB.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(TB),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class dH extends jC{constructor(){super(new Yt(50,1,.5,500));this.focus=1}updateMatrices(e){const t=this.camera,r=hp*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}dH.prototype.isSpotLightShadow=!0;class B_ extends ws{constructor(e,t,r=0,i=Math.PI/3,s=0,o=1){super(e,t);this.type="SpotLight",this.position.copy(_t.DefaultUp),this.updateMatrix(),this.target=new _t,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.shadow=new dH}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}B_.prototype.isSpotLight=!0;const IB=new Xe,Zd=new F,vw=new F;class hH extends jC{constructor(){super(new Yt(90,1,.5,500));this._frameExtents=new ye(4,2),this._viewportCount=6,this._viewports=[new Gt(2,1,1,1),new Gt(0,1,1,1),new Gt(3,1,1,1),new Gt(1,1,1,1),new Gt(3,0,1,1),new Gt(1,0,1,1)],this._cubeDirections=[new F(1,0,0),new F(-1,0,0),new F(0,0,1),new F(0,0,-1),new F(0,1,0),new F(0,-1,0)],this._cubeUps=[new F(0,1,0),new F(0,1,0),new F(0,1,0),new F(0,1,0),new F(0,0,1),new F(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Zd.setFromMatrixPosition(e.matrixWorld),r.position.copy(Zd),vw.copy(r.position),vw.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(vw),r.updateMatrixWorld(),i.makeTranslation(-Zd.x,-Zd.y,-Zd.z),IB.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(IB)}}hH.prototype.isPointLightShadow=!0;class L_ extends ws{constructor(e,t,r=0,i=1){super(e,t);this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new hH}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}L_.prototype.isPointLight=!0;class pH extends jC{constructor(){super(new Js(-5,5,5,-5,.5,500))}}pH.prototype.isDirectionalLightShadow=!0;class D_ extends ws{constructor(e,t){super(e,t);this.type="DirectionalLight",this.position.copy(_t.DefaultUp),this.updateMatrix(),this.target=new _t,this.shadow=new pH}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}D_.prototype.isDirectionalLight=!0;class JC extends ws{constructor(e,t){super(e,t);this.type="AmbientLight"}}JC.prototype.isAmbientLight=!0;class $C extends ws{constructor(e,t,r=10,i=10){super(e,t);this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}$C.prototype.isRectAreaLight=!0;class KC{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new F)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}KC.prototype.isSphericalHarmonics3=!0;class mm extends ws{constructor(e=new KC,t=1){super(void 0,t);this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}mm.prototype.isLightProbe=!0;class mH extends hr{constructor(e){super(e);this.textures={}}load(e,t,r,i){const s=this,o=new li(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=hn.fromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Ie().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Ie().setHex(o.value);break;case"v2":i.uniforms[s].value=new ye().fromArray(o.value);break;case"v3":i.uniforms[s].value=new F().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Gt().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Xn().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Xe().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.shading!==void 0&&(i.flatShading=e.shading===1),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new ye().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new ye().fromArray(e.clearcoatNormalScale)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}}class vs{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class XC extends rt{constructor(){super();this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}XC.prototype.isInstancedBufferGeometry=!0;class gH extends hr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new li(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(m,y){if(t[y]!==void 0)return t[y];const _=m.interleavedBuffers[y],w=s(m,_.buffer),x=Wc(_.type,w),A=new al(x,_.stride);return A.uuid=_.uuid,t[y]=A,A}function s(m,y){if(r[y]!==void 0)return r[y];const _=m.arrayBuffers[y],w=new Uint32Array(_).buffer;return r[y]=w,w}const o=e.isInstancedBufferGeometry?new XC:new rt,a=e.data.index;if(a!==void 0){const m=Wc(a.type,a.array);o.setIndex(new vt(m,1))}const l=e.data.attributes;for(const m in l){const y=l[m];let g;if(y.isInterleavedBufferAttribute){const _=i(e.data,y.data);g=new No(_,y.itemSize,y.offset,y.normalized)}else{const _=Wc(y.type,y.array),w=y.isInstancedBufferAttribute?xu:vt;g=new w(_,y.itemSize,y.normalized)}y.name!==void 0&&(g.name=y.name),y.usage!==void 0&&g.setUsage(y.usage),y.updateRange!==void 0&&(g.updateRange.offset=y.updateRange.offset,g.updateRange.count=y.updateRange.count),o.setAttribute(m,g)}const u=e.data.morphAttributes;if(u)for(const m in u){const y=u[m],g=[];for(let _=0,w=y.length;_<w;_++){const x=y[_];let A;if(x.isInterleavedBufferAttribute){const E=i(e.data,x.data);A=new No(E,x.itemSize,x.offset,x.normalized)}else{const E=Wc(x.type,x.array);A=new vt(E,x.itemSize,x.normalized)}x.name!==void 0&&(A.name=x.name),g.push(A)}o.morphAttributes[m]=g}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,y=h.length;m!==y;++m){const g=h[m];o.addGroup(g.start,g.count,g.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new F;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new Wo(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class cie extends hr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?vs.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new li(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(h){i!==void 0&&i(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const d=u.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?vs.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new li(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),d=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,d),t!==void 0){let h=!1;for(const p in o)if(o[p]instanceof HTMLImageElement){h=!0;break}h===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new $s().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new dm().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new gH;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:l.type in bB?a=bB[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new mH;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];if(l.type==="MultiMaterial"){const u=[];for(let d=0;d<l.materials.length;d++){const h=l.materials[d];r[h.uuid]===void 0&&(r[h.uuid]=s.parse(h)),u.push(r[h.uuid])}i[l.uuid]=u}else r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Gf.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(d)}else return l.data?{data:Wc(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new zC(t);s=new vp(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,d=e.length;u<d;u++){const h=e[u],p=h.url;if(Array.isArray(p)){const m=[];for(let y=0,g=p.length;y<g;y++){const _=p[y],w=a(_);w!==null&&(w instanceof HTMLImageElement?m.push(w):m.push(new lu(w.data,w.width,w.height)))}i[h.uuid]=new ql(m)}else{const m=a(h.url);i[h.uuid]=new ql(m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Wc(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new vp(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const d=[];for(let h=0,p=u.length;h<p;h++){const m=u[h],y=await s(m);y!==null&&(y instanceof HTMLImageElement?d.push(y):d.push(new lu(y.data,y.width,y.height)))}r[l.uuid]=new ql(d)}else{const d=await s(l.url);r[l.uuid]=new ql(d)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],u=l.data;let d;Array.isArray(u)?(d=new rd,u.length===6&&(d.needsUpdate=!0)):(u&&u.data?d=new lu:d=new Sn,u&&(d.needsUpdate=!0)),d.source=l,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=r(a.mapping,fie)),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=r(a.wrap[0],BB),d.wrapT=r(a.wrap[1],BB)),a.format!==void 0&&(d.format=a.format),a.type!==void 0&&(d.type=a.type),a.encoding!==void 0&&(d.encoding=a.encoding),a.minFilter!==void 0&&(d.minFilter=r(a.minFilter,LB)),a.magFilter!==void 0&&(d.magFilter=r(a.magFilter,LB)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(d.userData=a.userData),i[a.uuid]=d}return i}parseObject(e,t,r,i,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let y=0,g=p.length;y<g;y++){const _=p[y];r[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),m.push(r[_])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function u(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let d,h;switch(e.type){case"Scene":o=new um,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ie(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new lm(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new am(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":o=new Yt(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Js(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new JC(e.color,e.intensity);break;case"DirectionalLight":o=new D_(e.color,e.intensity);break;case"PointLight":o=new L_(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new $C(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new B_(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new WC(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new mm().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),h=l(e.material),o=new cm(d,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),h=l(e.material),o=new bn(d,h);break;case"InstancedMesh":d=a(e.geometry),h=l(e.material);const p=e.count,m=e.instanceMatrix,y=e.instanceColor;o=new AC(d,h,p),o.instanceMatrix=new xu(new Float32Array(m.array),16),y!==void 0&&(o.instanceColor=new xu(new Float32Array(y.array),y.itemSize));break;case"LOD":o=new YN;break;case"Line":o=new qs(a(e.geometry),l(e.material));break;case"LineLoop":o=new C_(a(e.geometry),l(e.material));break;case"LineSegments":o=new Nr(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new sd(a(e.geometry),l(e.material));break;case"Sprite":o=new M_(l(e.material));break;case"Group":o=new zs;break;case"Bone":o=new fm;break;default:o=new _t}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const y=p[m];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const y=p[m],g=o.getObjectByProperty("uuid",y.object);g!==void 0&&o.addLevel(g,y.distance)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}const fie={UVMapping:m_,CubeReflectionMapping:Va,CubeRefractionMapping:Wa,EquirectangularReflectionMapping:lp,EquirectangularRefractionMapping:up,CubeUVReflectionMapping:ed},BB={RepeatWrapping:ja,ClampToEdgeWrapping:Mr,MirroredRepeatWrapping:Sf},LB={NearestFilter:Dn,NearestMipmapNearestFilter:cp,NearestMipmapLinearFilter:fp,LinearFilter:_n,LinearMipmapNearestFilter:g_,LinearMipmapLinearFilter:zo};class QC extends hr{constructor(e){super(e);typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Mu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Mu.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}QC.prototype.isImageBitmapLoader=!0;let T0;const qC={getContext:function(){return T0===void 0&&(T0=new(window.AudioContext||window.webkitAudioContext)),T0},setContext:function(n){T0=n}};class yH extends hr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new li(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);qC.getContext().decodeAudioData(l,function(d){t(d)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class vH extends mm{constructor(e,t,r=1){super(void 0,r);const i=new Ie().set(e),s=new Ie().set(t),o=new F(i.r,i.g,i.b),a=new F(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}vH.prototype.isHemisphereLightProbe=!0;class _H extends mm{constructor(e,t=1){super(void 0,t);const r=new Ie().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}_H.prototype.isAmbientLightProbe=!0;const DB=new Xe,FB=new Xe,Ml=new Xe;class die{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Yt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Yt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Ml.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(su*t.fov*.5)/t.zoom;let a,l;FB.elements[12]=-i,DB.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,Ml.elements[0]=2*t.near/(l-a),Ml.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Ml),a=-o*t.aspect-s,l=o*t.aspect-s,Ml.elements[0]=2*t.near/(l-a),Ml.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Ml)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(FB),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(DB)}}class YC{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=kB(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=kB();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function kB(){return(typeof performance=="undefined"?Date:performance).now()}const Cl=new F,OB=new Vn,hie=new F,bl=new F;class pie extends _t{constructor(){super();this.type="AudioListener",this.context=qC.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new YC}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Cl,OB,hie),bl.set(0,0,-1).applyQuaternion(OB),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Cl.x,i),t.positionY.linearRampToValueAtTime(Cl.y,i),t.positionZ.linearRampToValueAtTime(Cl.z,i),t.forwardX.linearRampToValueAtTime(bl.x,i),t.forwardY.linearRampToValueAtTime(bl.y,i),t.forwardZ.linearRampToValueAtTime(bl.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Cl.x,Cl.y,Cl.z),t.setOrientation(bl.x,bl.y,bl.z,r.x,r.y,r.z)}}class ZC extends _t{constructor(e){super();this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Tl=new F,NB=new Vn,mie=new F,Rl=new F;class gie extends ZC{constructor(e){super(e);this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Tl,NB,mie),Rl.set(0,0,1).applyQuaternion(NB);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Tl.x,r),t.positionY.linearRampToValueAtTime(Tl.y,r),t.positionZ.linearRampToValueAtTime(Tl.z,r),t.orientationX.linearRampToValueAtTime(Rl.x,r),t.orientationY.linearRampToValueAtTime(Rl.y,r),t.orientationZ.linearRampToValueAtTime(Rl.z,r)}else t.setPosition(Tl.x,Tl.y,Tl.z),t.setOrientation(Rl.x,Rl.y,Rl.z)}}class xH{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class wH{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){Vn.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;Vn.multiplyQuaternionsFlat(e,o,e,t,e,r),Vn.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const eb="\\[\\]\\.:\\/",yie=new RegExp("["+eb+"]","g"),tb="[^"+eb+"]",vie="[^"+eb.replace("\\.","")+"]",_ie=/((?:WC+[\/:])*)/.source.replace("WC",tb),xie=/(WCOD+)?/.source.replace("WCOD",vie),wie=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",tb),Sie=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",tb),Aie=new RegExp("^"+_ie+xie+wie+Sie+"$"),Eie=["material","materials","bones"];class Mie{constructor(e,t,r){const i=r||Tt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Tt{constructor(e,t,r){this.path=t,this.parsedPath=r||Tt.parseTrackName(t),this.node=Tt.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Tt.Composite(e,t,r):new Tt(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(yie,"")}static parseTrackName(e){const t=Aie.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);Eie.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=Tt.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===u){u=d;break}break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Tt.Composite=Mie;Tt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Tt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Tt.prototype.GetterByBindingType=[Tt.prototype._getValue_direct,Tt.prototype._getValue_array,Tt.prototype._getValue_arrayElement,Tt.prototype._getValue_toArray];Tt.prototype.SetterByBindingTypeAndVersioning=[[Tt.prototype._setValue_direct,Tt.prototype._setValue_direct_setNeedsUpdate,Tt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Tt.prototype._setValue_array,Tt.prototype._setValue_array_setNeedsUpdate,Tt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Tt.prototype._setValue_arrayElement,Tt.prototype._setValue_arrayElement_setNeedsUpdate,Tt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Tt.prototype._setValue_fromArray,Tt.prototype._setValue_fromArray_setNeedsUpdate,Tt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class SH{constructor(){this.uuid=Ei(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let d=0,h=arguments.length;d!==h;++d){const p=arguments[d],m=p.uuid;let y=t[m];if(y===void 0){y=l++,t[m]=y,e.push(p);for(let g=0,_=o;g!==_;++g)s[g].push(new Tt(p,r[g],i[g]))}else if(y<u){a=e[y];const g=--u,_=e[g];t[_.uuid]=y,e[y]=_,t[m]=g,e[g]=p;for(let w=0,x=o;w!==x;++w){const A=s[w],E=A[g];let C=A[y];A[y]=E,C===void 0&&(C=new Tt(p,r[w],i[w])),A[g]=C}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,d=t[u];if(d!==void 0&&d>=s){const h=s++,p=e[h];t[p.uuid]=d,e[d]=p,t[u]=h,e[h]=l;for(let m=0,y=i;m!==y;++m){const g=r[m],_=g[h],w=g[d];g[d]=_,g[h]=w}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],d=u.uuid,h=t[d];if(h!==void 0)if(delete t[d],h<s){const p=--s,m=e[p],y=--o,g=e[y];t[m.uuid]=h,e[h]=m,t[g.uuid]=p,e[p]=g,e.pop();for(let _=0,w=i;_!==w;++_){const x=r[_],A=x[p],E=x[y];x[h]=A,x[p]=E,x.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=h),e[h]=m,e.pop();for(let y=0,g=i;y!==g;++y){const _=r[y];_[h]=_[p],_.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,d=this.nCachedObjects_,h=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(h);for(let p=d,m=l.length;p!==m;++p){const y=l[p];h[p]=new Tt(y,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];t[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}SH.prototype.isAnimationObjectGroup=!0;class Cie{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Xl,endingEnd:Xl};for(let u=0;u!==o;++u){const d=s[u].createInterpolant(null);a[u]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=vN,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;if(l<0||r===0)return;this._startTime=null,t=r*l}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case yC:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),u[d].accumulateAdditive(a);break;case y_:default:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),u[d].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;r!==null&&(t*=r.evaluate(e)[0],e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===_N;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===yN){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Ql,i.endingEnd=Ql):(e?i.endingStart=this.zeroSlopeAtStart?Ql:Xl:i.endingStart=dp,t?i.endingEnd=this.zeroSlopeAtEnd?Ql:Xl:i.endingEnd=dp)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}class AH extends Vo{constructor(e){super();this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let d=u[l];d===void 0&&(d={},u[l]=d);for(let h=0;h!==s;++h){const p=i[h],m=p.name;let y=d[m];if(y!==void 0)++y.referenceCount,o[h]=y;else{if(y=o[h],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,m));continue}const g=t&&t._propertyBindings[h].binding.parsedPath;y=new wH(Tt.create(r,m,g),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,m),o[h]=y}a[h].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],d=e._byClipCacheIndex;u._byClipCacheIndex=d,l[d]=u,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new UC(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?Gf.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=y_),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===r)return h;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const d=new Cie(this,o,t,r);return this._bindAction(d,u),this._addInactiveAction(d,a,s),d}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?Gf.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)t[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const d=u._cacheIndex,h=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,h._cacheIndex=d,t[d]=h,t.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}AH.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class F_{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new F_(this.value.clone===void 0?this.value:this.value.clone())}}class EH extends al{constructor(e,t,r=1){super(e,t);this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}EH.prototype.isInstancedInterleavedBuffer=!0;class MH{constructor(e,t,r,i,s){this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}MH.prototype.isGLBufferAttribute=!0;class CH{constructor(e,t,r=0,i=1/0){this.ray=new sl(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new au,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return JA(e,this,r,t),r.sort(HB),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)JA(e[i],this,r,t);return r.sort(HB),r}}function HB(n,e){return n.distance-e.distance}function JA(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)JA(i[s],e,t,!0)}}class $A{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Fn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class bie{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const UB=new ye;class od{constructor(e=new ye(1/0,1/0),t=new ye(-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=UB.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return UB.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}od.prototype.isBox2=!0;const GB=new F,R0=new F;class bH{constructor(e=new F,t=new F){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){GB.subVectors(e,this.start),R0.subVectors(this.end,this.start);const r=R0.dot(R0);let s=R0.dot(GB)/r;return t&&(s=Fn(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const zB=new F;class Tie extends _t{constructor(e,t){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const r=new rt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,d=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(d),Math.sin(d),1)}r.setAttribute("position",new Qe(i,3));const s=new Qn({fog:!1,toneMapped:!1});this.cone=new Nr(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),zB.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(zB),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const da=new F,P0=new Xe,_w=new Xe;class TH extends Nr{constructor(e){const t=RH(e),r=new rt,i=[],s=[],o=new Ie(0,0,1),a=new Ie(0,1,0);for(let u=0;u<t.length;u++){const d=t[u];d.parent&&d.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new Qe(i,3)),r.setAttribute("color",new Qe(s,3));const l=new Qn({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l);this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");_w.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(P0.multiplyMatrices(_w,a.matrixWorld),da.setFromMatrixPosition(P0),i.setXYZ(o,da.x,da.y,da.z),P0.multiplyMatrices(_w,a.parent.matrixWorld),da.setFromMatrixPosition(P0),i.setXYZ(o+1,da.x,da.y,da.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function RH(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,RH(n.children[t]));return e}class Rie extends bn{constructor(e,t,r){const i=new Eu(t,4,2),s=new ti({wireframe:!0,fog:!1,toneMapped:!1});super(i,s);this.light=e,this.light.updateMatrixWorld(),this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Pie=new F,VB=new Ie,WB=new Ie;class Iie extends _t{constructor(e,t,r){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;const i=new Su(t);i.rotateY(Math.PI*.5),this.material=new ti({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new vt(o,3)),this.add(new bn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");VB.copy(this.light.color),WB.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?VB:WB;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}e.lookAt(Pie.setFromMatrixPosition(this.light.matrixWorld).negate())}}class PH extends Nr{constructor(e=10,t=10,r=4473924,i=8947848){r=new Ie(r),i=new Ie(i);const s=t/2,o=e/t,a=e/2,l=[],u=[];for(let p=0,m=0,y=-a;p<=t;p++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const g=p===s?r:i;g.toArray(u,m),m+=3,g.toArray(u,m),m+=3,g.toArray(u,m),m+=3,g.toArray(u,m),m+=3}const d=new rt;d.setAttribute("position",new Qe(l,3)),d.setAttribute("color",new Qe(u,3));const h=new Qn({vertexColors:!0,toneMapped:!1});super(d,h);this.type="GridHelper"}}class Bie extends Nr{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new Ie(s),o=new Ie(o);const a=[],l=[];for(let h=0;h<=t;h++){const p=h/t*(Math.PI*2),m=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,y);const g=h&1?s:o;l.push(g.r,g.g,g.b),l.push(g.r,g.g,g.b)}for(let h=0;h<=r;h++){const p=h&1?s:o,m=e-e/r*h;for(let y=0;y<i;y++){let g=y/i*(Math.PI*2),_=Math.sin(g)*m,w=Math.cos(g)*m;a.push(_,0,w),l.push(p.r,p.g,p.b),g=(y+1)/i*(Math.PI*2),_=Math.sin(g)*m,w=Math.cos(g)*m,a.push(_,0,w),l.push(p.r,p.g,p.b)}}const u=new rt;u.setAttribute("position",new Qe(a,3)),u.setAttribute("color",new Qe(l,3));const d=new Qn({vertexColors:!0,toneMapped:!1});super(u,d);this.type="PolarGridHelper"}}const jB=new F,I0=new F,JB=new F;class Lie extends _t{constructor(e,t,r){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,t===void 0&&(t=1);let i=new rt;i.setAttribute("position",new Qe([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Qn({fog:!1,toneMapped:!1});this.lightPlane=new qs(i,s),this.add(this.lightPlane),i=new rt,i.setAttribute("position",new Qe([0,0,0,0,0,1],3)),this.targetLine=new qs(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){jB.setFromMatrixPosition(this.light.matrixWorld),I0.setFromMatrixPosition(this.light.target.matrixWorld),JB.subVectors(I0,jB),this.lightPlane.lookAt(I0),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(I0),this.targetLine.scale.z=JB.length()}}const B0=new F,En=new nd;class Die extends Nr{constructor(e){const t=new rt,r=new Qn({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={},a=new Ie(16755200),l=new Ie(16711680),u=new Ie(43775),d=new Ie(16777215),h=new Ie(3355443);p("n1","n2",a),p("n2","n4",a),p("n4","n3",a),p("n3","n1",a),p("f1","f2",a),p("f2","f4",a),p("f4","f3",a),p("f3","f1",a),p("n1","f1",a),p("n2","f2",a),p("n3","f3",a),p("n4","f4",a),p("p","n1",l),p("p","n2",l),p("p","n3",l),p("p","n4",l),p("u1","u2",u),p("u2","u3",u),p("u3","u1",u),p("c","t",d),p("p","c",h),p("cn1","cn2",h),p("cn3","cn4",h),p("cf1","cf2",h),p("cf3","cf4",h);function p(y,g,_){m(y,_),m(g,_)}function m(y,g){i.push(0,0,0),s.push(g.r,g.g,g.b),o[y]===void 0&&(o[y]=[]),o[y].push(i.length/3-1)}t.setAttribute("position",new Qe(i,3)),t.setAttribute("color",new Qe(s,3));super(t,r);this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;En.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),In("c",t,e,En,0,0,-1),In("t",t,e,En,0,0,1),In("n1",t,e,En,-r,-i,-1),In("n2",t,e,En,r,-i,-1),In("n3",t,e,En,-r,i,-1),In("n4",t,e,En,r,i,-1),In("f1",t,e,En,-r,-i,1),In("f2",t,e,En,r,-i,1),In("f3",t,e,En,-r,i,1),In("f4",t,e,En,r,i,1),In("u1",t,e,En,r*.7,i*1.1,-1),In("u2",t,e,En,-r*.7,i*1.1,-1),In("u3",t,e,En,0,i*2,-1),In("cf1",t,e,En,-r,0,1),In("cf2",t,e,En,r,0,1),In("cf3",t,e,En,0,-i,1),In("cf4",t,e,En,0,i,1),In("cn1",t,e,En,-r,0,-1),In("cn2",t,e,En,r,0,-1),In("cn3",t,e,En,0,-i,-1),In("cn4",t,e,En,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function In(n,e,t,r,i,s,o){B0.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let u=0,d=a.length;u<d;u++)l.setXYZ(a[u],B0.x,B0.y,B0.z)}}const L0=new ui;class IH extends Nr{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new rt;s.setIndex(new vt(r,1)),s.setAttribute("position",new vt(i,3));super(s,new Qn({color:t,toneMapped:!1}));this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&L0.setFromObject(this.object),L0.isEmpty())return;const t=L0.min,r=L0.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return Nr.prototype.copy.call(this,e),this.object=e.object,this}}class Fie extends Nr{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new rt;s.setIndex(new vt(r,1)),s.setAttribute("position",new Qe(i,3));super(s,new Qn({color:t,toneMapped:!1}));this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}}class kie extends qs{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],o=new rt;o.setAttribute("position",new Qe(s,3)),o.computeBoundingSphere();super(o,new Qn({color:i,toneMapped:!1}));this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],l=new rt;l.setAttribute("position",new Qe(a,3)),l.computeBoundingSphere(),this.add(new bn(l,new ti({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?Ai:Ga,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}}const $B=new F;let D0,xw;class Oie extends _t{constructor(e=new F(0,0,1),t=new F(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super();this.type="ArrowHelper",D0===void 0&&(D0=new rt,D0.setAttribute("position",new Qe([0,0,0,0,1,0],3)),xw=new Ka(0,.5,1,5,1),xw.translate(0,-.5,0)),this.position.copy(t),this.line=new qs(D0,new Qn({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new bn(xw,new ti({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{$B.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle($B,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class BH extends Nr{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new rt;i.setAttribute("position",new Qe(t,3)),i.setAttribute("color",new Qe(r,3));const s=new Qn({vertexColors:!0,toneMapped:!1});super(i,s);this.type="AxesHelper"}setColors(e,t,r){const i=new Ie,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Nie{constructor(){this.type="ShapePath",this.color=new Ie,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Tf,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,t){function r(x){const A=[];for(let E=0,C=x.length;E<C;E++){const T=x[E],R=new $s;R.curves=T.curves,A.push(R)}return A}function i(x,A){const E=A.length;let C=!1;for(let T=E-1,R=0;R<E;T=R++){let I=A[T],O=A[R],L=O.x-I.x,P=O.y-I.y;if(Math.abs(P)>Number.EPSILON){if(P<0&&(I=A[R],L=-L,O=A[T],P=-P),x.y<I.y||x.y>O.y)continue;if(x.y===I.y){if(x.x===I.x)return!0}else{const B=P*(x.x-I.x)-L*(x.y-I.y);if(B===0)return!0;if(B<0)continue;C=!C}}else{if(x.y!==I.y)continue;if(O.x<=x.x&&x.x<=I.x||I.x<=x.x&&x.x<=O.x)return!0}}return C}const s=Ks.isClockWise,o=this.subPaths;if(o.length===0)return[];if(t===!0)return r(o);let a,l,u;const d=[];if(o.length===1)return l=o[0],u=new $s,u.curves=l.curves,d.push(u),d;let h=!s(o[0].getPoints());h=e?!h:h;const p=[],m=[];let y=[],g=0,_;m[g]=void 0,y[g]=[];for(let x=0,A=o.length;x<A;x++)l=o[x],_=l.getPoints(),a=s(_),a=e?!a:a,a?(!h&&m[g]&&g++,m[g]={s:new $s,p:_},m[g].s.curves=l.curves,h&&g++,y[g]=[]):y[g].push({h:l,p:_[0]});if(!m[0])return r(o);if(m.length>1){let x=!1,A=0;for(let E=0,C=m.length;E<C;E++)p[E]=[];for(let E=0,C=m.length;E<C;E++){const T=y[E];for(let R=0;R<T.length;R++){const I=T[R];let O=!0;for(let L=0;L<m.length;L++)i(I.p,m[L].p)&&(E!==L&&A++,O?(O=!1,p[L].push(I)):x=!0);O&&p[E].push(I)}}A>0&&x===!1&&(y=p)}let w;for(let x=0,A=m.length;x<A;x++){u=m[x].s,d.push(u),w=y[x];for(let E=0,C=w.length;E<C;E++)u.holes.push(w[E].h)}return d}}class Hie{static toHalfFloat(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=Fn(e,-65504,65504),KB[0]=e;const t=XB[0],r=t>>23&511;return as[r]+((t&8388607)>>ls[r])}static fromHalfFloat(e){const t=e>>10;return XB[0]=nb[DH[t]+(e&1023)]+ad[t],KB[0]}}const LH=new ArrayBuffer(4),KB=new Float32Array(LH),XB=new Uint32Array(LH),as=new Uint32Array(512),ls=new Uint32Array(512);for(let n=0;n<256;++n){const e=n-127;e<-27?(as[n]=0,as[n|256]=32768,ls[n]=24,ls[n|256]=24):e<-14?(as[n]=1024>>-e-14,as[n|256]=1024>>-e-14|32768,ls[n]=-e-1,ls[n|256]=-e-1):e<=15?(as[n]=e+15<<10,as[n|256]=e+15<<10|32768,ls[n]=13,ls[n|256]=13):e<128?(as[n]=31744,as[n|256]=64512,ls[n]=24,ls[n|256]=24):(as[n]=31744,as[n|256]=64512,ls[n]=13,ls[n|256]=13)}const nb=new Uint32Array(2048),ad=new Uint32Array(64),DH=new Uint32Array(64);for(let n=1;n<1024;++n){let e=n<<13,t=0;for(;(e&8388608)===0;)e<<=1,t-=8388608;e&=-8388609,t+=947912704,nb[n]=e|t}for(let n=1024;n<2048;++n)nb[n]=939524096+(n-1024<<13);for(let n=1;n<31;++n)ad[n]=n<<23;ad[31]=1199570944;ad[32]=2147483648;for(let n=33;n<63;++n)ad[n]=2147483648+(n-32<<23);ad[63]=3347054592;for(let n=1;n<64;++n)n!==32&&(DH[n]=1024);const Uie=0,Gie=1,zie=0,Vie=1,Wie=2;function jie(n){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),n}function Jie(n=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),n.isMultiMaterial=!0,n.materials=n,n.clone=function(){return n.slice()},n}class $ie extends sd{constructor(e,t){console.warn("THREE.PointCloud has been renamed to THREE.Points.");super(e,t)}}class Kie extends M_{constructor(e){console.warn("THREE.Particle has been renamed to THREE.Sprite.");super(e)}}class Xie extends sd{constructor(e,t){console.warn("THREE.ParticleSystem has been renamed to THREE.Points.");super(e,t)}}class Qie extends ll{constructor(e){console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.");super(e)}}class qie extends ll{constructor(e){console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.");super(e)}}class Yie extends ll{constructor(e){console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.");super(e)}}class Zie extends F{constructor(e,t,r){console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead.");super(e,t,r)}}class ese extends vt{constructor(e,t){console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead.");super(e,t);this.setUsage(Cf)}}class tse extends BN{constructor(e,t){console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.");super(e,t)}}class nse extends LN{constructor(e,t){console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.");super(e,t)}}class rse extends DN{constructor(e,t){console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.");super(e,t)}}class ise extends FN{constructor(e,t){console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.");super(e,t)}}class sse extends v_{constructor(e,t){console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.");super(e,t)}}class ose extends kN{constructor(e,t){console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.");super(e,t)}}class ase extends __{constructor(e,t){console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.");super(e,t)}}class lse extends Qe{constructor(e,t){console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.");super(e,t)}}class use extends NN{constructor(e,t){console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.");super(e,t)}}Ci.create=function(n,e){return console.log("THREE.Curve.create() has been deprecated"),n.prototype=Object.create(Ci.prototype),n.prototype.constructor=n,n.prototype.getPoint=e,n};Tf.prototype.fromPoints=function(n){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(n)};class cse extends BH{constructor(e){console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper.");super(e)}}class fse extends IH{constructor(e,t){console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.");super(e,t)}}class dse extends Nr{constructor(e,t){console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.");super(new PC(e.geometry),new Qn({color:t!==void 0?t:16777215}))}}PH.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};TH.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};class hse extends Nr{constructor(e,t){console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.");super(new IC(e.geometry),new Qn({color:t!==void 0?t:16777215}))}}hr.prototype.extractUrlBase=function(n){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),vs.extractUrlBase(n)};hr.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};class pse extends li{constructor(e){console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader.");super(e)}}class mse extends fH{constructor(e){console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.");super(e)}}od.prototype.center=function(n){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(n)};od.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()};od.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};od.prototype.size=function(n){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(n)};ui.prototype.center=function(n){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(n)};ui.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};ui.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};ui.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};ui.prototype.size=function(n){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(n)};ol.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")};Wo.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};sm.prototype.setFromMatrix=function(n){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(n)};bH.prototype.center=function(n){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(n)};Xn.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};Xn.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};Xn.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};Xn.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};Xn.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};Xn.prototype.getInverse=function(n){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};Xe.prototype.extractPosition=function(n){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(n)};Xe.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};Xe.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new F().setFromMatrixColumn(this,3)};Xe.prototype.setRotationFromQuaternion=function(n){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(n)};Xe.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};Xe.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Xe.prototype.multiplyVector4=function(n){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Xe.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};Xe.prototype.rotateAxis=function(n){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),n.transformDirection(this)};Xe.prototype.crossVector=function(n){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Xe.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};Xe.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};Xe.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};Xe.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};Xe.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};Xe.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Xe.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};Xe.prototype.makeFrustum=function(n,e,t,r,i,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(n,e,r,t,i,s)};Xe.prototype.getInverse=function(n){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};Ns.prototype.isIntersectionLine=function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)};Vn.prototype.multiplyVector3=function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)};Vn.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};sl.prototype.isIntersectionBox=function(n){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};sl.prototype.isIntersectionPlane=function(n){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(n)};sl.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};kn.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};kn.prototype.barycoordFromPoint=function(n,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(n,e)};kn.prototype.midpoint=function(n){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(n)};kn.prototypenormal=function(n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(n)};kn.prototype.plane=function(n){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(n)};kn.barycoordFromPoint=function(n,e,t,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),kn.getBarycoord(n,e,t,r,i)};kn.normal=function(n,e,t,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),kn.getNormal(n,e,t,r)};$s.prototype.extractAllPoints=function(n){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(n)};$s.prototype.extrude=function(n){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Zs(this,n)};$s.prototype.makeGeometry=function(n){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Au(this,n)};ye.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};ye.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};ye.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};F.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};F.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};F.prototype.getPositionFromMatrix=function(n){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(n)};F.prototype.getScaleFromMatrix=function(n){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(n)};F.prototype.getColumnFromMatrix=function(n,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,n)};F.prototype.applyProjection=function(n){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(n)};F.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};F.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};F.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Gt.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};Gt.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};_t.prototype.getChildByName=function(n){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(n)};_t.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};_t.prototype.translate=function(n,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,n)};_t.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};_t.prototype.applyMatrix=function(n){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(_t.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(n){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=n}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});bn.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(bn.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),xN},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});cm.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Yt.prototype.setLens=function(n,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(n)};Object.defineProperties(ws.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(n){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=n}},shadowCameraLeft:{set:function(n){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=n}},shadowCameraRight:{set:function(n){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=n}},shadowCameraTop:{set:function(n){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=n}},shadowCameraBottom:{set:function(n){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=n}},shadowCameraNear:{set:function(n){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=n}},shadowCameraFar:{set:function(n){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=n}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(n){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=n}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(n){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=n}},shadowMapHeight:{set:function(n){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=n}}});Object.defineProperties(vt.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Cf},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Cf)}}});vt.prototype.setDynamic=function(n){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?Cf:Mf),this};vt.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},vt.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};rt.prototype.addIndex=function(n){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(n)};rt.prototype.addAttribute=function(n,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(n,new vt(arguments[1],arguments[2]))):n==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(n,e)};rt.prototype.addDrawCall=function(n,e,t){t!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(n,e)};rt.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};rt.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};rt.prototype.removeAttribute=function(n){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(n)};rt.prototype.applyMatrix=function(n){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(rt.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});al.prototype.setDynamic=function(n){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?Cf:Mf),this};al.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Zs.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};Zs.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};Zs.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};um.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};F_.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this};Object.defineProperties(hn.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Ie}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(n){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===hC}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(n){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=n}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(ai.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(n){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=n}}});Wt.prototype.clearTarget=function(n,e,t,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(n),this.clear(e,t,r)};Wt.prototype.animate=function(n){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(n)};Wt.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};Wt.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};Wt.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};Wt.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};Wt.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};Wt.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};Wt.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};Wt.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};Wt.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};Wt.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};Wt.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};Wt.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};Wt.prototype.enableScissorTest=function(n){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(n)};Wt.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};Wt.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};Wt.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};Wt.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};Wt.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};Wt.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};Wt.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};Wt.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};Wt.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};Wt.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(Wt.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=n}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=n}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(n){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=n===!0?Ut:xs}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});Object.defineProperties(KN.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});class gse extends w_{constructor(e,t,r){console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options ).");super(e,r)}}Object.defineProperties(fr.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=n}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=n}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=n}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=n}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(n){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=n}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(n){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=n}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(n){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=n}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(n){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=n}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(n){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=n}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(n){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=n}}});ZC.prototype.load=function(n){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new yH().load(n,function(r){e.setBuffer(r)}),this};xH.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};x_.prototype.updateCubeMap=function(n,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(n,e)};x_.prototype.clear=function(n,e,t,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(n,e,t,r)};il.crossOrigin=void 0;il.loadTexture=function(n,e,t,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const i=new VC;i.setCrossOrigin(this.crossOrigin);const s=i.load(n,t,void 0,r);return e&&(s.mapping=e),s};il.loadTextureCube=function(n,e,t,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const i=new cH;i.setCrossOrigin(this.crossOrigin);const s=i.load(n,t,void 0,r);return e&&(s.mapping=e),s};il.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};il.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function yse(){console.error("THREE.CanvasRenderer has been removed")}function vse(){console.error("THREE.JSONLoader has been removed.")}const _se={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function xse(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}class wse extends rt{constructor(){console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js");super()}}class Sse extends rt{constructor(){console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js");super()}}function Ase(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function Ese(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function Mse(){console.error("THREE.ImmediateRenderObject has been removed.")}class Cse extends fr{constructor(e,t,r){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.');super(e,t,r);this.samples=4}}class bse extends td{constructor(e,t,r,i){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture.");super(e,t,r,i)}}class Tse extends im{constructor(e,t,r,i){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture.");super(e,t,r,i)}}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:p_}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=p_);var FH=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:gC,AddEquation:Ul,AddOperation:qO,AdditiveAnimationBlendMode:yC,AdditiveBlending:dA,AlphaFormat:aN,AlwaysDepth:WO,AlwaysStencilFunc:MN,AmbientLight:JC,AmbientLightProbe:_H,AnimationClip:Gf,AnimationLoader:lie,AnimationMixer:AH,AnimationObjectGroup:SH,AnimationUtils:nn,ArcCurve:MC,ArrayCamera:wC,ArrowHelper:Oie,Audio:ZC,AudioAnalyser:xH,AudioContext:qC,AudioListener:pie,AudioLoader:yH,AxesHelper:BH,AxisHelper:cse,BackSide:Ai,BasicDepthPacking:SN,BasicShadowMap:sY,BinaryTextureLoader:mse,Bone:fm,BooleanKeyframeTrack:Du,BoundingBoxHelper:fse,Box2:od,Box3:ui,Box3Helper:Fie,BoxBufferGeometry:Oo,BoxGeometry:Oo,BoxHelper:IH,BufferAttribute:vt,BufferGeometry:rt,BufferGeometryLoader:gH,ByteType:nN,Cache:Mu,Camera:nd,CameraHelper:Die,CanvasRenderer:yse,CanvasTexture:tH,CapsuleBufferGeometry:Rf,CapsuleGeometry:Rf,CatmullRomCurve3:bC,CineonToneMapping:eN,CircleBufferGeometry:Pf,CircleGeometry:Pf,ClampToEdgeWrapping:Mr,Clock:YC,Color:Ie,ColorKeyframeTrack:GC,ColorManagement:Dr,CompressedTexture:EC,CompressedTextureLoader:uie,ConeBufferGeometry:If,ConeGeometry:If,CubeCamera:x_,CubeReflectionMapping:Va,CubeRefractionMapping:Wa,CubeTexture:rd,CubeTextureLoader:cH,CubeUVReflectionMapping:ed,CubicBezierCurve:b_,CubicBezierCurve3:TC,CubicInterpolant:aH,CullFaceBack:fA,CullFaceFront:PO,CullFaceFrontBack:iY,CullFaceNone:RO,Curve:Ci,CurvePath:rH,CustomBlending:IO,CustomToneMapping:tN,CylinderBufferGeometry:Ka,CylinderGeometry:Ka,Cylindrical:bie,Data3DTexture:im,DataArrayTexture:td,DataTexture:lu,DataTexture2DArray:bse,DataTexture3D:Tse,DataTextureLoader:fH,DataUtils:Hie,DecrementStencilOp:mY,DecrementWrapStencilOp:yY,DefaultLoadingManager:$c,DepthFormat:Da,DepthStencilFormat:vu,DepthTexture:SC,DirectionalLight:D_,DirectionalLightHelper:Lie,DiscreteInterpolant:lH,DodecahedronBufferGeometry:Bf,DodecahedronGeometry:Bf,DoubleSide:za,DstAlphaFactor:NO,DstColorFactor:UO,DynamicBufferAttribute:ese,DynamicCopyUsage:IY,DynamicDrawUsage:Cf,DynamicReadUsage:TY,EdgesGeometry:PC,EdgesHelper:dse,EllipseCurve:hm,EqualDepth:JO,EqualStencilFunc:wY,EquirectangularReflectionMapping:lp,EquirectangularRefractionMapping:up,Euler:ol,EventDispatcher:Vo,ExtrudeBufferGeometry:Zs,ExtrudeGeometry:Zs,FaceColors:Vie,FileLoader:li,FlatShading:hC,Float16BufferAttribute:ON,Float32Attribute:lse,Float32BufferAttribute:Qe,Float64Attribute:use,Float64BufferAttribute:NN,FloatType:bo,Fog:lm,FogExp2:am,Font:Ese,FontLoader:Ase,FramebufferTexture:eH,FrontSide:Ga,Frustum:sm,GLBufferAttribute:MH,GLSL1:LY,GLSL3:NA,GreaterDepth:KO,GreaterEqualDepth:$O,GreaterEqualStencilFunc:MY,GreaterStencilFunc:AY,GridHelper:PH,Group:zs,HalfFloatType:ru,HemisphereLight:WC,HemisphereLightHelper:Iie,HemisphereLightProbe:vH,IcosahedronBufferGeometry:Lf,IcosahedronGeometry:Lf,ImageBitmapLoader:QC,ImageLoader:vp,ImageUtils:il,ImmediateRenderObject:Mse,IncrementStencilOp:pY,IncrementWrapStencilOp:gY,InstancedBufferAttribute:xu,InstancedBufferGeometry:XC,InstancedInterleavedBuffer:EH,InstancedMesh:AC,Int16Attribute:ise,Int16BufferAttribute:FN,Int32Attribute:ose,Int32BufferAttribute:kN,Int8Attribute:tse,Int8BufferAttribute:BN,IntType:iN,InterleavedBuffer:al,InterleavedBufferAttribute:No,Interpolant:eo,InterpolateDiscrete:Ef,InterpolateLinear:_u,InterpolateSmooth:ly,InvertStencilOp:vY,JSONLoader:vse,KeepStencilOp:uy,KeyframeTrack:Es,LOD:YN,LatheBufferGeometry:wu,LatheGeometry:wu,Layers:au,LensFlare:xse,LessDepth:jO,LessEqualDepth:nv,LessEqualStencilFunc:SY,LessStencilFunc:xY,Light:ws,LightProbe:mm,Line:qs,Line3:bH,LineBasicMaterial:Qn,LineCurve:pm,LineCurve3:nH,LineDashedMaterial:HC,LineLoop:C_,LinePieces:Gie,LineSegments:Nr,LineStrip:Uie,LinearEncoding:xs,LinearFilter:_n,LinearInterpolant:UC,LinearMipMapLinearFilter:cY,LinearMipMapNearestFilter:uY,LinearMipmapLinearFilter:zo,LinearMipmapNearestFilter:g_,LinearSRGBColorSpace:wa,LinearToneMapping:YO,Loader:hr,LoaderUtils:vs,LoadingManager:zC,LoopOnce:yN,LoopPingPong:_N,LoopRepeat:vN,LuminanceAlphaFormat:cN,LuminanceFormat:uN,MOUSE:kl,Material:hn,MaterialLoader:mH,Math:UA,MathUtils:UA,Matrix3:Xn,Matrix4:Xe,MaxEquation:gA,Mesh:bn,MeshBasicMaterial:ti,MeshDepthMaterial:om,MeshDistanceMaterial:A_,MeshFaceMaterial:jie,MeshLambertMaterial:OC,MeshMatcapMaterial:NC,MeshNormalMaterial:kC,MeshPhongMaterial:DC,MeshPhysicalMaterial:jo,MeshStandardMaterial:Lu,MeshToonMaterial:FC,MinEquation:mA,MirroredRepeatWrapping:Sf,MixOperation:QO,MultiMaterial:Jie,MultiplyBlending:pA,MultiplyOperation:rm,NearestFilter:Dn,NearestMipMapLinearFilter:lY,NearestMipMapNearestFilter:aY,NearestMipmapLinearFilter:fp,NearestMipmapNearestFilter:cp,NeverDepth:VO,NeverStencilFunc:_Y,NoBlending:Io,NoColorSpace:fY,NoColors:zie,NoToneMapping:ys,NormalAnimationBlendMode:y_,NormalBlending:nu,NotEqualDepth:XO,NotEqualStencilFunc:EY,NumberKeyframeTrack:Hf,Object3D:_t,ObjectLoader:cie,ObjectSpaceNormalMap:EN,OctahedronBufferGeometry:Su,OctahedronGeometry:Su,OneFactor:FO,OneMinusDstAlphaFactor:HO,OneMinusDstColorFactor:GO,OneMinusSrcAlphaFactor:mC,OneMinusSrcColorFactor:OO,OrthographicCamera:Js,PCFShadowMap:fC,PCFSoftShadowMap:dC,PMREMGenerator:GA,ParametricGeometry:wse,Particle:Kie,ParticleBasicMaterial:qie,ParticleSystem:Xie,ParticleSystemMaterial:Yie,Path:Tf,PerspectiveCamera:Yt,Plane:Ns,PlaneBufferGeometry:$a,PlaneGeometry:$a,PlaneHelper:kie,PointCloud:$ie,PointCloudMaterial:Qie,PointLight:L_,PointLightHelper:Rie,Points:sd,PointsMaterial:ll,PolarGridHelper:Bie,PolyhedronBufferGeometry:Ys,PolyhedronGeometry:Ys,PositionalAudio:gie,PropertyBinding:Tt,PropertyMixer:wH,QuadraticBezierCurve:T_,QuadraticBezierCurve3:R_,Quaternion:Vn,QuaternionKeyframeTrack:Qa,QuaternionLinearInterpolant:uH,REVISION:p_,RGBADepthPacking:AN,RGBAFormat:_i,RGBAIntegerFormat:mN,RGBA_ASTC_10x10_Format:DA,RGBA_ASTC_10x5_Format:IA,RGBA_ASTC_10x6_Format:BA,RGBA_ASTC_10x8_Format:LA,RGBA_ASTC_12x10_Format:FA,RGBA_ASTC_12x12_Format:kA,RGBA_ASTC_4x4_Format:AA,RGBA_ASTC_5x4_Format:EA,RGBA_ASTC_5x5_Format:MA,RGBA_ASTC_6x5_Format:CA,RGBA_ASTC_6x6_Format:bA,RGBA_ASTC_8x5_Format:TA,RGBA_ASTC_8x6_Format:RA,RGBA_ASTC_8x8_Format:PA,RGBA_BPTC_Format:OA,RGBA_ETC2_EAC_Format:SA,RGBA_PVRTC_2BPPV1_Format:xA,RGBA_PVRTC_4BPPV1_Format:_A,RGBA_S3TC_DXT1_Format:sy,RGBA_S3TC_DXT3_Format:oy,RGBA_S3TC_DXT5_Format:ay,RGBFormat:lN,RGB_ETC1_Format:gN,RGB_ETC2_Format:wA,RGB_PVRTC_2BPPV1_Format:vA,RGB_PVRTC_4BPPV1_Format:yA,RGB_S3TC_DXT1_Format:iy,RGFormat:hN,RGIntegerFormat:pN,RawShaderMaterial:LC,Ray:sl,Raycaster:CH,RectAreaLight:$C,RedFormat:fN,RedIntegerFormat:dN,ReinhardToneMapping:ZO,RepeatWrapping:ja,ReplaceStencilOp:hY,ReverseSubtractEquation:LO,RingBufferGeometry:Df,RingGeometry:Df,SRGBColorSpace:Ds,Scene:um,SceneUtils:_se,ShaderChunk:yt,ShaderLib:fs,ShaderMaterial:ai,ShadowMaterial:BC,Shape:$s,ShapeBufferGeometry:Au,ShapeGeometry:Au,ShapePath:Nie,ShapeUtils:Ks,ShortType:rN,Skeleton:dm,SkeletonHelper:TH,SkinnedMesh:cm,SmoothShading:oY,Source:ql,Sphere:Wo,SphereBufferGeometry:Eu,SphereGeometry:Eu,Spherical:$A,SphericalHarmonics3:KC,SplineCurve:P_,SpotLight:B_,SpotLightHelper:Tie,Sprite:M_,SpriteMaterial:E_,SrcAlphaFactor:pC,SrcAlphaSaturateFactor:zO,SrcColorFactor:kO,StaticCopyUsage:PY,StaticDrawUsage:Mf,StaticReadUsage:bY,StereoCamera:die,StreamCopyUsage:BY,StreamDrawUsage:CY,StreamReadUsage:RY,StringKeyframeTrack:Fu,SubtractEquation:BO,SubtractiveBlending:hA,TOUCH:Ol,TangentSpaceNormalMap:rl,TetrahedronBufferGeometry:Ff,TetrahedronGeometry:Ff,TextGeometry:Sse,Texture:Sn,TextureLoader:VC,TorusBufferGeometry:kf,TorusGeometry:kf,TorusKnotBufferGeometry:Of,TorusKnotGeometry:Of,Triangle:kn,TriangleFanDrawMode:vC,TriangleStripDrawMode:wN,TrianglesDrawMode:xN,TubeBufferGeometry:Nf,TubeGeometry:Nf,UVMapping:m_,Uint16Attribute:sse,Uint16BufferAttribute:v_,Uint32Attribute:ase,Uint32BufferAttribute:__,Uint8Attribute:nse,Uint8BufferAttribute:LN,Uint8ClampedAttribute:rse,Uint8ClampedBufferAttribute:DN,Uniform:F_,UniformsLib:Ne,UniformsUtils:HN,UnsignedByteType:Ja,UnsignedInt248Type:iu,UnsignedIntType:Ch,UnsignedShort4444Type:sN,UnsignedShort5551Type:oN,UnsignedShortType:Af,VSMShadowMap:Vc,Vector2:ye,Vector3:F,Vector4:Gt,VectorKeyframeTrack:Uf,Vertex:Zie,VertexColors:Wie,VideoTexture:ZN,WebGL1Renderer:QN,WebGL3DRenderTarget:PN,WebGLArrayRenderTarget:RN,WebGLCubeRenderTarget:w_,WebGLMultipleRenderTargets:IN,WebGLMultisampleRenderTarget:Cse,WebGLRenderTarget:fr,WebGLRenderTargetCube:gse,WebGLRenderer:Wt,WebGLUtils:XN,WireframeGeometry:IC,WireframeHelper:hse,WrapAroundEnding:dp,XHRLoader:pse,ZeroCurvatureEnding:Xl,ZeroFactor:DO,ZeroSlopeEnding:Ql,ZeroStencilOp:dY,_SRGBAFormat:rv,sRGBEncoding:Ut},Symbol.toStringTag,{value:"Module"})),sf={exports:{}},ku={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ku.ConcurrentRoot=1;ku.ContinuousEventPriority=4;ku.DefaultEventPriority=16;ku.DiscreteEventPriority=1;ku.IdleEventPriority=536870912;ku.LegacyRoot=0;sf.exports=ku;function Rse(n){let e;const t=new Set,r=(u,d)=>{const h=typeof u=="function"?u(e):u;if(h!==e){const p=e;e=d?h:Object.assign({},e,h),t.forEach(m=>m(e,p))}},i=()=>e,s=(u,d=i,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=d(e);function m(){const y=d(e);if(!h(p,y)){const g=p;u(p=y,g)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(u,d,h)=>d||h?s(u,d,h):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(r,i,l),l}const Pse=typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),QB=Pse?V.exports.useEffect:V.exports.useLayoutEffect;function kH(n){const e=typeof n=="function"?Rse(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=V.exports.useReducer(_=>_+1,0),o=e.getState(),a=V.exports.useRef(o),l=V.exports.useRef(r),u=V.exports.useRef(i),d=V.exports.useRef(!1),h=V.exports.useRef();h.current===void 0&&(h.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||u.current!==i||d.current)&&(p=r(o),m=!i(h.current,p)),QB(()=>{m&&(h.current=p),a.current=o,l.current=r,u.current=i,d.current=!1});const y=V.exports.useRef(o);QB(()=>{const _=()=>{try{const x=e.getState(),A=l.current(x);u.current(h.current,A)||(a.current=x,h.current=A,s())}catch{d.current=!0,s()}},w=e.subscribe(_);return e.getState()!==y.current&&_(),w},[]);const g=m?p:h.current;return V.exports.useDebugValue(g),g};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var OH={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ise=function(e){var t={},r=V.exports,i=Ih.exports,s=Object.assign;function o(c){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+c,v=1;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),C=Symbol.iterator;function T(c){return c===null||typeof c!="object"?null:(c=C&&c[C]||c["@@iterator"],typeof c=="function"?c:null)}function R(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case d:return"Fragment";case u:return"Portal";case p:return"Profiler";case h:return"StrictMode";case _:return"Suspense";case w:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case y:return(c.displayName||"Context")+".Consumer";case m:return(c._context.displayName||"Context")+".Provider";case g:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case x:return f=c.displayName||null,f!==null?f:R(c.type)||"Memo";case A:f=c._payload,c=c._init;try{return R(c(f))}catch{}}return null}function I(c){var f=c.type;switch(c.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=f.render,c=c.displayName||c.name||"",f.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(f);case 8:return f===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function O(c){var f=c,v=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(v=f.return),c=f.return;while(c)}return f.tag===3?v:null}function L(c){if(O(c)!==c)throw Error(o(188))}function P(c){var f=c.alternate;if(!f){if(f=O(c),f===null)throw Error(o(188));return f!==c?null:c}for(var v=c,S=f;;){var M=v.return;if(M===null)break;var b=M.alternate;if(b===null){if(S=M.return,S!==null){v=S;continue}break}if(M.child===b.child){for(b=M.child;b;){if(b===v)return L(M),c;if(b===S)return L(M),f;b=b.sibling}throw Error(o(188))}if(v.return!==S.return)v=M,S=b;else{for(var G=!1,Y=M.child;Y;){if(Y===v){G=!0,v=M,S=b;break}if(Y===S){G=!0,S=M,v=b;break}Y=Y.sibling}if(!G){for(Y=b.child;Y;){if(Y===v){G=!0,v=b,S=M;break}if(Y===S){G=!0,S=b,v=M;break}Y=Y.sibling}if(!G)throw Error(o(189))}}if(v.alternate!==S)throw Error(o(190))}if(v.tag!==3)throw Error(o(188));return v.stateNode.current===v?c:f}function B(c){return c=P(c),c!==null?q(c):null}function q(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var f=q(c);if(f!==null)return f;c=c.sibling}return null}function W(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){if(c.tag!==4){var f=W(c);if(f!==null)return f}c=c.sibling}return null}var $=Array.isArray,J=e.getPublicInstance,K=e.getRootHostContext,k=e.getChildHostContext,X=e.prepareForCommit,Z=e.resetAfterCommit,ae=e.createInstance,Q=e.appendInitialChild,se=e.finalizeInitialChildren,pe=e.prepareUpdate,_e=e.shouldSetTextContent,H=e.createTextInstance,Be=e.scheduleTimeout,ue=e.cancelTimeout,Le=e.noTimeout,ve=e.isPrimaryRenderer,Pe=e.supportsMutation,ne=e.supportsPersistence,oe=e.supportsHydration,xe=e.getInstanceFromNode,Ae=e.preparePortalMount,Ee=e.getCurrentEventPriority,Me=e.detachDeletedInstance,ze=e.supportsMicrotasks,$e=e.scheduleMicrotask,Ze=e.supportsTestSelectors,dt=e.findFiberRoot,z=e.getBoundingRect,D=e.getTextContent,ee=e.isHiddenSubtree,me=e.matchAccessibilityRole,Fe=e.setFocusIfFocusable,ke=e.setupIntersectionObserver,Ke=e.appendChild,he=e.appendChildToContainer,Te=e.commitTextUpdate,it=e.commitMount,j=e.commitUpdate,N=e.insertBefore,ge=e.insertInContainerBefore,we=e.removeChild,We=e.removeChildFromContainer,Oe=e.resetTextContent,tt=e.hideInstance,De=e.hideTextInstance,et=e.unhideInstance,xt=e.unhideTextInstance,wt=e.clearContainer,Pi=e.cloneInstance,ci=e.createContainerChildSet,wm=e.appendChildToContainerChildSet,Ou=e.finalizeContainerChildren,Sm=e.replaceContainerChildren,Nu=e.cloneHiddenInstance,ld=e.cloneHiddenTextInstance,U_=e.canHydrateInstance,G_=e.canHydrateTextInstance,z_=e.canHydrateSuspenseInstance,U=e.isSuspenseInstancePending,re=e.isSuspenseInstanceFallback,fe=e.registerSuspenseInstanceRetry,le=e.getNextHydratableSibling,Se=e.getFirstHydratableChild,st=e.getFirstHydratableChildWithinContainer,at=e.getFirstHydratableChildWithinSuspenseInstance,ht=e.hydrateInstance,ft=e.hydrateTextInstance,Ot=e.hydrateSuspenseInstance,Et=e.getNextHydratableInstanceAfterSuspenseInstance,Mt=e.commitHydratedContainer,ln=e.commitHydratedSuspenseInstance,ro=e.clearSuspenseBoundary,Jo=e.clearSuspenseBoundaryFromContainer,$o=e.shouldDeleteUnhydratedTailInstances,Ii=e.didNotMatchHydratedContainerTextInstance,Lt=e.didNotMatchHydratedTextInstance,Ms;function Qt(c){if(Ms===void 0)try{throw Error()}catch(v){var f=v.stack.trim().match(/\n( *(at )?)/);Ms=f&&f[1]||""}return`
`+Ms+c}var zr=!1;function Bi(c,f){if(!c||zr)return"";zr=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(be){var S=be}Reflect.construct(c,[],f)}else{try{f.call()}catch(be){S=be}c.call(f.prototype)}else{try{throw Error()}catch(be){S=be}c()}}catch(be){if(be&&S&&typeof be.stack=="string"){for(var M=be.stack.split(`
`),b=S.stack.split(`
`),G=M.length-1,Y=b.length-1;1<=G&&0<=Y&&M[G]!==b[Y];)Y--;for(;1<=G&&0<=Y;G--,Y--)if(M[G]!==b[Y]){if(G!==1||Y!==1)do if(G--,Y--,0>Y||M[G]!==b[Y]){var de=`
`+M[G].replace(" at new "," at ");return c.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",c.displayName)),de}while(1<=G&&0<=Y);break}}}finally{zr=!1,Error.prepareStackTrace=v}return(c=c?c.displayName||c.name:"")?Qt(c):""}var ul=Object.prototype.hasOwnProperty,cl=[],pn=-1;function Vr(c){return{current:c}}function jt(c){0>pn||(c.current=cl[pn],cl[pn]=null,pn--)}function gt(c,f){pn++,cl[pn]=c.current,c.current=f}var Ko={},pr=Vr(Ko),Wr=Vr(!1),fl=Ko;function Hu(c,f){var v=c.type.contextTypes;if(!v)return Ko;var S=c.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===f)return S.__reactInternalMemoizedMaskedChildContext;var M={},b;for(b in v)M[b]=f[b];return S&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=f,c.__reactInternalMemoizedMaskedChildContext=M),M}function jr(c){return c=c.childContextTypes,c!=null}function Am(){jt(Wr),jt(pr)}function yb(c,f,v){if(pr.current!==Ko)throw Error(o(168));gt(pr,f),gt(Wr,v)}function vb(c,f,v){var S=c.stateNode;if(f=f.childContextTypes,typeof S.getChildContext!="function")return v;S=S.getChildContext();for(var M in S)if(!(M in f))throw Error(o(108,I(c)||"Unknown",M));return s({},v,S)}function Em(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Ko,fl=pr.current,gt(pr,c),gt(Wr,Wr.current),!0}function _b(c,f,v){var S=c.stateNode;if(!S)throw Error(o(169));v?(c=vb(c,f,fl),S.__reactInternalMemoizedMergedChildContext=c,jt(Wr),jt(pr),gt(pr,c)):jt(Wr),gt(Wr,v)}var ts=Math.clz32?Math.clz32:bU,MU=Math.log,CU=Math.LN2;function bU(c){return c>>>=0,c===0?32:31-(MU(c)/CU|0)|0}var Mm=64,Cm=4194304;function ud(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function bm(c,f){var v=c.pendingLanes;if(v===0)return 0;var S=0,M=c.suspendedLanes,b=c.pingedLanes,G=v&268435455;if(G!==0){var Y=G&~M;Y!==0?S=ud(Y):(b&=G,b!==0&&(S=ud(b)))}else G=v&~M,G!==0?S=ud(G):b!==0&&(S=ud(b));if(S===0)return 0;if(f!==0&&f!==S&&(f&M)===0&&(M=S&-S,b=f&-f,M>=b||M===16&&(b&4194240)!==0))return f;if((S&4)!==0&&(S|=v&16),f=c.entangledLanes,f!==0)for(c=c.entanglements,f&=S;0<f;)v=31-ts(f),M=1<<v,S|=c[v],f&=~M;return S}function TU(c,f){switch(c){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RU(c,f){for(var v=c.suspendedLanes,S=c.pingedLanes,M=c.expirationTimes,b=c.pendingLanes;0<b;){var G=31-ts(b),Y=1<<G,de=M[G];de===-1?((Y&v)===0||(Y&S)!==0)&&(M[G]=TU(Y,f)):de<=f&&(c.expiredLanes|=Y),b&=~Y}}function V_(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function W_(c){for(var f=[],v=0;31>v;v++)f.push(c);return f}function cd(c,f,v){c.pendingLanes|=f,f!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,f=31-ts(f),c[f]=v}function PU(c,f){var v=c.pendingLanes&~f;c.pendingLanes=f,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=f,c.mutableReadLanes&=f,c.entangledLanes&=f,f=c.entanglements;var S=c.eventTimes;for(c=c.expirationTimes;0<v;){var M=31-ts(v),b=1<<M;f[M]=0,S[M]=-1,c[M]=-1,v&=~b}}function j_(c,f){var v=c.entangledLanes|=f;for(c=c.entanglements;v;){var S=31-ts(v),M=1<<S;M&f|c[S]&f&&(c[S]|=f),v&=~M}}var Dt=0;function xb(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var J_=i.unstable_scheduleCallback,wb=i.unstable_cancelCallback,IU=i.unstable_shouldYield,BU=i.unstable_requestPaint,qn=i.unstable_now,$_=i.unstable_ImmediatePriority,LU=i.unstable_UserBlockingPriority,K_=i.unstable_NormalPriority,DU=i.unstable_IdlePriority,Tm=null,Cs=null;function FU(c){if(Cs&&typeof Cs.onCommitFiberRoot=="function")try{Cs.onCommitFiberRoot(Tm,c,void 0,(c.current.flags&128)===128)}catch{}}function kU(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var bs=typeof Object.is=="function"?Object.is:kU,io=null,Rm=!1,X_=!1;function Sb(c){io===null?io=[c]:io.push(c)}function OU(c){Rm=!0,Sb(c)}function Ts(){if(!X_&&io!==null){X_=!0;var c=0,f=Dt;try{var v=io;for(Dt=1;c<v.length;c++){var S=v[c];do S=S(!0);while(S!==null)}io=null,Rm=!1}catch(M){throw io!==null&&(io=io.slice(c+1)),J_($_,Ts),M}finally{Dt=f,X_=!1}}return null}var NU=a.ReactCurrentBatchConfig;function Pm(c,f){if(bs(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var v=Object.keys(c),S=Object.keys(f);if(v.length!==S.length)return!1;for(S=0;S<v.length;S++){var M=v[S];if(!ul.call(f,M)||!bs(c[M],f[M]))return!1}return!0}function HU(c){switch(c.tag){case 5:return Qt(c.type);case 16:return Qt("Lazy");case 13:return Qt("Suspense");case 19:return Qt("SuspenseList");case 0:case 2:case 15:return c=Bi(c.type,!1),c;case 11:return c=Bi(c.type.render,!1),c;case 1:return c=Bi(c.type,!0),c;default:return""}}function ns(c,f){if(c&&c.defaultProps){f=s({},f),c=c.defaultProps;for(var v in c)f[v]===void 0&&(f[v]=c[v]);return f}return f}var Im=Vr(null),Bm=null,Uu=null,Q_=null;function q_(){Q_=Uu=Bm=null}function Ab(c,f,v){ve?(gt(Im,f._currentValue),f._currentValue=v):(gt(Im,f._currentValue2),f._currentValue2=v)}function Y_(c){var f=Im.current;jt(Im),ve?c._currentValue=f:c._currentValue2=f}function Z_(c,f,v){for(;c!==null;){var S=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,S!==null&&(S.childLanes|=f)):S!==null&&(S.childLanes&f)!==f&&(S.childLanes|=f),c===v)break;c=c.return}}function Gu(c,f){Bm=c,Q_=Uu=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&f)!==0&&(hi=!0),c.firstContext=null)}function Li(c){var f=ve?c._currentValue:c._currentValue2;if(Q_!==c)if(c={context:c,memoizedValue:f,next:null},Uu===null){if(Bm===null)throw Error(o(308));Uu=c,Bm.dependencies={lanes:0,firstContext:c}}else Uu=Uu.next=c;return f}var Rs=null,Xo=!1;function ex(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Eb(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function so(c,f){return{eventTime:c,lane:f,tag:0,payload:null,callback:null,next:null}}function Qo(c,f){var v=c.updateQueue;v!==null&&(v=v.shared,On!==null&&(c.mode&1)!==0&&(mt&2)===0?(c=v.interleaved,c===null?(f.next=f,Rs===null?Rs=[v]:Rs.push(v)):(f.next=c.next,c.next=f),v.interleaved=f):(c=v.pending,c===null?f.next=f:(f.next=c.next,c.next=f),v.pending=f))}function Lm(c,f,v){if(f=f.updateQueue,f!==null&&(f=f.shared,(v&4194240)!==0)){var S=f.lanes;S&=c.pendingLanes,v|=S,f.lanes=v,j_(c,v)}}function Mb(c,f){var v=c.updateQueue,S=c.alternate;if(S!==null&&(S=S.updateQueue,v===S)){var M=null,b=null;if(v=v.firstBaseUpdate,v!==null){do{var G={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};b===null?M=b=G:b=b.next=G,v=v.next}while(v!==null);b===null?M=b=f:b=b.next=f}else M=b=f;v={baseState:S.baseState,firstBaseUpdate:M,lastBaseUpdate:b,shared:S.shared,effects:S.effects},c.updateQueue=v;return}c=v.lastBaseUpdate,c===null?v.firstBaseUpdate=f:c.next=f,v.lastBaseUpdate=f}function Dm(c,f,v,S){var M=c.updateQueue;Xo=!1;var b=M.firstBaseUpdate,G=M.lastBaseUpdate,Y=M.shared.pending;if(Y!==null){M.shared.pending=null;var de=Y,be=de.next;de.next=null,G===null?b=be:G.next=be,G=de;var je=c.alternate;je!==null&&(je=je.updateQueue,Y=je.lastBaseUpdate,Y!==G&&(Y===null?je.firstBaseUpdate=be:Y.next=be,je.lastBaseUpdate=de))}if(b!==null){var lt=M.baseState;G=0,je=be=de=null,Y=b;do{var nt=Y.lane,Xt=Y.eventTime;if((S&nt)===nt){je!==null&&(je=je.next={eventTime:Xt,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var Ye=c,vr=Y;switch(nt=f,Xt=v,vr.tag){case 1:if(Ye=vr.payload,typeof Ye=="function"){lt=Ye.call(Xt,lt,nt);break e}lt=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=vr.payload,nt=typeof Ye=="function"?Ye.call(Xt,lt,nt):Ye,nt==null)break e;lt=s({},lt,nt);break e;case 2:Xo=!0}}Y.callback!==null&&Y.lane!==0&&(c.flags|=64,nt=M.effects,nt===null?M.effects=[Y]:nt.push(Y))}else Xt={eventTime:Xt,lane:nt,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},je===null?(be=je=Xt,de=lt):je=je.next=Xt,G|=nt;if(Y=Y.next,Y===null){if(Y=M.shared.pending,Y===null)break;nt=Y,Y=nt.next,nt.next=null,M.lastBaseUpdate=nt,M.shared.pending=null}}while(1);if(je===null&&(de=lt),M.baseState=de,M.firstBaseUpdate=be,M.lastBaseUpdate=je,f=M.shared.interleaved,f!==null){M=f;do G|=M.lane,M=M.next;while(M!==f)}else b===null&&(M.shared.lanes=0);Qu|=G,c.lanes=G,c.memoizedState=lt}}function Cb(c,f,v){if(c=f.effects,f.effects=null,c!==null)for(f=0;f<c.length;f++){var S=c[f],M=S.callback;if(M!==null){if(S.callback=null,S=v,typeof M!="function")throw Error(o(191,M));M.call(S)}}}var bb=new r.Component().refs;function tx(c,f,v,S){f=c.memoizedState,v=v(S,f),v=v==null?f:s({},f,v),c.memoizedState=v,c.lanes===0&&(c.updateQueue.baseState=v)}var Fm={isMounted:function(c){return(c=c._reactInternals)?O(c)===c:!1},enqueueSetState:function(c,f,v){c=c._reactInternals;var S=Ir(),M=Zo(c),b=so(S,M);b.payload=f,v!=null&&(b.callback=v),Qo(c,b),f=Ni(c,M,S),f!==null&&Lm(f,c,M)},enqueueReplaceState:function(c,f,v){c=c._reactInternals;var S=Ir(),M=Zo(c),b=so(S,M);b.tag=1,b.payload=f,v!=null&&(b.callback=v),Qo(c,b),f=Ni(c,M,S),f!==null&&Lm(f,c,M)},enqueueForceUpdate:function(c,f){c=c._reactInternals;var v=Ir(),S=Zo(c),M=so(v,S);M.tag=2,f!=null&&(M.callback=f),Qo(c,M),f=Ni(c,S,v),f!==null&&Lm(f,c,S)}};function Tb(c,f,v,S,M,b,G){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(S,b,G):f.prototype&&f.prototype.isPureReactComponent?!Pm(v,S)||!Pm(M,b):!0}function Rb(c,f,v){var S=!1,M=Ko,b=f.contextType;return typeof b=="object"&&b!==null?b=Li(b):(M=jr(f)?fl:pr.current,S=f.contextTypes,b=(S=S!=null)?Hu(c,M):Ko),f=new f(v,b),c.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Fm,c.stateNode=f,f._reactInternals=c,S&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=M,c.__reactInternalMemoizedMaskedChildContext=b),f}function Pb(c,f,v,S){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(v,S),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(v,S),f.state!==c&&Fm.enqueueReplaceState(f,f.state,null)}function nx(c,f,v,S){var M=c.stateNode;M.props=v,M.state=c.memoizedState,M.refs=bb,ex(c);var b=f.contextType;typeof b=="object"&&b!==null?M.context=Li(b):(b=jr(f)?fl:pr.current,M.context=Hu(c,b)),M.state=c.memoizedState,b=f.getDerivedStateFromProps,typeof b=="function"&&(tx(c,f,b,v),M.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(f=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),f!==M.state&&Fm.enqueueReplaceState(M,M.state,null),Dm(c,v,M,S),M.state=c.memoizedState),typeof M.componentDidMount=="function"&&(c.flags|=4194308)}var zu=[],Vu=0,km=null,Om=0,Di=[],Fi=0,dl=null,oo=1,ao="";function hl(c,f){zu[Vu++]=Om,zu[Vu++]=km,km=c,Om=f}function Ib(c,f,v){Di[Fi++]=oo,Di[Fi++]=ao,Di[Fi++]=dl,dl=c;var S=oo;c=ao;var M=32-ts(S)-1;S&=~(1<<M),v+=1;var b=32-ts(f)+M;if(30<b){var G=M-M%5;b=(S&(1<<G)-1).toString(32),S>>=G,M-=G,oo=1<<32-ts(f)+M|v<<M|S,ao=b+c}else oo=1<<b|v<<M|S,ao=c}function rx(c){c.return!==null&&(hl(c,1),Ib(c,1,0))}function ix(c){for(;c===km;)km=zu[--Vu],zu[Vu]=null,Om=zu[--Vu],zu[Vu]=null;for(;c===dl;)dl=Di[--Fi],Di[Fi]=null,ao=Di[--Fi],Di[Fi]=null,oo=Di[--Fi],Di[Fi]=null}var fi=null,di=null,un=!1,fd=!1,rs=null;function Bb(c,f){var v=Hi(5,null,null,0);v.elementType="DELETED",v.stateNode=f,v.return=c,f=c.deletions,f===null?(c.deletions=[v],c.flags|=16):f.push(v)}function Lb(c,f){switch(c.tag){case 5:return f=U_(f,c.type,c.pendingProps),f!==null?(c.stateNode=f,fi=c,di=Se(f),!0):!1;case 6:return f=G_(f,c.pendingProps),f!==null?(c.stateNode=f,fi=c,di=null,!0):!1;case 13:if(f=z_(f),f!==null){var v=dl!==null?{id:oo,overflow:ao}:null;return c.memoizedState={dehydrated:f,treeContext:v,retryLane:1073741824},v=Hi(18,null,null,0),v.stateNode=f,v.return=c,c.child=v,fi=c,di=null,!0}return!1;default:return!1}}function sx(c){return(c.mode&1)!==0&&(c.flags&128)===0}function ox(c){if(un){var f=di;if(f){var v=f;if(!Lb(c,f)){if(sx(c))throw Error(o(418));f=le(v);var S=fi;f&&Lb(c,f)?Bb(S,v):(c.flags=c.flags&-4097|2,un=!1,fi=c)}}else{if(sx(c))throw Error(o(418));c.flags=c.flags&-4097|2,un=!1,fi=c}}}function Db(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;fi=c}function dd(c){if(!oe||c!==fi)return!1;if(!un)return Db(c),un=!0,!1;if(c.tag!==3&&(c.tag!==5||$o(c.type)&&!_e(c.type,c.memoizedProps))){var f=di;if(f){if(sx(c)){for(c=di;c;)c=le(c);throw Error(o(418))}for(;f;)Bb(c,f),f=le(f)}}if(Db(c),c.tag===13){if(!oe)throw Error(o(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));di=Et(c)}else di=fi?le(c.stateNode):null;return!0}function Wu(){oe&&(di=fi=null,fd=un=!1)}function ax(c){rs===null?rs=[c]:rs.push(c)}function hd(c,f,v){if(c=v.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(o(309));var S=v.stateNode}if(!S)throw Error(o(147,c));var M=S,b=""+c;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===b?f.ref:(f=function(G){var Y=M.refs;Y===bb&&(Y=M.refs={}),G===null?delete Y[b]:Y[b]=G},f._stringRef=b,f)}if(typeof c!="string")throw Error(o(284));if(!v._owner)throw Error(o(290,c))}return c}function Nm(c,f){throw c=Object.prototype.toString.call(f),Error(o(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c))}function Fb(c){var f=c._init;return f(c._payload)}function kb(c){function f(ie,te){if(c){var ce=ie.deletions;ce===null?(ie.deletions=[te],ie.flags|=16):ce.push(te)}}function v(ie,te){if(!c)return null;for(;te!==null;)f(ie,te),te=te.sibling;return null}function S(ie,te){for(ie=new Map;te!==null;)te.key!==null?ie.set(te.key,te):ie.set(te.index,te),te=te.sibling;return ie}function M(ie,te){return ie=ta(ie,te),ie.index=0,ie.sibling=null,ie}function b(ie,te,ce){return ie.index=ce,c?(ce=ie.alternate,ce!==null?(ce=ce.index,ce<te?(ie.flags|=2,te):ce):(ie.flags|=2,te)):(ie.flags|=1048576,te)}function G(ie){return c&&ie.alternate===null&&(ie.flags|=2),ie}function Y(ie,te,ce,Ve){return te===null||te.tag!==6?(te=Wx(ce,ie.mode,Ve),te.return=ie,te):(te=M(te,ce),te.return=ie,te)}function de(ie,te,ce,Ve){var qe=ce.type;return qe===d?je(ie,te,ce.props.children,Ve,ce.key):te!==null&&(te.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===A&&Fb(qe)===te.type)?(Ve=M(te,ce.props),Ve.ref=hd(ie,te,ce),Ve.return=ie,Ve):(Ve=mg(ce.type,ce.key,ce.props,null,ie.mode,Ve),Ve.ref=hd(ie,te,ce),Ve.return=ie,Ve)}function be(ie,te,ce,Ve){return te===null||te.tag!==4||te.stateNode.containerInfo!==ce.containerInfo||te.stateNode.implementation!==ce.implementation?(te=jx(ce,ie.mode,Ve),te.return=ie,te):(te=M(te,ce.children||[]),te.return=ie,te)}function je(ie,te,ce,Ve,qe){return te===null||te.tag!==7?(te=xl(ce,ie.mode,Ve,qe),te.return=ie,te):(te=M(te,ce),te.return=ie,te)}function lt(ie,te,ce){if(typeof te=="string"&&te!==""||typeof te=="number")return te=Wx(""+te,ie.mode,ce),te.return=ie,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case l:return ce=mg(te.type,te.key,te.props,null,ie.mode,ce),ce.ref=hd(ie,null,te),ce.return=ie,ce;case u:return te=jx(te,ie.mode,ce),te.return=ie,te;case A:var Ve=te._init;return lt(ie,Ve(te._payload),ce)}if($(te)||T(te))return te=xl(te,ie.mode,ce,null),te.return=ie,te;Nm(ie,te)}return null}function nt(ie,te,ce,Ve){var qe=te!==null?te.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return qe!==null?null:Y(ie,te,""+ce,Ve);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:return ce.key===qe?de(ie,te,ce,Ve):null;case u:return ce.key===qe?be(ie,te,ce,Ve):null;case A:return qe=ce._init,nt(ie,te,qe(ce._payload),Ve)}if($(ce)||T(ce))return qe!==null?null:je(ie,te,ce,Ve,null);Nm(ie,ce)}return null}function Xt(ie,te,ce,Ve,qe){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number")return ie=ie.get(ce)||null,Y(te,ie,""+Ve,qe);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case l:return ie=ie.get(Ve.key===null?ce:Ve.key)||null,de(te,ie,Ve,qe);case u:return ie=ie.get(Ve.key===null?ce:Ve.key)||null,be(te,ie,Ve,qe);case A:var pt=Ve._init;return Xt(ie,te,ce,pt(Ve._payload),qe)}if($(Ve)||T(Ve))return ie=ie.get(ce)||null,je(te,ie,Ve,qe,null);Nm(te,Ve)}return null}function Ye(ie,te,ce,Ve){for(var qe=null,pt=null,ut=te,Ft=te=0,Zn=null;ut!==null&&Ft<ce.length;Ft++){ut.index>Ft?(Zn=ut,ut=null):Zn=ut.sibling;var kt=nt(ie,ut,ce[Ft],Ve);if(kt===null){ut===null&&(ut=Zn);break}c&&ut&&kt.alternate===null&&f(ie,ut),te=b(kt,te,Ft),pt===null?qe=kt:pt.sibling=kt,pt=kt,ut=Zn}if(Ft===ce.length)return v(ie,ut),un&&hl(ie,Ft),qe;if(ut===null){for(;Ft<ce.length;Ft++)ut=lt(ie,ce[Ft],Ve),ut!==null&&(te=b(ut,te,Ft),pt===null?qe=ut:pt.sibling=ut,pt=ut);return un&&hl(ie,Ft),qe}for(ut=S(ie,ut);Ft<ce.length;Ft++)Zn=Xt(ut,ie,Ft,ce[Ft],Ve),Zn!==null&&(c&&Zn.alternate!==null&&ut.delete(Zn.key===null?Ft:Zn.key),te=b(Zn,te,Ft),pt===null?qe=Zn:pt.sibling=Zn,pt=Zn);return c&&ut.forEach(function(na){return f(ie,na)}),un&&hl(ie,Ft),qe}function vr(ie,te,ce,Ve){var qe=T(ce);if(typeof qe!="function")throw Error(o(150));if(ce=qe.call(ce),ce==null)throw Error(o(151));for(var pt=qe=null,ut=te,Ft=te=0,Zn=null,kt=ce.next();ut!==null&&!kt.done;Ft++,kt=ce.next()){ut.index>Ft?(Zn=ut,ut=null):Zn=ut.sibling;var na=nt(ie,ut,kt.value,Ve);if(na===null){ut===null&&(ut=Zn);break}c&&ut&&na.alternate===null&&f(ie,ut),te=b(na,te,Ft),pt===null?qe=na:pt.sibling=na,pt=na,ut=Zn}if(kt.done)return v(ie,ut),un&&hl(ie,Ft),qe;if(ut===null){for(;!kt.done;Ft++,kt=ce.next())kt=lt(ie,kt.value,Ve),kt!==null&&(te=b(kt,te,Ft),pt===null?qe=kt:pt.sibling=kt,pt=kt);return un&&hl(ie,Ft),qe}for(ut=S(ie,ut);!kt.done;Ft++,kt=ce.next())kt=Xt(ut,ie,Ft,kt.value,Ve),kt!==null&&(c&&kt.alternate!==null&&ut.delete(kt.key===null?Ft:kt.key),te=b(kt,te,Ft),pt===null?qe=kt:pt.sibling=kt,pt=kt);return c&&ut.forEach(function(m4){return f(ie,m4)}),un&&hl(ie,Ft),qe}function Ui(ie,te,ce,Ve){if(typeof ce=="object"&&ce!==null&&ce.type===d&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:e:{for(var qe=ce.key,pt=te;pt!==null;){if(pt.key===qe){if(qe=ce.type,qe===d){if(pt.tag===7){v(ie,pt.sibling),te=M(pt,ce.props.children),te.return=ie,ie=te;break e}}else if(pt.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===A&&Fb(qe)===pt.type){v(ie,pt.sibling),te=M(pt,ce.props),te.ref=hd(ie,pt,ce),te.return=ie,ie=te;break e}v(ie,pt);break}else f(ie,pt);pt=pt.sibling}ce.type===d?(te=xl(ce.props.children,ie.mode,Ve,ce.key),te.return=ie,ie=te):(Ve=mg(ce.type,ce.key,ce.props,null,ie.mode,Ve),Ve.ref=hd(ie,te,ce),Ve.return=ie,ie=Ve)}return G(ie);case u:e:{for(pt=ce.key;te!==null;){if(te.key===pt)if(te.tag===4&&te.stateNode.containerInfo===ce.containerInfo&&te.stateNode.implementation===ce.implementation){v(ie,te.sibling),te=M(te,ce.children||[]),te.return=ie,ie=te;break e}else{v(ie,te);break}else f(ie,te);te=te.sibling}te=jx(ce,ie.mode,Ve),te.return=ie,ie=te}return G(ie);case A:return pt=ce._init,Ui(ie,te,pt(ce._payload),Ve)}if($(ce))return Ye(ie,te,ce,Ve);if(T(ce))return vr(ie,te,ce,Ve);Nm(ie,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,te!==null&&te.tag===6?(v(ie,te.sibling),te=M(te,ce),te.return=ie,ie=te):(v(ie,te),te=Wx(ce,ie.mode,Ve),te.return=ie,ie=te),G(ie)):v(ie,te)}return Ui}var ju=kb(!0),Ob=kb(!1),pd={},ki=Vr(pd),md=Vr(pd),Ju=Vr(pd);function Ps(c){if(c===pd)throw Error(o(174));return c}function lx(c,f){gt(Ju,f),gt(md,c),gt(ki,pd),c=K(f),jt(ki),gt(ki,c)}function $u(){jt(ki),jt(md),jt(Ju)}function Nb(c){var f=Ps(Ju.current),v=Ps(ki.current);f=k(v,c.type,f),v!==f&&(gt(md,c),gt(ki,f))}function ux(c){md.current===c&&(jt(ki),jt(md))}var mn=Vr(0);function Hm(c){for(var f=c;f!==null;){if(f.tag===13){var v=f.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||U(v)||re(v)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var cx=[];function fx(){for(var c=0;c<cx.length;c++){var f=cx[c];ve?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}cx.length=0}var Um=a.ReactCurrentDispatcher,Oi=a.ReactCurrentBatchConfig,Ku=0,An=null,mr=null,Yn=null,Gm=!1,gd=!1,yd=0,UU=0;function gr(){throw Error(o(321))}function dx(c,f){if(f===null)return!1;for(var v=0;v<f.length&&v<c.length;v++)if(!bs(c[v],f[v]))return!1;return!0}function hx(c,f,v,S,M,b){if(Ku=b,An=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Um.current=c===null||c.memoizedState===null?WU:jU,c=v(S,M),gd){b=0;do{if(gd=!1,yd=0,25<=b)throw Error(o(301));b+=1,Yn=mr=null,f.updateQueue=null,Um.current=JU,c=v(S,M)}while(gd)}if(Um.current=Jm,f=mr!==null&&mr.next!==null,Ku=0,Yn=mr=An=null,Gm=!1,f)throw Error(o(300));return c}function px(){var c=yd!==0;return yd=0,c}function lo(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yn===null?An.memoizedState=Yn=c:Yn=Yn.next=c,Yn}function Is(){if(mr===null){var c=An.alternate;c=c!==null?c.memoizedState:null}else c=mr.next;var f=Yn===null?An.memoizedState:Yn.next;if(f!==null)Yn=f,mr=c;else{if(c===null)throw Error(o(310));mr=c,c={memoizedState:mr.memoizedState,baseState:mr.baseState,baseQueue:mr.baseQueue,queue:mr.queue,next:null},Yn===null?An.memoizedState=Yn=c:Yn=Yn.next=c}return Yn}function pl(c,f){return typeof f=="function"?f(c):f}function zm(c){var f=Is(),v=f.queue;if(v===null)throw Error(o(311));v.lastRenderedReducer=c;var S=mr,M=S.baseQueue,b=v.pending;if(b!==null){if(M!==null){var G=M.next;M.next=b.next,b.next=G}S.baseQueue=M=b,v.pending=null}if(M!==null){b=M.next,S=S.baseState;var Y=G=null,de=null,be=b;do{var je=be.lane;if((Ku&je)===je)de!==null&&(de=de.next={lane:0,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),S=be.hasEagerState?be.eagerState:c(S,be.action);else{var lt={lane:je,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null};de===null?(Y=de=lt,G=S):de=de.next=lt,An.lanes|=je,Qu|=je}be=be.next}while(be!==null&&be!==b);de===null?G=S:de.next=Y,bs(S,f.memoizedState)||(hi=!0),f.memoizedState=S,f.baseState=G,f.baseQueue=de,v.lastRenderedState=S}if(c=v.interleaved,c!==null){M=c;do b=M.lane,An.lanes|=b,Qu|=b,M=M.next;while(M!==c)}else M===null&&(v.lanes=0);return[f.memoizedState,v.dispatch]}function Vm(c){var f=Is(),v=f.queue;if(v===null)throw Error(o(311));v.lastRenderedReducer=c;var S=v.dispatch,M=v.pending,b=f.memoizedState;if(M!==null){v.pending=null;var G=M=M.next;do b=c(b,G.action),G=G.next;while(G!==M);bs(b,f.memoizedState)||(hi=!0),f.memoizedState=b,f.baseQueue===null&&(f.baseState=b),v.lastRenderedState=b}return[b,S]}function Hb(){}function Ub(c,f){var v=An,S=Is(),M=f(),b=!bs(S.memoizedState,M);if(b&&(S.memoizedState=M,hi=!0),S=S.queue,_d(Vb.bind(null,v,S,c),[c]),S.getSnapshot!==f||b||Yn!==null&&Yn.memoizedState.tag&1){if(v.flags|=2048,vd(9,zb.bind(null,v,S,M,f),void 0,null),On===null)throw Error(o(349));(Ku&30)!==0||Gb(v,f,M)}return M}function Gb(c,f,v){c.flags|=16384,c={getSnapshot:f,value:v},f=An.updateQueue,f===null?(f={lastEffect:null,stores:null},An.updateQueue=f,f.stores=[c]):(v=f.stores,v===null?f.stores=[c]:v.push(c))}function zb(c,f,v,S){f.value=v,f.getSnapshot=S,Wb(f)&&Ni(c,1,-1)}function Vb(c,f,v){return v(function(){Wb(f)&&Ni(c,1,-1)})}function Wb(c){var f=c.getSnapshot;c=c.value;try{var v=f();return!bs(c,v)}catch{return!0}}function mx(c){var f=lo();return typeof c=="function"&&(c=c()),f.memoizedState=f.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:c},f.queue=c,c=c.dispatch=VU.bind(null,An,c),[f.memoizedState,c]}function vd(c,f,v,S){return c={tag:c,create:f,destroy:v,deps:S,next:null},f=An.updateQueue,f===null?(f={lastEffect:null,stores:null},An.updateQueue=f,f.lastEffect=c.next=c):(v=f.lastEffect,v===null?f.lastEffect=c.next=c:(S=v.next,v.next=c,c.next=S,f.lastEffect=c)),c}function jb(){return Is().memoizedState}function Wm(c,f,v,S){var M=lo();An.flags|=c,M.memoizedState=vd(1|f,v,void 0,S===void 0?null:S)}function jm(c,f,v,S){var M=Is();S=S===void 0?null:S;var b=void 0;if(mr!==null){var G=mr.memoizedState;if(b=G.destroy,S!==null&&dx(S,G.deps)){M.memoizedState=vd(f,v,b,S);return}}An.flags|=c,M.memoizedState=vd(1|f,v,b,S)}function gx(c,f){return Wm(8390656,8,c,f)}function _d(c,f){return jm(2048,8,c,f)}function Jb(c,f){return jm(4,2,c,f)}function $b(c,f){return jm(4,4,c,f)}function Kb(c,f){if(typeof f=="function")return c=c(),f(c),function(){f(null)};if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function Xb(c,f,v){return v=v!=null?v.concat([c]):null,jm(4,4,Kb.bind(null,f,c),v)}function yx(){}function Qb(c,f){var v=Is();f=f===void 0?null:f;var S=v.memoizedState;return S!==null&&f!==null&&dx(f,S[1])?S[0]:(v.memoizedState=[c,f],c)}function qb(c,f){var v=Is();f=f===void 0?null:f;var S=v.memoizedState;return S!==null&&f!==null&&dx(f,S[1])?S[0]:(c=c(),v.memoizedState=[c,f],c)}function GU(c,f){var v=Dt;Dt=v!==0&&4>v?v:4,c(!0);var S=Oi.transition;Oi.transition={};try{c(!1),f()}finally{Dt=v,Oi.transition=S}}function Yb(){return Is().memoizedState}function zU(c,f,v){var S=Zo(c);v={lane:S,action:v,hasEagerState:!1,eagerState:null,next:null},Zb(c)?eT(f,v):(tT(c,f,v),v=Ir(),c=Ni(c,S,v),c!==null&&nT(c,f,S))}function VU(c,f,v){var S=Zo(c),M={lane:S,action:v,hasEagerState:!1,eagerState:null,next:null};if(Zb(c))eT(f,M);else{tT(c,f,M);var b=c.alternate;if(c.lanes===0&&(b===null||b.lanes===0)&&(b=f.lastRenderedReducer,b!==null))try{var G=f.lastRenderedState,Y=b(G,v);if(M.hasEagerState=!0,M.eagerState=Y,bs(Y,G))return}catch{}finally{}v=Ir(),c=Ni(c,S,v),c!==null&&nT(c,f,S)}}function Zb(c){var f=c.alternate;return c===An||f!==null&&f===An}function eT(c,f){gd=Gm=!0;var v=c.pending;v===null?f.next=f:(f.next=v.next,v.next=f),c.pending=f}function tT(c,f,v){On!==null&&(c.mode&1)!==0&&(mt&2)===0?(c=f.interleaved,c===null?(v.next=v,Rs===null?Rs=[f]:Rs.push(f)):(v.next=c.next,c.next=v),f.interleaved=v):(c=f.pending,c===null?v.next=v:(v.next=c.next,c.next=v),f.pending=v)}function nT(c,f,v){if((v&4194240)!==0){var S=f.lanes;S&=c.pendingLanes,v|=S,f.lanes=v,j_(c,v)}}var Jm={readContext:Li,useCallback:gr,useContext:gr,useEffect:gr,useImperativeHandle:gr,useInsertionEffect:gr,useLayoutEffect:gr,useMemo:gr,useReducer:gr,useRef:gr,useState:gr,useDebugValue:gr,useDeferredValue:gr,useTransition:gr,useMutableSource:gr,useSyncExternalStore:gr,useId:gr,unstable_isNewReconciler:!1},WU={readContext:Li,useCallback:function(c,f){return lo().memoizedState=[c,f===void 0?null:f],c},useContext:Li,useEffect:gx,useImperativeHandle:function(c,f,v){return v=v!=null?v.concat([c]):null,Wm(4194308,4,Kb.bind(null,f,c),v)},useLayoutEffect:function(c,f){return Wm(4194308,4,c,f)},useInsertionEffect:function(c,f){return Wm(4,2,c,f)},useMemo:function(c,f){var v=lo();return f=f===void 0?null:f,c=c(),v.memoizedState=[c,f],c},useReducer:function(c,f,v){var S=lo();return f=v!==void 0?v(f):f,S.memoizedState=S.baseState=f,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:f},S.queue=c,c=c.dispatch=zU.bind(null,An,c),[S.memoizedState,c]},useRef:function(c){var f=lo();return c={current:c},f.memoizedState=c},useState:mx,useDebugValue:yx,useDeferredValue:function(c){var f=mx(c),v=f[0],S=f[1];return gx(function(){var M=Oi.transition;Oi.transition={};try{S(c)}finally{Oi.transition=M}},[c]),v},useTransition:function(){var c=mx(!1),f=c[0];return c=GU.bind(null,c[1]),lo().memoizedState=c,[f,c]},useMutableSource:function(){},useSyncExternalStore:function(c,f,v){var S=An,M=lo();if(un){if(v===void 0)throw Error(o(407));v=v()}else{if(v=f(),On===null)throw Error(o(349));(Ku&30)!==0||Gb(S,f,v)}M.memoizedState=v;var b={value:v,getSnapshot:f};return M.queue=b,gx(Vb.bind(null,S,b,c),[c]),S.flags|=2048,vd(9,zb.bind(null,S,b,v,f),void 0,null),v},useId:function(){var c=lo(),f=On.identifierPrefix;if(un){var v=ao,S=oo;v=(S&~(1<<32-ts(S)-1)).toString(32)+v,f=":"+f+"R"+v,v=yd++,0<v&&(f+="H"+v.toString(32)),f+=":"}else v=UU++,f=":"+f+"r"+v.toString(32)+":";return c.memoizedState=f},unstable_isNewReconciler:!1},jU={readContext:Li,useCallback:Qb,useContext:Li,useEffect:_d,useImperativeHandle:Xb,useInsertionEffect:Jb,useLayoutEffect:$b,useMemo:qb,useReducer:zm,useRef:jb,useState:function(){return zm(pl)},useDebugValue:yx,useDeferredValue:function(c){var f=zm(pl),v=f[0],S=f[1];return _d(function(){var M=Oi.transition;Oi.transition={};try{S(c)}finally{Oi.transition=M}},[c]),v},useTransition:function(){var c=zm(pl)[0],f=Is().memoizedState;return[c,f]},useMutableSource:Hb,useSyncExternalStore:Ub,useId:Yb,unstable_isNewReconciler:!1},JU={readContext:Li,useCallback:Qb,useContext:Li,useEffect:_d,useImperativeHandle:Xb,useInsertionEffect:Jb,useLayoutEffect:$b,useMemo:qb,useReducer:Vm,useRef:jb,useState:function(){return Vm(pl)},useDebugValue:yx,useDeferredValue:function(c){var f=Vm(pl),v=f[0],S=f[1];return _d(function(){var M=Oi.transition;Oi.transition={};try{S(c)}finally{Oi.transition=M}},[c]),v},useTransition:function(){var c=Vm(pl)[0],f=Is().memoizedState;return[c,f]},useMutableSource:Hb,useSyncExternalStore:Ub,useId:Yb,unstable_isNewReconciler:!1};function vx(c,f){try{var v="",S=f;do v+=HU(S),S=S.return;while(S);var M=v}catch(b){M=`
Error generating stack: `+b.message+`
`+b.stack}return{value:c,source:f,stack:M}}function _x(c,f){try{console.error(f.value)}catch(v){setTimeout(function(){throw v})}}var $U=typeof WeakMap=="function"?WeakMap:Map;function rT(c,f,v){v=so(-1,v),v.tag=3,v.payload={element:null};var S=f.value;return v.callback=function(){lg||(lg=!0,Ox=S),_x(c,f)},v}function iT(c,f,v){v=so(-1,v),v.tag=3;var S=c.type.getDerivedStateFromError;if(typeof S=="function"){var M=f.value;v.payload=function(){return S(M)},v.callback=function(){_x(c,f)}}var b=c.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(v.callback=function(){_x(c,f),typeof S!="function"&&(qo===null?qo=new Set([this]):qo.add(this));var G=f.stack;this.componentDidCatch(f.value,{componentStack:G!==null?G:""})}),v}function sT(c,f,v){var S=c.pingCache;if(S===null){S=c.pingCache=new $U;var M=new Set;S.set(f,M)}else M=S.get(f),M===void 0&&(M=new Set,S.set(f,M));M.has(v)||(M.add(v),c=a4.bind(null,c,f,v),f.then(c,c))}function oT(c){do{var f;if((f=c.tag===13)&&(f=c.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return c;c=c.return}while(c!==null);return null}function aT(c,f,v,S,M){return(c.mode&1)===0?(c===f?c.flags|=65536:(c.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(f=so(-1,1),f.tag=2,Qo(v,f))),v.lanes|=1),c):(c.flags|=65536,c.lanes=M,c)}function Bs(c){c.flags|=4}function lT(c,f){if(c!==null&&c.child===f.child)return!0;if((f.flags&16)!==0)return!1;for(c=f.child;c!==null;){if((c.flags&12854)!==0||(c.subtreeFlags&12854)!==0)return!1;c=c.sibling}return!0}var xd,wd,$m,Km;if(Pe)xd=function(c,f){for(var v=f.child;v!==null;){if(v.tag===5||v.tag===6)Q(c,v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===f)break;for(;v.sibling===null;){if(v.return===null||v.return===f)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},wd=function(){},$m=function(c,f,v,S,M){if(c=c.memoizedProps,c!==S){var b=f.stateNode,G=Ps(ki.current);v=pe(b,v,c,S,M,G),(f.updateQueue=v)&&Bs(f)}},Km=function(c,f,v,S){v!==S&&Bs(f)};else if(ne){xd=function(c,f,v,S){for(var M=f.child;M!==null;){if(M.tag===5){var b=M.stateNode;v&&S&&(b=Nu(b,M.type,M.memoizedProps,M)),Q(c,b)}else if(M.tag===6)b=M.stateNode,v&&S&&(b=ld(b,M.memoizedProps,M)),Q(c,b);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)b=M.child,b!==null&&(b.return=M),xd(c,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===f)break;for(;M.sibling===null;){if(M.return===null||M.return===f)return;M=M.return}M.sibling.return=M.return,M=M.sibling}};var uT=function(c,f,v,S){for(var M=f.child;M!==null;){if(M.tag===5){var b=M.stateNode;v&&S&&(b=Nu(b,M.type,M.memoizedProps,M)),wm(c,b)}else if(M.tag===6)b=M.stateNode,v&&S&&(b=ld(b,M.memoizedProps,M)),wm(c,b);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)b=M.child,b!==null&&(b.return=M),uT(c,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===f)break;for(;M.sibling===null;){if(M.return===null||M.return===f)return;M=M.return}M.sibling.return=M.return,M=M.sibling}};wd=function(c,f){var v=f.stateNode;if(!lT(c,f)){c=v.containerInfo;var S=ci(c);uT(S,f,!1,!1),v.pendingChildren=S,Bs(f),Ou(c,S)}},$m=function(c,f,v,S,M){var b=c.stateNode,G=c.memoizedProps;if((c=lT(c,f))&&G===S)f.stateNode=b;else{var Y=f.stateNode,de=Ps(ki.current),be=null;G!==S&&(be=pe(Y,v,G,S,M,de)),c&&be===null?f.stateNode=b:(b=Pi(b,be,v,G,S,f,c,Y),se(b,v,S,M,de)&&Bs(f),f.stateNode=b,c?Bs(f):xd(b,f,!1,!1))}},Km=function(c,f,v,S){v!==S?(c=Ps(Ju.current),v=Ps(ki.current),f.stateNode=H(S,c,v,f),Bs(f)):f.stateNode=c.stateNode}}else wd=function(){},$m=function(){},Km=function(){};function Sd(c,f){if(!un)switch(c.tailMode){case"hidden":f=c.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?c.tail=null:v.sibling=null;break;case"collapsed":v=c.tail;for(var S=null;v!==null;)v.alternate!==null&&(S=v),v=v.sibling;S===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:S.sibling=null}}function yr(c){var f=c.alternate!==null&&c.alternate.child===c.child,v=0,S=0;if(f)for(var M=c.child;M!==null;)v|=M.lanes|M.childLanes,S|=M.subtreeFlags&14680064,S|=M.flags&14680064,M.return=c,M=M.sibling;else for(M=c.child;M!==null;)v|=M.lanes|M.childLanes,S|=M.subtreeFlags,S|=M.flags,M.return=c,M=M.sibling;return c.subtreeFlags|=S,c.childLanes=v,f}function KU(c,f,v){var S=f.pendingProps;switch(ix(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yr(f),null;case 1:return jr(f.type)&&Am(),yr(f),null;case 3:return S=f.stateNode,$u(),jt(Wr),jt(pr),fx(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(c===null||c.child===null)&&(dd(f)?Bs(f):c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,rs!==null&&(Ux(rs),rs=null))),wd(c,f),yr(f),null;case 5:ux(f),v=Ps(Ju.current);var M=f.type;if(c!==null&&f.stateNode!=null)$m(c,f,M,S,v),c.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!S){if(f.stateNode===null)throw Error(o(166));return yr(f),null}if(c=Ps(ki.current),dd(f)){if(!oe)throw Error(o(175));c=ht(f.stateNode,f.type,f.memoizedProps,v,c,f,!fd),f.updateQueue=c,c!==null&&Bs(f)}else{var b=ae(M,S,v,c,f);xd(b,f,!1,!1),f.stateNode=b,se(b,M,S,v,c)&&Bs(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return yr(f),null;case 6:if(c&&f.stateNode!=null)Km(c,f,c.memoizedProps,S);else{if(typeof S!="string"&&f.stateNode===null)throw Error(o(166));if(c=Ps(Ju.current),v=Ps(ki.current),dd(f)){if(!oe)throw Error(o(176));if(c=f.stateNode,S=f.memoizedProps,(v=ft(c,S,f,!fd))&&(M=fi,M!==null))switch(b=(M.mode&1)!==0,M.tag){case 3:Ii(M.stateNode.containerInfo,c,S,b);break;case 5:Lt(M.type,M.memoizedProps,M.stateNode,c,S,b)}v&&Bs(f)}else f.stateNode=H(S,c,v,f)}return yr(f),null;case 13:if(jt(mn),S=f.memoizedState,un&&di!==null&&(f.mode&1)!==0&&(f.flags&128)===0){for(c=di;c;)c=le(c);return Wu(),f.flags|=98560,f}if(S!==null&&S.dehydrated!==null){if(S=dd(f),c===null){if(!S)throw Error(o(318));if(!oe)throw Error(o(344));if(c=f.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));Ot(c,f)}else Wu(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;return yr(f),null}return rs!==null&&(Ux(rs),rs=null),(f.flags&128)!==0?(f.lanes=v,f):(S=S!==null,v=!1,c===null?dd(f):v=c.memoizedState!==null,S&&!v&&(f.child.flags|=8192,(f.mode&1)!==0&&(c===null||(mn.current&1)!==0?jn===0&&(jn=3):zx())),f.updateQueue!==null&&(f.flags|=4),yr(f),null);case 4:return $u(),wd(c,f),c===null&&Ae(f.stateNode.containerInfo),yr(f),null;case 10:return Y_(f.type._context),yr(f),null;case 17:return jr(f.type)&&Am(),yr(f),null;case 19:if(jt(mn),M=f.memoizedState,M===null)return yr(f),null;if(S=(f.flags&128)!==0,b=M.rendering,b===null)if(S)Sd(M,!1);else{if(jn!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(b=Hm(c),b!==null){for(f.flags|=128,Sd(M,!1),c=b.updateQueue,c!==null&&(f.updateQueue=c,f.flags|=4),f.subtreeFlags=0,c=v,S=f.child;S!==null;)v=S,M=c,v.flags&=14680066,b=v.alternate,b===null?(v.childLanes=0,v.lanes=M,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=b.childLanes,v.lanes=b.lanes,v.child=b.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=b.memoizedProps,v.memoizedState=b.memoizedState,v.updateQueue=b.updateQueue,v.type=b.type,M=b.dependencies,v.dependencies=M===null?null:{lanes:M.lanes,firstContext:M.firstContext}),S=S.sibling;return gt(mn,mn.current&1|2),f.child}c=c.sibling}M.tail!==null&&qn()>kx&&(f.flags|=128,S=!0,Sd(M,!1),f.lanes=4194304)}else{if(!S)if(c=Hm(b),c!==null){if(f.flags|=128,S=!0,c=c.updateQueue,c!==null&&(f.updateQueue=c,f.flags|=4),Sd(M,!0),M.tail===null&&M.tailMode==="hidden"&&!b.alternate&&!un)return yr(f),null}else 2*qn()-M.renderingStartTime>kx&&v!==1073741824&&(f.flags|=128,S=!0,Sd(M,!1),f.lanes=4194304);M.isBackwards?(b.sibling=f.child,f.child=b):(c=M.last,c!==null?c.sibling=b:f.child=b,M.last=b)}return M.tail!==null?(f=M.tail,M.rendering=f,M.tail=f.sibling,M.renderingStartTime=qn(),f.sibling=null,c=mn.current,gt(mn,S?c&1|2:c&1),f):(yr(f),null);case 22:case 23:return Gx(),S=f.memoizedState!==null,c!==null&&c.memoizedState!==null!==S&&(f.flags|=8192),S&&(f.mode&1)!==0?(pi&1073741824)!==0&&(yr(f),Pe&&f.subtreeFlags&6&&(f.flags|=8192)):yr(f),null;case 24:return null;case 25:return null}throw Error(o(156,f.tag))}var XU=a.ReactCurrentOwner,hi=!1;function Pr(c,f,v,S){f.child=c===null?Ob(f,null,v,S):ju(f,c.child,v,S)}function cT(c,f,v,S,M){v=v.render;var b=f.ref;return Gu(f,M),S=hx(c,f,v,S,b,M),v=px(),c!==null&&!hi?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~M,uo(c,f,M)):(un&&v&&rx(f),f.flags|=1,Pr(c,f,S,M),f.child)}function fT(c,f,v,S,M){if(c===null){var b=v.type;return typeof b=="function"&&!Vx(b)&&b.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(f.tag=15,f.type=b,dT(c,f,b,S,M)):(c=mg(v.type,null,S,f,f.mode,M),c.ref=f.ref,c.return=f,f.child=c)}if(b=c.child,(c.lanes&M)===0){var G=b.memoizedProps;if(v=v.compare,v=v!==null?v:Pm,v(G,S)&&c.ref===f.ref)return uo(c,f,M)}return f.flags|=1,c=ta(b,S),c.ref=f.ref,c.return=f,f.child=c}function dT(c,f,v,S,M){if(c!==null&&Pm(c.memoizedProps,S)&&c.ref===f.ref)if(hi=!1,(c.lanes&M)!==0)(c.flags&131072)!==0&&(hi=!0);else return f.lanes=c.lanes,uo(c,f,M);return xx(c,f,v,S,M)}function hT(c,f,v){var S=f.pendingProps,M=S.children,b=c!==null?c.memoizedState:null;if(S.mode==="hidden")if((f.mode&1)===0)f.memoizedState={baseLanes:0,cachePool:null},gt(Xu,pi),pi|=v;else if((v&1073741824)!==0)f.memoizedState={baseLanes:0,cachePool:null},S=b!==null?b.baseLanes:v,gt(Xu,pi),pi|=S;else return c=b!==null?b.baseLanes|v:v,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:c,cachePool:null},f.updateQueue=null,gt(Xu,pi),pi|=c,null;else b!==null?(S=b.baseLanes|v,f.memoizedState=null):S=v,gt(Xu,pi),pi|=S;return Pr(c,f,M,v),f.child}function pT(c,f){var v=f.ref;(c===null&&v!==null||c!==null&&c.ref!==v)&&(f.flags|=512,f.flags|=2097152)}function xx(c,f,v,S,M){var b=jr(v)?fl:pr.current;return b=Hu(f,b),Gu(f,M),v=hx(c,f,v,S,b,M),S=px(),c!==null&&!hi?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~M,uo(c,f,M)):(un&&S&&rx(f),f.flags|=1,Pr(c,f,v,M),f.child)}function mT(c,f,v,S,M){if(jr(v)){var b=!0;Em(f)}else b=!1;if(Gu(f,M),f.stateNode===null)c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),Rb(f,v,S),nx(f,v,S,M),S=!0;else if(c===null){var G=f.stateNode,Y=f.memoizedProps;G.props=Y;var de=G.context,be=v.contextType;typeof be=="object"&&be!==null?be=Li(be):(be=jr(v)?fl:pr.current,be=Hu(f,be));var je=v.getDerivedStateFromProps,lt=typeof je=="function"||typeof G.getSnapshotBeforeUpdate=="function";lt||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(Y!==S||de!==be)&&Pb(f,G,S,be),Xo=!1;var nt=f.memoizedState;G.state=nt,Dm(f,S,G,M),de=f.memoizedState,Y!==S||nt!==de||Wr.current||Xo?(typeof je=="function"&&(tx(f,v,je,S),de=f.memoizedState),(Y=Xo||Tb(f,v,Y,S,nt,de,be))?(lt||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(f.flags|=4194308)):(typeof G.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=S,f.memoizedState=de),G.props=S,G.state=de,G.context=be,S=Y):(typeof G.componentDidMount=="function"&&(f.flags|=4194308),S=!1)}else{G=f.stateNode,Eb(c,f),Y=f.memoizedProps,be=f.type===f.elementType?Y:ns(f.type,Y),G.props=be,lt=f.pendingProps,nt=G.context,de=v.contextType,typeof de=="object"&&de!==null?de=Li(de):(de=jr(v)?fl:pr.current,de=Hu(f,de));var Xt=v.getDerivedStateFromProps;(je=typeof Xt=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(Y!==lt||nt!==de)&&Pb(f,G,S,de),Xo=!1,nt=f.memoizedState,G.state=nt,Dm(f,S,G,M);var Ye=f.memoizedState;Y!==lt||nt!==Ye||Wr.current||Xo?(typeof Xt=="function"&&(tx(f,v,Xt,S),Ye=f.memoizedState),(be=Xo||Tb(f,v,be,S,nt,Ye,de)||!1)?(je||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(S,Ye,de),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(S,Ye,de)),typeof G.componentDidUpdate=="function"&&(f.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof G.componentDidUpdate!="function"||Y===c.memoizedProps&&nt===c.memoizedState||(f.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||Y===c.memoizedProps&&nt===c.memoizedState||(f.flags|=1024),f.memoizedProps=S,f.memoizedState=Ye),G.props=S,G.state=Ye,G.context=de,S=be):(typeof G.componentDidUpdate!="function"||Y===c.memoizedProps&&nt===c.memoizedState||(f.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||Y===c.memoizedProps&&nt===c.memoizedState||(f.flags|=1024),S=!1)}return wx(c,f,v,S,b,M)}function wx(c,f,v,S,M,b){pT(c,f);var G=(f.flags&128)!==0;if(!S&&!G)return M&&_b(f,v,!1),uo(c,f,b);S=f.stateNode,XU.current=f;var Y=G&&typeof v.getDerivedStateFromError!="function"?null:S.render();return f.flags|=1,c!==null&&G?(f.child=ju(f,c.child,null,b),f.child=ju(f,null,Y,b)):Pr(c,f,Y,b),f.memoizedState=S.state,M&&_b(f,v,!0),f.child}function gT(c){var f=c.stateNode;f.pendingContext?yb(c,f.pendingContext,f.pendingContext!==f.context):f.context&&yb(c,f.context,!1),lx(c,f.containerInfo)}function yT(c,f,v,S,M){return Wu(),ax(M),f.flags|=256,Pr(c,f,v,S),f.child}var Xm={dehydrated:null,treeContext:null,retryLane:0};function Qm(c){return{baseLanes:c,cachePool:null}}function vT(c,f,v){var S=f.pendingProps,M=mn.current,b=!1,G=(f.flags&128)!==0,Y;if((Y=G)||(Y=c!==null&&c.memoizedState===null?!1:(M&2)!==0),Y?(b=!0,f.flags&=-129):(c===null||c.memoizedState!==null)&&(M|=1),gt(mn,M&1),c===null)return ox(f),c=f.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((f.mode&1)===0?f.lanes=1:re(c)?f.lanes=8:f.lanes=1073741824,null):(M=S.children,c=S.fallback,b?(S=f.mode,b=f.child,M={mode:"hidden",children:M},(S&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=M):b=gg(M,S,0,null),c=xl(c,S,v,null),b.return=f,c.return=f,b.sibling=c,f.child=b,f.child.memoizedState=Qm(v),f.memoizedState=Xm,c):Sx(f,M));if(M=c.memoizedState,M!==null){if(Y=M.dehydrated,Y!==null){if(G)return f.flags&256?(f.flags&=-257,qm(c,f,v,Error(o(422)))):f.memoizedState!==null?(f.child=c.child,f.flags|=128,null):(b=S.fallback,M=f.mode,S=gg({mode:"visible",children:S.children},M,0,null),b=xl(b,M,v,null),b.flags|=2,S.return=f,b.return=f,S.sibling=b,f.child=S,(f.mode&1)!==0&&ju(f,c.child,null,v),f.child.memoizedState=Qm(v),f.memoizedState=Xm,b);if((f.mode&1)===0)f=qm(c,f,v,null);else if(re(Y))f=qm(c,f,v,Error(o(419)));else if(S=(v&c.childLanes)!==0,hi||S){if(S=On,S!==null){switch(v&-v){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}S=(b&(S.suspendedLanes|v))!==0?0:b,S!==0&&S!==M.retryLane&&(M.retryLane=S,Ni(c,S,-1))}zx(),f=qm(c,f,v,Error(o(421)))}else U(Y)?(f.flags|=128,f.child=c.child,f=l4.bind(null,c),fe(Y,f),f=null):(v=M.treeContext,oe&&(di=at(Y),fi=f,un=!0,rs=null,fd=!1,v!==null&&(Di[Fi++]=oo,Di[Fi++]=ao,Di[Fi++]=dl,oo=v.id,ao=v.overflow,dl=f)),f=Sx(f,f.pendingProps.children),f.flags|=4096);return f}return b?(S=xT(c,f,S.children,S.fallback,v),b=f.child,M=c.child.memoizedState,b.memoizedState=M===null?Qm(v):{baseLanes:M.baseLanes|v,cachePool:null},b.childLanes=c.childLanes&~v,f.memoizedState=Xm,S):(v=_T(c,f,S.children,v),f.memoizedState=null,v)}return b?(S=xT(c,f,S.children,S.fallback,v),b=f.child,M=c.child.memoizedState,b.memoizedState=M===null?Qm(v):{baseLanes:M.baseLanes|v,cachePool:null},b.childLanes=c.childLanes&~v,f.memoizedState=Xm,S):(v=_T(c,f,S.children,v),f.memoizedState=null,v)}function Sx(c,f){return f=gg({mode:"visible",children:f},c.mode,0,null),f.return=c,c.child=f}function _T(c,f,v,S){var M=c.child;return c=M.sibling,v=ta(M,{mode:"visible",children:v}),(f.mode&1)===0&&(v.lanes=S),v.return=f,v.sibling=null,c!==null&&(S=f.deletions,S===null?(f.deletions=[c],f.flags|=16):S.push(c)),f.child=v}function xT(c,f,v,S,M){var b=f.mode;c=c.child;var G=c.sibling,Y={mode:"hidden",children:v};return(b&1)===0&&f.child!==c?(v=f.child,v.childLanes=0,v.pendingProps=Y,f.deletions=null):(v=ta(c,Y),v.subtreeFlags=c.subtreeFlags&14680064),G!==null?S=ta(G,S):(S=xl(S,b,M,null),S.flags|=2),S.return=f,v.return=f,v.sibling=S,f.child=v,S}function qm(c,f,v,S){return S!==null&&ax(S),ju(f,c.child,null,v),c=Sx(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function wT(c,f,v){c.lanes|=f;var S=c.alternate;S!==null&&(S.lanes|=f),Z_(c.return,f,v)}function Ax(c,f,v,S,M){var b=c.memoizedState;b===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:S,tail:v,tailMode:M}:(b.isBackwards=f,b.rendering=null,b.renderingStartTime=0,b.last=S,b.tail=v,b.tailMode=M)}function ST(c,f,v){var S=f.pendingProps,M=S.revealOrder,b=S.tail;if(Pr(c,f,S.children,v),S=mn.current,(S&2)!==0)S=S&1|2,f.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&wT(c,v,f);else if(c.tag===19)wT(c,v,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}S&=1}if(gt(mn,S),(f.mode&1)===0)f.memoizedState=null;else switch(M){case"forwards":for(v=f.child,M=null;v!==null;)c=v.alternate,c!==null&&Hm(c)===null&&(M=v),v=v.sibling;v=M,v===null?(M=f.child,f.child=null):(M=v.sibling,v.sibling=null),Ax(f,!1,M,v,b);break;case"backwards":for(v=null,M=f.child,f.child=null;M!==null;){if(c=M.alternate,c!==null&&Hm(c)===null){f.child=M;break}c=M.sibling,M.sibling=v,v=M,M=c}Ax(f,!0,v,null,b);break;case"together":Ax(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function uo(c,f,v){if(c!==null&&(f.dependencies=c.dependencies),Qu|=f.lanes,(v&f.childLanes)===0)return null;if(c!==null&&f.child!==c.child)throw Error(o(153));if(f.child!==null){for(c=f.child,v=ta(c,c.pendingProps),f.child=v,v.return=f;c.sibling!==null;)c=c.sibling,v=v.sibling=ta(c,c.pendingProps),v.return=f;v.sibling=null}return f.child}function QU(c,f,v){switch(f.tag){case 3:gT(f),Wu();break;case 5:Nb(f);break;case 1:jr(f.type)&&Em(f);break;case 4:lx(f,f.stateNode.containerInfo);break;case 10:Ab(f,f.type._context,f.memoizedProps.value);break;case 13:var S=f.memoizedState;if(S!==null)return S.dehydrated!==null?(gt(mn,mn.current&1),f.flags|=128,null):(v&f.child.childLanes)!==0?vT(c,f,v):(gt(mn,mn.current&1),c=uo(c,f,v),c!==null?c.sibling:null);gt(mn,mn.current&1);break;case 19:if(S=(v&f.childLanes)!==0,(c.flags&128)!==0){if(S)return ST(c,f,v);f.flags|=128}var M=f.memoizedState;if(M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),gt(mn,mn.current),S)break;return null;case 22:case 23:return f.lanes=0,hT(c,f,v)}return uo(c,f,v)}function qU(c,f){switch(ix(f),f.tag){case 1:return jr(f.type)&&Am(),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return $u(),jt(Wr),jt(pr),fx(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 5:return ux(f),null;case 13:if(jt(mn),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(o(340));Wu()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return jt(mn),null;case 4:return $u(),null;case 10:return Y_(f.type._context),null;case 22:case 23:return Gx(),null;case 24:return null;default:return null}}var Ym=!1,ml=!1,YU=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Zm(c,f){var v=c.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(S){Kr(c,f,S)}else v.current=null}function Ex(c,f,v){try{v()}catch(S){Kr(c,f,S)}}var AT=!1;function ZU(c,f){for(X(c.containerInfo),Ue=f;Ue!==null;)if(c=Ue,f=c.child,(c.subtreeFlags&1028)!==0&&f!==null)f.return=c,Ue=f;else for(;Ue!==null;){c=Ue;try{var v=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var S=v.memoizedProps,M=v.memoizedState,b=c.stateNode,G=b.getSnapshotBeforeUpdate(c.elementType===c.type?S:ns(c.type,S),M);b.__reactInternalSnapshotBeforeUpdate=G}break;case 3:Pe&&wt(c.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Y){Kr(c,c.return,Y)}if(f=c.sibling,f!==null){f.return=c.return,Ue=f;break}Ue=c.return}return v=AT,AT=!1,v}function gl(c,f,v){var S=f.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var M=S=S.next;do{if((M.tag&c)===c){var b=M.destroy;M.destroy=void 0,b!==void 0&&Ex(f,v,b)}M=M.next}while(M!==S)}}function Ad(c,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var v=f=f.next;do{if((v.tag&c)===c){var S=v.create;v.destroy=S()}v=v.next}while(v!==f)}}function Mx(c){var f=c.ref;if(f!==null){var v=c.stateNode;switch(c.tag){case 5:c=J(v);break;default:c=v}typeof f=="function"?f(c):f.current=c}}function ET(c,f,v){if(Cs&&typeof Cs.onCommitFiberUnmount=="function")try{Cs.onCommitFiberUnmount(Tm,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(c=f.updateQueue,c!==null&&(c=c.lastEffect,c!==null)){var S=c=c.next;do{var M=S,b=M.destroy;M=M.tag,b!==void 0&&((M&2)!==0||(M&4)!==0)&&Ex(f,v,b),S=S.next}while(S!==c)}break;case 1:if(Zm(f,v),c=f.stateNode,typeof c.componentWillUnmount=="function")try{c.props=f.memoizedProps,c.state=f.memoizedState,c.componentWillUnmount()}catch(G){Kr(f,v,G)}break;case 5:Zm(f,v);break;case 4:Pe?PT(c,f,v):ne&&ne&&(f=f.stateNode.containerInfo,v=ci(f),Sm(f,v))}}function MT(c,f,v){for(var S=f;;)if(ET(c,S,v),S.child===null||Pe&&S.tag===4){if(S===f)break;for(;S.sibling===null;){if(S.return===null||S.return===f)return;S=S.return}S.sibling.return=S.return,S=S.sibling}else S.child.return=S,S=S.child}function CT(c){var f=c.alternate;f!==null&&(c.alternate=null,CT(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&Me(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function bT(c){return c.tag===5||c.tag===3||c.tag===4}function TT(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||bT(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function RT(c){if(Pe){e:{for(var f=c.return;f!==null;){if(bT(f))break e;f=f.return}throw Error(o(160))}var v=f;switch(v.tag){case 5:f=v.stateNode,v.flags&32&&(Oe(f),v.flags&=-33),v=TT(c),bx(c,v,f);break;case 3:case 4:f=v.stateNode.containerInfo,v=TT(c),Cx(c,v,f);break;default:throw Error(o(161))}}}function Cx(c,f,v){var S=c.tag;if(S===5||S===6)c=c.stateNode,f?ge(v,c,f):he(v,c);else if(S!==4&&(c=c.child,c!==null))for(Cx(c,f,v),c=c.sibling;c!==null;)Cx(c,f,v),c=c.sibling}function bx(c,f,v){var S=c.tag;if(S===5||S===6)c=c.stateNode,f?N(v,c,f):Ke(v,c);else if(S!==4&&(c=c.child,c!==null))for(bx(c,f,v),c=c.sibling;c!==null;)bx(c,f,v),c=c.sibling}function PT(c,f,v){for(var S=f,M=!1,b,G;;){if(!M){M=S.return;e:for(;;){if(M===null)throw Error(o(160));switch(b=M.stateNode,M.tag){case 5:G=!1;break e;case 3:b=b.containerInfo,G=!0;break e;case 4:b=b.containerInfo,G=!0;break e}M=M.return}M=!0}if(S.tag===5||S.tag===6)MT(c,S,v),G?We(b,S.stateNode):we(b,S.stateNode);else if(S.tag===18)G?Jo(b,S.stateNode):ro(b,S.stateNode);else if(S.tag===4){if(S.child!==null){b=S.stateNode.containerInfo,G=!0,S.child.return=S,S=S.child;continue}}else if(ET(c,S,v),S.child!==null){S.child.return=S,S=S.child;continue}if(S===f)break;for(;S.sibling===null;){if(S.return===null||S.return===f)return;S=S.return,S.tag===4&&(M=!1)}S.sibling.return=S.return,S=S.sibling}}function Tx(c,f){if(Pe){switch(f.tag){case 0:case 11:case 14:case 15:gl(3,f,f.return),Ad(3,f),gl(5,f,f.return);return;case 1:return;case 5:var v=f.stateNode;if(v!=null){var S=f.memoizedProps;c=c!==null?c.memoizedProps:S;var M=f.type,b=f.updateQueue;f.updateQueue=null,b!==null&&j(v,b,M,c,S,f)}return;case 6:if(f.stateNode===null)throw Error(o(162));v=f.memoizedProps,Te(f.stateNode,c!==null?c.memoizedProps:v,v);return;case 3:oe&&c!==null&&c.memoizedState.isDehydrated&&Mt(f.stateNode.containerInfo);return;case 12:return;case 13:eg(f);return;case 19:eg(f);return;case 17:return}throw Error(o(163))}switch(f.tag){case 0:case 11:case 14:case 15:gl(3,f,f.return),Ad(3,f),gl(5,f,f.return);return;case 12:return;case 13:eg(f);return;case 19:eg(f);return;case 3:oe&&c!==null&&c.memoizedState.isDehydrated&&Mt(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(ne){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,Sm(f.containerInfo,f.pendingChildren);break e}throw Error(o(163))}}function eg(c){var f=c.updateQueue;if(f!==null){c.updateQueue=null;var v=c.stateNode;v===null&&(v=c.stateNode=new YU),f.forEach(function(S){var M=u4.bind(null,c,S);v.has(S)||(v.add(S),S.then(M,M))})}}function e4(c,f){for(Ue=f;Ue!==null;){f=Ue;var v=f.deletions;if(v!==null)for(var S=0;S<v.length;S++){var M=v[S];try{var b=c;Pe?PT(b,M,f):MT(b,M,f);var G=M.alternate;G!==null&&(G.return=null),M.return=null}catch(qe){Kr(M,f,qe)}}if(v=f.child,(f.subtreeFlags&12854)!==0&&v!==null)v.return=f,Ue=v;else for(;Ue!==null;){f=Ue;try{var Y=f.flags;if(Y&32&&Pe&&Oe(f.stateNode),Y&512){var de=f.alternate;if(de!==null){var be=de.ref;be!==null&&(typeof be=="function"?be(null):be.current=null)}}if(Y&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var je=f.alternate;(je===null||je.memoizedState===null)&&(Fx=qn())}break;case 22:var lt=f.memoizedState!==null,nt=f.alternate,Xt=nt!==null&&nt.memoizedState!==null;if(v=f,Pe)e:if(S=v,M=lt,b=null,Pe)for(var Ye=S;;){if(Ye.tag===5){if(b===null){b=Ye;var vr=Ye.stateNode;M?tt(vr):et(Ye.stateNode,Ye.memoizedProps)}}else if(Ye.tag===6){if(b===null){var Ui=Ye.stateNode;M?De(Ui):xt(Ui,Ye.memoizedProps)}}else if((Ye.tag!==22&&Ye.tag!==23||Ye.memoizedState===null||Ye===S)&&Ye.child!==null){Ye.child.return=Ye,Ye=Ye.child;continue}if(Ye===S)break;for(;Ye.sibling===null;){if(Ye.return===null||Ye.return===S)break e;b===Ye&&(b=null),Ye=Ye.return}b===Ye&&(b=null),Ye.sibling.return=Ye.return,Ye=Ye.sibling}if(lt&&!Xt&&(v.mode&1)!==0){Ue=v;for(var ie=v.child;ie!==null;){for(v=Ue=ie;Ue!==null;){S=Ue;var te=S.child;switch(S.tag){case 0:case 11:case 14:case 15:gl(4,S,S.return);break;case 1:Zm(S,S.return);var ce=S.stateNode;if(typeof ce.componentWillUnmount=="function"){var Ve=S.return;try{ce.props=S.memoizedProps,ce.state=S.memoizedState,ce.componentWillUnmount()}catch(qe){Kr(S,Ve,qe)}}break;case 5:Zm(S,S.return);break;case 22:if(S.memoizedState!==null){LT(v);continue}}te!==null?(te.return=S,Ue=te):LT(v)}ie=ie.sibling}}}switch(Y&4102){case 2:RT(f),f.flags&=-3;break;case 6:RT(f),f.flags&=-3,Tx(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,Tx(f.alternate,f);break;case 4:Tx(f.alternate,f)}}catch(qe){Kr(f,f.return,qe)}if(v=f.sibling,v!==null){v.return=f.return,Ue=v;break}Ue=f.return}}}function t4(c,f,v){Ue=c,IT(c)}function IT(c,f,v){for(var S=(c.mode&1)!==0;Ue!==null;){var M=Ue,b=M.child;if(M.tag===22&&S){var G=M.memoizedState!==null||Ym;if(!G){var Y=M.alternate,de=Y!==null&&Y.memoizedState!==null||ml;Y=Ym;var be=ml;if(Ym=G,(ml=de)&&!be)for(Ue=M;Ue!==null;)G=Ue,de=G.child,G.tag===22&&G.memoizedState!==null?DT(M):de!==null?(de.return=G,Ue=de):DT(M);for(;b!==null;)Ue=b,IT(b),b=b.sibling;Ue=M,Ym=Y,ml=be}BT(c)}else(M.subtreeFlags&8772)!==0&&b!==null?(b.return=M,Ue=b):BT(c)}}function BT(c){for(;Ue!==null;){var f=Ue;if((f.flags&8772)!==0){var v=f.alternate;try{if((f.flags&8772)!==0)switch(f.tag){case 0:case 11:case 15:ml||Ad(5,f);break;case 1:var S=f.stateNode;if(f.flags&4&&!ml)if(v===null)S.componentDidMount();else{var M=f.elementType===f.type?v.memoizedProps:ns(f.type,v.memoizedProps);S.componentDidUpdate(M,v.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var b=f.updateQueue;b!==null&&Cb(f,b,S);break;case 3:var G=f.updateQueue;if(G!==null){if(v=null,f.child!==null)switch(f.child.tag){case 5:v=J(f.child.stateNode);break;case 1:v=f.child.stateNode}Cb(f,G,v)}break;case 5:var Y=f.stateNode;v===null&&f.flags&4&&it(Y,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(oe&&f.memoizedState===null){var de=f.alternate;if(de!==null){var be=de.memoizedState;if(be!==null){var je=be.dehydrated;je!==null&&ln(je)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}ml||f.flags&512&&Mx(f)}catch(lt){Kr(f,f.return,lt)}}if(f===c){Ue=null;break}if(v=f.sibling,v!==null){v.return=f.return,Ue=v;break}Ue=f.return}}function LT(c){for(;Ue!==null;){var f=Ue;if(f===c){Ue=null;break}var v=f.sibling;if(v!==null){v.return=f.return,Ue=v;break}Ue=f.return}}function DT(c){for(;Ue!==null;){var f=Ue;try{switch(f.tag){case 0:case 11:case 15:var v=f.return;try{Ad(4,f)}catch(de){Kr(f,v,de)}break;case 1:var S=f.stateNode;if(typeof S.componentDidMount=="function"){var M=f.return;try{S.componentDidMount()}catch(de){Kr(f,M,de)}}var b=f.return;try{Mx(f)}catch(de){Kr(f,b,de)}break;case 5:var G=f.return;try{Mx(f)}catch(de){Kr(f,G,de)}}}catch(de){Kr(f,f.return,de)}if(f===c){Ue=null;break}var Y=f.sibling;if(Y!==null){Y.return=f.return,Ue=Y;break}Ue=f.return}}var tg=0,ng=1,rg=2,ig=3,sg=4;if(typeof Symbol=="function"&&Symbol.for){var Ed=Symbol.for;tg=Ed("selector.component"),ng=Ed("selector.has_pseudo_class"),rg=Ed("selector.role"),ig=Ed("selector.test_id"),sg=Ed("selector.text")}function Rx(c){var f=xe(c);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(o(364));return f}if(c=dt(c),c===null)throw Error(o(362));return c.stateNode.current}function Px(c,f){switch(f.$$typeof){case tg:if(c.type===f.value)return!0;break;case ng:e:{f=f.value,c=[c,0];for(var v=0;v<c.length;){var S=c[v++],M=c[v++],b=f[M];if(S.tag!==5||!ee(S)){for(;b!=null&&Px(S,b);)M++,b=f[M];if(M===f.length){f=!0;break e}else for(S=S.child;S!==null;)c.push(S,M),S=S.sibling}}f=!1}return f;case rg:if(c.tag===5&&me(c.stateNode,f.value))return!0;break;case sg:if((c.tag===5||c.tag===6)&&(c=D(c),c!==null&&0<=c.indexOf(f.value)))return!0;break;case ig:if(c.tag===5&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Ix(c){switch(c.$$typeof){case tg:return"<"+(R(c.value)||"Unknown")+">";case ng:return":has("+(Ix(c)||"")+")";case rg:return'[role="'+c.value+'"]';case sg:return'"'+c.value+'"';case ig:return'[data-testname="'+c.value+'"]';default:throw Error(o(365))}}function FT(c,f){var v=[];c=[c,0];for(var S=0;S<c.length;){var M=c[S++],b=c[S++],G=f[b];if(M.tag!==5||!ee(M)){for(;G!=null&&Px(M,G);)b++,G=f[b];if(b===f.length)v.push(M);else for(M=M.child;M!==null;)c.push(M,b),M=M.sibling}}return v}function Bx(c,f){if(!Ze)throw Error(o(363));c=Rx(c),c=FT(c,f),f=[],c=Array.from(c);for(var v=0;v<c.length;){var S=c[v++];if(S.tag===5)ee(S)||f.push(S.stateNode);else for(S=S.child;S!==null;)c.push(S),S=S.sibling}return f}var n4=Math.ceil,og=a.ReactCurrentDispatcher,Lx=a.ReactCurrentOwner,Pn=a.ReactCurrentBatchConfig,mt=0,On=null,Nn=null,sr=0,pi=0,Xu=Vr(0),jn=0,Md=null,Qu=0,ag=0,Dx=0,Cd=null,Jr=null,Fx=0,kx=1/0;function qu(){kx=qn()+500}var lg=!1,Ox=null,qo=null,ug=!1,Yo=null,cg=0,bd=0,Nx=null,fg=-1,dg=0;function Ir(){return(mt&6)!==0?qn():fg!==-1?fg:fg=qn()}function Zo(c){return(c.mode&1)===0?1:(mt&2)!==0&&sr!==0?sr&-sr:NU.transition!==null?(dg===0&&(c=Mm,Mm<<=1,(Mm&4194240)===0&&(Mm=64),dg=c),dg):(c=Dt,c!==0?c:Ee())}function Ni(c,f,v){if(50<bd)throw bd=0,Nx=null,Error(o(185));var S=hg(c,f);return S===null?null:(cd(S,f,v),((mt&2)===0||S!==On)&&(S===On&&((mt&2)===0&&(ag|=f),jn===4&&ea(S,sr)),$r(S,v),f===1&&mt===0&&(c.mode&1)===0&&(qu(),Rm&&Ts())),S)}function hg(c,f){c.lanes|=f;var v=c.alternate;for(v!==null&&(v.lanes|=f),v=c,c=c.return;c!==null;)c.childLanes|=f,v=c.alternate,v!==null&&(v.childLanes|=f),v=c,c=c.return;return v.tag===3?v.stateNode:null}function $r(c,f){var v=c.callbackNode;RU(c,f);var S=bm(c,c===On?sr:0);if(S===0)v!==null&&wb(v),c.callbackNode=null,c.callbackPriority=0;else if(f=S&-S,c.callbackPriority!==f){if(v!=null&&wb(v),f===1)c.tag===0?OU(OT.bind(null,c)):Sb(OT.bind(null,c)),ze?$e(function(){mt===0&&Ts()}):J_($_,Ts),v=null;else{switch(xb(S)){case 1:v=$_;break;case 4:v=LU;break;case 16:v=K_;break;case 536870912:v=DU;break;default:v=K_}v=JT(v,kT.bind(null,c))}c.callbackPriority=f,c.callbackNode=v}}function kT(c,f){if(fg=-1,dg=0,(mt&6)!==0)throw Error(o(327));var v=c.callbackNode;if(_l()&&c.callbackNode!==v)return null;var S=bm(c,c===On?sr:0);if(S===0)return null;if((S&30)!==0||(S&c.expiredLanes)!==0||f)f=pg(c,S);else{f=S;var M=mt;mt|=2;var b=UT();(On!==c||sr!==f)&&(qu(),yl(c,f));do try{s4();break}catch(Y){HT(c,Y)}while(1);q_(),og.current=b,mt=M,Nn!==null?f=0:(On=null,sr=0,f=jn)}if(f!==0){if(f===2&&(M=V_(c),M!==0&&(S=M,f=Hx(c,M))),f===1)throw v=Md,yl(c,0),ea(c,S),$r(c,qn()),v;if(f===6)ea(c,S);else{if(M=c.current.alternate,(S&30)===0&&!r4(M)&&(f=pg(c,S),f===2&&(b=V_(c),b!==0&&(S=b,f=Hx(c,b))),f===1))throw v=Md,yl(c,0),ea(c,S),$r(c,qn()),v;switch(c.finishedWork=M,c.finishedLanes=S,f){case 0:case 1:throw Error(o(345));case 2:vl(c,Jr);break;case 3:if(ea(c,S),(S&130023424)===S&&(f=Fx+500-qn(),10<f)){if(bm(c,0)!==0)break;if(M=c.suspendedLanes,(M&S)!==S){Ir(),c.pingedLanes|=c.suspendedLanes&M;break}c.timeoutHandle=Be(vl.bind(null,c,Jr),f);break}vl(c,Jr);break;case 4:if(ea(c,S),(S&4194240)===S)break;for(f=c.eventTimes,M=-1;0<S;){var G=31-ts(S);b=1<<G,G=f[G],G>M&&(M=G),S&=~b}if(S=M,S=qn()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*n4(S/1960))-S,10<S){c.timeoutHandle=Be(vl.bind(null,c,Jr),S);break}vl(c,Jr);break;case 5:vl(c,Jr);break;default:throw Error(o(329))}}}return $r(c,qn()),c.callbackNode===v?kT.bind(null,c):null}function Hx(c,f){var v=Cd;return c.current.memoizedState.isDehydrated&&(yl(c,f).flags|=256),c=pg(c,f),c!==2&&(f=Jr,Jr=v,f!==null&&Ux(f)),c}function Ux(c){Jr===null?Jr=c:Jr.push.apply(Jr,c)}function r4(c){for(var f=c;;){if(f.flags&16384){var v=f.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var S=0;S<v.length;S++){var M=v[S],b=M.getSnapshot;M=M.value;try{if(!bs(b(),M))return!1}catch{return!1}}}if(v=f.child,f.subtreeFlags&16384&&v!==null)v.return=f,f=v;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function ea(c,f){for(f&=~Dx,f&=~ag,c.suspendedLanes|=f,c.pingedLanes&=~f,c=c.expirationTimes;0<f;){var v=31-ts(f),S=1<<v;c[v]=-1,f&=~S}}function OT(c){if((mt&6)!==0)throw Error(o(327));_l();var f=bm(c,0);if((f&1)===0)return $r(c,qn()),null;var v=pg(c,f);if(c.tag!==0&&v===2){var S=V_(c);S!==0&&(f=S,v=Hx(c,S))}if(v===1)throw v=Md,yl(c,0),ea(c,f),$r(c,qn()),v;if(v===6)throw Error(o(345));return c.finishedWork=c.current.alternate,c.finishedLanes=f,vl(c,Jr),$r(c,qn()),null}function NT(c){Yo!==null&&Yo.tag===0&&(mt&6)===0&&_l();var f=mt;mt|=1;var v=Pn.transition,S=Dt;try{if(Pn.transition=null,Dt=1,c)return c()}finally{Dt=S,Pn.transition=v,mt=f,(mt&6)===0&&Ts()}}function Gx(){pi=Xu.current,jt(Xu)}function yl(c,f){c.finishedWork=null,c.finishedLanes=0;var v=c.timeoutHandle;if(v!==Le&&(c.timeoutHandle=Le,ue(v)),Nn!==null)for(v=Nn.return;v!==null;){var S=v;switch(ix(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&Am();break;case 3:$u(),jt(Wr),jt(pr),fx();break;case 5:ux(S);break;case 4:$u();break;case 13:jt(mn);break;case 19:jt(mn);break;case 10:Y_(S.type._context);break;case 22:case 23:Gx()}v=v.return}if(On=c,Nn=c=ta(c.current,null),sr=pi=f,jn=0,Md=null,Dx=ag=Qu=0,Jr=Cd=null,Rs!==null){for(f=0;f<Rs.length;f++)if(v=Rs[f],S=v.interleaved,S!==null){v.interleaved=null;var M=S.next,b=v.pending;if(b!==null){var G=b.next;b.next=M,S.next=G}v.pending=S}Rs=null}return c}function HT(c,f){do{var v=Nn;try{if(q_(),Um.current=Jm,Gm){for(var S=An.memoizedState;S!==null;){var M=S.queue;M!==null&&(M.pending=null),S=S.next}Gm=!1}if(Ku=0,Yn=mr=An=null,gd=!1,yd=0,Lx.current=null,v===null||v.return===null){jn=1,Md=f,Nn=null;break}e:{var b=c,G=v.return,Y=v,de=f;if(f=sr,Y.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var be=de,je=Y,lt=je.tag;if((je.mode&1)===0&&(lt===0||lt===11||lt===15)){var nt=je.alternate;nt?(je.updateQueue=nt.updateQueue,je.memoizedState=nt.memoizedState,je.lanes=nt.lanes):(je.updateQueue=null,je.memoizedState=null)}var Xt=oT(G);if(Xt!==null){Xt.flags&=-257,aT(Xt,G,Y,b,f),Xt.mode&1&&sT(b,be,f),f=Xt,de=be;var Ye=f.updateQueue;if(Ye===null){var vr=new Set;vr.add(de),f.updateQueue=vr}else Ye.add(de);break e}else{if((f&1)===0){sT(b,be,f),zx();break e}de=Error(o(426))}}else if(un&&Y.mode&1){var Ui=oT(G);if(Ui!==null){(Ui.flags&65536)===0&&(Ui.flags|=256),aT(Ui,G,Y,b,f),ax(de);break e}}b=de,jn!==4&&(jn=2),Cd===null?Cd=[b]:Cd.push(b),de=vx(de,Y),Y=G;do{switch(Y.tag){case 3:Y.flags|=65536,f&=-f,Y.lanes|=f;var ie=rT(Y,de,f);Mb(Y,ie);break e;case 1:b=de;var te=Y.type,ce=Y.stateNode;if((Y.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(qo===null||!qo.has(ce)))){Y.flags|=65536,f&=-f,Y.lanes|=f;var Ve=iT(Y,b,f);Mb(Y,Ve);break e}}Y=Y.return}while(Y!==null)}zT(v)}catch(qe){f=qe,Nn===v&&v!==null&&(Nn=v=v.return);continue}break}while(1)}function UT(){var c=og.current;return og.current=Jm,c===null?Jm:c}function zx(){(jn===0||jn===3||jn===2)&&(jn=4),On===null||(Qu&268435455)===0&&(ag&268435455)===0||ea(On,sr)}function pg(c,f){var v=mt;mt|=2;var S=UT();On===c&&sr===f||yl(c,f);do try{i4();break}catch(M){HT(c,M)}while(1);if(q_(),mt=v,og.current=S,Nn!==null)throw Error(o(261));return On=null,sr=0,jn}function i4(){for(;Nn!==null;)GT(Nn)}function s4(){for(;Nn!==null&&!IU();)GT(Nn)}function GT(c){var f=jT(c.alternate,c,pi);c.memoizedProps=c.pendingProps,f===null?zT(c):Nn=f,Lx.current=null}function zT(c){var f=c;do{var v=f.alternate;if(c=f.return,(f.flags&32768)===0){if(v=KU(v,f,pi),v!==null){Nn=v;return}}else{if(v=qU(v,f),v!==null){v.flags&=32767,Nn=v;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{jn=6,Nn=null;return}}if(f=f.sibling,f!==null){Nn=f;return}Nn=f=c}while(f!==null);jn===0&&(jn=5)}function vl(c,f){var v=Dt,S=Pn.transition;try{Pn.transition=null,Dt=1,o4(c,f,v)}finally{Pn.transition=S,Dt=v}return null}function o4(c,f,v){do _l();while(Yo!==null);if((mt&6)!==0)throw Error(o(327));var S=c.finishedWork,M=c.finishedLanes;if(S===null)return null;if(c.finishedWork=null,c.finishedLanes=0,S===c.current)throw Error(o(177));c.callbackNode=null,c.callbackPriority=0;var b=S.lanes|S.childLanes;if(PU(c,b),c===On&&(Nn=On=null,sr=0),(S.subtreeFlags&2064)===0&&(S.flags&2064)===0||ug||(ug=!0,JT(K_,function(){return _l(),null})),b=(S.flags&15990)!==0,(S.subtreeFlags&15990)!==0||b){b=Pn.transition,Pn.transition=null;var G=Dt;Dt=1;var Y=mt;mt|=4,Lx.current=null,ZU(c,S),e4(c,S),Z(c.containerInfo),c.current=S,t4(S),BU(),mt=Y,Dt=G,Pn.transition=b}else c.current=S;if(ug&&(ug=!1,Yo=c,cg=M),b=c.pendingLanes,b===0&&(qo=null),FU(S.stateNode),$r(c,qn()),f!==null)for(v=c.onRecoverableError,S=0;S<f.length;S++)v(f[S]);if(lg)throw lg=!1,c=Ox,Ox=null,c;return(cg&1)!==0&&c.tag!==0&&_l(),b=c.pendingLanes,(b&1)!==0?c===Nx?bd++:(bd=0,Nx=c):bd=0,Ts(),null}function _l(){if(Yo!==null){var c=xb(cg),f=Pn.transition,v=Dt;try{if(Pn.transition=null,Dt=16>c?16:c,Yo===null)var S=!1;else{if(c=Yo,Yo=null,cg=0,(mt&6)!==0)throw Error(o(331));var M=mt;for(mt|=4,Ue=c.current;Ue!==null;){var b=Ue,G=b.child;if((Ue.flags&16)!==0){var Y=b.deletions;if(Y!==null){for(var de=0;de<Y.length;de++){var be=Y[de];for(Ue=be;Ue!==null;){var je=Ue;switch(je.tag){case 0:case 11:case 15:gl(8,je,b)}var lt=je.child;if(lt!==null)lt.return=je,Ue=lt;else for(;Ue!==null;){je=Ue;var nt=je.sibling,Xt=je.return;if(CT(je),je===be){Ue=null;break}if(nt!==null){nt.return=Xt,Ue=nt;break}Ue=Xt}}}var Ye=b.alternate;if(Ye!==null){var vr=Ye.child;if(vr!==null){Ye.child=null;do{var Ui=vr.sibling;vr.sibling=null,vr=Ui}while(vr!==null)}}Ue=b}}if((b.subtreeFlags&2064)!==0&&G!==null)G.return=b,Ue=G;else e:for(;Ue!==null;){if(b=Ue,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:gl(9,b,b.return)}var ie=b.sibling;if(ie!==null){ie.return=b.return,Ue=ie;break e}Ue=b.return}}var te=c.current;for(Ue=te;Ue!==null;){G=Ue;var ce=G.child;if((G.subtreeFlags&2064)!==0&&ce!==null)ce.return=G,Ue=ce;else e:for(G=te;Ue!==null;){if(Y=Ue,(Y.flags&2048)!==0)try{switch(Y.tag){case 0:case 11:case 15:Ad(9,Y)}}catch(qe){Kr(Y,Y.return,qe)}if(Y===G){Ue=null;break e}var Ve=Y.sibling;if(Ve!==null){Ve.return=Y.return,Ue=Ve;break e}Ue=Y.return}}if(mt=M,Ts(),Cs&&typeof Cs.onPostCommitFiberRoot=="function")try{Cs.onPostCommitFiberRoot(Tm,c)}catch{}S=!0}return S}finally{Dt=v,Pn.transition=f}}return!1}function VT(c,f,v){f=vx(v,f),f=rT(c,f,1),Qo(c,f),f=Ir(),c=hg(c,1),c!==null&&(cd(c,1,f),$r(c,f))}function Kr(c,f,v){if(c.tag===3)VT(c,c,v);else for(;f!==null;){if(f.tag===3){VT(f,c,v);break}else if(f.tag===1){var S=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(qo===null||!qo.has(S))){c=vx(v,c),c=iT(f,c,1),Qo(f,c),c=Ir(),f=hg(f,1),f!==null&&(cd(f,1,c),$r(f,c));break}}f=f.return}}function a4(c,f,v){var S=c.pingCache;S!==null&&S.delete(f),f=Ir(),c.pingedLanes|=c.suspendedLanes&v,On===c&&(sr&v)===v&&(jn===4||jn===3&&(sr&130023424)===sr&&500>qn()-Fx?yl(c,0):Dx|=v),$r(c,f)}function WT(c,f){f===0&&((c.mode&1)===0?f=1:(f=Cm,Cm<<=1,(Cm&130023424)===0&&(Cm=4194304)));var v=Ir();c=hg(c,f),c!==null&&(cd(c,f,v),$r(c,v))}function l4(c){var f=c.memoizedState,v=0;f!==null&&(v=f.retryLane),WT(c,v)}function u4(c,f){var v=0;switch(c.tag){case 13:var S=c.stateNode,M=c.memoizedState;M!==null&&(v=M.retryLane);break;case 19:S=c.stateNode;break;default:throw Error(o(314))}S!==null&&S.delete(f),WT(c,v)}var jT;jT=function(c,f,v){if(c!==null)if(c.memoizedProps!==f.pendingProps||Wr.current)hi=!0;else{if((c.lanes&v)===0&&(f.flags&128)===0)return hi=!1,QU(c,f,v);hi=(c.flags&131072)!==0}else hi=!1,un&&(f.flags&1048576)!==0&&Ib(f,Om,f.index);switch(f.lanes=0,f.tag){case 2:var S=f.type;c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),c=f.pendingProps;var M=Hu(f,pr.current);Gu(f,v),M=hx(null,f,S,c,M,v);var b=px();return f.flags|=1,typeof M=="object"&&M!==null&&typeof M.render=="function"&&M.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,jr(S)?(b=!0,Em(f)):b=!1,f.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,ex(f),M.updater=Fm,f.stateNode=M,M._reactInternals=f,nx(f,S,c,v),f=wx(null,f,S,!0,b,v)):(f.tag=0,un&&b&&rx(f),Pr(null,f,M,v),f=f.child),f;case 16:S=f.elementType;e:{switch(c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),c=f.pendingProps,M=S._init,S=M(S._payload),f.type=S,M=f.tag=f4(S),c=ns(S,c),M){case 0:f=xx(null,f,S,c,v);break e;case 1:f=mT(null,f,S,c,v);break e;case 11:f=cT(null,f,S,c,v);break e;case 14:f=fT(null,f,S,ns(S.type,c),v);break e}throw Error(o(306,S,""))}return f;case 0:return S=f.type,M=f.pendingProps,M=f.elementType===S?M:ns(S,M),xx(c,f,S,M,v);case 1:return S=f.type,M=f.pendingProps,M=f.elementType===S?M:ns(S,M),mT(c,f,S,M,v);case 3:e:{if(gT(f),c===null)throw Error(o(387));S=f.pendingProps,b=f.memoizedState,M=b.element,Eb(c,f),Dm(f,S,null,v);var G=f.memoizedState;if(S=G.element,oe&&b.isDehydrated)if(b={element:S,isDehydrated:!1,cache:G.cache,transitions:G.transitions},f.updateQueue.baseState=b,f.memoizedState=b,f.flags&256){M=Error(o(423)),f=yT(c,f,S,v,M);break e}else if(S!==M){M=Error(o(424)),f=yT(c,f,S,v,M);break e}else for(oe&&(di=st(f.stateNode.containerInfo),fi=f,un=!0,rs=null,fd=!1),v=Ob(f,null,S,v),f.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Wu(),S===M){f=uo(c,f,v);break e}Pr(c,f,S,v)}f=f.child}return f;case 5:return Nb(f),c===null&&ox(f),S=f.type,M=f.pendingProps,b=c!==null?c.memoizedProps:null,G=M.children,_e(S,M)?G=null:b!==null&&_e(S,b)&&(f.flags|=32),pT(c,f),Pr(c,f,G,v),f.child;case 6:return c===null&&ox(f),null;case 13:return vT(c,f,v);case 4:return lx(f,f.stateNode.containerInfo),S=f.pendingProps,c===null?f.child=ju(f,null,S,v):Pr(c,f,S,v),f.child;case 11:return S=f.type,M=f.pendingProps,M=f.elementType===S?M:ns(S,M),cT(c,f,S,M,v);case 7:return Pr(c,f,f.pendingProps,v),f.child;case 8:return Pr(c,f,f.pendingProps.children,v),f.child;case 12:return Pr(c,f,f.pendingProps.children,v),f.child;case 10:e:{if(S=f.type._context,M=f.pendingProps,b=f.memoizedProps,G=M.value,Ab(f,S,G),b!==null)if(bs(b.value,G)){if(b.children===M.children&&!Wr.current){f=uo(c,f,v);break e}}else for(b=f.child,b!==null&&(b.return=f);b!==null;){var Y=b.dependencies;if(Y!==null){G=b.child;for(var de=Y.firstContext;de!==null;){if(de.context===S){if(b.tag===1){de=so(-1,v&-v),de.tag=2;var be=b.updateQueue;if(be!==null){be=be.shared;var je=be.pending;je===null?de.next=de:(de.next=je.next,je.next=de),be.pending=de}}b.lanes|=v,de=b.alternate,de!==null&&(de.lanes|=v),Z_(b.return,v,f),Y.lanes|=v;break}de=de.next}}else if(b.tag===10)G=b.type===f.type?null:b.child;else if(b.tag===18){if(G=b.return,G===null)throw Error(o(341));G.lanes|=v,Y=G.alternate,Y!==null&&(Y.lanes|=v),Z_(G,v,f),G=b.sibling}else G=b.child;if(G!==null)G.return=b;else for(G=b;G!==null;){if(G===f){G=null;break}if(b=G.sibling,b!==null){b.return=G.return,G=b;break}G=G.return}b=G}Pr(c,f,M.children,v),f=f.child}return f;case 9:return M=f.type,S=f.pendingProps.children,Gu(f,v),M=Li(M),S=S(M),f.flags|=1,Pr(c,f,S,v),f.child;case 14:return S=f.type,M=ns(S,f.pendingProps),M=ns(S.type,M),fT(c,f,S,M,v);case 15:return dT(c,f,f.type,f.pendingProps,v);case 17:return S=f.type,M=f.pendingProps,M=f.elementType===S?M:ns(S,M),c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,jr(S)?(c=!0,Em(f)):c=!1,Gu(f,v),Rb(f,S,M),nx(f,S,M,v),wx(null,f,S,!0,c,v);case 19:return ST(c,f,v);case 22:return hT(c,f,v)}throw Error(o(156,f.tag))};function JT(c,f){return J_(c,f)}function c4(c,f,v,S){this.tag=c,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hi(c,f,v,S){return new c4(c,f,v,S)}function Vx(c){return c=c.prototype,!(!c||!c.isReactComponent)}function f4(c){if(typeof c=="function")return Vx(c)?1:0;if(c!=null){if(c=c.$$typeof,c===g)return 11;if(c===x)return 14}return 2}function ta(c,f){var v=c.alternate;return v===null?(v=Hi(c.tag,f,c.key,c.mode),v.elementType=c.elementType,v.type=c.type,v.stateNode=c.stateNode,v.alternate=c,c.alternate=v):(v.pendingProps=f,v.type=c.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=c.flags&14680064,v.childLanes=c.childLanes,v.lanes=c.lanes,v.child=c.child,v.memoizedProps=c.memoizedProps,v.memoizedState=c.memoizedState,v.updateQueue=c.updateQueue,f=c.dependencies,v.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},v.sibling=c.sibling,v.index=c.index,v.ref=c.ref,v}function mg(c,f,v,S,M,b){var G=2;if(S=c,typeof c=="function")Vx(c)&&(G=1);else if(typeof c=="string")G=5;else e:switch(c){case d:return xl(v.children,M,b,f);case h:G=8,M|=8;break;case p:return c=Hi(12,v,f,M|2),c.elementType=p,c.lanes=b,c;case _:return c=Hi(13,v,f,M),c.elementType=_,c.lanes=b,c;case w:return c=Hi(19,v,f,M),c.elementType=w,c.lanes=b,c;case E:return gg(v,M,b,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case m:G=10;break e;case y:G=9;break e;case g:G=11;break e;case x:G=14;break e;case A:G=16,S=null;break e}throw Error(o(130,c==null?c:typeof c,""))}return f=Hi(G,v,f,M),f.elementType=c,f.type=S,f.lanes=b,f}function xl(c,f,v,S){return c=Hi(7,c,S,f),c.lanes=v,c}function gg(c,f,v,S){return c=Hi(22,c,S,f),c.elementType=E,c.lanes=v,c.stateNode={},c}function Wx(c,f,v){return c=Hi(6,c,null,f),c.lanes=v,c}function jx(c,f,v){return f=Hi(4,c.children!==null?c.children:[],c.key,f),f.lanes=v,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function d4(c,f,v,S,M){this.tag=f,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Le,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=W_(0),this.expirationTimes=W_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=W_(0),this.identifierPrefix=S,this.onRecoverableError=M,oe&&(this.mutableSourceEagerHydrationData=null)}function $T(c,f,v,S,M,b,G,Y,de){return c=new d4(c,f,v,Y,de),f===1?(f=1,b===!0&&(f|=8)):f=0,b=Hi(3,null,null,f),c.current=b,b.stateNode=c,b.memoizedState={element:S,isDehydrated:v,cache:null,transitions:null},ex(b),c}function KT(c){if(!c)return Ko;c=c._reactInternals;e:{if(O(c)!==c||c.tag!==1)throw Error(o(170));var f=c;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(jr(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(o(171))}if(c.tag===1){var v=c.type;if(jr(v))return vb(c,v,f)}return f}function XT(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(o(188)):(c=Object.keys(c).join(","),Error(o(268,c)));return c=B(f),c===null?null:c.stateNode}function QT(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var v=c.retryLane;c.retryLane=v!==0&&v<f?v:f}}function Jx(c,f){QT(c,f),(c=c.alternate)&&QT(c,f)}function h4(c){return c=B(c),c===null?null:c.stateNode}function p4(){return null}return t.attemptContinuousHydration=function(c){if(c.tag===13){var f=Ir();Ni(c,134217728,f),Jx(c,134217728)}},t.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var f=Ir(),v=Zo(c);Ni(c,v,f),Jx(c,v)}},t.attemptSynchronousHydration=function(c){switch(c.tag){case 3:var f=c.stateNode;if(f.current.memoizedState.isDehydrated){var v=ud(f.pendingLanes);v!==0&&(j_(f,v|1),$r(f,qn()),(mt&6)===0&&(qu(),Ts()))}break;case 13:var S=Ir();NT(function(){return Ni(c,1,S)}),Jx(c,1)}},t.batchedUpdates=function(c,f){var v=mt;mt|=1;try{return c(f)}finally{mt=v,mt===0&&(qu(),Rm&&Ts())}},t.createComponentSelector=function(c){return{$$typeof:tg,value:c}},t.createContainer=function(c,f,v,S,M,b,G){return $T(c,f,!1,null,v,S,M,b,G)},t.createHasPseudoClassSelector=function(c){return{$$typeof:ng,value:c}},t.createHydrationContainer=function(c,f,v,S,M,b,G,Y,de){return c=$T(v,S,!0,c,M,b,G,Y,de),c.context=KT(null),v=c.current,S=Ir(),M=Zo(v),b=so(S,M),b.callback=f!=null?f:null,Qo(v,b),c.current.lanes=M,cd(c,M,S),$r(c,S),c},t.createPortal=function(c,f,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:S==null?null:""+S,children:c,containerInfo:f,implementation:v}},t.createRoleSelector=function(c){return{$$typeof:rg,value:c}},t.createTestNameSelector=function(c){return{$$typeof:ig,value:c}},t.createTextSelector=function(c){return{$$typeof:sg,value:c}},t.deferredUpdates=function(c){var f=Dt,v=Pn.transition;try{return Pn.transition=null,Dt=16,c()}finally{Dt=f,Pn.transition=v}},t.discreteUpdates=function(c,f,v,S,M){var b=Dt,G=Pn.transition;try{return Pn.transition=null,Dt=1,c(f,v,S,M)}finally{Dt=b,Pn.transition=G,mt===0&&qu()}},t.findAllNodes=Bx,t.findBoundingRects=function(c,f){if(!Ze)throw Error(o(363));f=Bx(c,f),c=[];for(var v=0;v<f.length;v++)c.push(z(f[v]));for(f=c.length-1;0<f;f--){v=c[f];for(var S=v.x,M=S+v.width,b=v.y,G=b+v.height,Y=f-1;0<=Y;Y--)if(f!==Y){var de=c[Y],be=de.x,je=be+de.width,lt=de.y,nt=lt+de.height;if(S>=be&&b>=lt&&M<=je&&G<=nt){c.splice(f,1);break}else if(S!==be||v.width!==de.width||nt<b||lt>G){if(!(b!==lt||v.height!==de.height||je<S||be>M)){be>S&&(de.width+=be-S,de.x=S),je<M&&(de.width=M-be),c.splice(f,1);break}}else{lt>b&&(de.height+=lt-b,de.y=b),nt<G&&(de.height=G-lt),c.splice(f,1);break}}}return c},t.findHostInstance=XT,t.findHostInstanceWithNoPortals=function(c){return c=P(c),c=c!==null?W(c):null,c===null?null:c.stateNode},t.findHostInstanceWithWarning=function(c){return XT(c)},t.flushControlled=function(c){var f=mt;mt|=1;var v=Pn.transition,S=Dt;try{Pn.transition=null,Dt=1,c()}finally{Dt=S,Pn.transition=v,mt=f,mt===0&&(qu(),Ts())}},t.flushPassiveEffects=_l,t.flushSync=NT,t.focusWithin=function(c,f){if(!Ze)throw Error(o(363));for(c=Rx(c),f=FT(c,f),f=Array.from(f),c=0;c<f.length;){var v=f[c++];if(!ee(v)){if(v.tag===5&&Fe(v.stateNode))return!0;for(v=v.child;v!==null;)f.push(v),v=v.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Dt},t.getFindAllNodesFailureDescription=function(c,f){if(!Ze)throw Error(o(363));var v=0,S=[];c=[Rx(c),0];for(var M=0;M<c.length;){var b=c[M++],G=c[M++],Y=f[G];if((b.tag!==5||!ee(b))&&(Px(b,Y)&&(S.push(Ix(Y)),G++,G>v&&(v=G)),G<f.length))for(b=b.child;b!==null;)c.push(b,G),b=b.sibling}if(v<f.length){for(c=[];v<f.length;v++)c.push(Ix(f[v]));return`findAllNodes was able to match part of the selector:
  `+(S.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},t.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return J(c.child.stateNode);default:return c.child.stateNode}},t.injectIntoDevTools=function(c){if(c={bundleType:c.bundleType,version:c.version,rendererPackageName:c.rendererPackageName,rendererConfig:c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:h4,findFiberByHostInstance:c.findFiberByHostInstance||p4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined")c=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)c=!0;else{try{Tm=f.inject(c),Cs=f}catch{}c=!!f.checkDCE}}return c},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(c,f,v,S){if(!Ze)throw Error(o(363));c=Bx(c,f);var M=ke(c,v,S).disconnect;return{disconnect:function(){M()}}},t.registerMutableSourceForHydration=function(c,f){var v=f._getVersion;v=v(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,v]:c.mutableSourceEagerHydrationData.push(f,v)},t.runWithPriority=function(c,f){var v=Dt;try{return Dt=c,f()}finally{Dt=v}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(c,f,v,S){var M=f.current,b=Ir(),G=Zo(M);return v=KT(v),f.context===null?f.context=v:f.pendingContext=v,f=so(b,G),f.payload={element:c},S=S===void 0?null:S,S!==null&&(f.callback=S),Qo(M,f),c=Ni(M,G,b),c!==null&&Lm(c,M,G),G},t};OH.exports=Ise;var Bse=OH.exports;function NH(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}const wo=[];function HH(n,e,t=!1,r={}){for(const s of wo)if(NH(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,promise:n(...e).then(s=>i.response=s).then(()=>{r.lifespan&&r.lifespan>0&&setTimeout(()=>{const s=wo.indexOf(i);s!==-1&&wo.splice(s,1)},r.lifespan)}).catch(s=>i.error=s)};if(wo.push(i),!t)throw i.promise}const Lse=(n,e,t)=>HH(n,e,!1,t),Dse=(n,e,t)=>void HH(n,e,!0,t),Fse=n=>{if(n===void 0||n.length===0)wo.splice(0,wo.length);else{const e=wo.find(t=>NH(n,t.keys,t.equal));if(e){const t=wo.indexOf(e);t!==-1&&wo.splice(t,1)}}},UH=n=>n&&n.isOrthographicCamera,kse=typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),gm=kse?V.exports.useEffect:V.exports.useLayoutEffect;function GH(n){const e=V.exports.useRef(n);return gm(()=>void(e.current=n),[n]),e}function Ose({set:n}){return gm(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class zH extends V.exports.Component{constructor(...e){super(...e);this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}zH.getDerivedStateFromError=()=>({error:!0});const VH="__default",Nse=n=>n&&!!n.memoized&&!!n.changes;function WH(n){return Array.isArray(n)?Math.min(Math.max(n[0],window.devicePixelRatio),n[1]):n}const F0=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},fn={obj:n=>n===Object(n)&&!fn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(fn.str(n)||fn.num(n))return n===e;const s=fn.obj(n);if(s&&r==="reference")return n===e;const o=fn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;for(a in i?e:n)if(n[a]!==e[a])return!1;if(fn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Hse(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function Use(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function bc(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f=Bt({type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},e)),n}function KA(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const qB=/-\d+$/;function ww(n,e,t){if(fn.str(t)){if(qB.test(t)){const s=t.replace(qB,""),{target:o,key:a}=KA(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=KA(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function YB(n,e,t){var r,i;if(fn.str(t)){const{target:s,key:o}=KA(n,t);s[o]=e.__r3f.previousAttach}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function jH(n,d,p={},u=!1){var h=d,{children:e,key:t,ref:r}=h,i=Ls(h,["children","key","ref"]);var m=p,{children:s,key:o,ref:a}=m,l=Ls(m,["children","key","ref"]);var y;const g=(y=n==null?void 0:n.__r3f)!=null?y:{},_=Object.entries(i),w=[];if(u){const A=Object.keys(l);for(let E=0;E<A.length;E++)i.hasOwnProperty(A[E])||_.unshift([A[E],VH+"remove"])}_.forEach(([A,E])=>{var C;if((C=n.__r3f)!=null&&C.primitive&&A==="object"||fn.equ(E,l[A]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(A))return w.push([A,E,!0,[]]);let T=[];A.includes("-")&&(T=A.split("-")),w.push([A,E,!1,T])});const x=Bt({},i);return g.memoizedProps&&g.memoizedProps.args&&(x.args=g.memoizedProps.args),g.memoizedProps&&g.memoizedProps.attach&&(x.attach=g.memoizedProps.attach),{memoized:x,changes:w}}function Sw(n,e){var t,r;const i=(t=n==null?void 0:n.__r3f)!=null?t:{},s=i.root,o=(r=s==null||s.getState==null?void 0:s.getState())!=null?r:{},{memoized:a,changes:l}=Nse(e)?e:jH(n,e),u=i.eventCount;if(n.__r3f&&(n.__r3f.memoizedProps=a),l.forEach(([d,h,p,m])=>{let y=n,g=y[d];if(m.length&&(g=m.reduce((x,A)=>x[A],n),!(g&&g.set))){const[x,...A]=m.reverse();y=A.reverse().reduce((E,C)=>E[C],n),d=x}if(h===VH+"remove")if(g&&g.constructor){var _;h=new g.constructor(...(_=a.args)!=null?_:[])}else if(y.constructor){var w;const x=new y.constructor(...(w=y.__r3f.memoizedProps.args)!=null?w:[]);h=x[g],x.dispose&&x.dispose()}else h=0;if(p)h?i.handlers[d]=h:delete i.handlers[d],i.eventCount=Object.keys(i.handlers).length;else if(g&&g.set&&(g.copy||g instanceof au)){if(Array.isArray(h))g.fromArray?g.fromArray(h):g.set(...h);else if(g.copy&&h&&h.constructor&&g.constructor.name===h.constructor.name)g.copy(h);else if(h!==void 0){const x=g instanceof Ie;!x&&g.setScalar?g.setScalar(h):g instanceof au&&h instanceof au?g.mask=h.mask:g.set(h),!Dr&&!o.linear&&x&&g.convertSRGBToLinear()}}else y[d]=h,!o.linear&&y[d]instanceof Sn&&(y[d].encoding=Ut);Tc(n)}),i.parent&&o.internal&&n.raycast&&u!==i.eventCount){const d=o.internal.interaction.indexOf(n);d>-1&&o.internal.interaction.splice(d,1),i.eventCount&&o.internal.interaction.push(n)}return l.length&&n.parent&&XA(n),n}function Tc(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function XA(n){n.onUpdate==null||n.onUpdate(n)}function Gse(n,e){n.manual||(UH(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Aw(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function zse(){var n,e;switch((n=window)==null||(e=n.event)==null?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return sf.exports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return sf.exports.ContinuousEventPriority;default:return sf.exports.DefaultEventPriority}}function JH(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function Vse(n,e){const{events:t,internal:r}=n.getState();r.interaction=r.interaction.filter(i=>i!==e),r.initialHits=r.initialHits.filter(i=>i!==e),r.hovered.forEach((i,s)=>{(i.eventObject===e||i.object===e)&&r.hovered.delete(s)}),r.capturedMap.forEach((i,s)=>{JH(r.capturedMap,e,i,s)})}function Wse(n){const e=new F;function t(u){const{internal:d}=n.getState(),h=u.offsetX-d.initialClick[0],p=u.offsetY-d.initialClick[1];return Math.round(Math.sqrt(h*h+p*p))}function r(u){return u.filter(d=>["Move","Over","Enter","Out","Leave"].some(h=>{var p;return(p=d.__r3f)==null?void 0:p.handlers["onPointer"+h]}))}function i(u,d){const h=n.getState(),p=new Set,m=[],y=d?d(h.internal.interaction):h.internal.interaction;y.forEach(w=>{const x=F0(w);x&&(x.raycaster.camera=void 0)}),h.previousRoot||h.events.compute==null||h.events.compute(u,h);let g=y.flatMap(w=>{const x=F0(w);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var A;x.events.compute==null||x.events.compute(u,x,(A=x.previousRoot)==null?void 0:A.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(w,!0):[]}).sort((w,x)=>{const A=F0(w.object),E=F0(x.object);return!A||!E?0:E.events.priority-A.events.priority||w.distance-x.distance}).filter(w=>{const x=Aw(w);return p.has(x)?!1:(p.add(x),!0)});h.events.filter&&(g=h.events.filter(g,h));for(const w of g){let x=w.object;for(;x;){var _;(_=x.__r3f)!=null&&_.eventCount&&m.push(Br(Bt({},w),{eventObject:x})),x=x.parent}}if("pointerId"in u&&h.internal.capturedMap.has(u.pointerId))for(let w of h.internal.capturedMap.get(u.pointerId).values())m.push(w.intersection);return m}function s(u,d,h,p){const{raycaster:m,pointer:y,camera:g,internal:_}=n.getState();if(u.length){const w=e.set(y.x,y.y,0).unproject(g),x={stopped:!1};for(const A of u){const E=O=>{var L,P;return(L=(P=_.capturedMap.get(O))==null?void 0:P.has(A.eventObject))!=null?L:!1},C=O=>{const L={intersection:A,target:d.target};_.capturedMap.has(O)?_.capturedMap.get(O).set(A.eventObject,L):_.capturedMap.set(O,new Map([[A.eventObject,L]])),d.target.setPointerCapture(O)},T=O=>{const L=_.capturedMap.get(O);L&&JH(_.capturedMap,A.eventObject,L,O)};let R={};for(let O in d){let L=d[O];typeof L!="function"&&(R[O]=L)}let I=Br(Bt(Bt({},A),R),{pointer:y,intersections:u,stopped:x.stopped,delta:h,unprojectedPoint:w,ray:m.ray,camera:g,stopPropagation:()=>{const O="pointerId"in d&&_.capturedMap.get(d.pointerId);if((!O||O.has(A.eventObject))&&(I.stopped=x.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(L=>L.eventObject===A.eventObject))){const L=u.slice(0,u.indexOf(A));o([...L,A])}},target:{hasPointerCapture:E,setPointerCapture:C,releasePointerCapture:T},currentTarget:{hasPointerCapture:E,setPointerCapture:C,releasePointerCapture:T},nativeEvent:d});if(p(I),x.stopped===!0)break}}return u}function o(u){const{internal:d}=n.getState();Array.from(d.hovered.values()).forEach(h=>{if(!u.length||!u.find(p=>p.object===h.object&&p.index===h.index&&p.instanceId===h.instanceId)){const m=h.eventObject.__r3f,y=m==null?void 0:m.handlers;if(d.hovered.delete(Aw(h)),m!=null&&m.eventCount){const g=Br(Bt({},h),{intersections:u||[]});y.onPointerOut==null||y.onPointerOut(g),y.onPointerLeave==null||y.onPointerLeave(g)}}})}const a=u=>{switch(u){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return d=>{const{internal:h}=n.getState();"pointerId"in d&&!h.capturedMap.has(d.pointerId)&&(h.capturedMap.delete(d.pointerId),o([]))}}return d=>{const{onPointerMissed:h,internal:p}=n.getState();p.lastEvent.current=d;const m=u==="onPointerMove",y=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",_=i(d,m?r:void 0),w=y?t(d):0;u==="onPointerDown"&&(p.initialClick=[d.offsetX,d.offsetY],p.initialHits=_.map(x=>x.eventObject)),y&&!_.length&&w<=2&&(l(d,p.interaction),h&&h(d)),m&&o(_),s(_,d,w,x=>{const A=x.eventObject,E=A.__r3f,C=E==null?void 0:E.handlers;if(!!(E!=null&&E.eventCount))if(m){if(C.onPointerOver||C.onPointerEnter||C.onPointerOut||C.onPointerLeave){const T=Aw(x),R=p.hovered.get(T);R?R.stopped&&x.stopPropagation():(p.hovered.set(T,x),C.onPointerOver==null||C.onPointerOver(x),C.onPointerEnter==null||C.onPointerEnter(x))}C.onPointerMove==null||C.onPointerMove(x)}else{const T=C[u];T?(!y||p.initialHits.includes(A))&&(l(d,p.interaction.filter(R=>!p.initialHits.includes(R))),T(x)):y&&p.initialHits.includes(A)&&l(d,p.interaction.filter(R=>!p.initialHits.includes(R)))}})}};function l(u,d){d.forEach(h=>{var p;return(p=h.__r3f)==null||p.handlers.onPointerMissed==null?void 0:p.handlers.onPointerMissed(u)})}return{handlePointer:a}}let QA={},jse=n=>void(QA=Bt(Bt({},QA),n));function Jse(n,e){function t(u,y,m){var g=y,{args:d=[],attach:h}=g,p=Ls(g,["args","attach"]);let _=`${u[0].toUpperCase()}${u.slice(1)}`,w;if(h===void 0&&(_.endsWith("Geometry")?h="geometry":_.endsWith("Material")&&(h="material")),u==="primitive"){if(p.object===void 0)throw"Primitives without 'object' are invalid!";const x=p.object;w=bc(x,{type:u,root:m,attach:h,primitive:!0})}else{const x=QA[_];if(!x)throw`${_} is not part of the THREE namespace! Did you forget to extend? See: https://github.com/pmndrs/react-three-fiber/blob/master/markdown/api.md#using-3rd-party-objects-declaratively`;if(!Array.isArray(d))throw"The args prop must be an array!";w=bc(new x(...d),{type:u,root:m,attach:h,memoizedProps:{args:d}})}return _!=="inject"&&Sw(w,p),w}function r(u,d){let h=!1;if(d){var p,m;(p=d.__r3f)!=null&&p.attach?ww(u,d,d.__r3f.attach):d.isObject3D&&u.isObject3D&&(u.add(d),h=!0),h||(m=u.__r3f)==null||m.objects.push(d),d.__r3f||bc(d,{}),d.__r3f.parent=u,XA(d),Tc(d)}}function i(u,d,h){let p=!1;if(d){var m,y;if((m=d.__r3f)!=null&&m.attach)ww(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){d.parent=u,d.dispatchEvent({type:"added"});const g=u.children.filter(w=>w!==d),_=g.indexOf(h);u.children=[...g.slice(0,_),d,...g.slice(_)],p=!0}p||(y=u.__r3f)==null||y.objects.push(d),d.__r3f||bc(d,{}),d.__r3f.parent=u,XA(d),Tc(d)}}function s(u,d,h=!1){u&&[...u].forEach(p=>o(d,p,h))}function o(u,d,h){if(d){var p,m,y;if(d.__r3f&&(d.__r3f.parent=null),(p=u.__r3f)!=null&&p.objects&&(u.__r3f.objects=u.__r3f.objects.filter(A=>A!==d)),(m=d.__r3f)!=null&&m.attach)YB(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){var g;u.remove(d),(g=d.__r3f)!=null&&g.root&&Vse(d.__r3f.root,d)}const w=(y=d.__r3f)==null?void 0:y.primitive,x=h===void 0?d.dispose!==null&&!w:h;if(!w){var _;s((_=d.__r3f)==null?void 0:_.objects,d,x),s(d.children,d,x)}d.__r3f&&(delete d.__r3f.root,delete d.__r3f.objects,delete d.__r3f.handlers,delete d.__r3f.memoizedProps,w||delete d.__r3f),x&&d.dispose&&d.type!=="Scene"&&Ih.exports.unstable_scheduleCallback(Ih.exports.unstable_IdlePriority,()=>{try{d.dispose()}catch{}}),Tc(u)}}function a(u,d,h,p){var m,y;const g=(m=u.__r3f)==null?void 0:m.parent;if(!g)return;const _=t(d,h,(y=u.__r3f)==null?void 0:y.root);d!=="primitive"&&u.children&&(u.children.forEach(w=>r(_,w)),u.children=[]),u.__r3f.objects.forEach(w=>r(_,w)),u.__r3f.objects=[],o(g,u),r(g,_),_.raycast&&_.__r3f.eventCount&&_.__r3f.root.getState().internal.interaction.push(_),[p,p.alternate].forEach(w=>{w!==null&&(w.stateNode=_,w.ref&&(typeof w.ref=="function"?w.ref(_):w.ref.current=_))})}return{reconciler:Bse({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMicrotask:!0,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,noTimeout:-1,appendChildToContainer:(u,d)=>{const h=u.getState().scene;h.__r3f.root=u,r(h,d)},removeChildFromContainer:(u,d)=>o(u.getState().scene,d),insertInContainerBefore:(u,d,h)=>i(u.getState().scene,d,h),getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var d;return!!((d=u==null?void 0:u.__r3f)!=null?d:{}).handlers},prepareUpdate(u,d,h,p){if(u.__r3f.primitive&&p.object&&p.object!==u)return[!0];{const m=p,{args:g=[],children:_}=m,w=Ls(m,["args","children"]),y=h,{args:x=[],children:A}=y,E=Ls(y,["args","children"]);if(!Array.isArray(g))throw"The args prop must be an array!";if(g.some((T,R)=>T!==x[R]))return[!0];const C=jH(u,w,E,!0);return C.changes.length?[!1,C]:null}},commitUpdate(u,[d,h],p,m,y,g){d?a(u,p,y,g):Sw(u,h)},commitMount(u,d,h,p){var m;const y=(m=u==null?void 0:u.__r3f)!=null?m:{};u.raycast&&y.handlers&&y.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,shouldDeprioritizeSubtree:()=>!1,prepareForCommit:()=>null,preparePortalMount:u=>bc(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,detachDeletedInstance:()=>{},createTextInstance:()=>{},hideInstance(u){var d;const{attach:h,parent:p}=(d=u==null?void 0:u.__r3f)!=null?d:{};h&&p&&YB(p,u,h),u.isObject3D&&(u.visible=!1),Tc(u)},unhideInstance(u,d){var h;const{attach:p,parent:m}=(h=u==null?void 0:u.__r3f)!=null?h:{};p&&m&&ww(m,u,p),(u.isObject3D&&d.visible==null||d.visible)&&(u.visible=!0),Tc(u)},hideTextInstance:()=>{throw new Error("Text is not allowed in the R3F tree.")},getCurrentEventPriority:()=>e?e():sf.exports.DefaultEventPriority,now:typeof performance!="undefined"&&fn.fun(performance.now)?performance.now:fn.fun(Date.now)?Date.now:void 0,scheduleTimeout:fn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:fn.fun(clearTimeout)?clearTimeout:void 0,setTimeout:fn.fun(setTimeout)?setTimeout:void 0,clearTimeout:fn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Sw}}const $H=n=>!!(n!=null&&n.render),KH=V.exports.createContext(null),$se=(n,e)=>{const t=kH((o,a)=>{const l=new F,u=new F,d=new F;function h(g=a().camera,_=u,w=a().size){const{width:x,height:A}=w,E=x/A;_ instanceof F?d.copy(_):d.set(..._);const C=g.getWorldPosition(l).distanceTo(d);if(UH(g))return{width:x/g.zoom,height:A/g.zoom,factor:1,distance:C,aspect:E};{const T=g.fov*Math.PI/180,R=2*Math.tan(T/2)*C,I=R*(x/A);return{width:I,height:R,factor:x/I,distance:C,aspect:E}}}let p;const m=g=>o(_=>({performance:Br(Bt({},_.performance),{current:g})})),y=new ye;return{set:o,get:a,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:()=>n(a()),advance:(g,_)=>e(g,_,a()),legacy:!1,linear:!1,flat:!1,scene:bc(new um),controls:null,clock:new YC,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=a();p&&clearTimeout(p),g.performance.current!==g.performance.min&&m(g.performance.min),p=setTimeout(()=>m(a().performance.max),g.performance.debounce)}},size:{width:0,height:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:g=>o(_=>Br(Bt({},_),{events:Bt(Bt({},_.events),g)})),setSize:(g,_)=>{const w=a().camera,x={width:g,height:_};o(A=>({size:x,viewport:Bt(Bt({},A.viewport),h(w,u,x))}))},setDpr:g=>o(_=>{const w=WH(g);return{viewport:Br(Bt({},_.viewport),{dpr:w,initialDpr:_.viewport.initialDpr||w})}}),setFrameloop:(g="always")=>{const _=a().clock;_.stop(),_.elapsedTime=0,g!=="never"&&(_.start(),_.elapsedTime=0),o(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:V.exports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,_,w)=>(o(({internal:x})=>({internal:Br(Bt({},x),{priority:x.priority+(_>0?1:0),subscribers:[...x.subscribers,{ref:g,priority:_,store:w}].sort((A,E)=>A.priority-E.priority)})})),()=>{o(({internal:x})=>({internal:Br(Bt({},x),{priority:x.priority-(_>0?1:0),subscribers:x.subscribers.filter(A=>A.ref!==g)})}))})}}}),r=t.getState();let i=r.size,s=r.viewport.dpr;return t.subscribe(()=>{const{camera:o,size:a,viewport:l,gl:u}=t.getState();(a!==i||l.dpr!==s)&&(Gse(o,a),u.setPixelRatio(l.dpr),u.setSize(a.width,a.height),i=a,s=l.dpr)}),t.subscribe(o=>n(o)),t};function Kse(n,e){const t=e.length;return e.push(n),()=>void e.splice(t,1)}let Sa,fy=[],Ew=[],ZB=[];const Xse=n=>Kse(n,fy);function eh(n,e){for(Sa=0;Sa<n.length;Sa++)n[Sa](e)}let Mw,Cw;function bw(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),Mw=e.internal.subscribers,Sa=0;Sa<Mw.length;Sa++)Cw=Mw[Sa],Cw.ref.current(Cw.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Qse(n){let e=!1,t,r,i;function s(l){if(r=requestAnimationFrame(s),e=!0,t=0,fy.length&&eh(fy,l),n.forEach(u=>{var d;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((d=i.gl.xr)!=null&&d.isPresenting)&&(t+=bw(l,i))}),Ew.length&&eh(Ew,l),t===0)return ZB.length&&eh(ZB,l),e=!1,cancelAnimationFrame(r)}function o(l){var u;if(!l)return n.forEach(d=>o(d.store.getState()));(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+1),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,d,h){u&&eh(fy,l),d?bw(l,d,h):n.forEach(p=>bw(l,p.store.getState())),u&&eh(Ew,l)}return{loop:s,invalidate:o,advance:a}}function XH(){const n=V.exports.useContext(KH);if(!n)throw"R3F hooks can only be used within the Canvas component!";return n}function _o(n=t=>t,e){return XH()(n,e)}function QH(n,e=0){const t=XH(),r=t.getState().internal.subscribe,i=GH(n);return gm(()=>r(i,e,t),[e,r,t]),null}function qH(n,e){return function(t,...r){const i=new t;return n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,Hse(l.scene)),o(l)},e,l=>a(`Could not load ${s}: ${l.message}`)))))}}function ym(n,e,t,r){const i=Array.isArray(e)?e:[e],s=Lse(qH(t,r),[n,...i],{equal:fn.equ});return Array.isArray(e)?s:s[0]}ym.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return Dse(qH(t),[n,...r])};ym.clear=function(n,e){const t=Array.isArray(e)?e:[e];return Fse([n,...t])};const zf=new Map,{invalidate:qse,advance:eL}=Qse(zf),{reconciler:sv,applyProps:fh}=Jse(zf,zse),Ec={objects:"shallow",strict:!1},Yse=(n,e)=>{const t=typeof n=="function"?n(e):n;return $H(t)?t:new Wt(Bt({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0},n))};function Zse(n){let e=zf.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=r||$se(qse,eL),s=t||sv.createContainer(i,sf.exports.ConcurrentRoot,!1,null);e||zf.set(n,{fiber:s,store:i});let o,a=!1;return{configure(l={}){var u,d,h,p;let{gl:m,size:y,events:g,onCreated:_,shadows:w=!1,linear:x=!1,flat:A=!1,legacy:E=!1,orthographic:C=!1,frameloop:T="always",dpr:R=[1,2],performance:I,raycaster:O,camera:L,onPointerMissed:P}=l,B=i.getState(),q=B.gl;B.gl||B.set({gl:q=Yse(m,n)});let W=B.raycaster;W||B.set({raycaster:W=new CH});const X=O||{},{params:$}=X,J=Ls(X,["params"]);if(fn.equ(J,W,Ec)||fh(W,Bt({},J)),fn.equ($,W.params,Ec)||fh(W,{params:Bt(Bt({},W.params),$)}),!B.camera){const Z=L instanceof nd,ae=Z?L:C?new Js(0,0,0,0,.1,1e3):new Yt(75,0,.1,1e3);Z||(ae.position.z=5,L&&fh(ae,L),L!=null&&L.rotation||ae.lookAt(0,0,0)),B.set({camera:ae})}if(!B.xr){const Z=(se,pe)=>{const _e=i.getState();_e.frameloop!=="never"&&eL(se,!0,_e,pe)},ae=()=>{const se=i.getState().gl;se.xr.enabled=se.xr.isPresenting,se.xr.setAnimationLoop(se.xr.isPresenting?Z:null)},Q={connect(){const se=i.getState().gl;se.xr.addEventListener("sessionstart",ae),se.xr.addEventListener("sessionend",ae)},disconnect(){const se=i.getState().gl;se.xr.removeEventListener("sessionstart",ae),se.xr.removeEventListener("sessionend",ae)}};q.xr&&Q.connect(),B.set({xr:Q})}if(q.shadowMap){const Z=fn.boo(w);if(Z&&q.shadowMap.enabled!==w||!fn.equ(w,q.shadowMap,Ec)){const ae=q.shadowMap.enabled;q.shadowMap.enabled=!!w,Z?q.shadowMap.type=dC:Object.assign(q.shadowMap,w),ae!==q.shadowMap.enabled&&(q.shadowMap.needsUpdate=!0)}}Dr&&(Dr.legacyMode=E);const K=x?xs:Ut,k=A?ys:gC;return q.outputEncoding!==K&&(q.outputEncoding=K),q.toneMapping!==k&&(q.toneMapping=k),B.legacy!==E&&B.set(()=>({legacy:E})),B.linear!==x&&B.set(()=>({linear:x})),B.flat!==A&&B.set(()=>({flat:A})),m&&!fn.fun(m)&&!$H(m)&&!fn.equ(m,q,Ec)&&fh(q,m),g&&!B.events.handlers&&B.set({events:g(i)}),R&&B.viewport.dpr!==WH(R)&&B.setDpr(R),y=y||{width:(u=(d=n.parentElement)==null?void 0:d.clientWidth)!=null?u:0,height:(h=(p=n.parentElement)==null?void 0:p.clientHeight)!=null?h:0},fn.equ(y,B.size,Ec)||B.setSize(y.width,y.height),B.frameloop!==T&&B.setFrameloop(T),B.onPointerMissed||B.set({onPointerMissed:P}),I&&!fn.equ(I,B.performance,Ec)&&B.set(Z=>({performance:Bt(Bt({},Z.performance),I)})),o=_,a=!0,this},render(l){return a||this.configure(),sv.updateContainer(V.exports.createElement(eoe,{store:i,children:l,onCreated:o,rootElement:n}),s,null,()=>{}),i},unmount(){YH(n)}}}function eoe({store:n,children:e,onCreated:t,rootElement:r}){return gm(()=>{const i=n.getState();i.set(s=>({internal:Br(Bt({},s.internal),{active:!0})})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),V.exports.createElement(KH.Provider,{value:n},e)}function YH(n,e){const t=zf.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),sv.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Use(i),zf.delete(n),e&&e(n)}catch{}},500)})}}sv.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:"18.0.0"});function tL(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function qA(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var d=Date.now()-o;d<e&&d>=0?r=setTimeout(l,e-d):(r=null,t||(a=n.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var d=t&&!r;return r||(r=setTimeout(l,e)),d&&(a=n.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}qA.debounce=qA;var nL=qA;function toe(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window=="undefined"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=V.exports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=V.exports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,d=e?typeof e=="number"?e:e.resize:null,h=V.exports.useRef(!1);V.exports.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,m,y]=V.exports.useMemo(()=>{const x=()=>{if(!l.current.element)return;const{left:A,top:E,width:C,height:T,bottom:R,right:I,x:O,y:L}=l.current.element.getBoundingClientRect(),P={left:A,top:E,width:C,height:T,bottom:R,right:I,x:O,y:L};l.current.element instanceof HTMLElement&&i&&(P.height=l.current.element.offsetHeight,P.width=l.current.element.offsetWidth),Object.freeze(P),h.current&&!soe(l.current.lastBounds,P)&&a(l.current.lastBounds=P)};return[x,d?nL(x,d):x,u?nL(x,u):x]},[a,i,u,d]);function g(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",y,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function _(){!l.current.element||(l.current.resizeObserver=new s(y),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(x=>x.addEventListener("scroll",y,{capture:!0,passive:!0})))}const w=x=>{!x||x===l.current.element||(g(),l.current.element=x,l.current.scrollContainers=ZH(x),_())};return roe(y,Boolean(t)),noe(m),V.exports.useEffect(()=>{g(),_()},[t,y,m]),V.exports.useEffect(()=>g,[]),[w,o,p]}function noe(n){V.exports.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function roe(n,e){V.exports.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function ZH(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...ZH(n.parentElement)]}const ioe=["x","y","top","bottom","left","right","width","height"],soe=(n,e)=>ioe.every(t=>n[t]===e[t]),Tw={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function ooe(n){const{handlePointer:e}=Wse(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(Tw).reduce((t,r)=>Br(Bt({},t),{[r]:e(r)}),{}),connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:Br(Bt({},o.events),{connected:t})})),Object.entries((r=s==null?void 0:s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=Tw[o];t.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=Tw[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:Br(Bt({},s.events),{connected:void 0})}))}}}}const $ae=V.exports.forwardRef(function(C,E){var T=C,{children:e,fallback:t,resize:r,style:i,gl:s,events:o=ooe,shadows:a,linear:l,flat:u,legacy:d,orthographic:h,frameloop:p,dpr:m,performance:y,raycaster:g,camera:_,onPointerMissed:w,onCreated:x}=T,A=Ls(T,["children","fallback","resize","style","gl","events","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","onPointerMissed","onCreated"]);V.exports.useMemo(()=>jse(FH),[]);const[R,{width:I,height:O}]=toe(Bt({scroll:!0,debounce:{scroll:50,resize:0}},r)),L=V.exports.useRef(null),P=V.exports.useRef(null),[B,q]=V.exports.useState(null),W=GH(w),[$,J]=V.exports.useState(!1),[K,k]=V.exports.useState(!1);if($)throw $;if(K)throw K;const X=V.exports.useRef(null);return I>0&&O>0&&B&&(X.current||(X.current=Zse(B)),X.current.configure({gl:s,events:o,shadows:a,linear:l,flat:u,legacy:d,orthographic:h,frameloop:p,dpr:m,performance:y,raycaster:g,camera:_,size:{width:I,height:O},onPointerMissed:(...Z)=>W.current==null?void 0:W.current(...Z),onCreated:Z=>{Z.events.connect==null||Z.events.connect(P.current),x==null||x(Z)}}),X.current.render(V.exports.createElement(zH,{set:k},V.exports.createElement(V.exports.Suspense,{fallback:V.exports.createElement(Ose,{set:J})},e)))),gm(()=>{q(L.current)},[]),V.exports.useEffect(()=>{if(B)return()=>YH(B)},[B]),V.exports.createElement("div",Re({ref:tL([P,R]),style:Bt({position:"relative",width:"100%",height:"100%",overflow:"hidden"},i)},A),V.exports.createElement("canvas",{ref:tL([L,E]),style:{display:"block"}},t))});let th=0;const Kae=kH(n=>($c.onStart=(e,t,r)=>{n({active:!0,item:e,loaded:t,total:r,progress:(t-th)/(r-th)*100})},$c.onLoad=()=>{n({active:!1})},$c.onError=e=>n(t=>({errors:[...t.errors,e]})),$c.onProgress=(e,t,r)=>{t===r&&(th=r),n({active:!0,item:e,loaded:t,total:r,progress:(t-th)/(r-th)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));let rb=_m();const It=n=>vm(n,rb);let ib=_m();It.write=n=>vm(n,ib);let k_=_m();It.onStart=n=>vm(n,k_);let sb=_m();It.onFrame=n=>vm(n,sb);let ob=_m();It.onFinish=n=>vm(n,ob);let of=[];It.setTimeout=(n,e)=>{let t=It.now()+e,r=()=>{let s=of.findIndex(o=>o.cancel==r);~s&&of.splice(s,1),Ea-=~s?1:0},i={time:t,handler:n,cancel:r};return of.splice(eU(t),0,i),Ea+=1,tU(),i};let eU=n=>~(~of.findIndex(e=>e.time>n)||~of.length);It.cancel=n=>{k_.delete(n),sb.delete(n),rb.delete(n),ib.delete(n),ob.delete(n)};It.sync=n=>{YA=!0,It.batchedUpdates(n),YA=!1};It.throttle=n=>{let e;function t(){try{n(...e)}finally{e=null}}function r(...i){e=i,It.onStart(t)}return r.handler=n,r.cancel=()=>{k_.delete(t),e=null},r};let ab=typeof window!="undefined"?window.requestAnimationFrame:()=>{};It.use=n=>ab=n;It.now=typeof performance!="undefined"?()=>performance.now():Date.now;It.batchedUpdates=n=>n();It.catch=console.error;It.frameLoop="always";It.advance=()=>{It.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):rU()};let Aa=-1,Ea=0,YA=!1;function vm(n,e){YA?(e.delete(n),n(0)):(e.add(n),tU())}function tU(){Aa<0&&(Aa=0,It.frameLoop!=="demand"&&ab(nU))}function aoe(){Aa=-1}function nU(){~Aa&&(ab(nU),It.batchedUpdates(rU))}function rU(){let n=Aa;Aa=It.now();let e=eU(Aa);e&&(iU(of.splice(0,e),t=>t.handler()),Ea-=e),k_.flush(),rb.flush(n?Math.min(64,Aa-n):16.667),sb.flush(),ib.flush(),ob.flush(),Ea||aoe()}function _m(){let n=new Set,e=n;return{add(t){Ea+=e==n&&!n.has(t)?1:0,n.add(t)},delete(t){return Ea-=e==n&&n.has(t)?1:0,n.delete(t)},flush(t){e.size&&(n=new Set,Ea-=e.size,iU(e,r=>r(t)&&n.add(r)),Ea+=n.size,e=n)}}}function iU(n,e){n.forEach(t=>{try{e(t)}catch(r){It.catch(r)}})}function loe(){}const uoe=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),Rn={arr:Array.isArray,obj:n=>!!n&&n.constructor.name==="Object",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",und:n=>n===void 0};function coe(n,e){if(Rn.arr(n)){if(!Rn.arr(e)||n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return n===e}const Bo=(n,e)=>n.forEach(e);function ZA(n,e,t){if(Rn.arr(n)){for(let r=0;r<n.length;r++)e.call(t,n[r],`${r}`);return}for(const r in n)n.hasOwnProperty(r)&&e.call(t,n[r],r)}const k0=n=>Rn.und(n)?[]:Rn.arr(n)?n:[n],sU=()=>typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let lb,oU,ka=null,aU=!1,ub=loe;const foe=n=>{n.to&&(oU=n.to),n.now&&(It.now=n.now),n.colors!==void 0&&(ka=n.colors),n.skipAnimation!=null&&(aU=n.skipAnimation),n.createStringInterpolator&&(lb=n.createStringInterpolator),n.requestAnimationFrame&&It.use(n.requestAnimationFrame),n.batchedUpdates&&(It.batchedUpdates=n.batchedUpdates),n.willAdvance&&(ub=n.willAdvance),n.frameLoop&&(It.frameLoop=n.frameLoop)};var _p=Object.freeze({__proto__:null,get createStringInterpolator(){return lb},get to(){return oU},get colors(){return ka},get skipAnimation(){return aU},get willAdvance(){return ub},assign:foe});const Ph=new Set;let ji=[],Rw=[],ov=0;const cb={get idle(){return!Ph.size&&!ji.length},start(n){ov>n.priority?(Ph.add(n),It.onStart(doe)):(lU(n),It(eE))},advance:eE,sort(n){if(ov)It.onFrame(()=>cb.sort(n));else{const e=ji.indexOf(n);~e&&(ji.splice(e,1),uU(n))}},clear(){ji=[],Ph.clear()}};function doe(){Ph.forEach(lU),Ph.clear(),It(eE)}function lU(n){ji.includes(n)||uU(n)}function uU(n){ji.splice(hoe(ji,e=>e.priority>n.priority),0,n)}function eE(n){const e=Rw;for(let t=0;t<ji.length;t++){const r=ji[t];ov=r.priority,r.idle||(ub(r),r.advance(n),r.idle||e.push(r))}return ov=0,Rw=ji,Rw.length=0,ji=e,ji.length>0}function hoe(n,e){const t=n.findIndex(e);return t<0?n.length:t}const poe={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},ps="[-+]?\\d*\\.?\\d+",av=ps+"%";function O_(...n){return"\\(\\s*("+n.join(")\\s*,\\s*(")+")\\s*\\)"}const moe=new RegExp("rgb"+O_(ps,ps,ps)),goe=new RegExp("rgba"+O_(ps,ps,ps,ps)),yoe=new RegExp("hsl"+O_(ps,av,av)),voe=new RegExp("hsla"+O_(ps,av,av,ps)),_oe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,xoe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,woe=/^#([0-9a-fA-F]{6})$/,Soe=/^#([0-9a-fA-F]{8})$/;function Aoe(n){let e;return typeof n=="number"?n>>>0===n&&n>=0&&n<=4294967295?n:null:(e=woe.exec(n))?parseInt(e[1]+"ff",16)>>>0:ka&&ka[n]!==void 0?ka[n]:(e=moe.exec(n))?(Mc(e[1])<<24|Mc(e[2])<<16|Mc(e[3])<<8|255)>>>0:(e=goe.exec(n))?(Mc(e[1])<<24|Mc(e[2])<<16|Mc(e[3])<<8|sL(e[4]))>>>0:(e=_oe.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=Soe.exec(n))?parseInt(e[1],16)>>>0:(e=xoe.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=yoe.exec(n))?(rL(iL(e[1]),O0(e[2]),O0(e[3]))|255)>>>0:(e=voe.exec(n))?(rL(iL(e[1]),O0(e[2]),O0(e[3]))|sL(e[4]))>>>0:null}function Pw(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function rL(n,e,t){const r=t<.5?t*(1+e):t+e-t*e,i=2*t-r,s=Pw(i,r,n+1/3),o=Pw(i,r,n),a=Pw(i,r,n-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function Mc(n){const e=parseInt(n,10);return e<0?0:e>255?255:e}function iL(n){return(parseFloat(n)%360+360)%360/360}function sL(n){const e=parseFloat(n);return e<0?0:e>1?255:Math.round(e*255)}function O0(n){const e=parseFloat(n);return e<0?0:e>100?1:e/100}function oL(n){let e=Aoe(n);if(e===null)return n;e=e||0;let t=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${t}, ${r}, ${i}, ${s})`}const xp=(n,e,t)=>{if(Rn.fun(n))return n;if(Rn.arr(n))return xp({range:n,output:e,extrapolate:t});if(Rn.str(n.output[0]))return lb(n);const r=n,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(u=>u);return u=>{const d=Moe(u,s);return Eoe(u,s[d],s[d+1],i[d],i[d+1],l,o,a,r.map)}};function Eoe(n,e,t,r,i,s,o,a,l){let u=l?l(n):n;if(u<e){if(o==="identity")return u;o==="clamp"&&(u=e)}if(u>t){if(a==="identity")return u;a==="clamp"&&(u=t)}return r===i?r:e===t?n<=e?r:i:(e===-1/0?u=-u:t===1/0?u=u-e:u=(u-e)/(t-e),u=s(u),r===-1/0?u=-u:i===1/0?u=u+r:u=u*(i-r)+r,u)}function Moe(n,e){for(var t=1;t<e.length-1&&!(e[t]>=n);++t);return t-1}function tE(){return tE=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},tE.apply(this,arguments)}const Vf=Symbol.for("FluidValue.get"),Wf=Symbol.for("FluidValue.observers"),lv=n=>Boolean(n&&n[Vf]),uv=n=>n&&n[Vf]?n[Vf]():n;function Coe(n,e){n.eventObserved?n.eventObserved(e):n(e)}function nE(n,e){let t=n[Wf];t&&t.forEach(r=>{Coe(r,e)})}class boe{constructor(e){if(this[Vf]=void 0,this[Wf]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");Toe(this,e)}}const Toe=(n,e)=>fU(n,Vf,e);function cU(n,e){if(n[Vf]){let t=n[Wf];t||fU(n,Wf,t=new Set),t.has(e)||(t.add(e),n.observerAdded&&n.observerAdded(t.size,e))}return e}function rE(n,e){let t=n[Wf];if(t&&t.has(e)){const r=t.size-1;r?t.delete(e):n[Wf]=null,n.observerRemoved&&n.observerRemoved(r,e)}}const fU=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),dy=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Roe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,aL=new RegExp(`(${dy.source})(%|[a-z]+)`,"i"),Poe=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,N_=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,dU=n=>{const[e,t]=Ioe(n);if(!e||sU())return n;const r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(t&&t.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(t);return i||n}else{if(t&&N_.test(t))return dU(t);if(t)return t}return n},Ioe=n=>{const e=N_.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]};let Iw;const Boe=(n,e,t,r,i)=>`rgba(${Math.round(e)}, ${Math.round(t)}, ${Math.round(r)}, ${i})`,hU=n=>{Iw||(Iw=ka?new RegExp(`(${Object.keys(ka).join("|")})(?!\\w)`,"g"):/^\b$/);const e=n.output.map(s=>uv(s).replace(N_,dU).replace(Roe,oL).replace(Iw,oL)),t=e.map(s=>s.match(dy).map(Number)),i=t[0].map((s,o)=>t.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>xp(tE({},n,{output:s})));return s=>{var o;const a=!aL.test(e[0])&&((o=e.find(u=>aL.test(u)))==null?void 0:o.replace(dy,""));let l=0;return e[0].replace(dy,()=>`${i[l++](s)}${a||""}`).replace(Poe,Boe)}},pU="react-spring: ",mU=n=>{const e=n;let t=!1;if(typeof e!="function")throw new TypeError(`${pU}once requires a function parameter`);return(...r)=>{t||(e(...r),t=!0)}},Loe=mU(console.warn);function Doe(){Loe(`${pU}The "interpolate" function is deprecated in v9 (use "to" instead)`)}mU(console.warn);function gU(n){return Rn.str(n)&&(n[0]=="#"||/\d/.test(n)||!sU()&&N_.test(n)||n in(ka||{}))}const yU=n=>V.exports.useEffect(n,Foe),Foe=[];function koe(){const n=V.exports.useState()[1],e=V.exports.useState(Ooe)[0];return yU(e.unmount),()=>{e.current&&n({})}}function Ooe(){const n={current:!0,unmount:()=>()=>{n.current=!1}};return n}function Noe(n,e){const[t]=V.exports.useState(()=>({inputs:e,result:n()})),r=V.exports.useRef(),i=r.current;let s=i;return s?Boolean(e&&s.inputs&&Hoe(e,s.inputs))||(s={inputs:e,result:n()}):s=t,V.exports.useEffect(()=>{r.current=s,i==t&&(t.inputs=t.result=void 0)},[s]),s.result}function Hoe(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}const Uoe=typeof window!="undefined"&&window.document&&window.document.createElement?V.exports.useLayoutEffect:V.exports.useEffect,wp=Symbol.for("Animated:node"),Goe=n=>!!n&&n[wp]===n,fb=n=>n&&n[wp],vU=(n,e)=>uoe(n,wp,e),db=n=>n&&n[wp]&&n[wp].getPayload();class _U{constructor(){this.payload=void 0,vU(this,this)}getPayload(){return this.payload||[]}}class xm extends _U{constructor(e){super();this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,Rn.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new xm(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return Rn.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,Rn.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class H_ extends xm{constructor(e){super(0);this._string=null,this._toString=void 0,this._toString=xp({output:[e,e]})}static create(e){return new H_(e)}getValue(){let e=this._string;return e==null?this._string=this._toString(this._value):e}setValue(e){if(Rn.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=xp({output:[this.getValue(),e]})),this._value=0,super.reset()}}const cv={dependencies:null};class hb extends _U{constructor(e){super();this.source=e,this.setValue(e)}getValue(e){const t={};return ZA(this.source,(r,i)=>{Goe(r)?t[i]=r.getValue(e):lv(r)?t[i]=uv(r):e||(t[i]=r)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Bo(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return ZA(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){cv.dependencies&&lv(e)&&cv.dependencies.add(e);const t=db(e);t&&Bo(t,r=>this.add(r))}}class pb extends hb{constructor(e){super(e)}static create(e){return new pb(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((r,i)=>r.setValue(e[i])).some(Boolean):(super.setValue(e.map(zoe)),!0)}}function zoe(n){return(gU(n)?H_:xm).create(n)}function Voe(n){const e=fb(n);return e?e.constructor:Rn.arr(n)?pb:gU(n)?H_:xm}function fv(){return fv=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},fv.apply(this,arguments)}const lL=(n,e)=>{const t=!Rn.fun(n)||n.prototype&&n.prototype.isReactComponent;return V.exports.forwardRef((r,i)=>{const s=V.exports.useRef(null),o=t&&V.exports.useCallback(y=>{s.current=Joe(i,y)},[i]),[a,l]=joe(r,e),u=koe(),d=()=>{const y=s.current;if(t&&!y)return;(y?e.applyAnimatedValues(y,a.getValue(!0)):!1)===!1&&u()},h=new Woe(d,l),p=V.exports.useRef();Uoe(()=>{const y=p.current;p.current=h,Bo(l,g=>cU(g,h)),y&&(Bo(y.deps,g=>rE(g,y)),It.cancel(y.update))}),V.exports.useEffect(d,[]),yU(()=>()=>{const y=p.current;Bo(y.deps,g=>rE(g,y))});const m=e.getComponentProps(a.getValue());return V.exports.createElement(n,fv({},m,{ref:o}))})};class Woe{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&It.write(this.update)}}function joe(n,e){const t=new Set;return cv.dependencies=t,n.style&&(n=fv({},n,{style:e.createAnimatedStyle(n.style)})),n=new hb(n),cv.dependencies=null,[n,t]}function Joe(n,e){return n&&(Rn.fun(n)?n(e):n.current=e),e}const uL=Symbol.for("AnimatedComponent"),$oe=(n,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:t=i=>new hb(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:t,getComponentProps:r},s=o=>{const a=cL(o)||"Anonymous";return Rn.str(o)?o=s[o]||(s[o]=lL(o,i)):o=o[uL]||(o[uL]=lL(o,i)),o.displayName=`Animated(${a})`,o};return ZA(n,(o,a)=>{Rn.arr(n)&&(a=cL(o)),s[a]=s(o)}),{animated:s}},cL=n=>Rn.str(n)?n:n&&Rn.str(n.displayName)?n.displayName:Rn.fun(n)&&n.name||null;function iE(){return iE=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},iE.apply(this,arguments)}const Koe={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},dv=1.70158,N0=dv*1.525,fL=dv+1,dL=2*Math.PI/3,hL=2*Math.PI/4.5,H0=n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,Xoe={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>1-(1-n)*(1-n),easeInOutQuad:n=>n<.5?2*n*n:1-Math.pow(-2*n+2,2)/2,easeInCubic:n=>n*n*n,easeOutCubic:n=>1-Math.pow(1-n,3),easeInOutCubic:n=>n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2,easeInQuart:n=>n*n*n*n,easeOutQuart:n=>1-Math.pow(1-n,4),easeInOutQuart:n=>n<.5?8*n*n*n*n:1-Math.pow(-2*n+2,4)/2,easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>1-Math.pow(1-n,5),easeInOutQuint:n=>n<.5?16*n*n*n*n*n:1-Math.pow(-2*n+2,5)/2,easeInSine:n=>1-Math.cos(n*Math.PI/2),easeOutSine:n=>Math.sin(n*Math.PI/2),easeInOutSine:n=>-(Math.cos(Math.PI*n)-1)/2,easeInExpo:n=>n===0?0:Math.pow(2,10*n-10),easeOutExpo:n=>n===1?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>n===0?0:n===1?1:n<.5?Math.pow(2,20*n-10)/2:(2-Math.pow(2,-20*n+10))/2,easeInCirc:n=>1-Math.sqrt(1-Math.pow(n,2)),easeOutCirc:n=>Math.sqrt(1-Math.pow(n-1,2)),easeInOutCirc:n=>n<.5?(1-Math.sqrt(1-Math.pow(2*n,2)))/2:(Math.sqrt(1-Math.pow(-2*n+2,2))+1)/2,easeInBack:n=>fL*n*n*n-dv*n*n,easeOutBack:n=>1+fL*Math.pow(n-1,3)+dv*Math.pow(n-1,2),easeInOutBack:n=>n<.5?Math.pow(2*n,2)*((N0+1)*2*n-N0)/2:(Math.pow(2*n-2,2)*((N0+1)*(n*2-2)+N0)+2)/2,easeInElastic:n=>n===0?0:n===1?1:-Math.pow(2,10*n-10)*Math.sin((n*10-10.75)*dL),easeOutElastic:n=>n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n*10-.75)*dL)+1,easeInOutElastic:n=>n===0?0:n===1?1:n<.5?-(Math.pow(2,20*n-10)*Math.sin((20*n-11.125)*hL))/2:Math.pow(2,-20*n+10)*Math.sin((20*n-11.125)*hL)/2+1,easeInBounce:n=>1-H0(1-n),easeOutBounce:H0,easeInOutBounce:n=>n<.5?(1-H0(1-2*n))/2:(1+H0(2*n-1))/2};iE({},Koe.default,{mass:1,damping:1,easing:Xoe.linear,clamp:!1});const pL=n=>n instanceof xU;let Qoe=1;class xU extends boe{constructor(...e){super(...e);this.id=Qoe++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=fb(this);return e&&e.getValue()}to(...e){return _p.to(this,e)}interpolate(...e){return Doe(),_p.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){nE(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||cb.sort(this),nE(this,{type:"priority",parent:this,priority:e})}}function qoe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}const Yoe=["children"],mb=n=>{let{children:e}=n,t=qoe(n,Yoe);const r=V.exports.useContext(hv),i=t.pause||!!r.pause,s=t.immediate||!!r.immediate;t=Noe(()=>({pause:i,immediate:s}),[i,s]);const{Provider:o}=hv;return V.exports.createElement(o,{value:t},e)},hv=Zoe(mb,{});mb.Provider=hv.Provider;mb.Consumer=hv.Consumer;function Zoe(n,e){return Object.assign(n,V.exports.createContext(e)),n.Provider._context=n,n.Consumer._context=n,n}let mL;(function(n){n.MOUNT="mount",n.ENTER="enter",n.UPDATE="update",n.LEAVE="leave"})(mL||(mL={}));class eae extends xU{constructor(e,t){super();this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=xp(...t);const r=this._get(),i=Voe(r);vU(this,i.create(r))}advance(e){const t=this._get(),r=this.get();coe(t,r)||(fb(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&gL(this._active)&&Bw(this)}_get(){const e=Rn.arr(this.source)?this.source.map(uv):k0(uv(this.source));return this.calc(...e)}_start(){this.idle&&!gL(this._active)&&(this.idle=!1,Bo(db(this),e=>{e.done=!1}),_p.skipAnimation?(It.batchedUpdates(()=>this.advance()),Bw(this)):cb.start(this))}_attach(){let e=1;Bo(k0(this.source),t=>{lv(t)&&cU(t,this),pL(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){Bo(k0(this.source),e=>{lv(e)&&rE(e,this)}),this._active.clear(),Bw(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=k0(this.source).reduce((t,r)=>Math.max(t,(pL(r)?r.priority:0)+1),0))}}function tae(n){return n.idle!==!1}function gL(n){return!n.size||Array.from(n).every(tae)}function Bw(n){n.idle||(n.idle=!0,Bo(db(n),e=>{e.done=!0}),nE(n,{type:"idle",parent:n}))}_p.assign({createStringInterpolator:hU,to:(n,e)=>new eae(n,e)});const nae=["primitive"].concat(Object.keys(FH).filter(n=>/^[A-Z]/.test(n)).map(n=>n[0].toLowerCase()+n.slice(1)));_p.assign({createStringInterpolator:hU,colors:poe,frameLoop:"demand"});Xse(()=>{It.advance()});$oe(nae,{applyAnimatedValues:fh});function ct(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const yL=(n,e)=>(n%e+e)%e;class rae extends Vo{constructor(e,t){super();ct(this,"object",void 0),ct(this,"domElement",void 0),ct(this,"enabled",!0),ct(this,"target",new F),ct(this,"minDistance",0),ct(this,"maxDistance",1/0),ct(this,"minZoom",0),ct(this,"maxZoom",1/0),ct(this,"minPolarAngle",0),ct(this,"maxPolarAngle",Math.PI),ct(this,"minAzimuthAngle",-1/0),ct(this,"maxAzimuthAngle",1/0),ct(this,"enableDamping",!1),ct(this,"dampingFactor",.05),ct(this,"enableZoom",!0),ct(this,"zoomSpeed",1),ct(this,"enableRotate",!0),ct(this,"rotateSpeed",1),ct(this,"enablePan",!0),ct(this,"panSpeed",1),ct(this,"screenSpacePanning",!0),ct(this,"keyPanSpeed",7),ct(this,"autoRotate",!1),ct(this,"autoRotateSpeed",2),ct(this,"reverseOrbit",!1),ct(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),ct(this,"mouseButtons",{LEFT:kl.ROTATE,MIDDLE:kl.DOLLY,RIGHT:kl.PAN}),ct(this,"touches",{ONE:Ol.ROTATE,TWO:Ol.DOLLY_PAN}),ct(this,"target0",void 0),ct(this,"position0",void 0),ct(this,"zoom0",void 0),ct(this,"_domElementKeyEvents",null),ct(this,"getPolarAngle",void 0),ct(this,"getAzimuthalAngle",void 0),ct(this,"setPolarAngle",void 0),ct(this,"setAzimuthalAngle",void 0),ct(this,"getDistance",void 0),ct(this,"listenToKeyEvents",void 0),ct(this,"saveState",void 0),ct(this,"reset",void 0),ct(this,"update",void 0),ct(this,"connect",void 0),ct(this,"dispose",void 0),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof Yt?this.object.zoom:1,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=j=>{let N=yL(j,2*Math.PI),ge=d.phi;ge<0&&(ge+=2*Math.PI),N<0&&(N+=2*Math.PI);let we=Math.abs(N-ge);2*Math.PI-we<we&&(N<ge?N+=2*Math.PI:ge+=2*Math.PI),h.phi=N-ge,r.update()},this.setAzimuthalAngle=j=>{let N=yL(j,2*Math.PI),ge=d.theta;ge<0&&(ge+=2*Math.PI),N<0&&(N+=2*Math.PI);let we=Math.abs(N-ge);2*Math.PI-we<we&&(N<ge?N+=2*Math.PI:ge+=2*Math.PI),h.theta=N-ge,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=j=>{j.addEventListener("keydown",ee),this._domElementKeyEvents=j},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object instanceof Yt?r.object.zoom:1},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object instanceof Yt&&(r.object.zoom=r.zoom0,r.object.updateProjectionMatrix()),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const j=new F,N=new Vn().setFromUnitVectors(e.up,new F(0,1,0)),ge=N.clone().invert(),we=new F,We=new Vn,Oe=2*Math.PI;return function(){const De=r.object.position;j.copy(De).sub(r.target),j.applyQuaternion(N),d.setFromVector3(j),r.autoRotate&&l===a.NONE&&B(L()),r.enableDamping?(d.theta+=h.theta*r.dampingFactor,d.phi+=h.phi*r.dampingFactor):(d.theta+=h.theta,d.phi+=h.phi);let et=r.minAzimuthAngle,xt=r.maxAzimuthAngle;return isFinite(et)&&isFinite(xt)&&(et<-Math.PI?et+=Oe:et>Math.PI&&(et-=Oe),xt<-Math.PI?xt+=Oe:xt>Math.PI&&(xt-=Oe),et<=xt?d.theta=Math.max(et,Math.min(xt,d.theta)):d.theta=d.theta>(et+xt)/2?Math.max(et,d.theta):Math.min(xt,d.theta)),d.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,d.phi)),d.makeSafe(),d.radius*=p,d.radius=Math.max(r.minDistance,Math.min(r.maxDistance,d.radius)),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),j.setFromSpherical(d),j.applyQuaternion(ge),De.copy(r.target).add(j),r.object.lookAt(r.target),r.enableDamping===!0?(h.theta*=1-r.dampingFactor,h.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(h.set(0,0,0),m.set(0,0,0)),p=1,y||we.distanceToSquared(r.object.position)>u||8*(1-We.dot(r.object.quaternion))>u?(r.dispatchEvent(i),we.copy(r.object.position),We.copy(r.object.quaternion),y=!1,!0):!1}})(),this.connect=j=>{j===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=j,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",ke),r.domElement.addEventListener("pointerdown",Me),r.domElement.addEventListener("pointercancel",Ze),r.domElement.addEventListener("wheel",D)},this.dispose=()=>{var j,N,ge,we,We,Oe;(j=r.domElement)===null||j===void 0||j.removeEventListener("contextmenu",ke),(N=r.domElement)===null||N===void 0||N.removeEventListener("pointerdown",Me),(ge=r.domElement)===null||ge===void 0||ge.removeEventListener("pointercancel",Ze),(we=r.domElement)===null||we===void 0||we.removeEventListener("wheel",D),(We=r.domElement)===null||We===void 0||We.ownerDocument.removeEventListener("pointermove",ze),(Oe=r.domElement)===null||Oe===void 0||Oe.ownerDocument.removeEventListener("pointerup",$e),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",ee)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,d=new $A,h=new $A;let p=1;const m=new F;let y=!1;const g=new ye,_=new ye,w=new ye,x=new ye,A=new ye,E=new ye,C=new ye,T=new ye,R=new ye,I=[],O={};function L(){return 2*Math.PI/60/60*r.autoRotateSpeed}function P(){return Math.pow(.95,r.zoomSpeed)}function B(j){r.reverseOrbit?h.theta+=j:h.theta-=j}function q(j){r.reverseOrbit?h.phi+=j:h.phi-=j}const W=(()=>{const j=new F;return function(ge,we){j.setFromMatrixColumn(we,0),j.multiplyScalar(-ge),m.add(j)}})(),$=(()=>{const j=new F;return function(ge,we){r.screenSpacePanning===!0?j.setFromMatrixColumn(we,1):(j.setFromMatrixColumn(we,0),j.crossVectors(r.object.up,j)),j.multiplyScalar(ge),m.add(j)}})(),J=(()=>{const j=new F;return function(ge,we){const We=r.domElement;if(We&&r.object instanceof Yt&&r.object.isPerspectiveCamera){const Oe=r.object.position;j.copy(Oe).sub(r.target);let tt=j.length();tt*=Math.tan(r.object.fov/2*Math.PI/180),W(2*ge*tt/We.clientHeight,r.object.matrix),$(2*we*tt/We.clientHeight,r.object.matrix)}else We&&r.object instanceof Js&&r.object.isOrthographicCamera?(W(ge*(r.object.right-r.object.left)/r.object.zoom/We.clientWidth,r.object.matrix),$(we*(r.object.top-r.object.bottom)/r.object.zoom/We.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function K(j){r.object instanceof Yt&&r.object.isPerspectiveCamera?p/=j:r.object instanceof Js&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*j)),r.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function k(j){r.object instanceof Yt&&r.object.isPerspectiveCamera?p*=j:r.object instanceof Js&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/j)),r.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function X(j){g.set(j.clientX,j.clientY)}function Z(j){C.set(j.clientX,j.clientY)}function ae(j){x.set(j.clientX,j.clientY)}function Q(j){_.set(j.clientX,j.clientY),w.subVectors(_,g).multiplyScalar(r.rotateSpeed);const N=r.domElement;N&&(B(2*Math.PI*w.x/N.clientHeight),q(2*Math.PI*w.y/N.clientHeight)),g.copy(_),r.update()}function se(j){T.set(j.clientX,j.clientY),R.subVectors(T,C),R.y>0?K(P()):R.y<0&&k(P()),C.copy(T),r.update()}function pe(j){A.set(j.clientX,j.clientY),E.subVectors(A,x).multiplyScalar(r.panSpeed),J(E.x,E.y),x.copy(A),r.update()}function _e(j){j.deltaY<0?k(P()):j.deltaY>0&&K(P()),r.update()}function H(j){let N=!1;switch(j.code){case r.keys.UP:J(0,r.keyPanSpeed),N=!0;break;case r.keys.BOTTOM:J(0,-r.keyPanSpeed),N=!0;break;case r.keys.LEFT:J(r.keyPanSpeed,0),N=!0;break;case r.keys.RIGHT:J(-r.keyPanSpeed,0),N=!0;break}N&&(j.preventDefault(),r.update())}function Be(){if(I.length==1)g.set(I[0].pageX,I[0].pageY);else{const j=.5*(I[0].pageX+I[1].pageX),N=.5*(I[0].pageY+I[1].pageY);g.set(j,N)}}function ue(){if(I.length==1)x.set(I[0].pageX,I[0].pageY);else{const j=.5*(I[0].pageX+I[1].pageX),N=.5*(I[0].pageY+I[1].pageY);x.set(j,N)}}function Le(){const j=I[0].pageX-I[1].pageX,N=I[0].pageY-I[1].pageY,ge=Math.sqrt(j*j+N*N);C.set(0,ge)}function ve(){r.enableZoom&&Le(),r.enablePan&&ue()}function Pe(){r.enableZoom&&Le(),r.enableRotate&&Be()}function ne(j){if(I.length==1)_.set(j.pageX,j.pageY);else{const ge=it(j),we=.5*(j.pageX+ge.x),We=.5*(j.pageY+ge.y);_.set(we,We)}w.subVectors(_,g).multiplyScalar(r.rotateSpeed);const N=r.domElement;N&&(B(2*Math.PI*w.x/N.clientHeight),q(2*Math.PI*w.y/N.clientHeight)),g.copy(_)}function oe(j){if(I.length==1)A.set(j.pageX,j.pageY);else{const N=it(j),ge=.5*(j.pageX+N.x),we=.5*(j.pageY+N.y);A.set(ge,we)}E.subVectors(A,x).multiplyScalar(r.panSpeed),J(E.x,E.y),x.copy(A)}function xe(j){const N=it(j),ge=j.pageX-N.x,we=j.pageY-N.y,We=Math.sqrt(ge*ge+we*we);T.set(0,We),R.set(0,Math.pow(T.y/C.y,r.zoomSpeed)),K(R.y),C.copy(T)}function Ae(j){r.enableZoom&&xe(j),r.enablePan&&oe(j)}function Ee(j){r.enableZoom&&xe(j),r.enableRotate&&ne(j)}function Me(j){if(r.enabled!==!1){if(I.length===0){var N,ge;(N=r.domElement)===null||N===void 0||N.ownerDocument.addEventListener("pointermove",ze),(ge=r.domElement)===null||ge===void 0||ge.ownerDocument.addEventListener("pointerup",$e)}Ke(j),j.pointerType==="touch"?me(j):dt(j)}}function ze(j){r.enabled!==!1&&(j.pointerType==="touch"?Fe(j):z(j))}function $e(j){if(he(j),I.length===0){var N,ge,we;(N=r.domElement)===null||N===void 0||N.releasePointerCapture(j.pointerId),(ge=r.domElement)===null||ge===void 0||ge.ownerDocument.removeEventListener("pointermove",ze),(we=r.domElement)===null||we===void 0||we.ownerDocument.removeEventListener("pointerup",$e)}r.dispatchEvent(o),l=a.NONE}function Ze(j){he(j)}function dt(j){let N;switch(j.button){case 0:N=r.mouseButtons.LEFT;break;case 1:N=r.mouseButtons.MIDDLE;break;case 2:N=r.mouseButtons.RIGHT;break;default:N=-1}switch(N){case kl.DOLLY:if(r.enableZoom===!1)return;Z(j),l=a.DOLLY;break;case kl.ROTATE:if(j.ctrlKey||j.metaKey||j.shiftKey){if(r.enablePan===!1)return;ae(j),l=a.PAN}else{if(r.enableRotate===!1)return;X(j),l=a.ROTATE}break;case kl.PAN:if(j.ctrlKey||j.metaKey||j.shiftKey){if(r.enableRotate===!1)return;X(j),l=a.ROTATE}else{if(r.enablePan===!1)return;ae(j),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function z(j){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;Q(j);break;case a.DOLLY:if(r.enableZoom===!1)return;se(j);break;case a.PAN:if(r.enablePan===!1)return;pe(j);break}}function D(j){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(j.preventDefault(),r.dispatchEvent(s),_e(j),r.dispatchEvent(o))}function ee(j){r.enabled===!1||r.enablePan===!1||H(j)}function me(j){switch(Te(j),I.length){case 1:switch(r.touches.ONE){case Ol.ROTATE:if(r.enableRotate===!1)return;Be(),l=a.TOUCH_ROTATE;break;case Ol.PAN:if(r.enablePan===!1)return;ue(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Ol.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;ve(),l=a.TOUCH_DOLLY_PAN;break;case Ol.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Pe(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Fe(j){switch(Te(j),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;ne(j),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;oe(j),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ae(j),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ee(j),r.update();break;default:l=a.NONE}}function ke(j){r.enabled!==!1&&j.preventDefault()}function Ke(j){I.push(j)}function he(j){delete O[j.pointerId];for(let N=0;N<I.length;N++)if(I[N].pointerId==j.pointerId){I.splice(N,1);return}}function Te(j){let N=O[j.pointerId];N===void 0&&(N=new ye,O[j.pointerId]=N),N.set(j.pageX,j.pageY)}function it(j){const N=j.pointerId===I[0].pointerId?I[1]:I[0];return O[N.pointerId]}t!==void 0&&this.connect(t),this.update()}}class gb extends hr{constructor(e){super(e);this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new aae(t)}),this.register(function(t){return new hae(t)}),this.register(function(t){return new pae(t)}),this.register(function(t){return new lae(t)}),this.register(function(t){return new uae(t)}),this.register(function(t){return new cae(t)}),this.register(function(t){return new fae(t)}),this.register(function(t){return new dae(t)}),this.register(function(t){return new sae(t)}),this.register(function(t){return new mae(t)})}load(e,t,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=vs.extractUrlBase(e),this.manager.itemStart(e);const a=function(u){i?i(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new li(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(d){t(d),s.manager.itemEnd(e)},a)}catch(d){a(d)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=e;else if(vs.decodeText(new Uint8Array(e,0,4))===wU){try{o[Ct.KHR_BINARY_GLTF]=new gae(e)}catch(h){i&&i(h);return}s=o[Ct.KHR_BINARY_GLTF].content}else s=vs.decodeText(new Uint8Array(e));const l=JSON.parse(s);if(l.asset===void 0||l.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new Tae(l,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let d=0;d<this.pluginCallbacks.length;d++){const h=this.pluginCallbacks[d](u);a[h.name]=h,o[h.name]=!0}if(l.extensionsUsed)for(let d=0;d<l.extensionsUsed.length;++d){const h=l.extensionsUsed[d],p=l.extensionsRequired||[];switch(h){case Ct.KHR_MATERIALS_UNLIT:o[h]=new oae;break;case Ct.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[h]=new _ae;break;case Ct.KHR_DRACO_MESH_COMPRESSION:o[h]=new yae(l,this.dracoLoader);break;case Ct.KHR_TEXTURE_TRANSFORM:o[h]=new vae;break;case Ct.KHR_MESH_QUANTIZATION:o[h]=new xae;break;default:p.indexOf(h)>=0&&a[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}u.setExtensions(o),u.setPlugins(a),u.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function iae(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Ct={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class sae{constructor(e){this.parser=e,this.name=Ct.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const d=new Ie(16777215);l.color!==void 0&&d.fromArray(l.color);const h=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new D_(d),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new L_(d),u.distance=h;break;case"spot":u=new B_(d),u.distance=h,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,l.intensity!==void 0&&(u.intensity=l.intensity),u.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(u),t.cache.add(r,i),i}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class oae{constructor(){this.name=Ct.KHR_MATERIALS_UNLIT}getMaterialType(){return ti}extendParams(e,t,r){const i=[];e.color=new Ie(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture))}return Promise.all(i)}}class aae{constructor(e){this.parser=e,this.name=Ct.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:jo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new ye(a,a)}return Promise.all(s)}}class lae{constructor(e){this.parser=e,this.name=Ct.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:jo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Ie(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class uae{constructor(e){this.parser=e,this.name=Ct.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:jo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class cae{constructor(e){this.parser=e,this.name=Ct.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:jo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Ie(a[0],a[1],a[2]),Promise.all(s)}}class fae{constructor(e){this.parser=e,this.name=Ct.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:jo}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class dae{constructor(e){this.parser=e,this.name=Ct.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:jo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Ie(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture).then(function(l){l.encoding=Ut})),Promise.all(s)}}class hae{constructor(e){this.parser=e,this.name=Ct.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=r.images[s.source],a=t.options.ktx2Loader;if(!a){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,o,a)}}class pae{constructor(e){this.parser=e,this.name=Ct.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,a,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class mae{constructor(e){this.name=Ct.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([s,o.ready]).then(function(a){const l=i.byteOffset||0,u=i.byteLength||0,d=i.count,h=i.byteStride,p=new ArrayBuffer(d*h),m=new Uint8Array(a[0],l,u);return o.decodeGltfBuffer(new Uint8Array(p),d,h,m,i.mode,i.filter),p})}else return null}}const wU="glTF",nh=12,vL={JSON:1313821514,BIN:5130562};class gae{constructor(e){this.name=Ct.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,nh);if(this.header={magic:vs.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==wU)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-nh,i=new DataView(e,nh);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===vL.JSON){const l=new Uint8Array(e,nh+s,o);this.content=vs.decodeText(l)}else if(a===vL.BIN){const l=nh+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class yae{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Ct.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const d in o){const h=oE[d]||d.toLowerCase();a[h]=o[d]}for(const d in e.attributes){const h=oE[d]||d.toLowerCase();if(o[d]!==void 0){const p=r.accessors[e.attributes[d]],m=Sp[p.componentType];u[h]=m,l[h]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(d){return new Promise(function(h){i.decodeDracoFile(d,function(p){for(const m in p.attributes){const y=p.attributes[m],g=l[m];g!==void 0&&(y.normalized=g)}h(p)},a,u)})})}}class vae{constructor(){this.name=Ct.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return t.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class sE extends Lu{constructor(e){super();this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),r=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),i=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),a={specular:{value:new Ie().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(l){for(const u in a)l.uniforms[u]=a[u];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",r).replace("#include <roughnessmap_fragment>",i).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(l){a.specular.value=l}},specularMap:{get:function(){return a.specularMap.value},set:function(l){a.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(l){a.glossiness.value=l}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(l){a.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class _ae{constructor(){this.name=Ct.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return sE}extendParams(e,t,r){const i=t.extensions[this.name];e.color=new Ie(1,1,1),e.opacity=1;const s=[];if(Array.isArray(i.diffuseFactor)){const o=i.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(i.diffuseTexture!==void 0&&s.push(r.assignTexture(e,"map",i.diffuseTexture)),e.emissive=new Ie(0,0,0),e.glossiness=i.glossinessFactor!==void 0?i.glossinessFactor:1,e.specular=new Ie(1,1,1),Array.isArray(i.specularFactor)&&e.specular.fromArray(i.specularFactor),i.specularGlossinessTexture!==void 0){const o=i.specularGlossinessTexture;s.push(r.assignTexture(e,"glossinessMap",o)),s.push(r.assignTexture(e,"specularMap",o))}return Promise.all(s)}createMaterial(e){const t=new sE(e);return t.fog=!0,t.color=e.color,t.map=e.map===void 0?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=e.aoMap===void 0?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,t.bumpMap=e.bumpMap===void 0?null:e.bumpMap,t.bumpScale=1,t.normalMap=e.normalMap===void 0?null:e.normalMap,t.normalMapType=rl,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=e.specularMap===void 0?null:e.specularMap,t.specular=e.specular,t.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=e.envMap===void 0?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}class xae{constructor(){this.name=Ct.KHR_MESH_QUANTIZATION}}class Cu extends eo{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}}Cu.prototype.beforeStart_=Cu.prototype.copySampleValue_;Cu.prototype.afterEnd_=Cu.prototype.copySampleValue_;Cu.prototype.interpolate_=function(n,e,t,r){const i=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=o*2,l=o*3,u=r-e,d=(t-e)/u,h=d*d,p=h*d,m=n*l,y=m-l,g=-2*p+3*h,_=p-h,w=1-g,x=_-h+d;for(let A=0;A!==o;A++){const E=s[y+A+o],C=s[y+A+a]*u,T=s[m+A+o],R=s[m+A]*u;i[A]=w*E+x*C+g*T+_*R}return i};const wae=new Vn;class Sae extends Cu{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return wae.fromArray(s).normalize().toArray(s),s}}const yo={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Sp={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},_L={9728:Dn,9729:_n,9984:cp,9985:g_,9986:fp,9987:zo},xL={33071:Mr,33648:Sf,10497:ja},wL={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},oE={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},ha={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Aae={CUBICSPLINE:void 0,LINEAR:_u,STEP:Ef},Lw={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Eae(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Lu({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Ga})),n.DefaultMaterial}function rh(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Hl(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Mae(n,e,t){let r=!1,i=!1;for(let a=0,l=e.length;a<l;a++){const u=e[a];if(u.POSITION!==void 0&&(r=!0),u.NORMAL!==void 0&&(i=!0),r&&i)break}if(!r&&!i)return Promise.resolve(n);const s=[],o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];if(r){const d=u.POSITION!==void 0?t.getDependency("accessor",u.POSITION):n.attributes.position;s.push(d)}if(i){const d=u.NORMAL!==void 0?t.getDependency("accessor",u.NORMAL):n.attributes.normal;o.push(d)}}return Promise.all([Promise.all(s),Promise.all(o)]).then(function(a){const l=a[0],u=a[1];return r&&(n.morphAttributes.position=l),i&&(n.morphAttributes.normal=u),n.morphTargetsRelative=!0,n})}function Cae(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function bae(n){const e=n.extensions&&n.extensions[Ct.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+SL(e.attributes):t=n.indices+":"+SL(n.attributes)+":"+n.mode,t}function SL(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function aE(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class Tae{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new iae,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.textureCache={},this.nodeNamesUsed={},typeof createImageBitmap!="undefined"&&/Firefox|^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!1?this.textureLoader=new QC(this.options.manager):this.textureLoader=new VC(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new li(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};rh(s,a,i),Hl(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,d]of o.children.entries())s(d,a.children[u])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this.loadNode(t);break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this.loadAnimation(t);break;case"camera":i=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Ct.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(vs.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0)return Promise.resolve(null);const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=wL[i.type],u=Sp[i.componentType],d=u.BYTES_PER_ELEMENT,h=d*l,p=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,y=i.normalized===!0;let g,_;if(m&&m!==h){const w=Math.floor(p/m),x="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+w+":"+i.count;let A=t.cache.get(x);A||(g=new u(a,w*m,i.count*m/d),A=new al(g,m/d),t.cache.add(x,A)),_=new No(A,l,p%m/d,y)}else a===null?g=new u(i.count*l):g=new u(a,p,i.count*l),_=new vt(g,l,y);if(i.sparse!==void 0){const w=wL.SCALAR,x=Sp[i.sparse.indices.componentType],A=i.sparse.indices.byteOffset||0,E=i.sparse.values.byteOffset||0,C=new x(o[1],A,i.sparse.count*w),T=new u(o[2],E,i.sparse.count*l);a!==null&&(_=new vt(_.array.slice(),_.itemSize,_.normalized));for(let R=0,I=C.length;R<I;R++){const O=C[R];if(_.setX(O,T[R*l]),l>=2&&_.setY(O,T[R*l+1]),l>=3&&_.setZ(O,T[R*l+2]),l>=4&&_.setW(O,T[R*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return _})}loadTexture(e){const t=this.json,r=this.options,i=t.textures[e],s=t.images[i.source];let o=this.textureLoader;if(s.uri){const a=r.manager.getHandler(s.uri);a!==null&&(o=a)}return this.loadTextureImage(e,s,o)}loadTextureImage(e,t,r){const i=this,s=this.json,o=this.options,a=s.textures[e],l=(t.uri||t.bufferView)+":"+a.sampler;if(this.textureCache[l])return this.textureCache[l];const u=self.URL||self.webkitURL;let d=t.uri||"",h=!1;if(t.bufferView!==void 0)d=i.getDependency("bufferView",t.bufferView).then(function(m){h=!0;const y=new Blob([m],{type:t.mimeType});return d=u.createObjectURL(y),d});else if(t.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const p=Promise.resolve(d).then(function(m){return new Promise(function(y,g){let _=y;r.isImageBitmapLoader===!0&&(_=function(w){const x=new Sn(w);x.needsUpdate=!0,y(x)}),r.load(vs.resolveURL(m,o.path),_,void 0,g)})}).then(function(m){h===!0&&u.revokeObjectURL(d),m.flipY=!1,a.name&&(m.name=a.name);const g=(s.samplers||{})[a.sampler]||{};return m.magFilter=_L[g.magFilter]||_n,m.minFilter=_L[g.minFilter]||zo,m.wrapS=xL[g.wrapS]||ja,m.wrapT=xL[g.wrapT]||ja,i.associations.set(m,{textures:e}),m}).catch(function(){return console.error("THREE.GLTFLoader: Couldn't load texture",d),null});return this.textureCache[l]=p,p}assignTexture(e,t,r){const i=this;return this.getDependency("texture",r.index).then(function(s){if(r.texCoord!==void 0&&r.texCoord!=0&&!(t==="aoMap"&&r.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),i.extensions[Ct.KHR_TEXTURE_TRANSFORM]){const o=r.extensions!==void 0?r.extensions[Ct.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const a=i.associations.get(s);s=i.extensions[Ct.KHR_TEXTURE_TRANSFORM].extendTexture(s,o),i.associations.set(s,a)}}return e[t]=s,s})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new ll,hn.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Qn,hn.prototype.copy.call(l,r),l.color.copy(r.color),this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(a+="specular-glossiness:"),i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}r.aoMap&&t.attributes.uv2===void 0&&t.attributes.uv!==void 0&&t.setAttribute("uv2",t.attributes.uv),e.material=r}getMaterialType(){return Lu}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[Ct.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const h=i[Ct.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=h.getMaterialType(),u.push(h.extendParams(a,s,t))}else if(l[Ct.KHR_MATERIALS_UNLIT]){const h=i[Ct.KHR_MATERIALS_UNLIT];o=h.getMaterialType(),u.push(h.extendParams(a,s,t))}else{const h=s.pbrMetallicRoughness||{};if(a.color=new Ie(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){const p=h.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}h.baseColorTexture!==void 0&&u.push(t.assignTexture(a,"map",h.baseColorTexture)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(u.push(t.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),u.push(t.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=za);const d=s.alphaMode||Lw.OPAQUE;if(d===Lw.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,d===Lw.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==ti&&(u.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new ye(1,1),s.normalTexture.scale!==void 0)){const h=s.normalTexture.scale;a.normalScale.set(h,h)}return s.occlusionTexture!==void 0&&o!==ti&&(u.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==ti&&(a.emissive=new Ie().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==ti&&u.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture)),Promise.all(u).then(function(){let h;return o===sE?h=i[Ct.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):h=new o(a),s.name&&(h.name=s.name),h.map&&(h.map.encoding=Ut),h.emissiveMap&&(h.emissiveMap.encoding=Ut),Hl(h,s),t.associations.set(h,{materials:e}),s.extensions&&rh(i,h,s),h})}createUniqueName(e){const t=Tt.sanitizeNodeName(e||"");let r=t;for(let i=1;this.nodeNamesUsed[r];++i)r=t+"_"+i;return this.nodeNamesUsed[r]=!0,r}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[Ct.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return AL(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],d=bae(u),h=i[d];if(h)o.push(h.promise);else{let p;u.extensions&&u.extensions[Ct.KHR_DRACO_MESH_COMPRESSION]?p=s(u):p=AL(new rt,u,t),i[d]={primitive:u,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const d=o[l].material===void 0?Eae(this.cache):this.getDependency("material",o[l].material);a.push(d)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),d=l[l.length-1],h=[];for(let m=0,y=d.length;m<y;m++){const g=d[m],_=o[m];let w;const x=u[m];if(_.mode===yo.TRIANGLES||_.mode===yo.TRIANGLE_STRIP||_.mode===yo.TRIANGLE_FAN||_.mode===void 0)w=s.isSkinnedMesh===!0?new cm(g,x):new bn(g,x),w.isSkinnedMesh===!0&&!w.geometry.attributes.skinWeight.normalized&&w.normalizeSkinWeights(),_.mode===yo.TRIANGLE_STRIP?w.geometry=EL(w.geometry,wN):_.mode===yo.TRIANGLE_FAN&&(w.geometry=EL(w.geometry,vC));else if(_.mode===yo.LINES)w=new Nr(g,x);else if(_.mode===yo.LINE_STRIP)w=new qs(g,x);else if(_.mode===yo.LINE_LOOP)w=new C_(g,x);else if(_.mode===yo.POINTS)w=new sd(g,x);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);Object.keys(w.geometry.morphAttributes).length>0&&Cae(w,s),w.name=t.createUniqueName(s.name||"mesh_"+e),Hl(w,s),_.extensions&&rh(i,w,_),t.assignFinalMaterial(w),h.push(w)}for(let m=0,y=h.length;m<y;m++)t.associations.set(h[m],{meshes:e,primitives:m});if(h.length===1)return h[0];const p=new zs;t.associations.set(p,{meshes:e});for(let m=0,y=h.length;m<y;m++)p.add(h[m]);return p})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new Yt(UA.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new Js(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Hl(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r={joints:t.joints};return t.inverseBindMatrices===void 0?Promise.resolve(r):this.getDependency("accessor",t.inverseBindMatrices).then(function(i){return r.inverseBindMatrices=i,r})}loadAnimation(e){const r=this.json.animations[e],i=[],s=[],o=[],a=[],l=[];for(let u=0,d=r.channels.length;u<d;u++){const h=r.channels[u],p=r.samplers[h.sampler],m=h.target,y=m.node!==void 0?m.node:m.id,g=r.parameters!==void 0?r.parameters[p.input]:p.input,_=r.parameters!==void 0?r.parameters[p.output]:p.output;i.push(this.getDependency("node",y)),s.push(this.getDependency("accessor",g)),o.push(this.getDependency("accessor",_)),a.push(p),l.push(m)}return Promise.all([Promise.all(i),Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const d=u[0],h=u[1],p=u[2],m=u[3],y=u[4],g=[];for(let w=0,x=d.length;w<x;w++){const A=d[w],E=h[w],C=p[w],T=m[w],R=y[w];if(A===void 0)continue;A.updateMatrix(),A.matrixAutoUpdate=!0;let I;switch(ha[R.path]){case ha.weights:I=Hf;break;case ha.rotation:I=Qa;break;case ha.position:case ha.scale:default:I=Uf;break}const O=A.name?A.name:A.uuid,L=T.interpolation!==void 0?Aae[T.interpolation]:_u,P=[];ha[R.path]===ha.weights?A.traverse(function(q){q.morphTargetInfluences&&P.push(q.name?q.name:q.uuid)}):P.push(O);let B=C.array;if(C.normalized){const q=aE(B.constructor),W=new Float32Array(B.length);for(let $=0,J=B.length;$<J;$++)W[$]=B[$]*q;B=W}for(let q=0,W=P.length;q<W;q++){const $=new I(P[q]+"."+ha[R.path],E.array,B,L);T.interpolation==="CUBICSPLINE"&&($.createInterpolant=function(K){const k=this instanceof Qa?Sae:Cu;return new k(this.times,this.values,this.getValueSize()/3,K)},$.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),g.push($)}}const _=r.name?r.name:"animation_"+e;return new Gf(_,void 0,g)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(!!a.isMesh)for(let l=0,u=i.weights.length;l<u;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this.extensions,i=this,s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"";return function(){const a=[],l=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(u){return i._getNodeRef(i.cameraCache,s.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),Promise.all(a)}().then(function(a){let l;if(s.isBone===!0?l=new fm:a.length>1?l=new zs:a.length===1?l=a[0]:l=new _t,l!==a[0])for(let u=0,d=a.length;u<d;u++)l.add(a[u]);if(s.name&&(l.userData.name=s.name,l.name=o),Hl(l,s),s.extensions&&rh(r,l,s),s.matrix!==void 0){const u=new Xe;u.fromArray(s.matrix),l.applyMatrix4(u)}else s.translation!==void 0&&l.position.fromArray(s.translation),s.rotation!==void 0&&l.quaternion.fromArray(s.rotation),s.scale!==void 0&&l.scale.fromArray(s.scale);return i.associations.has(l)||i.associations.set(l,{}),i.associations.get(l).nodes=e,l})}loadScene(e){const t=this.json,r=this.extensions,i=this.json.scenes[e],s=this,o=new zs;i.name&&(o.name=s.createUniqueName(i.name)),Hl(o,i),i.extensions&&rh(r,o,i);const a=i.nodes||[],l=[];for(let u=0,d=a.length;u<d;u++)l.push(SU(a[u],o,t,s));return Promise.all(l).then(function(){const u=d=>{const h=new Map;for(const[p,m]of s.associations)(p instanceof hn||p instanceof Sn)&&h.set(p,m);return d.traverse(p=>{const m=s.associations.get(p);m!=null&&h.set(p,m)}),h};return s.associations=u(o),o})}}function SU(n,e,t,r){const i=t.nodes[n];return r.getDependency("node",n).then(function(s){if(i.skin===void 0)return s;let o;return r.getDependency("skin",i.skin).then(function(a){o=a;const l=[];for(let u=0,d=o.joints.length;u<d;u++)l.push(r.getDependency("node",o.joints[u]));return Promise.all(l)}).then(function(a){return s.traverse(function(l){if(!l.isMesh)return;const u=[],d=[];for(let h=0,p=a.length;h<p;h++){const m=a[h];if(m){u.push(m);const y=new Xe;o.inverseBindMatrices!==void 0&&y.fromArray(o.inverseBindMatrices.array,h*16),d.push(y)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[h])}l.bind(new dm(u,d),l.matrixWorld)}),s})}).then(function(s){e.add(s);const o=[];if(i.children){const a=i.children;for(let l=0,u=a.length;l<u;l++){const d=a[l];o.push(SU(d,s,t,r))}}return Promise.all(o)})}function Rae(n,e,t){const r=e.attributes,i=new ui;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(i.set(new F(l[0],l[1],l[2]),new F(u[0],u[1],u[2])),a.normalized){const d=aE(Sp[a.componentType]);i.min.multiplyScalar(d),i.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new F,l=new F;for(let u=0,d=s.length;u<d;u++){const h=s[u];if(h.POSITION!==void 0){const p=t.json.accessors[h.POSITION],m=p.min,y=p.max;if(m!==void 0&&y!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(y[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(y[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(y[2]))),p.normalized){const g=aE(Sp[p.componentType]);l.multiplyScalar(g)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new Wo;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function AL(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=oE[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return Hl(n,e),Rae(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?Mae(n,e.targets,t):n})}function EL(n,e){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(e===vC)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s}const Dw=new WeakMap;class Pae extends hr{constructor(e){super(e);this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new li(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const u=t.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=u.name)}const r=JSON.stringify(t);if(Dw.has(e)){const l=Dw.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((u,d)=>{i._callbacks[s]={resolve:u,reject:d},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),Dw.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new rt;e.index&&t.setIndex(new vt(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new vt(o,a))}return t}_loadLibrary(e,t){const r=new li(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=Iae.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Iae(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(d){n.onModuleLoaded=function(h){d({draco:h})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(d=>{const h=d.draco,p=new h.Decoder,m=new h.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const y=t(h,p,m,u),g=y.attributes.map(_=>_.array.buffer);y.index&&g.push(y.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:y},g)}catch(y){console.error(y),self.postMessage({type:"error",id:a.id,error:y.message})}finally{h.destroy(m),h.destroy(p)}});break}};function t(o,a,l,u){const d=u.attributeIDs,h=u.attributeTypes;let p,m;const y=a.GetEncodedGeometryType(l);if(y===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(y===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const g={index:null,attributes:[]};for(const _ in d){const w=self[h[_]];let x,A;if(u.useUniqueIDs)A=d[_],x=a.GetAttributeByUniqueId(p,A);else{if(A=a.GetAttributeId(p,o[d[_]]),A===-1)continue;x=a.GetAttribute(p,A)}g.attributes.push(i(o,a,p,_,w,x))}return y===o.TRIANGULAR_MESH&&(g.index=r(o,a,p)),o.destroy(p),g}function r(o,a,l){const d=l.num_faces()*3,h=d*4,p=o._malloc(h);a.GetTrianglesUInt32Array(l,h,p);const m=new Uint32Array(o.HEAPF32.buffer,p,d).slice();return o._free(p),{array:m,itemSize:1}}function i(o,a,l,u,d,h){const p=h.num_components(),y=l.num_points()*p,g=y*d.BYTES_PER_ELEMENT,_=s(o,d),w=o._malloc(g);a.GetAttributeDataArrayForAllPoints(l,h,_,g,w);const x=new d(o.HEAPF32.buffer,w,y).slice();return o._free(w),{name:u,array:x,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let U0;const Fw=()=>{if(U0)return U0;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(h=>{s=h.instance,s.exports.__wasm_call_ctors()});function a(h){const p=new Uint8Array(h.length);for(let y=0;y<h.length;++y){const g=h.charCodeAt(y);p[y]=g>96?g-71:g>64?g-65:g>47?g+4:g>46?63:62}let m=0;for(let y=0;y<h.length;++y)p[m++]=p[y]<60?r[p[y]]:(p[y]-60)*64+p[++y];return p.buffer.slice(0,m)}function l(h,p,m,y,g,_){const w=s.exports.sbrk,x=m+3&-4,A=w(x*y),E=w(g.length),C=new Uint8Array(s.exports.memory.buffer);C.set(g,E);const T=h(A,m,y,E,g.length);if(T===0&&_&&_(A,x,y),p.set(C.subarray(A,A+m*y)),w(A-w(0)),T!==0)throw new Error(`Malformed buffer data: ${T}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},d={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return U0={ready:o,supported:!0,decodeVertexBuffer(h,p,m,y,g){l(s.exports.meshopt_decodeVertexBuffer,h,p,m,y,s.exports[u[g]])},decodeIndexBuffer(h,p,m,y){l(s.exports.meshopt_decodeIndexBuffer,h,p,m,y)},decodeIndexSequence(h,p,m,y){l(s.exports.meshopt_decodeIndexSequence,h,p,m,y)},decodeGltfBuffer(h,p,m,y,g,_){l(s.exports[d[g]],h,p,m,y,s.exports[u[_]])}},U0},Bae={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},Lae={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `},Xae=V.exports.forwardRef((d,u)=>{var h=d,{makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,onChange:s,onStart:o,onEnd:a}=h,l=Ls(h,["makeDefault","camera","regress","domElement","enableDamping","onChange","onStart","onEnd"]);const p=_o(T=>T.invalidate),m=_o(T=>T.camera),y=_o(T=>T.gl),g=_o(T=>T.events),_=_o(T=>T.set),w=_o(T=>T.get),x=_o(T=>T.performance),A=e||m,E=r||g.connected||y.domElement,C=V.exports.useMemo(()=>new rae(A),[A]);return QH(()=>{C.enabled&&C.update()},-1),V.exports.useEffect(()=>(C.connect(E),()=>void C.dispose()),[E,t,C,p]),V.exports.useEffect(()=>{const T=R=>{p(),t&&x.regress(),s&&s(R)};return C.addEventListener("change",T),o&&C.addEventListener("start",o),a&&C.addEventListener("end",a),()=>{o&&C.removeEventListener("start",o),a&&C.removeEventListener("end",a),C.removeEventListener("change",T)}},[s,o,a]),V.exports.useEffect(()=>{if(n){const T=w().controls;return _({controls:C}),()=>_({controls:T})}},[n,C]),V.exports.createElement("primitive",Re({ref:u,object:C,enableDamping:i},l))});let G0=null;function AU(n,e,t){return r=>{t&&t(r),n&&(G0||(G0=new Pae),G0.setDecoderPath(typeof n=="string"?n:"https://www.gstatic.com/draco/versioned/decoders/1.4.3/"),r.setDRACOLoader(G0)),e&&r.setMeshoptDecoder(typeof Fw=="function"?Fw():Fw)}}function EU(n,e=!0,t=!0,r){return ym(gb,n,AU(e,t,r))}EU.preload=(n,e=!0,t=!0,r)=>ym.preload(gb,n,AU(e,t,r));EU.clear=n=>ym.clear(gb,n);const Qae=V.exports.forwardRef((y,m)=>{var g=y,{scale:n=10,frames:e=1/0,opacity:t=1,width:r=1,height:i=1,blur:s=1,far:o=10,resolution:a=512,smooth:l=!0,color:u="#000000",depthWrite:d=!1,renderOrder:h}=g,p=Ls(g,["scale","frames","opacity","width","height","blur","far","resolution","smooth","color","depthWrite","renderOrder"]);const _=_o(B=>B.scene),w=_o(B=>B.gl),x=V.exports.useRef(null);r=r*(Array.isArray(n)?n[0]:n||1),i=i*(Array.isArray(n)?n[1]:n||1);const[A,E,C,T,R,I,O]=V.exports.useMemo(()=>{const B=new fr(a,a),q=new fr(a,a);q.texture.generateMipmaps=B.texture.generateMipmaps=!1;const W=new $a(r,i).rotateX(Math.PI/2),$=new bn(W),J=new om;J.depthTest=J.depthWrite=!1,J.onBeforeCompile=X=>{X.uniforms=Br(Bt({},X.uniforms),{ucolor:{value:new Ie(u).convertSRGBToLinear()}}),X.fragmentShader=X.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),X.fragmentShader=X.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor, ( 1.0 - fragCoordZ ) * 1.0 );")};const K=new ai(Bae),k=new ai(Lae);return k.depthTest=K.depthTest=!1,[B,W,J,$,K,k,q]},[a,r,i,n,u]),L=B=>{T.visible=!0,T.material=R,R.uniforms.tDiffuse.value=A.texture,R.uniforms.h.value=B*1/256,w.setRenderTarget(O),w.render(T,x.current),T.material=I,I.uniforms.tDiffuse.value=O.texture,I.uniforms.v.value=B*1/256,w.setRenderTarget(A),w.render(T,x.current),T.visible=!1};let P=0;return QH(()=>{if(x.current&&(e===1/0||P<e)){const B=_.background;_.background=null;const q=_.overrideMaterial;_.overrideMaterial=C,w.setRenderTarget(A),w.render(_,x.current),_.overrideMaterial=q,L(s),l&&L(s*.4),w.setRenderTarget(null),_.background=B,P++}}),V.exports.createElement("group",Re({"rotation-x":Math.PI/2},p,{ref:m}),V.exports.createElement("mesh",{renderOrder:h,geometry:E,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},V.exports.createElement("meshBasicMaterial",{map:A.texture,"map-encoding":w.outputEncoding,transparent:!0,opacity:t,depthWrite:d})),V.exports.createElement("orthographicCamera",{ref:x,args:[-r/2,r/2,i/2,-i/2,0,o]}))});export{jae as A,MW as B,$ae as C,I$ as E,_W as F,Nae as L,IW as M,Xae as O,kae as R,ot as a,P$ as b,Hae as c,Uae as d,Vae as e,zae as f,Wae as g,QH as h,Gae as i,Ru as j,Kae as k,Qae as l,i7 as m,Nz as n,Oae as o,V as r,Fae as s,EU as u};
