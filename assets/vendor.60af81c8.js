var iH=Object.defineProperty,sH=Object.defineProperties;var oH=Object.getOwnPropertyDescriptors;var Vm=Object.getOwnPropertySymbols;var Bb=Object.prototype.hasOwnProperty,Lb=Object.prototype.propertyIsEnumerable;var Ib=(n,e,t)=>e in n?iH(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,It=(n,e)=>{for(var t in e||(e={}))Bb.call(e,t)&&Ib(n,t,e[t]);if(Vm)for(var t of Vm(e))Lb.call(e,t)&&Ib(n,t,e[t]);return n},Pr=(n,e)=>sH(n,oH(e));var Rs=(n,e)=>{var t={};for(var r in n)Bb.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Vm)for(var r of Vm(n))e.indexOf(r)<0&&Lb.call(n,r)&&(t[r]=n[r]);return t};function aH(n,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(r){if(r!=="default"&&!(r in n)){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}})}),Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}var jm=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function lH(n){if(n.__esModule)return n;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(n).forEach(function(t){var r=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:function(){return n[t]}})}),e}var X={exports:{}},At={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep=Symbol.for("react.element"),uH=Symbol.for("react.portal"),cH=Symbol.for("react.fragment"),fH=Symbol.for("react.strict_mode"),dH=Symbol.for("react.profiler"),hH=Symbol.for("react.provider"),pH=Symbol.for("react.context"),mH=Symbol.for("react.forward_ref"),gH=Symbol.for("react.suspense"),yH=Symbol.for("react.memo"),vH=Symbol.for("react.lazy"),Db=Symbol.iterator;function _H(n){return n===null||typeof n!="object"?null:(n=Db&&n[Db]||n["@@iterator"],typeof n=="function"?n:null)}var UI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},GI=Object.assign,zI={};function Tf(n,e,t){this.props=n,this.context=e,this.refs=zI,this.updater=t||UI}Tf.prototype.isReactComponent={};Tf.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Tf.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function WI(){}WI.prototype=Tf.prototype;function rA(n,e,t){this.props=n,this.context=e,this.refs=zI,this.updater=t||UI}var iA=rA.prototype=new WI;iA.constructor=rA;GI(iA,Tf.prototype);iA.isPureReactComponent=!0;var Fb=Array.isArray,VI=Object.prototype.hasOwnProperty,sA={current:null},jI={key:!0,ref:!0,__self:!0,__source:!0};function JI(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)VI.call(e,r)&&!jI.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ep,type:n,key:s,ref:o,props:i,_owner:sA.current}}function xH(n,e){return{$$typeof:ep,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function oA(n){return typeof n=="object"&&n!==null&&n.$$typeof===ep}function wH(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var kb=/\/+/g;function tx(n,e){return typeof n=="object"&&n!==null&&n.key!=null?wH(""+n.key):e.toString(36)}function dy(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case ep:case uH:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+tx(o,0):r,Fb(i)?(t="",n!=null&&(t=n.replace(kb,"$&/")+"/"),dy(i,e,t,"",function(u){return u})):i!=null&&(oA(i)&&(i=xH(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(kb,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Fb(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+tx(s,a);o+=dy(s,e,t,l,i)}else if(l=_H(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+tx(s,a++),o+=dy(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Jm(n,e,t){if(n==null)return n;var r=[],i=0;return dy(n,r,"","",function(s){return e.call(t,s,i++)}),r}function SH(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Nr={current:null},hy={transition:null},AH={ReactCurrentDispatcher:Nr,ReactCurrentBatchConfig:hy,ReactCurrentOwner:sA};At.Children={map:Jm,forEach:function(n,e,t){Jm(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Jm(n,function(){e++}),e},toArray:function(n){return Jm(n,function(e){return e})||[]},only:function(n){if(!oA(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};At.Component=Tf;At.Fragment=cH;At.Profiler=dH;At.PureComponent=rA;At.StrictMode=fH;At.Suspense=gH;At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AH;At.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=GI({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=sA.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)VI.call(e,l)&&!jI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ep,type:n.type,key:i,ref:s,props:r,_owner:o}};At.createContext=function(n){return n={$$typeof:pH,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:hH,_context:n},n.Consumer=n};At.createElement=JI;At.createFactory=function(n){var e=JI.bind(null,n);return e.type=n,e};At.createRef=function(){return{current:null}};At.forwardRef=function(n){return{$$typeof:mH,render:n}};At.isValidElement=oA;At.lazy=function(n){return{$$typeof:vH,_payload:{_status:-1,_result:n},_init:SH}};At.memo=function(n,e){return{$$typeof:yH,type:n,compare:e===void 0?null:e}};At.startTransition=function(n){var e=hy.transition;hy.transition={};try{n()}finally{hy.transition=e}};At.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};At.useCallback=function(n,e){return Nr.current.useCallback(n,e)};At.useContext=function(n){return Nr.current.useContext(n)};At.useDebugValue=function(){};At.useDeferredValue=function(n){return Nr.current.useDeferredValue(n)};At.useEffect=function(n,e){return Nr.current.useEffect(n,e)};At.useId=function(){return Nr.current.useId()};At.useImperativeHandle=function(n,e,t){return Nr.current.useImperativeHandle(n,e,t)};At.useInsertionEffect=function(n,e){return Nr.current.useInsertionEffect(n,e)};At.useLayoutEffect=function(n,e){return Nr.current.useLayoutEffect(n,e)};At.useMemo=function(n,e){return Nr.current.useMemo(n,e)};At.useReducer=function(n,e,t){return Nr.current.useReducer(n,e,t)};At.useRef=function(n){return Nr.current.useRef(n)};At.useState=function(n){return Nr.current.useState(n)};At.useSyncExternalStore=function(n,e,t){return Nr.current.useSyncExternalStore(n,e,t)};At.useTransition=function(){return Nr.current.useTransition()};At.version="18.0.0-fc46dba67-20220329";X.exports=At;var Yr=X.exports,jc=aH({__proto__:null,default:Yr},[X.exports]),tp={exports:{}},Ei={},fh={exports:{}},$I={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(k,K){var Z=k.length;k.push(K);e:for(;0<Z;){var ae=Z-1>>>1,Q=k[ae];if(0<i(Q,K))k[ae]=K,k[Z]=Q,Z=ae;else break e}}function t(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var K=k[0],Z=k.pop();if(Z!==K){k[0]=Z;e:for(var ae=0,Q=k.length,se=Q>>>1;ae<se;){var pe=2*(ae+1)-1,_e=k[pe],H=pe+1,Be=k[H];if(0>i(_e,Z))H<Q&&0>i(Be,_e)?(k[ae]=Be,k[H]=Z,ae=H):(k[ae]=_e,k[pe]=Z,ae=pe);else if(H<Q&&0>i(Be,Z))k[ae]=Be,k[H]=Z,ae=H;else break e}}return K}function i(k,K){var Z=k.sortIndex-K.sortIndex;return Z!==0?Z:k.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,p=3,m=!1,v=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(k){for(var K=t(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=k)r(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=t(u)}}function E(k){if(y=!1,A(k),!v)if(t(l)!==null)v=!0,j(C);else{var K=t(u);K!==null&&$(E,K.startTime-k)}}function C(k,K){v=!1,y&&(y=!1,w(I),I=-1),m=!0;var Z=p;try{for(A(K),h=t(l);h!==null&&(!(h.expirationTime>K)||k&&!P());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,p=h.priorityLevel;var Q=ae(h.expirationTime<=K);K=n.unstable_now(),typeof Q=="function"?h.callback=Q:h===t(l)&&r(l),A(K)}else r(l);h=t(l)}if(h!==null)var se=!0;else{var pe=t(u);pe!==null&&$(E,pe.startTime-K),se=!1}return se}finally{h=null,p=Z,m=!1}}var T=!1,R=null,I=-1,O=5,D=-1;function P(){return!(n.unstable_now()-D<O)}function B(){if(R!==null){var k=n.unstable_now();D=k;var K=!0;try{K=R(!0,k)}finally{K?q():(T=!1,R=null)}}else T=!1}var q;if(typeof x=="function")q=function(){x(B)};else if(typeof MessageChannel!="undefined"){var W=new MessageChannel,J=W.port2;W.port1.onmessage=B,q=function(){J.postMessage(null)}}else q=function(){_(B,0)};function j(k){R=k,T||(T=!0,q())}function $(k,K){I=_(function(){k(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){v||m||(v=!0,j(C))},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(k){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var Z=p;p=K;try{return k()}finally{p=Z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,K){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var Z=p;p=k;try{return K()}finally{p=Z}},n.unstable_scheduleCallback=function(k,K,Z){var ae=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ae+Z:ae):Z=ae,k){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=Z+Q,k={id:d++,callback:K,priorityLevel:k,startTime:Z,expirationTime:Q,sortIndex:-1},Z>ae?(k.sortIndex=Z,e(u,k),t(l)===null&&k===t(u)&&(y?(w(I),I=-1):y=!0,$(E,Z-ae))):(k.sortIndex=Q,e(l,k),v||m||(v=!0,j(C))),k},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(k){var K=p;return function(){var Z=p;p=K;try{return k.apply(this,arguments)}finally{p=Z}}}})($I);fh.exports=$I;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KI=X.exports,Ai=fh.exports;function Ce(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var XI=new Set,dh={};function gu(n,e){Jc(n,e),Jc(n+"Capture",e)}function Jc(n,e){for(dh[n]=e,n=0;n<e.length;n++)XI.add(e[n])}var bo=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),G1=Object.prototype.hasOwnProperty,MH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nb={},Ob={};function EH(n){return G1.call(Ob,n)?!0:G1.call(Nb,n)?!1:MH.test(n)?Ob[n]=!0:(Nb[n]=!0,!1)}function CH(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function bH(n,e,t,r){if(e===null||typeof e=="undefined"||CH(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Or(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){cr[n]=new Or(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];cr[e]=new Or(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){cr[n]=new Or(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){cr[n]=new Or(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){cr[n]=new Or(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){cr[n]=new Or(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){cr[n]=new Or(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){cr[n]=new Or(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){cr[n]=new Or(n,5,!1,n.toLowerCase(),null,!1,!1)});var aA=/[\-:]([a-z])/g;function lA(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(aA,lA);cr[e]=new Or(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(aA,lA);cr[e]=new Or(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(aA,lA);cr[e]=new Or(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){cr[n]=new Or(n,1,!1,n.toLowerCase(),null,!1,!1)});cr.xlinkHref=new Or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){cr[n]=new Or(n,1,!1,n.toLowerCase(),null,!0,!0)});function uA(n,e,t,r){var i=cr.hasOwnProperty(e)?cr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bH(e,t,i,r)&&(t=null),r||i===null?EH(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Lo=KI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$m=Symbol.for("react.element"),gc=Symbol.for("react.portal"),yc=Symbol.for("react.fragment"),cA=Symbol.for("react.strict_mode"),z1=Symbol.for("react.profiler"),QI=Symbol.for("react.provider"),YI=Symbol.for("react.context"),fA=Symbol.for("react.forward_ref"),W1=Symbol.for("react.suspense"),V1=Symbol.for("react.suspense_list"),dA=Symbol.for("react.memo"),la=Symbol.for("react.lazy"),qI=Symbol.for("react.offscreen"),Hb=Symbol.iterator;function fd(n){return n===null||typeof n!="object"?null:(n=Hb&&n[Hb]||n["@@iterator"],typeof n=="function"?n:null)}var xn=Object.assign,nx;function Ud(n){if(nx===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);nx=e&&e[1]||""}return`
`+nx+n}var rx=!1;function ix(n,e){if(!n||rx)return"";rx=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{rx=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Ud(n):""}function TH(n){switch(n.tag){case 5:return Ud(n.type);case 16:return Ud("Lazy");case 13:return Ud("Suspense");case 19:return Ud("SuspenseList");case 0:case 2:case 15:return n=ix(n.type,!1),n;case 11:return n=ix(n.type.render,!1),n;case 1:return n=ix(n.type,!0),n;default:return""}}function j1(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case yc:return"Fragment";case gc:return"Portal";case z1:return"Profiler";case cA:return"StrictMode";case W1:return"Suspense";case V1:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case YI:return(n.displayName||"Context")+".Consumer";case QI:return(n._context.displayName||"Context")+".Provider";case fA:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case dA:return e=n.displayName||null,e!==null?e:j1(n.type)||"Memo";case la:e=n._payload,n=n._init;try{return j1(n(e))}catch{}}return null}function RH(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j1(e);case 8:return e===cA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ba(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ZI(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PH(n){var e=ZI(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t!="undefined"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Km(n){n._valueTracker||(n._valueTracker=PH(n))}function eB(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=ZI(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Fy(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch{return n.body}}function J1(n,e){var t=e.checked;return xn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t!=null?t:n._wrapperState.initialChecked})}function Ub(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=ba(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tB(n,e){e=e.checked,e!=null&&uA(n,"checked",e,!1)}function $1(n,e){tB(n,e);var t=ba(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?K1(n,e.type,t):e.hasOwnProperty("defaultValue")&&K1(n,e.type,ba(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Gb(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function K1(n,e,t){(e!=="number"||Fy(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Gd=Array.isArray;function Dc(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+ba(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function X1(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ce(91));return xn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function zb(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ce(92));if(Gd(t)){if(1<t.length)throw Error(Ce(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:ba(t)}}function nB(n,e){var t=ba(e.value),r=ba(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function Wb(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function rB(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Q1(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?rB(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Xm,iB=function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Xm=Xm||document.createElement("div"),Xm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xm.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function hh(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var $d={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IH=["Webkit","ms","Moz","O"];Object.keys($d).forEach(function(n){IH.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),$d[e]=$d[n]})});function sB(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||$d.hasOwnProperty(n)&&$d[n]?(""+e).trim():e+"px"}function oB(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=sB(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var BH=xn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Y1(n,e){if(e){if(BH[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ce(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ce(62))}}function q1(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Z1=null;function hA(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ew=null,Fc=null,kc=null;function Vb(n){if(n=ip(n)){if(typeof ew!="function")throw Error(Ce(280));var e=n.stateNode;e&&(e=B0(e),ew(n.stateNode,n.type,e))}}function aB(n){Fc?kc?kc.push(n):kc=[n]:Fc=n}function lB(){if(Fc){var n=Fc,e=kc;if(kc=Fc=null,Vb(n),e)for(n=0;n<e.length;n++)Vb(e[n])}}function uB(n,e){return n(e)}function cB(){}var sx=!1;function fB(n,e,t){if(sx)return n(e,t);sx=!0;try{return uB(n,e,t)}finally{sx=!1,(Fc!==null||kc!==null)&&(cB(),lB())}}function ph(n,e){var t=n.stateNode;if(t===null)return null;var r=B0(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ce(231,e,typeof t));return t}var tw=!1;if(bo)try{var dd={};Object.defineProperty(dd,"passive",{get:function(){tw=!0}}),window.addEventListener("test",dd,dd),window.removeEventListener("test",dd,dd)}catch{tw=!1}function LH(n,e,t,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var Kd=!1,ky=null,Ny=!1,nw=null,DH={onError:function(n){Kd=!0,ky=n}};function FH(n,e,t,r,i,s,o,a,l){Kd=!1,ky=null,LH.apply(DH,arguments)}function kH(n,e,t,r,i,s,o,a,l){if(FH.apply(this,arguments),Kd){if(Kd){var u=ky;Kd=!1,ky=null}else throw Error(Ce(198));Ny||(Ny=!0,nw=u)}}function yu(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,(e.flags&4098)!==0&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function dB(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function jb(n){if(yu(n)!==n)throw Error(Ce(188))}function NH(n){var e=n.alternate;if(!e){if(e=yu(n),e===null)throw Error(Ce(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return jb(i),n;if(s===r)return jb(i),e;s=s.sibling}throw Error(Ce(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Ce(189))}}if(t.alternate!==r)throw Error(Ce(190))}if(t.tag!==3)throw Error(Ce(188));return t.stateNode.current===t?n:e}function hB(n){return n=NH(n),n!==null?pB(n):null}function pB(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=pB(n);if(e!==null)return e;n=n.sibling}return null}var mB=Ai.unstable_scheduleCallback,Jb=Ai.unstable_cancelCallback,OH=Ai.unstable_shouldYield,HH=Ai.unstable_requestPaint,In=Ai.unstable_now,UH=Ai.unstable_getCurrentPriorityLevel,pA=Ai.unstable_ImmediatePriority,gB=Ai.unstable_UserBlockingPriority,Oy=Ai.unstable_NormalPriority,GH=Ai.unstable_LowPriority,yB=Ai.unstable_IdlePriority,T0=null,Hs=null;function zH(n){if(Hs&&typeof Hs.onCommitFiberRoot=="function")try{Hs.onCommitFiberRoot(T0,n,void 0,(n.current.flags&128)===128)}catch{}}var fs=Math.clz32?Math.clz32:jH,WH=Math.log,VH=Math.LN2;function jH(n){return n>>>=0,n===0?32:31-(WH(n)/VH|0)|0}var Qm=64,Ym=4194304;function zd(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Hy(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=zd(a):(s&=o,s!==0&&(r=zd(s)))}else o=t&~i,o!==0?r=zd(o):s!==0&&(r=zd(s));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if((r&4)!==0&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-fs(e),i=1<<t,r|=n[t],e&=~i;return r}function JH(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $H(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-fs(s),a=1<<o,l=i[o];l===-1?((a&t)===0||(a&r)!==0)&&(i[o]=JH(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function rw(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ox(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function np(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-fs(e),n[e]=t}function KH(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-fs(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function mA(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-fs(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var jt=0;function vB(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var _B,gA,xB,wB,SB,iw=!1,qm=[],ya=null,va=null,_a=null,mh=new Map,gh=new Map,ca=[],XH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $b(n,e){switch(n){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":mh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gh.delete(e.pointerId)}}function hd(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ip(e),e!==null&&gA(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function QH(n,e,t,r,i){switch(e){case"focusin":return ya=hd(ya,n,e,t,r,i),!0;case"dragenter":return va=hd(va,n,e,t,r,i),!0;case"mouseover":return _a=hd(_a,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return mh.set(s,hd(mh.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,gh.set(s,hd(gh.get(s)||null,n,e,t,r,i)),!0}return!1}function AB(n){var e=Bl(n.target);if(e!==null){var t=yu(e);if(t!==null){if(e=t.tag,e===13){if(e=dB(t),e!==null){n.blockedOn=e,SB(n.priority,function(){xB(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function py(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=sw(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);Z1=r,t.target.dispatchEvent(r),Z1=null}else return e=ip(t),e!==null&&gA(e),n.blockedOn=t,!1;e.shift()}return!0}function Kb(n,e,t){py(n)&&t.delete(e)}function YH(){iw=!1,ya!==null&&py(ya)&&(ya=null),va!==null&&py(va)&&(va=null),_a!==null&&py(_a)&&(_a=null),mh.forEach(Kb),gh.forEach(Kb)}function pd(n,e){n.blockedOn===e&&(n.blockedOn=null,iw||(iw=!0,Ai.unstable_scheduleCallback(Ai.unstable_NormalPriority,YH)))}function yh(n){function e(i){return pd(i,n)}if(0<qm.length){pd(qm[0],n);for(var t=1;t<qm.length;t++){var r=qm[t];r.blockedOn===n&&(r.blockedOn=null)}}for(ya!==null&&pd(ya,n),va!==null&&pd(va,n),_a!==null&&pd(_a,n),mh.forEach(e),gh.forEach(e),t=0;t<ca.length;t++)r=ca[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<ca.length&&(t=ca[0],t.blockedOn===null);)AB(t),t.blockedOn===null&&ca.shift()}var Nc=Lo.ReactCurrentBatchConfig;function qH(n,e,t,r){var i=jt,s=Nc.transition;Nc.transition=null;try{jt=1,yA(n,e,t,r)}finally{jt=i,Nc.transition=s}}function ZH(n,e,t,r){var i=jt,s=Nc.transition;Nc.transition=null;try{jt=4,yA(n,e,t,r)}finally{jt=i,Nc.transition=s}}function yA(n,e,t,r){var i=sw(n,e,t,r);if(i===null)gx(n,e,r,Uy,t),$b(n,r);else if(QH(i,n,e,t,r))r.stopPropagation();else if($b(n,r),e&4&&-1<XH.indexOf(n)){for(;i!==null;){var s=ip(i);if(s!==null&&_B(s),s=sw(n,e,t,r),s===null&&gx(n,e,r,Uy,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else gx(n,e,r,null,t)}var Uy=null;function sw(n,e,t,r){if(Uy=null,n=hA(r),n=Bl(n),n!==null)if(e=yu(n),e===null)n=null;else if(t=e.tag,t===13){if(n=dB(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Uy=n,null}function MB(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UH()){case pA:return 1;case gB:return 4;case Oy:case GH:return 16;case yB:return 536870912;default:return 16}default:return 16}}var da=null,vA=null,my=null;function EB(){if(my)return my;var n,e=vA,t=e.length,r,i="value"in da?da.value:da.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return my=i.slice(n,1<r?1-r:void 0)}function gy(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Zm(){return!0}function Xb(){return!1}function Ci(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Zm:Xb,this.isPropagationStopped=Xb,this}return xn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Zm)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Zm)},persist:function(){},isPersistent:Zm}),e}var Rf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_A=Ci(Rf),rp=xn({},Rf,{view:0,detail:0}),eU=Ci(rp),ax,lx,md,R0=xn({},rp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xA,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==md&&(md&&n.type==="mousemove"?(ax=n.screenX-md.screenX,lx=n.screenY-md.screenY):lx=ax=0,md=n),ax)},movementY:function(n){return"movementY"in n?n.movementY:lx}}),Qb=Ci(R0),tU=xn({},R0,{dataTransfer:0}),nU=Ci(tU),rU=xn({},rp,{relatedTarget:0}),ux=Ci(rU),iU=xn({},Rf,{animationName:0,elapsedTime:0,pseudoElement:0}),sU=Ci(iU),oU=xn({},Rf,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),aU=Ci(oU),lU=xn({},Rf,{data:0}),Yb=Ci(lU),uU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dU(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=fU[n])?!!e[n]:!1}function xA(){return dU}var hU=xn({},rp,{key:function(n){if(n.key){var e=uU[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=gy(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?cU[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xA,charCode:function(n){return n.type==="keypress"?gy(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?gy(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),pU=Ci(hU),mU=xn({},R0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qb=Ci(mU),gU=xn({},rp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xA}),yU=Ci(gU),vU=xn({},Rf,{propertyName:0,elapsedTime:0,pseudoElement:0}),_U=Ci(vU),xU=xn({},R0,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),wU=Ci(xU),SU=[9,13,27,32],wA=bo&&"CompositionEvent"in window,Xd=null;bo&&"documentMode"in document&&(Xd=document.documentMode);var AU=bo&&"TextEvent"in window&&!Xd,CB=bo&&(!wA||Xd&&8<Xd&&11>=Xd),Zb=String.fromCharCode(32),eT=!1;function bB(n,e){switch(n){case"keyup":return SU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TB(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var vc=!1;function MU(n,e){switch(n){case"compositionend":return TB(e);case"keypress":return e.which!==32?null:(eT=!0,Zb);case"textInput":return n=e.data,n===Zb&&eT?null:n;default:return null}}function EU(n,e){if(vc)return n==="compositionend"||!wA&&bB(n,e)?(n=EB(),my=vA=da=null,vc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return CB&&e.locale!=="ko"?null:e.data;default:return null}}var CU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tT(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!CU[n.type]:e==="textarea"}function RB(n,e,t,r){aB(r),e=Gy(e,"onChange"),0<e.length&&(t=new _A("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Qd=null,vh=null;function bU(n){UB(n,0)}function P0(n){var e=wc(n);if(eB(e))return n}function TU(n,e){if(n==="change")return e}var PB=!1;if(bo){var cx;if(bo){var fx="oninput"in document;if(!fx){var nT=document.createElement("div");nT.setAttribute("oninput","return;"),fx=typeof nT.oninput=="function"}cx=fx}else cx=!1;PB=cx&&(!document.documentMode||9<document.documentMode)}function rT(){Qd&&(Qd.detachEvent("onpropertychange",IB),vh=Qd=null)}function IB(n){if(n.propertyName==="value"&&P0(vh)){var e=[];RB(e,vh,n,hA(n)),fB(bU,e)}}function RU(n,e,t){n==="focusin"?(rT(),Qd=e,vh=t,Qd.attachEvent("onpropertychange",IB)):n==="focusout"&&rT()}function PU(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return P0(vh)}function IU(n,e){if(n==="click")return P0(e)}function BU(n,e){if(n==="input"||n==="change")return P0(e)}function LU(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var js=typeof Object.is=="function"?Object.is:LU;function _h(n,e){if(js(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!G1.call(e,i)||!js(n[i],e[i]))return!1}return!0}function iT(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function sT(n,e){var t=iT(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=iT(t)}}function BB(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?BB(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function LB(){for(var n=window,e=Fy();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Fy(n.document)}return e}function SA(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function DU(n){var e=LB(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&BB(t.ownerDocument.documentElement,t)){if(r!==null&&SA(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=sT(t,s);var o=sT(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var FU=bo&&"documentMode"in document&&11>=document.documentMode,_c=null,ow=null,Yd=null,aw=!1;function oT(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;aw||_c==null||_c!==Fy(r)||(r=_c,"selectionStart"in r&&SA(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yd&&_h(Yd,r)||(Yd=r,r=Gy(ow,"onSelect"),0<r.length&&(e=new _A("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=_c)))}function eg(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var xc={animationend:eg("Animation","AnimationEnd"),animationiteration:eg("Animation","AnimationIteration"),animationstart:eg("Animation","AnimationStart"),transitionend:eg("Transition","TransitionEnd")},dx={},DB={};bo&&(DB=document.createElement("div").style,"AnimationEvent"in window||(delete xc.animationend.animation,delete xc.animationiteration.animation,delete xc.animationstart.animation),"TransitionEvent"in window||delete xc.transitionend.transition);function I0(n){if(dx[n])return dx[n];if(!xc[n])return n;var e=xc[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in DB)return dx[n]=e[t];return n}var FB=I0("animationend"),kB=I0("animationiteration"),NB=I0("animationstart"),OB=I0("transitionend"),HB=new Map,aT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ga(n,e){HB.set(n,e),gu(e,[n])}for(var hx=0;hx<aT.length;hx++){var px=aT[hx],kU=px.toLowerCase(),NU=px[0].toUpperCase()+px.slice(1);Ga(kU,"on"+NU)}Ga(FB,"onAnimationEnd");Ga(kB,"onAnimationIteration");Ga(NB,"onAnimationStart");Ga("dblclick","onDoubleClick");Ga("focusin","onFocus");Ga("focusout","onBlur");Ga(OB,"onTransitionEnd");Jc("onMouseEnter",["mouseout","mouseover"]);Jc("onMouseLeave",["mouseout","mouseover"]);Jc("onPointerEnter",["pointerout","pointerover"]);Jc("onPointerLeave",["pointerout","pointerover"]);gu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gu("onBeforeInput",["compositionend","keypress","textInput","paste"]);gu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wd));function lT(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,kH(r,e,void 0,n),n.currentTarget=null}function UB(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;lT(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;lT(i,a,u),s=l}}}if(Ny)throw n=nw,Ny=!1,nw=null,n}function en(n,e){var t=e[fw];t===void 0&&(t=e[fw]=new Set);var r=n+"__bubble";t.has(r)||(GB(e,n,2,!1),t.add(r))}function mx(n,e,t){var r=0;e&&(r|=4),GB(t,n,r,e)}var tg="_reactListening"+Math.random().toString(36).slice(2);function xh(n){if(!n[tg]){n[tg]=!0,XI.forEach(function(t){t!=="selectionchange"&&(OU.has(t)||mx(t,!1,n),mx(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[tg]||(e[tg]=!0,mx("selectionchange",!1,e))}}function GB(n,e,t,r){switch(MB(e)){case 1:var i=qH;break;case 4:i=ZH;break;default:i=yA}t=i.bind(null,e,t,n),i=void 0,!tw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function gx(n,e,t,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Bl(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}fB(function(){var u=s,d=hA(t),h=[];e:{var p=HB.get(n);if(p!==void 0){var m=_A,v=n;switch(n){case"keypress":if(gy(t)===0)break e;case"keydown":case"keyup":m=pU;break;case"focusin":v="focus",m=ux;break;case"focusout":v="blur",m=ux;break;case"beforeblur":case"afterblur":m=ux;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Qb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=nU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=yU;break;case FB:case kB:case NB:m=sU;break;case OB:m=_U;break;case"scroll":m=eU;break;case"wheel":m=wU;break;case"copy":case"cut":case"paste":m=aU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=qb}var y=(e&4)!==0,_=!y&&n==="scroll",w=y?p!==null?p+"Capture":null:p;y=[];for(var x=u,A;x!==null;){A=x;var E=A.stateNode;if(A.tag===5&&E!==null&&(A=E,w!==null&&(E=ph(x,w),E!=null&&y.push(wh(x,E,A)))),_)break;x=x.return}0<y.length&&(p=new m(p,v,null,t,d),h.push({event:p,listeners:y}))}}if((e&7)===0){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==Z1&&(v=t.relatedTarget||t.fromElement)&&(Bl(v)||v[To]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=t.relatedTarget||t.toElement,m=u,v=v?Bl(v):null,v!==null&&(_=yu(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(y=Qb,E="onMouseLeave",w="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(y=qb,E="onPointerLeave",w="onPointerEnter",x="pointer"),_=m==null?p:wc(m),A=v==null?p:wc(v),p=new y(E,x+"leave",m,t,d),p.target=_,p.relatedTarget=A,E=null,Bl(d)===u&&(y=new y(w,x+"enter",v,t,d),y.target=A,y.relatedTarget=_,E=y),_=E,m&&v)t:{for(y=m,w=v,x=0,A=y;A;A=Uu(A))x++;for(A=0,E=w;E;E=Uu(E))A++;for(;0<x-A;)y=Uu(y),x--;for(;0<A-x;)w=Uu(w),A--;for(;x--;){if(y===w||w!==null&&y===w.alternate)break t;y=Uu(y),w=Uu(w)}y=null}else y=null;m!==null&&uT(h,p,m,y,!1),v!==null&&_!==null&&uT(h,_,v,y,!0)}}e:{if(p=u?wc(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=TU;else if(tT(p))if(PB)C=BU;else{C=PU;var T=RU}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=IU);if(C&&(C=C(n,u))){RB(h,C,t,d);break e}T&&T(n,p,u),n==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&K1(p,"number",p.value)}switch(T=u?wc(u):window,n){case"focusin":(tT(T)||T.contentEditable==="true")&&(_c=T,ow=u,Yd=null);break;case"focusout":Yd=ow=_c=null;break;case"mousedown":aw=!0;break;case"contextmenu":case"mouseup":case"dragend":aw=!1,oT(h,t,d);break;case"selectionchange":if(FU)break;case"keydown":case"keyup":oT(h,t,d)}var R;if(wA)e:{switch(n){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else vc?bB(n,t)&&(I="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(I="onCompositionStart");I&&(CB&&t.locale!=="ko"&&(vc||I!=="onCompositionStart"?I==="onCompositionEnd"&&vc&&(R=EB()):(da=d,vA="value"in da?da.value:da.textContent,vc=!0)),T=Gy(u,I),0<T.length&&(I=new Yb(I,n,null,t,d),h.push({event:I,listeners:T}),R?I.data=R:(R=TB(t),R!==null&&(I.data=R)))),(R=AU?MU(n,t):EU(n,t))&&(u=Gy(u,"onBeforeInput"),0<u.length&&(d=new Yb("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:u}),d.data=R))}UB(h,e)})}function wh(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Gy(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ph(n,t),s!=null&&r.unshift(wh(n,s,i)),s=ph(n,e),s!=null&&r.push(wh(n,s,i))),n=n.return}return r}function Uu(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function uT(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ph(t,s),l!=null&&o.unshift(wh(t,l,a))):i||(l=ph(t,s),l!=null&&o.push(wh(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var HU=/\r\n?/g,UU=/\u0000|\uFFFD/g;function cT(n){return(typeof n=="string"?n:""+n).replace(HU,`
`).replace(UU,"")}function ng(n,e,t){if(e=cT(e),cT(n)!==e&&t)throw Error(Ce(425))}function zy(){}var lw=null;function uw(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cw=typeof setTimeout=="function"?setTimeout:void 0,GU=typeof clearTimeout=="function"?clearTimeout:void 0,fT=typeof Promise=="function"?Promise:void 0,zU=typeof queueMicrotask=="function"?queueMicrotask:typeof fT!="undefined"?function(n){return fT.resolve(null).then(n).catch(WU)}:cw;function WU(n){setTimeout(function(){throw n})}function yx(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),yh(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);yh(e)}function yo(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function dT(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Pf=Math.random().toString(36).slice(2),Fs="__reactFiber$"+Pf,Sh="__reactProps$"+Pf,To="__reactContainer$"+Pf,fw="__reactEvents$"+Pf,VU="__reactListeners$"+Pf,jU="__reactHandles$"+Pf;function Bl(n){var e=n[Fs];if(e)return e;for(var t=n.parentNode;t;){if(e=t[To]||t[Fs]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=dT(n);n!==null;){if(t=n[Fs])return t;n=dT(n)}return e}n=t,t=n.parentNode}return null}function ip(n){return n=n[Fs]||n[To],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function wc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ce(33))}function B0(n){return n[Sh]||null}var dw=[],Sc=-1;function za(n){return{current:n}}function sn(n){0>Sc||(n.current=dw[Sc],dw[Sc]=null,Sc--)}function qt(n,e){Sc++,dw[Sc]=n.current,n.current=e}var Ta={},Cr=za(Ta),ei=za(!1),ql=Ta;function $c(n,e){var t=n.type.contextTypes;if(!t)return Ta;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function ti(n){return n=n.childContextTypes,n!=null}function Wy(){sn(ei),sn(Cr)}function hT(n,e,t){if(Cr.current!==Ta)throw Error(Ce(168));qt(Cr,e),qt(ei,t)}function zB(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ce(108,RH(n)||"Unknown",i));return xn({},t,r)}function Vy(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ta,ql=Cr.current,qt(Cr,n),qt(ei,ei.current),!0}function pT(n,e,t){var r=n.stateNode;if(!r)throw Error(Ce(169));t?(n=zB(n,e,ql),r.__reactInternalMemoizedMergedChildContext=n,sn(ei),sn(Cr),qt(Cr,n)):sn(ei),qt(ei,t)}var mo=null,L0=!1,vx=!1;function WB(n){mo===null?mo=[n]:mo.push(n)}function JU(n){L0=!0,WB(n)}function Wa(){if(!vx&&mo!==null){vx=!0;var n=0,e=jt;try{var t=mo;for(jt=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}mo=null,L0=!1}catch(i){throw mo!==null&&(mo=mo.slice(n+1)),mB(pA,Wa),i}finally{jt=e,vx=!1}}return null}var $U=Lo.ReactCurrentBatchConfig;function os(n,e){if(n&&n.defaultProps){e=xn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var jy=za(null),Jy=null,Ac=null,AA=null;function MA(){AA=Ac=Jy=null}function EA(n){var e=jy.current;sn(jy),n._currentValue=e}function hw(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Oc(n,e){Jy=n,AA=Ac=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&e)!==0&&(gi=!0),n.firstContext=null)}function Ki(n){var e=n._currentValue;if(AA!==n)if(n={context:n,memoizedValue:e,next:null},Ac===null){if(Jy===null)throw Error(Ce(308));Ac=n,Jy.dependencies={lanes:0,firstContext:n}}else Ac=Ac.next=n;return e}var ks=null,ua=!1;function CA(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VB(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ao(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function xa(n,e){var t=n.updateQueue;t!==null&&(t=t.shared,Un!==null&&(n.mode&1)!==0&&(Pt&2)===0?(n=t.interleaved,n===null?(e.next=e,ks===null?ks=[t]:ks.push(t)):(e.next=n.next,n.next=e),t.interleaved=e):(n=t.pending,n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e))}function yy(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,mA(n,t)}}function mT(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function $y(n,e,t,r){var i=n.updateQueue;ua=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,y=a;switch(p=e,m=t,y.tag){case 1:if(v=y.payload,typeof v=="function"){h=v.call(m,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,p=typeof v=="function"?v.call(m,h,p):v,p==null)break e;h=xn({},h,p);break e;case 2:ua=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);qc|=o,n.lanes=o,n.memoizedState=h}}function gT(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Ce(191,i));i.call(r)}}}var jB=new KI.Component().refs;function pw(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:xn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var D0={isMounted:function(n){return(n=n._reactInternals)?yu(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Dr(),i=Sa(n),s=Ao(r,i);s.payload=e,t!=null&&(s.callback=t),xa(n,s),e=$i(n,i,r),e!==null&&yy(e,n,i)},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Dr(),i=Sa(n),s=Ao(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),xa(n,s),e=$i(n,i,r),e!==null&&yy(e,n,i)},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Dr(),r=Sa(n),i=Ao(t,r);i.tag=2,e!=null&&(i.callback=e),xa(n,i),e=$i(n,r,t),e!==null&&yy(e,n,r)}};function yT(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!_h(t,r)||!_h(i,s):!0}function JB(n,e,t){var r=!1,i=Ta,s=e.contextType;return typeof s=="object"&&s!==null?s=Ki(s):(i=ti(e)?ql:Cr.current,r=e.contextTypes,s=(r=r!=null)?$c(n,i):Ta),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=D0,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function vT(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&D0.enqueueReplaceState(e,e.state,null)}function mw(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=jB,CA(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ki(s):(s=ti(e)?ql:Cr.current,i.context=$c(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(pw(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&D0.enqueueReplaceState(i,i.state,null),$y(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}var Mc=[],Ec=0,Ky=null,Xy=0,Gi=[],zi=0,Zl=null,vo=1,_o="";function xl(n,e){Mc[Ec++]=Xy,Mc[Ec++]=Ky,Ky=n,Xy=e}function $B(n,e,t){Gi[zi++]=vo,Gi[zi++]=_o,Gi[zi++]=Zl,Zl=n;var r=vo;n=_o;var i=32-fs(r)-1;r&=~(1<<i),t+=1;var s=32-fs(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,vo=1<<32-fs(e)+i|t<<i|r,_o=s+n}else vo=1<<s|t<<i|r,_o=n}function bA(n){n.return!==null&&(xl(n,1),$B(n,1,0))}function TA(n){for(;n===Ky;)Ky=Mc[--Ec],Mc[Ec]=null,Xy=Mc[--Ec],Mc[Ec]=null;for(;n===Zl;)Zl=Gi[--zi],Gi[zi]=null,_o=Gi[--zi],Gi[zi]=null,vo=Gi[--zi],Gi[zi]=null}var vi=null,Xr=null,fn=!1,as=null;function KB(n,e){var t=Wi(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function _T(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,vi=n,Xr=yo(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,vi=n,Xr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Zl!==null?{id:vo,overflow:_o}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Wi(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,vi=n,Xr=null,!0):!1;default:return!1}}function gw(n){return(n.mode&1)!==0&&(n.flags&128)===0}function yw(n){if(fn){var e=Xr;if(e){var t=e;if(!_T(n,e)){if(gw(n))throw Error(Ce(418));e=yo(t.nextSibling);var r=vi;e&&_T(n,e)?KB(r,t):(n.flags=n.flags&-4097|2,fn=!1,vi=n)}}else{if(gw(n))throw Error(Ce(418));n.flags=n.flags&-4097|2,fn=!1,vi=n}}}function xT(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;vi=n}function gd(n){if(n!==vi)return!1;if(!fn)return xT(n),fn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!uw(n.type,n.memoizedProps)),e&&(e=Xr)){if(gw(n)){for(n=Xr;n;)n=yo(n.nextSibling);throw Error(Ce(418))}for(;e;)KB(n,e),e=yo(e.nextSibling)}if(xT(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ce(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Xr=yo(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Xr=null}}else Xr=vi?yo(n.stateNode.nextSibling):null;return!0}function Kc(){Xr=vi=null,fn=!1}function RA(n){as===null?as=[n]:as.push(n)}function yd(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ce(309));var r=t.stateNode}if(!r)throw Error(Ce(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===jB&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ce(284));if(!t._owner)throw Error(Ce(290,n))}return n}function rg(n,e){throw n=Object.prototype.toString.call(e),Error(Ce(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function wT(n){var e=n._init;return e(n._payload)}function XB(n){function e(w,x){if(n){var A=w.deletions;A===null?(w.deletions=[x],w.flags|=16):A.push(x)}}function t(w,x){if(!n)return null;for(;x!==null;)e(w,x),x=x.sibling;return null}function r(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function i(w,x){return w=Ra(w,x),w.index=0,w.sibling=null,w}function s(w,x,A){return w.index=A,n?(A=w.alternate,A!==null?(A=A.index,A<x?(w.flags|=2,x):A):(w.flags|=2,x)):(w.flags|=1048576,x)}function o(w){return n&&w.alternate===null&&(w.flags|=2),w}function a(w,x,A,E){return x===null||x.tag!==6?(x=Mx(A,w.mode,E),x.return=w,x):(x=i(x,A),x.return=w,x)}function l(w,x,A,E){var C=A.type;return C===yc?d(w,x,A.props.children,E,A.key):x!==null&&(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===la&&wT(C)===x.type)?(E=i(x,A.props),E.ref=yd(w,x,A),E.return=w,E):(E=Sy(A.type,A.key,A.props,null,w.mode,E),E.ref=yd(w,x,A),E.return=w,E)}function u(w,x,A,E){return x===null||x.tag!==4||x.stateNode.containerInfo!==A.containerInfo||x.stateNode.implementation!==A.implementation?(x=Ex(A,w.mode,E),x.return=w,x):(x=i(x,A.children||[]),x.return=w,x)}function d(w,x,A,E,C){return x===null||x.tag!==7?(x=Wl(A,w.mode,E,C),x.return=w,x):(x=i(x,A),x.return=w,x)}function h(w,x,A){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Mx(""+x,w.mode,A),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case $m:return A=Sy(x.type,x.key,x.props,null,w.mode,A),A.ref=yd(w,null,x),A.return=w,A;case gc:return x=Ex(x,w.mode,A),x.return=w,x;case la:var E=x._init;return h(w,E(x._payload),A)}if(Gd(x)||fd(x))return x=Wl(x,w.mode,A,null),x.return=w,x;rg(w,x)}return null}function p(w,x,A,E){var C=x!==null?x.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return C!==null?null:a(w,x,""+A,E);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case $m:return A.key===C?l(w,x,A,E):null;case gc:return A.key===C?u(w,x,A,E):null;case la:return C=A._init,p(w,x,C(A._payload),E)}if(Gd(A)||fd(A))return C!==null?null:d(w,x,A,E,null);rg(w,A)}return null}function m(w,x,A,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return w=w.get(A)||null,a(x,w,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case $m:return w=w.get(E.key===null?A:E.key)||null,l(x,w,E,C);case gc:return w=w.get(E.key===null?A:E.key)||null,u(x,w,E,C);case la:var T=E._init;return m(w,x,A,T(E._payload),C)}if(Gd(E)||fd(E))return w=w.get(A)||null,d(x,w,E,C,null);rg(x,E)}return null}function v(w,x,A,E){for(var C=null,T=null,R=x,I=x=0,O=null;R!==null&&I<A.length;I++){R.index>I?(O=R,R=null):O=R.sibling;var D=p(w,R,A[I],E);if(D===null){R===null&&(R=O);break}n&&R&&D.alternate===null&&e(w,R),x=s(D,x,I),T===null?C=D:T.sibling=D,T=D,R=O}if(I===A.length)return t(w,R),fn&&xl(w,I),C;if(R===null){for(;I<A.length;I++)R=h(w,A[I],E),R!==null&&(x=s(R,x,I),T===null?C=R:T.sibling=R,T=R);return fn&&xl(w,I),C}for(R=r(w,R);I<A.length;I++)O=m(R,w,I,A[I],E),O!==null&&(n&&O.alternate!==null&&R.delete(O.key===null?I:O.key),x=s(O,x,I),T===null?C=O:T.sibling=O,T=O);return n&&R.forEach(function(P){return e(w,P)}),fn&&xl(w,I),C}function y(w,x,A,E){var C=fd(A);if(typeof C!="function")throw Error(Ce(150));if(A=C.call(A),A==null)throw Error(Ce(151));for(var T=C=null,R=x,I=x=0,O=null,D=A.next();R!==null&&!D.done;I++,D=A.next()){R.index>I?(O=R,R=null):O=R.sibling;var P=p(w,R,D.value,E);if(P===null){R===null&&(R=O);break}n&&R&&P.alternate===null&&e(w,R),x=s(P,x,I),T===null?C=P:T.sibling=P,T=P,R=O}if(D.done)return t(w,R),fn&&xl(w,I),C;if(R===null){for(;!D.done;I++,D=A.next())D=h(w,D.value,E),D!==null&&(x=s(D,x,I),T===null?C=D:T.sibling=D,T=D);return fn&&xl(w,I),C}for(R=r(w,R);!D.done;I++,D=A.next())D=m(R,w,I,D.value,E),D!==null&&(n&&D.alternate!==null&&R.delete(D.key===null?I:D.key),x=s(D,x,I),T===null?C=D:T.sibling=D,T=D);return n&&R.forEach(function(B){return e(w,B)}),fn&&xl(w,I),C}function _(w,x,A,E){if(typeof A=="object"&&A!==null&&A.type===yc&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case $m:e:{for(var C=A.key,T=x;T!==null;){if(T.key===C){if(C=A.type,C===yc){if(T.tag===7){t(w,T.sibling),x=i(T,A.props.children),x.return=w,w=x;break e}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===la&&wT(C)===T.type){t(w,T.sibling),x=i(T,A.props),x.ref=yd(w,T,A),x.return=w,w=x;break e}t(w,T);break}else e(w,T);T=T.sibling}A.type===yc?(x=Wl(A.props.children,w.mode,E,A.key),x.return=w,w=x):(E=Sy(A.type,A.key,A.props,null,w.mode,E),E.ref=yd(w,x,A),E.return=w,w=E)}return o(w);case gc:e:{for(T=A.key;x!==null;){if(x.key===T)if(x.tag===4&&x.stateNode.containerInfo===A.containerInfo&&x.stateNode.implementation===A.implementation){t(w,x.sibling),x=i(x,A.children||[]),x.return=w,w=x;break e}else{t(w,x);break}else e(w,x);x=x.sibling}x=Ex(A,w.mode,E),x.return=w,w=x}return o(w);case la:return T=A._init,_(w,x,T(A._payload),E)}if(Gd(A))return v(w,x,A,E);if(fd(A))return y(w,x,A,E);rg(w,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,x!==null&&x.tag===6?(t(w,x.sibling),x=i(x,A),x.return=w,w=x):(t(w,x),x=Mx(A,w.mode,E),x.return=w,w=x),o(w)):t(w,x)}return _}var Xc=XB(!0),QB=XB(!1),sp={},Us=za(sp),Ah=za(sp),Mh=za(sp);function Ll(n){if(n===sp)throw Error(Ce(174));return n}function PA(n,e){switch(qt(Mh,e),qt(Ah,n),qt(Us,sp),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Q1(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Q1(e,n)}sn(Us),qt(Us,e)}function Qc(){sn(Us),sn(Ah),sn(Mh)}function YB(n){Ll(Mh.current);var e=Ll(Us.current),t=Q1(e,n.type);e!==t&&(qt(Ah,n),qt(Us,t))}function IA(n){Ah.current===n&&(sn(Us),sn(Ah))}var yn=za(0);function Qy(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _x=[];function BA(){for(var n=0;n<_x.length;n++)_x[n]._workInProgressVersionPrimary=null;_x.length=0}var vy=Lo.ReactCurrentDispatcher,ji=Lo.ReactCurrentBatchConfig,Yc=0,bn=null,wr=null,er=null,Yy=!1,qd=!1,Eh=0,KU=0;function yr(){throw Error(Ce(321))}function LA(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!js(n[t],e[t]))return!1;return!0}function DA(n,e,t,r,i,s){if(Yc=s,bn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vy.current=n===null||n.memoizedState===null?qU:ZU,n=t(r,i),qd){s=0;do{if(qd=!1,Eh=0,25<=s)throw Error(Ce(301));s+=1,er=wr=null,e.updateQueue=null,vy.current=eG,n=t(r,i)}while(qd)}if(vy.current=qy,e=wr!==null&&wr.next!==null,Yc=0,er=wr=bn=null,Yy=!1,e)throw Error(Ce(300));return n}function FA(){var n=Eh!==0;return Eh=0,n}function ho(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return er===null?bn.memoizedState=er=n:er=er.next=n,er}function Qs(){if(wr===null){var n=bn.alternate;n=n!==null?n.memoizedState:null}else n=wr.next;var e=er===null?bn.memoizedState:er.next;if(e!==null)er=e,wr=n;else{if(n===null)throw Error(Ce(310));wr=n,n={memoizedState:wr.memoizedState,baseState:wr.baseState,baseQueue:wr.baseQueue,queue:wr.queue,next:null},er===null?bn.memoizedState=er=n:er=er.next=n}return er}function Gl(n,e){return typeof e=="function"?e(n):e}function ig(n){var e=Qs(),t=e.queue;if(t===null)throw Error(Ce(311));t.lastRenderedReducer=n;var r=wr,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((Yc&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,bn.lanes|=d,qc|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,js(r,e.memoizedState)||(gi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,bn.lanes|=s,qc|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function sg(n){var e=Qs(),t=e.queue;if(t===null)throw Error(Ce(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);js(s,e.memoizedState)||(gi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function qB(){}function ZB(n,e){var t=bn,r=Qs(),i=e(),s=!js(r.memoizedState,i);if(s&&(r.memoizedState=i,gi=!0),r=r.queue,bh(nL.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||er!==null&&er.memoizedState.tag&1){if(t.flags|=2048,Ch(9,tL.bind(null,t,r,i,e),void 0,null),Un===null)throw Error(Ce(349));(Yc&30)!==0||eL(t,e,i)}return i}function eL(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=bn.updateQueue,e===null?(e={lastEffect:null,stores:null},bn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function tL(n,e,t,r){e.value=t,e.getSnapshot=r,rL(e)&&$i(n,1,-1)}function nL(n,e,t){return t(function(){rL(e)&&$i(n,1,-1)})}function rL(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!js(n,t)}catch{return!0}}function xx(n){var e=ho();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gl,lastRenderedState:n},e.queue=n,n=n.dispatch=YU.bind(null,bn,n),[e.memoizedState,n]}function Ch(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=bn.updateQueue,e===null?(e={lastEffect:null,stores:null},bn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function iL(){return Qs().memoizedState}function _y(n,e,t,r){var i=ho();bn.flags|=n,i.memoizedState=Ch(1|e,t,void 0,r===void 0?null:r)}function F0(n,e,t,r){var i=Qs();r=r===void 0?null:r;var s=void 0;if(wr!==null){var o=wr.memoizedState;if(s=o.destroy,r!==null&&LA(r,o.deps)){i.memoizedState=Ch(e,t,s,r);return}}bn.flags|=n,i.memoizedState=Ch(1|e,t,s,r)}function wx(n,e){return _y(8390656,8,n,e)}function bh(n,e){return F0(2048,8,n,e)}function sL(n,e){return F0(4,2,n,e)}function oL(n,e){return F0(4,4,n,e)}function aL(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function lL(n,e,t){return t=t!=null?t.concat([n]):null,F0(4,4,aL.bind(null,e,n),t)}function kA(){}function uL(n,e){var t=Qs();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&LA(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function cL(n,e){var t=Qs();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&LA(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function XU(n,e){var t=jt;jt=t!==0&&4>t?t:4,n(!0);var r=ji.transition;ji.transition={};try{n(!1),e()}finally{jt=t,ji.transition=r}}function fL(){return Qs().memoizedState}function QU(n,e,t){var r=Sa(n);t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},dL(n)?hL(e,t):(pL(n,e,t),t=Dr(),n=$i(n,r,t),n!==null&&mL(n,e,r))}function YU(n,e,t){var r=Sa(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(dL(n))hL(e,i);else{pL(n,e,i);var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,js(a,o))return}catch{}finally{}t=Dr(),n=$i(n,r,t),n!==null&&mL(n,e,r)}}function dL(n){var e=n.alternate;return n===bn||e!==null&&e===bn}function hL(n,e){qd=Yy=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function pL(n,e,t){Un!==null&&(n.mode&1)!==0&&(Pt&2)===0?(n=e.interleaved,n===null?(t.next=t,ks===null?ks=[e]:ks.push(e)):(t.next=n.next,n.next=t),e.interleaved=t):(n=e.pending,n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t)}function mL(n,e,t){if((t&4194240)!==0){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,mA(n,t)}}var qy={readContext:Ki,useCallback:yr,useContext:yr,useEffect:yr,useImperativeHandle:yr,useInsertionEffect:yr,useLayoutEffect:yr,useMemo:yr,useReducer:yr,useRef:yr,useState:yr,useDebugValue:yr,useDeferredValue:yr,useTransition:yr,useMutableSource:yr,useSyncExternalStore:yr,useId:yr,unstable_isNewReconciler:!1},qU={readContext:Ki,useCallback:function(n,e){return ho().memoizedState=[n,e===void 0?null:e],n},useContext:Ki,useEffect:wx,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,_y(4194308,4,aL.bind(null,e,n),t)},useLayoutEffect:function(n,e){return _y(4194308,4,n,e)},useInsertionEffect:function(n,e){return _y(4,2,n,e)},useMemo:function(n,e){var t=ho();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=ho();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=QU.bind(null,bn,n),[r.memoizedState,n]},useRef:function(n){var e=ho();return n={current:n},e.memoizedState=n},useState:xx,useDebugValue:kA,useDeferredValue:function(n){var e=xx(n),t=e[0],r=e[1];return wx(function(){var i=ji.transition;ji.transition={};try{r(n)}finally{ji.transition=i}},[n]),t},useTransition:function(){var n=xx(!1),e=n[0];return n=XU.bind(null,n[1]),ho().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=bn,i=ho();if(fn){if(t===void 0)throw Error(Ce(407));t=t()}else{if(t=e(),Un===null)throw Error(Ce(349));(Yc&30)!==0||eL(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,wx(nL.bind(null,r,s,n),[n]),r.flags|=2048,Ch(9,tL.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=ho(),e=Un.identifierPrefix;if(fn){var t=_o,r=vo;t=(r&~(1<<32-fs(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Eh++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=KU++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},ZU={readContext:Ki,useCallback:uL,useContext:Ki,useEffect:bh,useImperativeHandle:lL,useInsertionEffect:sL,useLayoutEffect:oL,useMemo:cL,useReducer:ig,useRef:iL,useState:function(){return ig(Gl)},useDebugValue:kA,useDeferredValue:function(n){var e=ig(Gl),t=e[0],r=e[1];return bh(function(){var i=ji.transition;ji.transition={};try{r(n)}finally{ji.transition=i}},[n]),t},useTransition:function(){var n=ig(Gl)[0],e=Qs().memoizedState;return[n,e]},useMutableSource:qB,useSyncExternalStore:ZB,useId:fL,unstable_isNewReconciler:!1},eG={readContext:Ki,useCallback:uL,useContext:Ki,useEffect:bh,useImperativeHandle:lL,useInsertionEffect:sL,useLayoutEffect:oL,useMemo:cL,useReducer:sg,useRef:iL,useState:function(){return sg(Gl)},useDebugValue:kA,useDeferredValue:function(n){var e=sg(Gl),t=e[0],r=e[1];return bh(function(){var i=ji.transition;ji.transition={};try{r(n)}finally{ji.transition=i}},[n]),t},useTransition:function(){var n=sg(Gl)[0],e=Qs().memoizedState;return[n,e]},useMutableSource:qB,useSyncExternalStore:ZB,useId:fL,unstable_isNewReconciler:!1};function NA(n,e){try{var t="",r=e;do t+=TH(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i}}function vw(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var tG=typeof WeakMap=="function"?WeakMap:Map;function gL(n,e,t){t=Ao(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){t0||(t0=!0,bw=r),vw(n,e)},t}function yL(n,e,t){t=Ao(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){vw(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){vw(n,e),typeof r!="function"&&(wa===null?wa=new Set([this]):wa.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function ST(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new tG;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=mG.bind(null,n,e,t),e.then(n,n))}function AT(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function MT(n,e,t,r,i){return(n.mode&1)===0?(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Ao(-1,1),e.tag=2,xa(t,e))),t.lanes|=1),n):(n.flags|=65536,n.lanes=i,n)}var vL,_w,_L,xL;vL=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};_w=function(){};_L=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Ll(Us.current);var s=null;switch(t){case"input":i=J1(n,i),r=J1(n,r),s=[];break;case"select":i=xn({},i,{value:void 0}),r=xn({},r,{value:void 0}),s=[];break;case"textarea":i=X1(n,i),r=X1(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=zy)}Y1(t,r);var o;t=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(dh.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(dh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&en("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};xL=function(n,e,t,r){t!==r&&(e.flags|=4)};function vd(n,e){if(!fn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function vr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function nG(n,e,t){var r=e.pendingProps;switch(TA(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vr(e),null;case 1:return ti(e.type)&&Wy(),vr(e),null;case 3:return r=e.stateNode,Qc(),sn(ei),sn(Cr),BA(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(gd(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,as!==null&&(Pw(as),as=null))),_w(n,e),vr(e),null;case 5:IA(e);var i=Ll(Mh.current);if(t=e.type,n!==null&&e.stateNode!=null)_L(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ce(166));return vr(e),null}if(n=Ll(Us.current),gd(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Fs]=e,r[Sh]=s,n=(e.mode&1)!==0,t){case"dialog":en("cancel",r),en("close",r);break;case"iframe":case"object":case"embed":en("load",r);break;case"video":case"audio":for(i=0;i<Wd.length;i++)en(Wd[i],r);break;case"source":en("error",r);break;case"img":case"image":case"link":en("error",r),en("load",r);break;case"details":en("toggle",r);break;case"input":Ub(r,s),en("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},en("invalid",r);break;case"textarea":zb(r,s),en("invalid",r)}Y1(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(ng(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(ng(r.textContent,a,n),i=["children",""+a]):dh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&en("scroll",r)}switch(t){case"input":Km(r),Gb(r,s,!0);break;case"textarea":Km(r),Wb(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=zy)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=rB(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Fs]=e,n[Sh]=r,vL(n,e,!1,!1),e.stateNode=n;e:{switch(o=q1(t,r),t){case"dialog":en("cancel",n),en("close",n),i=r;break;case"iframe":case"object":case"embed":en("load",n),i=r;break;case"video":case"audio":for(i=0;i<Wd.length;i++)en(Wd[i],n);i=r;break;case"source":en("error",n),i=r;break;case"img":case"image":case"link":en("error",n),en("load",n),i=r;break;case"details":en("toggle",n),i=r;break;case"input":Ub(n,r),i=J1(n,r),en("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=xn({},r,{value:void 0}),en("invalid",n);break;case"textarea":zb(n,r),i=X1(n,r),en("invalid",n);break;default:i=r}Y1(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?oB(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&iB(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&hh(n,l):typeof l=="number"&&hh(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(dh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&en("scroll",n):l!=null&&uA(n,s,l,o))}switch(t){case"input":Km(n),Gb(n,r,!1);break;case"textarea":Km(n),Wb(n);break;case"option":r.value!=null&&n.setAttribute("value",""+ba(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Dc(n,!!r.multiple,s,!1):r.defaultValue!=null&&Dc(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=zy)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vr(e),null;case 6:if(n&&e.stateNode!=null)xL(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ce(166));if(t=Ll(Mh.current),Ll(Us.current),gd(e)){if(r=e.stateNode,t=e.memoizedProps,r[Fs]=e,(s=r.nodeValue!==t)&&(n=vi,n!==null))switch(o=(n.mode&1)!==0,n.tag){case 3:ng(r.nodeValue,t,o);break;case 5:n.memoizedProps[void 0]!==!0&&ng(r.nodeValue,t,o)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Fs]=e,e.stateNode=r}return vr(e),null;case 13:if(sn(yn),r=e.memoizedState,fn&&Xr!==null&&(e.mode&1)!==0&&(e.flags&128)===0){for(r=Xr;r;)r=yo(r.nextSibling);return Kc(),e.flags|=98560,e}if(r!==null&&r.dehydrated!==null){if(r=gd(e),n===null){if(!r)throw Error(Ce(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Ce(317));r[Fs]=e}else Kc(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;return vr(e),null}return as!==null&&(Pw(as),as=null),(e.flags&128)!==0?(e.lanes=t,e):(r=r!==null,t=!1,n===null?gd(e):t=n.memoizedState!==null,r&&!t&&(e.child.flags|=8192,(e.mode&1)!==0&&(n===null||(yn.current&1)!==0?Jn===0&&(Jn=3):WA())),e.updateQueue!==null&&(e.flags|=4),vr(e),null);case 4:return Qc(),_w(n,e),n===null&&xh(e.stateNode.containerInfo),vr(e),null;case 10:return EA(e.type._context),vr(e),null;case 17:return ti(e.type)&&Wy(),vr(e),null;case 19:if(sn(yn),s=e.memoizedState,s===null)return vr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)vd(s,!1);else{if(Jn!==0||n!==null&&(n.flags&128)!==0)for(n=e.child;n!==null;){if(o=Qy(n),o!==null){for(e.flags|=128,vd(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return qt(yn,yn.current&1|2),e.child}n=n.sibling}s.tail!==null&&In()>Zc&&(e.flags|=128,r=!0,vd(s,!1),e.lanes=4194304)}else{if(!r)if(n=Qy(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),vd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!fn)return vr(e),null}else 2*In()-s.renderingStartTime>Zc&&t!==1073741824&&(e.flags|=128,r=!0,vd(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=In(),e.sibling=null,t=yn.current,qt(yn,r?t&1|2:t&1),e):(vr(e),null);case 22:case 23:return zA(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(mi&1073741824)!==0&&(vr(e),e.subtreeFlags&6&&(e.flags|=8192)):vr(e),null;case 24:return null;case 25:return null}throw Error(Ce(156,e.tag))}var rG=Lo.ReactCurrentOwner,gi=!1;function Lr(n,e,t,r){e.child=n===null?QB(e,null,t,r):Xc(e,n.child,t,r)}function ET(n,e,t,r,i){t=t.render;var s=e.ref;return Oc(e,i),r=DA(n,e,t,r,s,i),t=FA(),n!==null&&!gi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Ro(n,e,i)):(fn&&t&&bA(e),e.flags|=1,Lr(n,e,r,i),e.child)}function CT(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!VA(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,wL(n,e,s,r,i)):(n=Sy(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,(n.lanes&i)===0){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:_h,t(o,r)&&n.ref===e.ref)return Ro(n,e,i)}return e.flags|=1,n=Ra(s,r),n.ref=e.ref,n.return=e,e.child=n}function wL(n,e,t,r,i){if(n!==null&&_h(n.memoizedProps,r)&&n.ref===e.ref)if(gi=!1,(n.lanes&i)!==0)(n.flags&131072)!==0&&(gi=!0);else return e.lanes=n.lanes,Ro(n,e,i);return xw(n,e,t,r,i)}function SL(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null},qt(Cc,mi),mi|=t;else if((t&1073741824)!==0)e.memoizedState={baseLanes:0,cachePool:null},r=s!==null?s.baseLanes:t,qt(Cc,mi),mi|=r;else return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null},e.updateQueue=null,qt(Cc,mi),mi|=n,null;else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,qt(Cc,mi),mi|=r;return Lr(n,e,i,t),e.child}function AL(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function xw(n,e,t,r,i){var s=ti(t)?ql:Cr.current;return s=$c(e,s),Oc(e,i),t=DA(n,e,t,r,s,i),r=FA(),n!==null&&!gi?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Ro(n,e,i)):(fn&&r&&bA(e),e.flags|=1,Lr(n,e,t,i),e.child)}function bT(n,e,t,r,i){if(ti(t)){var s=!0;Vy(e)}else s=!1;if(Oc(e,i),e.stateNode===null)n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),JB(e,t,r),mw(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=Ki(u):(u=ti(t)?ql:Cr.current,u=$c(e,u));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&vT(e,o,r,u),ua=!1;var p=e.memoizedState;o.state=p,$y(e,r,o,i),l=e.memoizedState,a!==r||p!==l||ei.current||ua?(typeof d=="function"&&(pw(e,t,d,r),l=e.memoizedState),(a=ua||yT(e,t,a,r,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,VB(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:os(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Ki(l):(l=ti(t)?ql:Cr.current,l=$c(e,l));var m=t.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&vT(e,o,r,l),ua=!1,p=e.memoizedState,o.state=p,$y(e,r,o,i);var v=e.memoizedState;a!==h||p!==v||ei.current||ua?(typeof m=="function"&&(pw(e,t,m,r),v=e.memoizedState),(u=ua||yT(e,t,u,r,p,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return ww(n,e,t,r,s,i)}function ww(n,e,t,r,i,s){AL(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&pT(e,t,!1),Ro(n,e,s);r=e.stateNode,rG.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Xc(e,n.child,null,s),e.child=Xc(e,null,a,s)):Lr(n,e,a,s),e.memoizedState=r.state,i&&pT(e,t,!0),e.child}function ML(n){var e=n.stateNode;e.pendingContext?hT(n,e.pendingContext,e.pendingContext!==e.context):e.context&&hT(n,e.context,!1),PA(n,e.containerInfo)}function TT(n,e,t,r,i){return Kc(),RA(i),e.flags|=256,Lr(n,e,t,r),e.child}var og={dehydrated:null,treeContext:null,retryLane:0};function ag(n){return{baseLanes:n,cachePool:null}}function EL(n,e,t){var r=e.pendingProps,i=yn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),qt(yn,i&1),n===null)return yw(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((e.mode&1)===0?e.lanes=1:n.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(i=r.children,n=r.fallback,s?(r=e.mode,s=e.child,i={mode:"hidden",children:i},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=i):s=i0(i,r,0,null),n=Wl(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=ag(t),e.memoizedState=og,n):Sw(e,i));if(i=n.memoizedState,i!==null){if(a=i.dehydrated,a!==null){if(o)return e.flags&256?(e.flags&=-257,lg(n,e,t,Error(Ce(422)))):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=i0({mode:"visible",children:r.children},i,0,null),s=Wl(s,i,t,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,(e.mode&1)!==0&&Xc(e,n.child,null,t),e.child.memoizedState=ag(t),e.memoizedState=og,s);if((e.mode&1)===0)e=lg(n,e,t,null);else if(a.data==="$!")e=lg(n,e,t,Error(Ce(419)));else if(r=(t&n.childLanes)!==0,gi||r){if(r=Un,r!==null){switch(t&-t){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}r=(s&(r.suspendedLanes|t))!==0?0:s,r!==0&&r!==i.retryLane&&(i.retryLane=r,$i(n,r,-1))}WA(),e=lg(n,e,t,Error(Ce(421)))}else a.data==="$?"?(e.flags|=128,e.child=n.child,e=gG.bind(null,n),a._reactRetry=e,e=null):(t=i.treeContext,Xr=yo(a.nextSibling),vi=e,fn=!0,as=null,t!==null&&(Gi[zi++]=vo,Gi[zi++]=_o,Gi[zi++]=Zl,vo=t.id,_o=t.overflow,Zl=e),e=Sw(e,e.pendingProps.children),e.flags|=4096);return e}return s?(r=PT(n,e,r.children,r.fallback,t),s=e.child,i=n.child.memoizedState,s.memoizedState=i===null?ag(t):{baseLanes:i.baseLanes|t,cachePool:null},s.childLanes=n.childLanes&~t,e.memoizedState=og,r):(t=RT(n,e,r.children,t),e.memoizedState=null,t)}return s?(r=PT(n,e,r.children,r.fallback,t),s=e.child,i=n.child.memoizedState,s.memoizedState=i===null?ag(t):{baseLanes:i.baseLanes|t,cachePool:null},s.childLanes=n.childLanes&~t,e.memoizedState=og,r):(t=RT(n,e,r.children,t),e.memoizedState=null,t)}function Sw(n,e){return e=i0({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function RT(n,e,t,r){var i=n.child;return n=i.sibling,t=Ra(i,{mode:"visible",children:t}),(e.mode&1)===0&&(t.lanes=r),t.return=e,t.sibling=null,n!==null&&(r=e.deletions,r===null?(e.deletions=[n],e.flags|=16):r.push(n)),e.child=t}function PT(n,e,t,r,i){var s=e.mode;n=n.child;var o=n.sibling,a={mode:"hidden",children:t};return(s&1)===0&&e.child!==n?(t=e.child,t.childLanes=0,t.pendingProps=a,e.deletions=null):(t=Ra(n,a),t.subtreeFlags=n.subtreeFlags&14680064),o!==null?r=Ra(o,r):(r=Wl(r,s,i,null),r.flags|=2),r.return=e,t.return=e,t.sibling=r,e.child=t,r}function lg(n,e,t,r){return r!==null&&RA(r),Xc(e,n.child,null,t),n=Sw(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function IT(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),hw(n.return,e,t)}function Sx(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function CL(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Lr(n,e,r.children,t),r=yn.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&IT(n,t,e);else if(n.tag===19)IT(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(qt(yn,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Qy(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),Sx(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Qy(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}Sx(e,!0,t,null,s);break;case"together":Sx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ro(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),qc|=e.lanes,(t&e.childLanes)===0)return null;if(n!==null&&e.child!==n.child)throw Error(Ce(153));if(e.child!==null){for(n=e.child,t=Ra(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Ra(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function iG(n,e,t){switch(e.tag){case 3:ML(e),Kc();break;case 5:YB(e);break;case 1:ti(e.type)&&Vy(e);break;case 4:PA(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;qt(jy,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qt(yn,yn.current&1),e.flags|=128,null):(t&e.child.childLanes)!==0?EL(n,e,t):(qt(yn,yn.current&1),n=Ro(n,e,t),n!==null?n.sibling:null);qt(yn,yn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,(n.flags&128)!==0){if(r)return CL(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qt(yn,yn.current),r)break;return null;case 22:case 23:return e.lanes=0,SL(n,e,t)}return Ro(n,e,t)}function sG(n,e){switch(TA(e),e.tag){case 1:return ti(e.type)&&Wy(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Qc(),sn(ei),sn(Cr),BA(),n=e.flags,(n&65536)!==0&&(n&128)===0?(e.flags=n&-65537|128,e):null;case 5:return IA(e),null;case 13:if(sn(yn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ce(340));Kc()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return sn(yn),null;case 4:return Qc(),null;case 10:return EA(e.type._context),null;case 22:case 23:return zA(),null;case 24:return null;default:return null}}var ug=!1,Dl=!1,oG=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function Zy(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Qr(n,e,r)}else t.current=null}function Aw(n,e,t){try{t()}catch(r){Qr(n,e,r)}}var BT=!1;function aG(n,e){if(n=LB(),SA(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=n,p=null;t:for(;;){for(var m;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===n)break t;if(p===t&&++u===i&&(a=o),p===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(lw={focusedElem:n,selectionRange:t},Ge=e;Ge!==null;)if(e=Ge,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Ge=n;else for(;Ge!==null;){e=Ge;try{var v=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,_=v.memoizedState,w=e.stateNode,x=w.getSnapshotBeforeUpdate(e.elementType===e.type?y:os(e.type,y),_);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var A=e.stateNode.containerInfo;if(A.nodeType===1)A.textContent="";else if(A.nodeType===9){var E=A.body;E!=null&&(E.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(Ce(163))}}catch(C){Qr(e,e.return,C)}if(n=e.sibling,n!==null){n.return=e.return,Ge=n;break}Ge=e.return}return v=BT,BT=!1,v}function Th(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&Aw(e,t,s)}i=i.next}while(i!==r)}}function k0(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function Mw(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function LT(n,e,t){if(Hs&&typeof Hs.onCommitFiberUnmount=="function")try{Hs.onCommitFiberUnmount(T0,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:if(n=e.updateQueue,n!==null&&(n=n.lastEffect,n!==null)){var r=n=n.next;do{var i=r,s=i.destroy;i=i.tag,s!==void 0&&((i&2)!==0||(i&4)!==0)&&Aw(e,t,s),r=r.next}while(r!==n)}break;case 1:if(Zy(e,t),n=e.stateNode,typeof n.componentWillUnmount=="function")try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(o){Qr(e,t,o)}break;case 5:Zy(e,t);break;case 4:RL(n,e,t)}}function bL(n){var e=n.alternate;e!==null&&(n.alternate=null,bL(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Fs],delete e[Sh],delete e[fw],delete e[VU],delete e[jU])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function TL(n){return n.tag===5||n.tag===3||n.tag===4}function DT(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||TL(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function FT(n){e:{for(var e=n.return;e!==null;){if(TL(e))break e;e=e.return}throw Error(Ce(160))}var t=e;switch(t.tag){case 5:e=t.stateNode,t.flags&32&&(hh(e,""),t.flags&=-33),t=DT(n),Cw(n,t,e);break;case 3:case 4:e=t.stateNode.containerInfo,t=DT(n),Ew(n,t,e);break;default:throw Error(Ce(161))}}function Ew(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=zy));else if(r!==4&&(n=n.child,n!==null))for(Ew(n,e,t),n=n.sibling;n!==null;)Ew(n,e,t),n=n.sibling}function Cw(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(Cw(n,e,t),n=n.sibling;n!==null;)Cw(n,e,t),n=n.sibling}function RL(n,e,t){for(var r=e,i=!1,s,o;;){if(!i){i=r.return;e:for(;;){if(i===null)throw Error(Ce(160));switch(s=i.stateNode,i.tag){case 5:o=!1;break e;case 3:s=s.containerInfo,o=!0;break e;case 4:s=s.containerInfo,o=!0;break e}i=i.return}i=!0}if(r.tag===5||r.tag===6){e:for(var a=n,l=r,u=t,d=l;;)if(LT(a,d,u),d.child!==null&&d.tag!==4)d.child.return=d,d=d.child;else{if(d===l)break e;for(;d.sibling===null;){if(d.return===null||d.return===l)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}o?(a=s,l=r.stateNode,a.nodeType===8?a.parentNode.removeChild(l):a.removeChild(l)):s.removeChild(r.stateNode)}else if(r.tag===18)o?(a=s,l=r.stateNode,a.nodeType===8?yx(a.parentNode,l):a.nodeType===1&&yx(a,l),yh(a)):yx(s,r.stateNode);else if(r.tag===4){if(r.child!==null){s=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(LT(n,r,t),r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return,r.tag===4&&(i=!1)}r.sibling.return=r.return,r=r.sibling}}function Ax(n,e){switch(e.tag){case 0:case 11:case 14:case 15:Th(3,e,e.return),k0(3,e),Th(5,e,e.return);return;case 1:return;case 5:var t=e.stateNode;if(t!=null){var r=e.memoizedProps,i=n!==null?n.memoizedProps:r;n=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(n==="input"&&r.type==="radio"&&r.name!=null&&tB(t,r),q1(n,i),e=q1(n,r),i=0;i<s.length;i+=2){var o=s[i],a=s[i+1];o==="style"?oB(t,a):o==="dangerouslySetInnerHTML"?iB(t,a):o==="children"?hh(t,a):uA(t,o,a,e)}switch(n){case"input":$1(t,r);break;case"textarea":nB(t,r);break;case"select":n=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?Dc(t,!!r.multiple,s,!1):n!==!!r.multiple&&(r.defaultValue!=null?Dc(t,!!r.multiple,r.defaultValue,!0):Dc(t,!!r.multiple,r.multiple?[]:"",!1))}t[Sh]=r}}return;case 6:if(e.stateNode===null)throw Error(Ce(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n!==null&&n.memoizedState.isDehydrated&&yh(e.stateNode.containerInfo);return;case 12:return;case 13:kT(e);return;case 19:kT(e);return;case 17:return}throw Error(Ce(163))}function kT(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new oG),e.forEach(function(r){var i=yG.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function lG(n,e){for(Ge=e;Ge!==null;){e=Ge;var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{RL(n,i,e);var s=i.alternate;s!==null&&(s.return=null),i.return=null}catch(I){Qr(i,e,I)}}if(t=e.child,(e.subtreeFlags&12854)!==0&&t!==null)t.return=e,Ge=t;else for(;Ge!==null;){e=Ge;try{var o=e.flags;if(o&32&&hh(e.stateNode,""),o&512){var a=e.alternate;if(a!==null){var l=a.ref;l!==null&&(typeof l=="function"?l(null):l.current=null)}}if(o&8192)switch(e.tag){case 13:if(e.memoizedState!==null){var u=e.alternate;(u===null||u.memoizedState===null)&&(UA=In())}break;case 22:var d=e.memoizedState!==null,h=e.alternate,p=h!==null&&h.memoizedState!==null;t=e;e:{r=t,i=d;for(var m=null,v=r;;){if(v.tag===5){if(m===null){m=v;var y=v.stateNode;if(i){var _=y.style;typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"}else{var w=v.stateNode,x=v.memoizedProps.style,A=x!=null&&x.hasOwnProperty("display")?x.display:null;w.style.display=sB("display",A)}}}else if(v.tag===6)m===null&&(v.stateNode.nodeValue=i?"":v.memoizedProps);else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===r)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;m===v&&(m=null),v=v.return}m===v&&(m=null),v.sibling.return=v.return,v=v.sibling}}if(d&&!p&&(t.mode&1)!==0){Ge=t;for(var E=t.child;E!==null;){for(t=Ge=E;Ge!==null;){r=Ge;var C=r.child;switch(r.tag){case 0:case 11:case 14:case 15:Th(4,r,r.return);break;case 1:Zy(r,r.return);var T=r.stateNode;if(typeof T.componentWillUnmount=="function"){var R=r.return;try{T.props=r.memoizedProps,T.state=r.memoizedState,T.componentWillUnmount()}catch(I){Qr(r,R,I)}}break;case 5:Zy(r,r.return);break;case 22:if(r.memoizedState!==null){OT(t);continue}}C!==null?(C.return=r,Ge=C):OT(t)}E=E.sibling}}}switch(o&4102){case 2:FT(e),e.flags&=-3;break;case 6:FT(e),e.flags&=-3,Ax(e.alternate,e);break;case 4096:e.flags&=-4097;break;case 4100:e.flags&=-4097,Ax(e.alternate,e);break;case 4:Ax(e.alternate,e)}}catch(I){Qr(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,Ge=t;break}Ge=e.return}}}function uG(n,e,t){Ge=n,PL(n)}function PL(n,e,t){for(var r=(n.mode&1)!==0;Ge!==null;){var i=Ge,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ug;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Dl;a=ug;var u=Dl;if(ug=o,(Dl=l)&&!u)for(Ge=i;Ge!==null;)o=Ge,l=o.child,o.tag===22&&o.memoizedState!==null?HT(i):l!==null?(l.return=o,Ge=l):HT(i);for(;s!==null;)Ge=s,PL(s),s=s.sibling;Ge=i,ug=a,Dl=u}NT(n)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,Ge=s):NT(n)}}function NT(n){for(;Ge!==null;){var e=Ge;if((e.flags&8772)!==0){var t=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Dl||k0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Dl)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:os(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&gT(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}gT(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&yh(h)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(Ce(163))}Dl||e.flags&512&&Mw(e)}catch(p){Qr(e,e.return,p)}}if(e===n){Ge=null;break}if(t=e.sibling,t!==null){t.return=e.return,Ge=t;break}Ge=e.return}}function OT(n){for(;Ge!==null;){var e=Ge;if(e===n){Ge=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Ge=t;break}Ge=e.return}}function HT(n){for(;Ge!==null;){var e=Ge;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{k0(4,e)}catch(l){Qr(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Qr(e,i,l)}}var s=e.return;try{Mw(e)}catch(l){Qr(e,s,l)}break;case 5:var o=e.return;try{Mw(e)}catch(l){Qr(e,o,l)}}}catch(l){Qr(e,e.return,l)}if(e===n){Ge=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ge=a;break}Ge=e.return}}var cG=Math.ceil,e0=Lo.ReactCurrentDispatcher,OA=Lo.ReactCurrentOwner,Ji=Lo.ReactCurrentBatchConfig,Pt=0,Un=null,Hn=null,lr=0,mi=0,Cc=za(0),Jn=0,Rh=null,qc=0,N0=0,HA=0,Zd=null,Kr=null,UA=0,Zc=1/0,t0=!1,bw=null,wa=null,cg=!1,ha=null,n0=0,eh=0,Tw=null,xy=-1,wy=0;function Dr(){return(Pt&6)!==0?In():xy!==-1?xy:xy=In()}function Sa(n){return(n.mode&1)===0?1:(Pt&2)!==0&&lr!==0?lr&-lr:$U.transition!==null?(wy===0&&(n=Qm,Qm<<=1,(Qm&4194240)===0&&(Qm=64),wy=n),wy):(n=jt,n!==0||(n=window.event,n=n===void 0?16:MB(n.type)),n)}function $i(n,e,t){if(50<eh)throw eh=0,Tw=null,Error(Ce(185));var r=O0(n,e);return r===null?null:(np(r,e,t),((Pt&2)===0||r!==Un)&&(r===Un&&((Pt&2)===0&&(N0|=e),Jn===4&&fa(r,lr)),ni(r,t),e===1&&Pt===0&&(n.mode&1)===0&&(Zc=In()+500,L0&&Wa())),r)}function O0(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}function ni(n,e){var t=n.callbackNode;$H(n,e);var r=Hy(n,n===Un?lr:0);if(r===0)t!==null&&Jb(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&Jb(t),e===1)n.tag===0?JU(UT.bind(null,n)):WB(UT.bind(null,n)),zU(function(){Pt===0&&Wa()}),t=null;else{switch(vB(r)){case 1:t=pA;break;case 4:t=gB;break;case 16:t=Oy;break;case 536870912:t=yB;break;default:t=Oy}t=OL(t,IL.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function IL(n,e){if(xy=-1,wy=0,(Pt&6)!==0)throw Error(Ce(327));var t=n.callbackNode;if(Hc()&&n.callbackNode!==t)return null;var r=Hy(n,n===Un?lr:0);if(r===0)return null;if((r&30)!==0||(r&n.expiredLanes)!==0||e)e=r0(n,r);else{e=r;var i=Pt;Pt|=2;var s=LL();(Un!==n||lr!==e)&&(Zc=In()+500,zl(n,e));do try{hG();break}catch(a){BL(n,a)}while(1);MA(),e0.current=s,Pt=i,Hn!==null?e=0:(Un=null,lr=0,e=Jn)}if(e!==0){if(e===2&&(i=rw(n),i!==0&&(r=i,e=Rw(n,i))),e===1)throw t=Rh,zl(n,0),fa(n,r),ni(n,In()),t;if(e===6)fa(n,r);else{if(i=n.current.alternate,(r&30)===0&&!fG(i)&&(e=r0(n,r),e===2&&(s=rw(n),s!==0&&(r=s,e=Rw(n,s))),e===1))throw t=Rh,zl(n,0),fa(n,r),ni(n,In()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Ce(345));case 2:wl(n,Kr);break;case 3:if(fa(n,r),(r&130023424)===r&&(e=UA+500-In(),10<e)){if(Hy(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Dr(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=cw(wl.bind(null,n,Kr),e);break}wl(n,Kr);break;case 4:if(fa(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-fs(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=In()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cG(r/1960))-r,10<r){n.timeoutHandle=cw(wl.bind(null,n,Kr),r);break}wl(n,Kr);break;case 5:wl(n,Kr);break;default:throw Error(Ce(329))}}}return ni(n,In()),n.callbackNode===t?IL.bind(null,n):null}function Rw(n,e){var t=Zd;return n.current.memoizedState.isDehydrated&&(zl(n,e).flags|=256),n=r0(n,e),n!==2&&(e=Kr,Kr=t,e!==null&&Pw(e)),n}function Pw(n){Kr===null?Kr=n:Kr.push.apply(Kr,n)}function fG(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!js(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fa(n,e){for(e&=~HA,e&=~N0,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-fs(e),r=1<<t;n[t]=-1,e&=~r}}function UT(n){if((Pt&6)!==0)throw Error(Ce(327));Hc();var e=Hy(n,0);if((e&1)===0)return ni(n,In()),null;var t=r0(n,e);if(n.tag!==0&&t===2){var r=rw(n);r!==0&&(e=r,t=Rw(n,r))}if(t===1)throw t=Rh,zl(n,0),fa(n,e),ni(n,In()),t;if(t===6)throw Error(Ce(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,wl(n,Kr),ni(n,In()),null}function GA(n,e){var t=Pt;Pt|=1;try{return n(e)}finally{Pt=t,Pt===0&&(Zc=In()+500,L0&&Wa())}}function eu(n){ha!==null&&ha.tag===0&&(Pt&6)===0&&Hc();var e=Pt;Pt|=1;var t=Ji.transition,r=jt;try{if(Ji.transition=null,jt=1,n)return n()}finally{jt=r,Ji.transition=t,Pt=e,(Pt&6)===0&&Wa()}}function zA(){mi=Cc.current,sn(Cc)}function zl(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,GU(t)),Hn!==null)for(t=Hn.return;t!==null;){var r=t;switch(TA(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wy();break;case 3:Qc(),sn(ei),sn(Cr),BA();break;case 5:IA(r);break;case 4:Qc();break;case 13:sn(yn);break;case 19:sn(yn);break;case 10:EA(r.type._context);break;case 22:case 23:zA()}t=t.return}if(Un=n,Hn=n=Ra(n.current,null),lr=mi=e,Jn=0,Rh=null,HA=N0=qc=0,Kr=Zd=null,ks!==null){for(e=0;e<ks.length;e++)if(t=ks[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}ks=null}return n}function BL(n,e){do{var t=Hn;try{if(MA(),vy.current=qy,Yy){for(var r=bn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Yy=!1}if(Yc=0,er=wr=bn=null,qd=!1,Eh=0,OA.current=null,t===null||t.return===null){Jn=1,Rh=e,Hn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=lr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if((d.mode&1)===0&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=AT(o);if(m!==null){m.flags&=-257,MT(m,o,a,s,e),m.mode&1&&ST(s,u,e),e=m,l=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if((e&1)===0){ST(s,u,e),WA();break e}l=Error(Ce(426))}}else if(fn&&a.mode&1){var _=AT(o);if(_!==null){(_.flags&65536)===0&&(_.flags|=256),MT(_,o,a,s,e),RA(l);break e}}s=l,Jn!==4&&(Jn=2),Zd===null?Zd=[s]:Zd.push(s),l=NA(l,a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var w=gL(a,l,e);mT(a,w);break e;case 1:s=l;var x=a.type,A=a.stateNode;if((a.flags&128)===0&&(typeof x.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(wa===null||!wa.has(A)))){a.flags|=65536,e&=-e,a.lanes|=e;var E=yL(a,s,e);mT(a,E);break e}}a=a.return}while(a!==null)}FL(t)}catch(C){e=C,Hn===t&&t!==null&&(Hn=t=t.return);continue}break}while(1)}function LL(){var n=e0.current;return e0.current=qy,n===null?qy:n}function WA(){(Jn===0||Jn===3||Jn===2)&&(Jn=4),Un===null||(qc&268435455)===0&&(N0&268435455)===0||fa(Un,lr)}function r0(n,e){var t=Pt;Pt|=2;var r=LL();Un===n&&lr===e||zl(n,e);do try{dG();break}catch(i){BL(n,i)}while(1);if(MA(),Pt=t,e0.current=r,Hn!==null)throw Error(Ce(261));return Un=null,lr=0,Jn}function dG(){for(;Hn!==null;)DL(Hn)}function hG(){for(;Hn!==null&&!OH();)DL(Hn)}function DL(n){var e=NL(n.alternate,n,mi);n.memoizedProps=n.pendingProps,e===null?FL(n):Hn=e,OA.current=null}function FL(n){var e=n;do{var t=e.alternate;if(n=e.return,(e.flags&32768)===0){if(t=nG(t,e,mi),t!==null){Hn=t;return}}else{if(t=sG(t,e),t!==null){t.flags&=32767,Hn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Jn=6,Hn=null;return}}if(e=e.sibling,e!==null){Hn=e;return}Hn=e=n}while(e!==null);Jn===0&&(Jn=5)}function wl(n,e){var t=jt,r=Ji.transition;try{Ji.transition=null,jt=1,pG(n,e,t)}finally{Ji.transition=r,jt=t}return null}function pG(n,e,t){do Hc();while(ha!==null);if((Pt&6)!==0)throw Error(Ce(327));var r=n.finishedWork,i=n.finishedLanes;if(r===null)return null;if(n.finishedWork=null,n.finishedLanes=0,r===n.current)throw Error(Ce(177));n.callbackNode=null,n.callbackPriority=0;var s=r.lanes|r.childLanes;if(KH(n,s),n===Un&&(Hn=Un=null,lr=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||cg||(cg=!0,OL(Oy,function(){return Hc(),null})),s=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||s){s=Ji.transition,Ji.transition=null;var o=jt;jt=1;var a=Pt;Pt|=4,OA.current=null,aG(n,r),lG(n,r),DU(lw),lw=null,n.current=r,uG(r),HH(),Pt=a,jt=o,Ji.transition=s}else n.current=r;if(cg&&(cg=!1,ha=n,n0=i),s=n.pendingLanes,s===0&&(wa=null),zH(r.stateNode),ni(n,In()),e!==null)for(t=n.onRecoverableError,r=0;r<e.length;r++)t(e[r]);if(t0)throw t0=!1,n=bw,bw=null,n;return(n0&1)!==0&&n.tag!==0&&Hc(),s=n.pendingLanes,(s&1)!==0?n===Tw?eh++:(eh=0,Tw=n):eh=0,Wa(),null}function Hc(){if(ha!==null){var n=vB(n0),e=Ji.transition,t=jt;try{if(Ji.transition=null,jt=16>n?16:n,ha===null)var r=!1;else{if(n=ha,ha=null,n0=0,(Pt&6)!==0)throw Error(Ce(331));var i=Pt;for(Pt|=4,Ge=n.current;Ge!==null;){var s=Ge,o=s.child;if((Ge.flags&16)!==0){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ge=u;Ge!==null;){var d=Ge;switch(d.tag){case 0:case 11:case 15:Th(8,d,s)}var h=d.child;if(h!==null)h.return=d,Ge=h;else for(;Ge!==null;){d=Ge;var p=d.sibling,m=d.return;if(bL(d),d===u){Ge=null;break}if(p!==null){p.return=m,Ge=p;break}Ge=m}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}Ge=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,Ge=o;else e:for(;Ge!==null;){if(s=Ge,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:Th(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Ge=w;break e}Ge=s.return}}var x=n.current;for(Ge=x;Ge!==null;){o=Ge;var A=o.child;if((o.subtreeFlags&2064)!==0&&A!==null)A.return=o,Ge=A;else e:for(o=x;Ge!==null;){if(a=Ge,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:k0(9,a)}}catch(C){Qr(a,a.return,C)}if(a===o){Ge=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Ge=E;break e}Ge=a.return}}if(Pt=i,Wa(),Hs&&typeof Hs.onPostCommitFiberRoot=="function")try{Hs.onPostCommitFiberRoot(T0,n)}catch{}r=!0}return r}finally{jt=t,Ji.transition=e}}return!1}function GT(n,e,t){e=NA(t,e),e=gL(n,e,1),xa(n,e),e=Dr(),n=O0(n,1),n!==null&&(np(n,1,e),ni(n,e))}function Qr(n,e,t){if(n.tag===3)GT(n,n,t);else for(;e!==null;){if(e.tag===3){GT(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wa===null||!wa.has(r))){n=NA(t,n),n=yL(e,n,1),xa(e,n),n=Dr(),e=O0(e,1),e!==null&&(np(e,1,n),ni(e,n));break}}e=e.return}}function mG(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Dr(),n.pingedLanes|=n.suspendedLanes&t,Un===n&&(lr&t)===t&&(Jn===4||Jn===3&&(lr&130023424)===lr&&500>In()-UA?zl(n,0):HA|=t),ni(n,e)}function kL(n,e){e===0&&((n.mode&1)===0?e=1:(e=Ym,Ym<<=1,(Ym&130023424)===0&&(Ym=4194304)));var t=Dr();n=O0(n,e),n!==null&&(np(n,e,t),ni(n,t))}function gG(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),kL(n,t)}function yG(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Ce(314))}r!==null&&r.delete(e),kL(n,t)}var NL;NL=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||ei.current)gi=!0;else{if((n.lanes&t)===0&&(e.flags&128)===0)return gi=!1,iG(n,e,t);gi=(n.flags&131072)!==0}else gi=!1,fn&&(e.flags&1048576)!==0&&$B(e,Xy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps;var i=$c(e,Cr.current);Oc(e,t),i=DA(null,e,r,n,i,t);var s=FA();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ti(r)?(s=!0,Vy(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,CA(e),i.updater=D0,e.stateNode=i,i._reactInternals=e,mw(e,r,n,t),e=ww(null,e,r,!0,s,t)):(e.tag=0,fn&&s&&bA(e),Lr(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=_G(r),n=os(r,n),i){case 0:e=xw(null,e,r,n,t);break e;case 1:e=bT(null,e,r,n,t);break e;case 11:e=ET(null,e,r,n,t);break e;case 14:e=CT(null,e,r,os(r.type,n),t);break e}throw Error(Ce(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:os(r,i),xw(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:os(r,i),bT(n,e,r,i,t);case 3:e:{if(ML(e),n===null)throw Error(Ce(387));r=e.pendingProps,s=e.memoizedState,i=s.element,VB(n,e),$y(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Error(Ce(423)),e=TT(n,e,r,t,i);break e}else if(r!==i){i=Error(Ce(424)),e=TT(n,e,r,t,i);break e}else for(Xr=yo(e.stateNode.containerInfo.firstChild),vi=e,fn=!0,as=null,t=QB(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Kc(),r===i){e=Ro(n,e,t);break e}Lr(n,e,r,t)}e=e.child}return e;case 5:return YB(e),n===null&&yw(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,uw(r,i)?o=null:s!==null&&uw(r,s)&&(e.flags|=32),AL(n,e),Lr(n,e,o,t),e.child;case 6:return n===null&&yw(e),null;case 13:return EL(n,e,t);case 4:return PA(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Xc(e,null,r,t):Lr(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:os(r,i),ET(n,e,r,i,t);case 7:return Lr(n,e,e.pendingProps,t),e.child;case 8:return Lr(n,e,e.pendingProps.children,t),e.child;case 12:return Lr(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,qt(jy,r._currentValue),r._currentValue=o,s!==null)if(js(s.value,o)){if(s.children===i.children&&!ei.current){e=Ro(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ao(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),hw(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ce(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),hw(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Lr(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Oc(e,t),i=Ki(i),r=r(i),e.flags|=1,Lr(n,e,r,t),e.child;case 14:return r=e.type,i=os(r,e.pendingProps),i=os(r.type,i),CT(n,e,r,i,t);case 15:return wL(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:os(r,i),n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,ti(r)?(n=!0,Vy(e)):n=!1,Oc(e,t),JB(e,r,i),mw(e,r,i,t),ww(null,e,r,!0,n,t);case 19:return CL(n,e,t);case 22:return SL(n,e,t)}throw Error(Ce(156,e.tag))};function OL(n,e){return mB(n,e)}function vG(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wi(n,e,t,r){return new vG(n,e,t,r)}function VA(n){return n=n.prototype,!(!n||!n.isReactComponent)}function _G(n){if(typeof n=="function")return VA(n)?1:0;if(n!=null){if(n=n.$$typeof,n===fA)return 11;if(n===dA)return 14}return 2}function Ra(n,e){var t=n.alternate;return t===null?(t=Wi(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Sy(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")VA(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case yc:return Wl(t.children,i,s,e);case cA:o=8,i|=8;break;case z1:return n=Wi(12,t,e,i|2),n.elementType=z1,n.lanes=s,n;case W1:return n=Wi(13,t,e,i),n.elementType=W1,n.lanes=s,n;case V1:return n=Wi(19,t,e,i),n.elementType=V1,n.lanes=s,n;case qI:return i0(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case QI:o=10;break e;case YI:o=9;break e;case fA:o=11;break e;case dA:o=14;break e;case la:o=16,r=null;break e}throw Error(Ce(130,n==null?n:typeof n,""))}return e=Wi(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Wl(n,e,t,r){return n=Wi(7,n,r,e),n.lanes=t,n}function i0(n,e,t,r){return n=Wi(22,n,r,e),n.elementType=qI,n.lanes=t,n.stateNode={},n}function Mx(n,e,t){return n=Wi(6,n,null,e),n.lanes=t,n}function Ex(n,e,t){return e=Wi(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function xG(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ox(0),this.expirationTimes=ox(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ox(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jA(n,e,t,r,i,s,o,a,l){return n=new xG(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Wi(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null},CA(s),n}function wG(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gc,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function HL(n){if(!n)return Ta;n=n._reactInternals;e:{if(yu(n)!==n||n.tag!==1)throw Error(Ce(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ti(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ce(171))}if(n.tag===1){var t=n.type;if(ti(t))return zB(n,t,e)}return e}function UL(n,e,t,r,i,s,o,a,l){return n=jA(t,r,!0,n,i,s,o,a,l),n.context=HL(null),t=n.current,r=Dr(),i=Sa(t),s=Ao(r,i),s.callback=e!=null?e:null,xa(t,s),n.current.lanes=i,np(n,i,r),ni(n,r),n}function H0(n,e,t,r){var i=e.current,s=Dr(),o=Sa(i);return t=HL(t),e.context===null?e.context=t:e.pendingContext=t,e=Ao(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),xa(i,e),n=$i(i,o,s),n!==null&&yy(n,i,o),o}function s0(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function zT(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function JA(n,e){zT(n,e),(n=n.alternate)&&zT(n,e)}function SG(){return null}var GL=typeof reportError=="function"?reportError:function(n){console.error(n)};function $A(n){this._internalRoot=n}U0.prototype.render=$A.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ce(409));H0(n,e,null,null)};U0.prototype.unmount=$A.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;eu(function(){H0(null,n,null,null)}),e[To]=null}};function U0(n){this._internalRoot=n}U0.prototype.unstable_scheduleHydration=function(n){if(n){var e=wB();n={blockedOn:null,target:n,priority:e};for(var t=0;t<ca.length&&e!==0&&e<ca[t].priority;t++);ca.splice(t,0,n),t===0&&AB(n)}};function KA(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function G0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function WT(){}function AG(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=s0(o);s.call(u)}}var o=UL(e,r,n,0,null,!1,!1,"",WT);return n._reactRootContainer=o,n[To]=o.current,xh(n.nodeType===8?n.parentNode:n),eu(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=s0(l);a.call(u)}}var l=jA(n,0,!1,null,null,!1,!1,"",WT);return n._reactRootContainer=l,n[To]=l.current,xh(n.nodeType===8?n.parentNode:n),eu(function(){H0(e,l,t,r)}),l}function z0(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=s0(o);a.call(l)}}H0(e,o,n,i)}else o=AG(t,e,n,i,r);return s0(o)}_B=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=zd(e.pendingLanes);t!==0&&(mA(e,t|1),ni(e,In()),(Pt&6)===0&&(Zc=In()+500,Wa()))}break;case 13:var r=Dr();eu(function(){return $i(n,1,r)}),JA(n,1)}};gA=function(n){if(n.tag===13){var e=Dr();$i(n,134217728,e),JA(n,134217728)}};xB=function(n){if(n.tag===13){var e=Dr(),t=Sa(n);$i(n,t,e),JA(n,t)}};wB=function(){return jt};SB=function(n,e){var t=jt;try{return jt=n,e()}finally{jt=t}};ew=function(n,e,t){switch(e){case"input":if($1(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=B0(r);if(!i)throw Error(Ce(90));eB(r),$1(r,i)}}}break;case"textarea":nB(n,t);break;case"select":e=t.value,e!=null&&Dc(n,!!t.multiple,e,!1)}};uB=GA;cB=eu;var MG={usingClientEntryPoint:!1,Events:[ip,wc,B0,aB,lB,GA]},_d={findFiberByHostInstance:Bl,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},EG={bundleType:_d.bundleType,version:_d.version,rendererPackageName:_d.rendererPackageName,rendererConfig:_d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lo.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=hB(n),n===null?null:n.stateNode},findFiberByHostInstance:_d.findFiberByHostInstance||SG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var fg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fg.isDisabled&&fg.supportsFiber)try{T0=fg.inject(EG),Hs=fg}catch{}}Ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MG;Ei.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!KA(e))throw Error(Ce(200));return wG(n,e,null,t)};Ei.createRoot=function(n,e){if(!KA(n))throw Error(Ce(299));var t=!1,r="",i=GL;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=jA(n,1,!1,null,null,t,!1,r,i),n[To]=e.current,xh(n.nodeType===8?n.parentNode:n),new $A(e)};Ei.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ce(188)):(n=Object.keys(n).join(","),Error(Ce(268,n)));return n=hB(e),n=n===null?null:n.stateNode,n};Ei.flushSync=function(n){return eu(n)};Ei.hydrate=function(n,e,t){if(!G0(e))throw Error(Ce(200));return z0(null,n,e,!0,t)};Ei.hydrateRoot=function(n,e,t){if(!KA(n))throw Error(Ce(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=GL;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=UL(e,null,n,1,t!=null?t:null,i,!1,s,o),n[To]=e.current,xh(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new U0(e)};Ei.render=function(n,e,t){if(!G0(e))throw Error(Ce(200));return z0(null,n,e,!1,t)};Ei.unmountComponentAtNode=function(n){if(!G0(n))throw Error(Ce(40));return n._reactRootContainer?(eu(function(){z0(null,null,n,!1,function(){n._reactRootContainer=null,n[To]=null})}),!0):!1};Ei.unstable_batchedUpdates=GA;Ei.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!G0(t))throw Error(Ce(200));if(n==null||n._reactInternals===void 0)throw Error(Ce(38));return z0(n,e,t,!1,r)};Ei.version="18.0.0-fc46dba67-20220329";function zL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zL)}catch(n){console.error(n)}}zL(),tp.exports=Ei;var Cx=tp.exports,CG,bG=tp.exports;CG=bG.createRoot;var W0={exports:{}},Jt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nr=typeof Symbol=="function"&&Symbol.for,XA=nr?Symbol.for("react.element"):60103,QA=nr?Symbol.for("react.portal"):60106,V0=nr?Symbol.for("react.fragment"):60107,j0=nr?Symbol.for("react.strict_mode"):60108,J0=nr?Symbol.for("react.profiler"):60114,$0=nr?Symbol.for("react.provider"):60109,K0=nr?Symbol.for("react.context"):60110,YA=nr?Symbol.for("react.async_mode"):60111,X0=nr?Symbol.for("react.concurrent_mode"):60111,Q0=nr?Symbol.for("react.forward_ref"):60112,Y0=nr?Symbol.for("react.suspense"):60113,TG=nr?Symbol.for("react.suspense_list"):60120,q0=nr?Symbol.for("react.memo"):60115,Z0=nr?Symbol.for("react.lazy"):60116,RG=nr?Symbol.for("react.block"):60121,PG=nr?Symbol.for("react.fundamental"):60117,IG=nr?Symbol.for("react.responder"):60118,BG=nr?Symbol.for("react.scope"):60119;function bi(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case XA:switch(n=n.type,n){case YA:case X0:case V0:case J0:case j0:case Y0:return n;default:switch(n=n&&n.$$typeof,n){case K0:case Q0:case Z0:case q0:case $0:return n;default:return e}}case QA:return e}}}function WL(n){return bi(n)===X0}Jt.AsyncMode=YA;Jt.ConcurrentMode=X0;Jt.ContextConsumer=K0;Jt.ContextProvider=$0;Jt.Element=XA;Jt.ForwardRef=Q0;Jt.Fragment=V0;Jt.Lazy=Z0;Jt.Memo=q0;Jt.Portal=QA;Jt.Profiler=J0;Jt.StrictMode=j0;Jt.Suspense=Y0;Jt.isAsyncMode=function(n){return WL(n)||bi(n)===YA};Jt.isConcurrentMode=WL;Jt.isContextConsumer=function(n){return bi(n)===K0};Jt.isContextProvider=function(n){return bi(n)===$0};Jt.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===XA};Jt.isForwardRef=function(n){return bi(n)===Q0};Jt.isFragment=function(n){return bi(n)===V0};Jt.isLazy=function(n){return bi(n)===Z0};Jt.isMemo=function(n){return bi(n)===q0};Jt.isPortal=function(n){return bi(n)===QA};Jt.isProfiler=function(n){return bi(n)===J0};Jt.isStrictMode=function(n){return bi(n)===j0};Jt.isSuspense=function(n){return bi(n)===Y0};Jt.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===V0||n===X0||n===J0||n===j0||n===Y0||n===TG||typeof n=="object"&&n!==null&&(n.$$typeof===Z0||n.$$typeof===q0||n.$$typeof===$0||n.$$typeof===K0||n.$$typeof===Q0||n.$$typeof===PG||n.$$typeof===IG||n.$$typeof===BG||n.$$typeof===RG)};Jt.typeOf=bi;W0.exports=Jt;function LG(n){function e(Q,se,pe,_e,H){for(var Be=0,ue=0,Le=0,ve=0,Re,ne,oe=0,xe=0,Ae,Me=Ae=Re=0,Ee=0,ze=0,$e=0,Ze=0,dt=pe.length,z=dt-1,L,ee="",me="",Fe="",ke="",Ke;Ee<dt;){if(ne=pe.charCodeAt(Ee),Ee===z&&ue+ve+Le+Be!==0&&(ue!==0&&(ne=ue===47?10:47),ve=Le=Be=0,dt++,z++),ue+ve+Le+Be===0){if(Ee===z&&(0<ze&&(ee=ee.replace(p,"")),0<ee.trim().length)){switch(ne){case 32:case 9:case 59:case 13:case 10:break;default:ee+=pe.charAt(Ee)}ne=59}switch(ne){case 123:for(ee=ee.trim(),Re=ee.charCodeAt(0),Ae=1,Ze=++Ee;Ee<dt;){switch(ne=pe.charCodeAt(Ee)){case 123:Ae++;break;case 125:Ae--;break;case 47:switch(ne=pe.charCodeAt(Ee+1)){case 42:case 47:e:{for(Me=Ee+1;Me<z;++Me)switch(pe.charCodeAt(Me)){case 47:if(ne===42&&pe.charCodeAt(Me-1)===42&&Ee+2!==Me){Ee=Me+1;break e}break;case 10:if(ne===47){Ee=Me+1;break e}}Ee=Me}}break;case 91:ne++;case 40:ne++;case 34:case 39:for(;Ee++<z&&pe.charCodeAt(Ee)!==ne;);}if(Ae===0)break;Ee++}switch(Ae=pe.substring(Ze,Ee),Re===0&&(Re=(ee=ee.replace(h,"").trim()).charCodeAt(0)),Re){case 64:switch(0<ze&&(ee=ee.replace(p,"")),ne=ee.charCodeAt(1),ne){case 100:case 109:case 115:case 45:ze=se;break;default:ze=j}if(Ae=e(se,ze,Ae,ne,H+1),Ze=Ae.length,0<k&&(ze=t(j,ee,$e),Ke=a(3,Ae,ze,se,q,B,Ze,ne,H,_e),ee=ze.join(""),Ke!==void 0&&(Ze=(Ae=Ke.trim()).length)===0&&(ne=0,Ae="")),0<Ze)switch(ne){case 115:ee=ee.replace(T,o);case 100:case 109:case 45:Ae=ee+"{"+Ae+"}";break;case 107:ee=ee.replace(x,"$1 $2"),Ae=ee+"{"+Ae+"}",Ae=J===1||J===2&&s("@"+Ae,3)?"@-webkit-"+Ae+"@"+Ae:"@"+Ae;break;default:Ae=ee+Ae,_e===112&&(Ae=(me+=Ae,""))}else Ae="";break;default:Ae=e(se,t(se,ee,$e),Ae,_e,H+1)}Fe+=Ae,Ae=$e=ze=Me=Re=0,ee="",ne=pe.charCodeAt(++Ee);break;case 125:case 59:if(ee=(0<ze?ee.replace(p,""):ee).trim(),1<(Ze=ee.length))switch(Me===0&&(Re=ee.charCodeAt(0),Re===45||96<Re&&123>Re)&&(Ze=(ee=ee.replace(" ",":")).length),0<k&&(Ke=a(1,ee,se,Q,q,B,me.length,_e,H,_e))!==void 0&&(Ze=(ee=Ke.trim()).length)===0&&(ee="\0\0"),Re=ee.charCodeAt(0),ne=ee.charCodeAt(1),Re){case 0:break;case 64:if(ne===105||ne===99){ke+=ee+pe.charAt(Ee);break}default:ee.charCodeAt(Ze-1)!==58&&(me+=i(ee,Re,ne,ee.charCodeAt(2)))}$e=ze=Me=Re=0,ee="",ne=pe.charCodeAt(++Ee)}}switch(ne){case 13:case 10:ue===47?ue=0:1+Re===0&&_e!==107&&0<ee.length&&(ze=1,ee+="\0"),0<k*Z&&a(0,ee,se,Q,q,B,me.length,_e,H,_e),B=1,q++;break;case 59:case 125:if(ue+ve+Le+Be===0){B++;break}default:switch(B++,L=pe.charAt(Ee),ne){case 9:case 32:if(ve+Be+ue===0)switch(oe){case 44:case 58:case 9:case 32:L="";break;default:ne!==32&&(L=" ")}break;case 0:L="\\0";break;case 12:L="\\f";break;case 11:L="\\v";break;case 38:ve+ue+Be===0&&(ze=$e=1,L="\f"+L);break;case 108:if(ve+ue+Be+W===0&&0<Me)switch(Ee-Me){case 2:oe===112&&pe.charCodeAt(Ee-3)===58&&(W=oe);case 8:xe===111&&(W=xe)}break;case 58:ve+ue+Be===0&&(Me=Ee);break;case 44:ue+Le+ve+Be===0&&(ze=1,L+="\r");break;case 34:case 39:ue===0&&(ve=ve===ne?0:ve===0?ne:ve);break;case 91:ve+ue+Le===0&&Be++;break;case 93:ve+ue+Le===0&&Be--;break;case 41:ve+ue+Be===0&&Le--;break;case 40:if(ve+ue+Be===0){if(Re===0)switch(2*oe+3*xe){case 533:break;default:Re=1}Le++}break;case 64:ue+Le+ve+Be+Me+Ae===0&&(Ae=1);break;case 42:case 47:if(!(0<ve+Be+Le))switch(ue){case 0:switch(2*ne+3*pe.charCodeAt(Ee+1)){case 235:ue=47;break;case 220:Ze=Ee,ue=42}break;case 42:ne===47&&oe===42&&Ze+2!==Ee&&(pe.charCodeAt(Ze+2)===33&&(me+=pe.substring(Ze,Ee+1)),L="",ue=0)}}ue===0&&(ee+=L)}xe=oe,oe=ne,Ee++}if(Ze=me.length,0<Ze){if(ze=se,0<k&&(Ke=a(2,me,ze,Q,q,B,Ze,_e,H,_e),Ke!==void 0&&(me=Ke).length===0))return ke+me+Fe;if(me=ze.join(",")+"{"+me+"}",J*W!==0){switch(J!==2||s(me,2)||(W=0),W){case 111:me=me.replace(E,":-moz-$1")+me;break;case 112:me=me.replace(A,"::-webkit-input-$1")+me.replace(A,"::-moz-$1")+me.replace(A,":-ms-input-$1")+me}W=0}}return ke+me+Fe}function t(Q,se,pe){var _e=se.trim().split(_);se=_e;var H=_e.length,Be=Q.length;switch(Be){case 0:case 1:var ue=0;for(Q=Be===0?"":Q[0]+" ";ue<H;++ue)se[ue]=r(Q,se[ue],pe).trim();break;default:var Le=ue=0;for(se=[];ue<H;++ue)for(var ve=0;ve<Be;++ve)se[Le++]=r(Q[ve]+" ",_e[ue],pe).trim()}return se}function r(Q,se,pe){var _e=se.charCodeAt(0);switch(33>_e&&(_e=(se=se.trim()).charCodeAt(0)),_e){case 38:return se.replace(w,"$1"+Q.trim());case 58:return Q.trim()+se.replace(w,"$1"+Q.trim());default:if(0<1*pe&&0<se.indexOf("\f"))return se.replace(w,(Q.charCodeAt(0)===58?"":"$1")+Q.trim())}return Q+se}function i(Q,se,pe,_e){var H=Q+";",Be=2*se+3*pe+4*_e;if(Be===944){Q=H.indexOf(":",9)+1;var ue=H.substring(Q,H.length-1).trim();return ue=H.substring(0,Q).trim()+ue+";",J===1||J===2&&s(ue,1)?"-webkit-"+ue+ue:ue}if(J===0||J===2&&!s(H,1))return H;switch(Be){case 1015:return H.charCodeAt(10)===97?"-webkit-"+H+H:H;case 951:return H.charCodeAt(3)===116?"-webkit-"+H+H:H;case 963:return H.charCodeAt(5)===110?"-webkit-"+H+H:H;case 1009:if(H.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+H+H;case 978:return"-webkit-"+H+"-moz-"+H+H;case 1019:case 983:return"-webkit-"+H+"-moz-"+H+"-ms-"+H+H;case 883:if(H.charCodeAt(8)===45)return"-webkit-"+H+H;if(0<H.indexOf("image-set(",11))return H.replace(P,"$1-webkit-$2")+H;break;case 932:if(H.charCodeAt(4)===45)switch(H.charCodeAt(5)){case 103:return"-webkit-box-"+H.replace("-grow","")+"-webkit-"+H+"-ms-"+H.replace("grow","positive")+H;case 115:return"-webkit-"+H+"-ms-"+H.replace("shrink","negative")+H;case 98:return"-webkit-"+H+"-ms-"+H.replace("basis","preferred-size")+H}return"-webkit-"+H+"-ms-"+H+H;case 964:return"-webkit-"+H+"-ms-flex-"+H+H;case 1023:if(H.charCodeAt(8)!==99)break;return ue=H.substring(H.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+ue+"-webkit-"+H+"-ms-flex-pack"+ue+H;case 1005:return v.test(H)?H.replace(m,":-webkit-")+H.replace(m,":-moz-")+H:H;case 1e3:switch(ue=H.substring(13).trim(),se=ue.indexOf("-")+1,ue.charCodeAt(0)+ue.charCodeAt(se)){case 226:ue=H.replace(C,"tb");break;case 232:ue=H.replace(C,"tb-rl");break;case 220:ue=H.replace(C,"lr");break;default:return H}return"-webkit-"+H+"-ms-"+ue+H;case 1017:if(H.indexOf("sticky",9)===-1)break;case 975:switch(se=(H=Q).length-10,ue=(H.charCodeAt(se)===33?H.substring(0,se):H).substring(Q.indexOf(":",7)+1).trim(),Be=ue.charCodeAt(0)+(ue.charCodeAt(7)|0)){case 203:if(111>ue.charCodeAt(8))break;case 115:H=H.replace(ue,"-webkit-"+ue)+";"+H;break;case 207:case 102:H=H.replace(ue,"-webkit-"+(102<Be?"inline-":"")+"box")+";"+H.replace(ue,"-webkit-"+ue)+";"+H.replace(ue,"-ms-"+ue+"box")+";"+H}return H+";";case 938:if(H.charCodeAt(5)===45)switch(H.charCodeAt(6)){case 105:return ue=H.replace("-items",""),"-webkit-"+H+"-webkit-box-"+ue+"-ms-flex-"+ue+H;case 115:return"-webkit-"+H+"-ms-flex-item-"+H.replace(I,"")+H;default:return"-webkit-"+H+"-ms-flex-line-pack"+H.replace("align-content","").replace(I,"")+H}break;case 973:case 989:if(H.charCodeAt(3)!==45||H.charCodeAt(4)===122)break;case 931:case 953:if(D.test(Q)===!0)return(ue=Q.substring(Q.indexOf(":")+1)).charCodeAt(0)===115?i(Q.replace("stretch","fill-available"),se,pe,_e).replace(":fill-available",":stretch"):H.replace(ue,"-webkit-"+ue)+H.replace(ue,"-moz-"+ue.replace("fill-",""))+H;break;case 962:if(H="-webkit-"+H+(H.charCodeAt(5)===102?"-ms-"+H:"")+H,pe+_e===211&&H.charCodeAt(13)===105&&0<H.indexOf("transform",10))return H.substring(0,H.indexOf(";",27)+1).replace(y,"$1-webkit-$2")+H}return H}function s(Q,se){var pe=Q.indexOf(se===1?":":"{"),_e=Q.substring(0,se!==3?pe:10);return pe=Q.substring(pe+1,Q.length-1),K(se!==2?_e:_e.replace(O,"$1"),pe,se)}function o(Q,se){var pe=i(se,se.charCodeAt(0),se.charCodeAt(1),se.charCodeAt(2));return pe!==se+";"?pe.replace(R," or ($1)").substring(4):"("+se+")"}function a(Q,se,pe,_e,H,Be,ue,Le,ve,Re){for(var ne=0,oe=se,xe;ne<k;++ne)switch(xe=$[ne].call(d,Q,oe,pe,_e,H,Be,ue,Le,ve,Re)){case void 0:case!1:case!0:case null:break;default:oe=xe}if(oe!==se)return oe}function l(Q){switch(Q){case void 0:case null:k=$.length=0;break;default:if(typeof Q=="function")$[k++]=Q;else if(typeof Q=="object")for(var se=0,pe=Q.length;se<pe;++se)l(Q[se]);else Z=!!Q|0}return l}function u(Q){return Q=Q.prefix,Q!==void 0&&(K=null,Q?typeof Q!="function"?J=1:(J=2,K=Q):J=0),u}function d(Q,se){var pe=Q;if(33>pe.charCodeAt(0)&&(pe=pe.trim()),ae=pe,pe=[ae],0<k){var _e=a(-1,se,pe,pe,q,B,0,0,0,0);_e!==void 0&&typeof _e=="string"&&(se=_e)}var H=e(j,pe,se,0,0);return 0<k&&(_e=a(-2,H,pe,pe,q,B,H.length,0,0,0),_e!==void 0&&(H=_e)),ae="",W=0,B=q=1,H}var h=/^\0+/g,p=/[\0\r\f]/g,m=/: */g,v=/zoo|gra/,y=/([,: ])(transform)/g,_=/,\r+?/g,w=/([\t\r\n ])*\f?&/g,x=/@(k\w+)\s*(\S*)\s*/,A=/::(place)/g,E=/:(read-only)/g,C=/[svh]\w+-[tblr]{2}/,T=/\(\s*(.*)\s*\)/g,R=/([\s\S]*?);/g,I=/-self|flex-/g,O=/[^]*?(:[rp][el]a[\w-]+)[^]*/,D=/stretch|:\s*\w+\-(?:conte|avail)/,P=/([^-])(image-set\()/,B=1,q=1,W=0,J=1,j=[],$=[],k=0,K=null,Z=0,ae="";return d.use=l,d.set=u,n!==void 0&&u(n),d}var VL={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function jL(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var DG=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Iw=jL(function(n){return DG.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),qA=W0.exports,FG={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},kG={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},NG={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},JL={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ZA={};ZA[qA.ForwardRef]=NG;ZA[qA.Memo]=JL;function VT(n){return qA.isMemo(n)?JL:ZA[n.$$typeof]||FG}var OG=Object.defineProperty,HG=Object.getOwnPropertyNames,jT=Object.getOwnPropertySymbols,UG=Object.getOwnPropertyDescriptor,GG=Object.getPrototypeOf,JT=Object.prototype;function $L(n,e,t){if(typeof e!="string"){if(JT){var r=GG(e);r&&r!==JT&&$L(n,r,t)}var i=HG(e);jT&&(i=i.concat(jT(e)));for(var s=VT(n),o=VT(e),a=0;a<i.length;++a){var l=i[a];if(!kG[l]&&!(t&&t[l])&&!(o&&o[l])&&!(s&&s[l])){var u=UG(e,l);try{OG(n,l,u)}catch{}}}}return n}var zG=$L;function xo(){return(xo=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}var $T=function(n,e){for(var t=[n[0]],r=0,i=e.length;r<i;r+=1)t.push(e[r],n[r+1]);return t},Bw=function(n){return n!==null&&typeof n=="object"&&(n.toString?n.toString():Object.prototype.toString.call(n))==="[object Object]"&&!W0.exports.typeOf(n)},o0=Object.freeze([]),Aa=Object.freeze({});function Ph(n){return typeof n=="function"}function KT(n){return n.displayName||n.name||"Component"}function eM(n){return n&&typeof n.styledComponentId=="string"}var ef=typeof process!="undefined"&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",tM=typeof window!="undefined"&&"HTMLElement"in window,WG=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process!="undefined"&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process!="undefined"&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""?{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY:!1);function op(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+n+" for more information."+(t.length>0?" Args: "+t.join(", "):""))}var VG=function(){function n(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}var e=n.prototype;return e.indexOfGroup=function(t){for(var r=0,i=0;i<t;i++)r+=this.groupSizes[i];return r},e.insertRules=function(t,r){if(t>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,o=s;t>=o;)(o<<=1)<0&&op(16,""+t);this.groupSizes=new Uint32Array(o),this.groupSizes.set(i),this.length=o;for(var a=s;a<o;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(t+1),u=0,d=r.length;u<d;u++)this.tag.insertRule(l,r[u])&&(this.groupSizes[t]++,l++)},e.clearGroup=function(t){if(t<this.length){var r=this.groupSizes[t],i=this.indexOfGroup(t),s=i+r;this.groupSizes[t]=0;for(var o=i;o<s;o++)this.tag.deleteRule(i)}},e.getGroup=function(t){var r="";if(t>=this.length||this.groupSizes[t]===0)return r;for(var i=this.groupSizes[t],s=this.indexOfGroup(t),o=s+i,a=s;a<o;a++)r+=this.tag.getRule(a)+`/*!sc*/
`;return r},n}(),Ay=new Map,a0=new Map,th=1,dg=function(n){if(Ay.has(n))return Ay.get(n);for(;a0.has(th);)th++;var e=th++;return Ay.set(n,e),a0.set(e,n),e},jG=function(n){return a0.get(n)},JG=function(n,e){e>=th&&(th=e+1),Ay.set(n,e),a0.set(e,n)},$G="style["+ef+'][data-styled-version="5.3.5"]',KG=new RegExp("^"+ef+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),XG=function(n,e,t){for(var r,i=t.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&n.registerName(e,r)},QG=function(n,e){for(var t=(e.textContent||"").split(`/*!sc*/
`),r=[],i=0,s=t.length;i<s;i++){var o=t[i].trim();if(o){var a=o.match(KG);if(a){var l=0|parseInt(a[1],10),u=a[2];l!==0&&(JG(u,l),XG(n,u,a[3]),n.getTag().insertRules(l,r)),r.length=0}else r.push(o)}}},YG=function(){return typeof window!="undefined"&&window.__webpack_nonce__!==void 0?window.__webpack_nonce__:null},KL=function(n){var e=document.head,t=n||e,r=document.createElement("style"),i=function(a){for(var l=a.childNodes,u=l.length;u>=0;u--){var d=l[u];if(d&&d.nodeType===1&&d.hasAttribute(ef))return d}}(t),s=i!==void 0?i.nextSibling:null;r.setAttribute(ef,"active"),r.setAttribute("data-styled-version","5.3.5");var o=YG();return o&&r.setAttribute("nonce",o),t.insertBefore(r,s),r},qG=function(){function n(t){var r=this.element=KL(t);r.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var s=document.styleSheets,o=0,a=s.length;o<a;o++){var l=s[o];if(l.ownerNode===i)return l}op(17)}(r),this.length=0}var e=n.prototype;return e.insertRule=function(t,r){try{return this.sheet.insertRule(r,t),this.length++,!0}catch{return!1}},e.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.getRule=function(t){var r=this.sheet.cssRules[t];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},n}(),ZG=function(){function n(t){var r=this.element=KL(t);this.nodes=r.childNodes,this.length=0}var e=n.prototype;return e.insertRule=function(t,r){if(t<=this.length&&t>=0){var i=document.createTextNode(r),s=this.nodes[t];return this.element.insertBefore(i,s||null),this.length++,!0}return!1},e.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},n}(),e4=function(){function n(t){this.rules=[],this.length=0}var e=n.prototype;return e.insertRule=function(t,r){return t<=this.length&&(this.rules.splice(t,0,r),this.length++,!0)},e.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.getRule=function(t){return t<this.length?this.rules[t]:""},n}(),XT=tM,t4={isServer:!tM,useCSSOMInjection:!WG},XL=function(){function n(t,r,i){t===void 0&&(t=Aa),r===void 0&&(r={}),this.options=xo({},t4,{},t),this.gs=r,this.names=new Map(i),this.server=!!t.isServer,!this.server&&tM&&XT&&(XT=!1,function(s){for(var o=document.querySelectorAll($G),a=0,l=o.length;a<l;a++){var u=o[a];u&&u.getAttribute(ef)!=="active"&&(QG(s,u),u.parentNode&&u.parentNode.removeChild(u))}}(this))}n.registerId=function(t){return dg(t)};var e=n.prototype;return e.reconstructWithOptions=function(t,r){return r===void 0&&(r=!0),new n(xo({},this.options,{},t),this.gs,r&&this.names||void 0)},e.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.getTag=function(){return this.tag||(this.tag=(i=(r=this.options).isServer,s=r.useCSSOMInjection,o=r.target,t=i?new e4(o):s?new qG(o):new ZG(o),new VG(t)));var t,r,i,s,o},e.hasNameForId=function(t,r){return this.names.has(t)&&this.names.get(t).has(r)},e.registerName=function(t,r){if(dg(t),this.names.has(t))this.names.get(t).add(r);else{var i=new Set;i.add(r),this.names.set(t,i)}},e.insertRules=function(t,r,i){this.registerName(t,r),this.getTag().insertRules(dg(t),i)},e.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.clearRules=function(t){this.getTag().clearGroup(dg(t)),this.clearNames(t)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(t){for(var r=t.getTag(),i=r.length,s="",o=0;o<i;o++){var a=jG(o);if(a!==void 0){var l=t.names.get(a),u=r.getGroup(o);if(l&&u&&l.size){var d=ef+".g"+o+'[id="'+a+'"]',h="";l!==void 0&&l.forEach(function(p){p.length>0&&(h+=p+",")}),s+=""+u+d+'{content:"'+h+`"}/*!sc*/
`}}}return s}(this)},n}(),n4=/(a)(d)/gi,QT=function(n){return String.fromCharCode(n+(n>25?39:97))};function Lw(n){var e,t="";for(e=Math.abs(n);e>52;e=e/52|0)t=QT(e%52)+t;return(QT(e%52)+t).replace(n4,"$1-$2")}var bc=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},QL=function(n){return bc(5381,n)};function r4(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(Ph(t)&&!eM(t))return!1}return!0}var i4=QL("5.3.5"),s4=function(){function n(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&r4(e),this.componentId=t,this.baseHash=bc(i4,t),this.baseStyle=r,XL.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,r){var i=this.componentId,s=[];if(this.baseStyle&&s.push(this.baseStyle.generateAndInjectStyles(e,t,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(i,this.staticRulesId))s.push(this.staticRulesId);else{var o=tf(this.rules,e,t,r).join(""),a=Lw(bc(this.baseHash,o)>>>0);if(!t.hasNameForId(i,a)){var l=r(o,"."+a,void 0,i);t.insertRules(i,a,l)}s.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,d=bc(this.baseHash,r.hash),h="",p=0;p<u;p++){var m=this.rules[p];if(typeof m=="string")h+=m;else if(m){var v=tf(m,e,t,r),y=Array.isArray(v)?v.join(""):v;d=bc(d,y+p),h+=y}}if(h){var _=Lw(d>>>0);if(!t.hasNameForId(i,_)){var w=r(h,"."+_,void 0,i);t.insertRules(i,_,w)}s.push(_)}}return s.join(" ")},n}(),o4=/^\s*\/\/.*$/gm,a4=[":","[",".","#"];function l4(n){var e,t,r,i,s=n===void 0?Aa:n,o=s.options,a=o===void 0?Aa:o,l=s.plugins,u=l===void 0?o0:l,d=new LG(a),h=[],p=function(y){function _(w){if(w)try{y(w+"}")}catch{}}return function(w,x,A,E,C,T,R,I,O,D){switch(w){case 1:if(O===0&&x.charCodeAt(0)===64)return y(x+";"),"";break;case 2:if(I===0)return x+"/*|*/";break;case 3:switch(I){case 102:case 112:return y(A[0]+x),"";default:return x+(D===0?"/*|*/":"")}case-2:x.split("/*|*/}").forEach(_)}}}(function(y){h.push(y)}),m=function(y,_,w){return _===0&&a4.indexOf(w[t.length])!==-1||w.match(i)?y:"."+e};function v(y,_,w,x){x===void 0&&(x="&");var A=y.replace(o4,""),E=_&&w?w+" "+_+" { "+A+" }":A;return e=x,t=_,r=new RegExp("\\"+t+"\\b","g"),i=new RegExp("(\\"+t+"\\b){2,}"),d(w||!_?"":_,E)}return d.use([].concat(u,[function(y,_,w){y===2&&w.length&&w[0].lastIndexOf(t)>0&&(w[0]=w[0].replace(r,m))},p,function(y){if(y===-2){var _=h;return h=[],_}}])),v.hash=u.length?u.reduce(function(y,_){return _.name||op(15),bc(y,_.name)},5381).toString():"",v}var YL=Yr.createContext();YL.Consumer;var qL=Yr.createContext(),u4=(qL.Consumer,new XL),Dw=l4();function c4(){return X.exports.useContext(YL)||u4}function f4(){return X.exports.useContext(qL)||Dw}var d4=function(){function n(e,t){var r=this;this.inject=function(i,s){s===void 0&&(s=Dw);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.toString=function(){return op(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return n.prototype.getName=function(e){return e===void 0&&(e=Dw),this.name+e.hash},n}(),h4=/([A-Z])/,p4=/([A-Z])/g,m4=/^ms-/,g4=function(n){return"-"+n.toLowerCase()};function YT(n){return h4.test(n)?n.replace(p4,g4).replace(m4,"-ms-"):n}var qT=function(n){return n==null||n===!1||n===""};function tf(n,e,t,r){if(Array.isArray(n)){for(var i,s=[],o=0,a=n.length;o<a;o+=1)(i=tf(n[o],e,t,r))!==""&&(Array.isArray(i)?s.push.apply(s,i):s.push(i));return s}if(qT(n))return"";if(eM(n))return"."+n.styledComponentId;if(Ph(n)){if(typeof(u=n)!="function"||u.prototype&&u.prototype.isReactComponent||!e)return n;var l=n(e);return tf(l,e,t,r)}var u;return n instanceof d4?t?(n.inject(t,r),n.getName(r)):n:Bw(n)?function d(h,p){var m,v,y=[];for(var _ in h)h.hasOwnProperty(_)&&!qT(h[_])&&(Array.isArray(h[_])&&h[_].isCss||Ph(h[_])?y.push(YT(_)+":",h[_],";"):Bw(h[_])?y.push.apply(y,d(h[_],_)):y.push(YT(_)+": "+(m=_,(v=h[_])==null||typeof v=="boolean"||v===""?"":typeof v!="number"||v===0||m in VL?String(v).trim():v+"px")+";"));return p?[p+" {"].concat(y,["}"]):y}(n):n.toString()}var ZT=function(n){return Array.isArray(n)&&(n.isCss=!0),n};function y4(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return Ph(n)||Bw(n)?ZT(tf($T(o0,[n].concat(t)))):t.length===0&&n.length===1&&typeof n[0]=="string"?n:ZT(tf($T(n,t)))}var v4=function(n,e,t){return t===void 0&&(t=Aa),n.theme!==t.theme&&n.theme||e||t.theme},_4=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,x4=/(^-|-$)/g;function bx(n){return n.replace(_4,"-").replace(x4,"")}var w4=function(n){return Lw(QL(n)>>>0)};function hg(n){return typeof n=="string"&&!0}var Fw=function(n){return typeof n=="function"||typeof n=="object"&&n!==null&&!Array.isArray(n)},S4=function(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"};function A4(n,e,t){var r=n[t];Fw(e)&&Fw(r)?ZL(r,e):n[t]=e}function ZL(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];for(var i=0,s=t;i<s.length;i++){var o=s[i];if(Fw(o))for(var a in o)S4(a)&&A4(n,o[a],a)}return n}var eD=Yr.createContext();eD.Consumer;var Tx={};function tD(n,e,t){var r=eM(n),i=!hg(n),s=e.attrs,o=s===void 0?o0:s,a=e.componentId,l=a===void 0?function(x,A){var E=typeof x!="string"?"sc":bx(x);Tx[E]=(Tx[E]||0)+1;var C=E+"-"+w4("5.3.5"+E+Tx[E]);return A?A+"-"+C:C}(e.displayName,e.parentComponentId):a,u=e.displayName,d=u===void 0?function(x){return hg(x)?"styled."+x:"Styled("+KT(x)+")"}(n):u,h=e.displayName&&e.componentId?bx(e.displayName)+"-"+e.componentId:e.componentId||l,p=r&&n.attrs?Array.prototype.concat(n.attrs,o).filter(Boolean):o,m=e.shouldForwardProp;r&&n.shouldForwardProp&&(m=e.shouldForwardProp?function(x,A,E){return n.shouldForwardProp(x,A,E)&&e.shouldForwardProp(x,A,E)}:n.shouldForwardProp);var v,y=new s4(t,h,r?n.componentStyle:void 0),_=y.isStatic&&o.length===0,w=function(x,A){return function(E,C,T,R){var I=E.attrs,O=E.componentStyle,D=E.defaultProps,P=E.foldedComponentIds,B=E.shouldForwardProp,q=E.styledComponentId,W=E.target,J=function(_e,H,Be){_e===void 0&&(_e=Aa);var ue=xo({},H,{theme:_e}),Le={};return Be.forEach(function(ve){var Re,ne,oe,xe=ve;for(Re in Ph(xe)&&(xe=xe(ue)),xe)ue[Re]=Le[Re]=Re==="className"?(ne=Le[Re],oe=xe[Re],ne&&oe?ne+" "+oe:ne||oe):xe[Re]}),[ue,Le]}(v4(C,X.exports.useContext(eD),D)||Aa,C,I),j=J[0],$=J[1],k=function(_e,H,Be,ue){var Le=c4(),ve=f4(),Re=H?_e.generateAndInjectStyles(Aa,Le,ve):_e.generateAndInjectStyles(Be,Le,ve);return Re}(O,R,j),K=T,Z=$.$as||C.$as||$.as||C.as||W,ae=hg(Z),Q=$!==C?xo({},C,{},$):C,se={};for(var pe in Q)pe[0]!=="$"&&pe!=="as"&&(pe==="forwardedAs"?se.as=Q[pe]:(B?B(pe,Iw,Z):!ae||Iw(pe))&&(se[pe]=Q[pe]));return C.style&&$.style!==C.style&&(se.style=xo({},C.style,{},$.style)),se.className=Array.prototype.concat(P,q,k!==q?k:null,C.className,$.className).filter(Boolean).join(" "),se.ref=K,X.exports.createElement(Z,se)}(v,x,A,_)};return w.displayName=d,(v=Yr.forwardRef(w)).attrs=p,v.componentStyle=y,v.displayName=d,v.shouldForwardProp=m,v.foldedComponentIds=r?Array.prototype.concat(n.foldedComponentIds,n.styledComponentId):o0,v.styledComponentId=h,v.target=r?n.target:n,v.withComponent=function(x){var A=e.componentId,E=function(T,R){if(T==null)return{};var I,O,D={},P=Object.keys(T);for(O=0;O<P.length;O++)I=P[O],R.indexOf(I)>=0||(D[I]=T[I]);return D}(e,["componentId"]),C=A&&A+"-"+(hg(x)?x:bx(KT(x)));return tD(x,xo({},E,{attrs:p,componentId:C}),t)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(x){this._foldedDefaultProps=r?ZL({},n.defaultProps,x):x}}),v.toString=function(){return"."+v.styledComponentId},i&&zG(v,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var kw=function(n){return function e(t,r,i){if(i===void 0&&(i=Aa),!W0.exports.isValidElementType(r))return op(1,String(r));var s=function(){return t(r,i,y4.apply(void 0,arguments))};return s.withConfig=function(o){return e(t,r,xo({},i,{},o))},s.attrs=function(o){return e(t,r,xo({},i,{attrs:Array.prototype.concat(i.attrs,o).filter(Boolean)}))},s}(tD,n)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(n){kw[n]=kw(n)});var Xre=kw;function zt(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Ie(){return Ie=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ie.apply(this,arguments)}var ap={exports:{}},M4="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",E4=M4,C4=E4;function nD(){}function rD(){}rD.resetWarningCache=nD;var b4=function(){function n(r,i,s,o,a,l){if(l!==C4){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:rD,resetWarningCache:nD};return t.PropTypes=t,t};ap.exports=b4();function iD(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=iD(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function Pn(){for(var n=0,e,t,r="";n<arguments.length;)(e=arguments[n++])&&(t=iD(e))&&(r&&(r+=" "),r+=t);return r}function sD(n){return typeof n=="string"}function pg(n){return n!==null&&typeof n=="object"&&n.constructor===Object}function Mo(n,e,t={clone:!0}){const r=t.clone?Ie({},n):n;return pg(n)&&pg(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(pg(e[i])&&i in n&&pg(n[i])?r[i]=Mo(n[i],e[i],t):r[i]=e[i])}),r}function Ih(n){let e="https://mui.com/production-error/?code="+n;for(let t=1;t<arguments.length;t+=1)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+n+"; visit "+e+" for the full message."}function Er(n){if(typeof n!="string")throw new Error(Ih(7));return n.charAt(0).toUpperCase()+n.slice(1)}function eR(...n){return n.reduce((e,t)=>t==null?e:function(...i){e.apply(this,i),t.apply(this,i)},()=>{})}function T4(n,e=166){let t;function r(...i){const s=()=>{n.apply(this,i)};clearTimeout(t),t=setTimeout(s,e)}return r.clear=()=>{clearTimeout(t)},r}function ms(n){return n&&n.ownerDocument||document}function Bh(n){return ms(n).defaultView||window}function l0(n,e){typeof n=="function"?n(e):n&&(n.current=e)}const R4=typeof window!="undefined"?X.exports.useLayoutEffect:X.exports.useEffect;var Lh=R4;function Tc(n){const e=X.exports.useRef(n);return Lh(()=>{e.current=n}),X.exports.useCallback((...t)=>(0,e.current)(...t),[])}function _i(n,e){return X.exports.useMemo(()=>n==null&&e==null?null:t=>{l0(n,t),l0(e,t)},[n,e])}let ev=!0,Nw=!1,tR;const P4={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function I4(n){const{type:e,tagName:t}=n;return!!(t==="INPUT"&&P4[e]&&!n.readOnly||t==="TEXTAREA"&&!n.readOnly||n.isContentEditable)}function B4(n){n.metaKey||n.altKey||n.ctrlKey||(ev=!0)}function Rx(){ev=!1}function L4(){this.visibilityState==="hidden"&&Nw&&(ev=!0)}function D4(n){n.addEventListener("keydown",B4,!0),n.addEventListener("mousedown",Rx,!0),n.addEventListener("pointerdown",Rx,!0),n.addEventListener("touchstart",Rx,!0),n.addEventListener("visibilitychange",L4,!0)}function F4(n){const{target:e}=n;try{return e.matches(":focus-visible")}catch{}return ev||I4(e)}function k4(){const n=X.exports.useCallback(i=>{i!=null&&D4(i.ownerDocument)},[]),e=X.exports.useRef(!1);function t(){return e.current?(Nw=!0,window.clearTimeout(tR),tR=window.setTimeout(()=>{Nw=!1},100),e.current=!1,!0):!1}function r(i){return F4(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:t,ref:n}}function oD(n){const e=n.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function N4(n,e){const t=Ie({},e);return Object.keys(n).forEach(r=>{t[r]===void 0&&(t[r]=n[r])}),t}function vs(n,e,t){const r={};return Object.keys(n).forEach(i=>{r[i]=n[i].reduce((s,o)=>(o&&(t&&t[o]&&s.push(t[o]),s.push(e(o))),s),[]).join(" ")}),r}const nR=n=>n,O4=()=>{let n=nR;return{configure(e){n=e},generate(e){return n(e)},reset(){n=nR}}},H4=O4();var U4=H4;const G4={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function Qi(n,e){return G4[e]||`${U4.generate(n)}-${e}`}function Hr(n,e){const t={};return e.forEach(r=>{t[r]=Qi(n,r)}),t}var tv={exports:{}},nv={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z4=X.exports,W4=Symbol.for("react.element"),V4=Symbol.for("react.fragment"),j4=Object.prototype.hasOwnProperty,J4=z4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$4={key:!0,ref:!0,__self:!0,__source:!0};function aD(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)j4.call(e,r)&&!$4.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:W4,type:n,key:s,ref:o,props:i,_owner:J4.current}}nv.Fragment=V4;nv.jsx=aD;nv.jsxs=aD;tv.exports=nv;const ot=tv.exports.jsx,vu=tv.exports.jsxs,K4=tv.exports.Fragment;var X4=Object.freeze(Object.defineProperty({__proto__:null,jsx:ot,jsxs:vu,Fragment:K4},Symbol.toStringTag,{value:"Module"}));function Q4(n){return typeof n=="function"?n():n}const Y4=X.exports.forwardRef(function(e,t){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=X.exports.useState(null),l=_i(X.exports.isValidElement(r)?r.ref:null,t);return Lh(()=>{s||a(Q4(i)||document.body)},[i,s]),Lh(()=>{if(o&&!s)return l0(t,o),()=>{l0(t,null)}},[t,o,s]),s?X.exports.isValidElement(r)?X.exports.cloneElement(r,{ref:l}):r:o&&tp.exports.createPortal(r,o)});var q4=Y4;function Z4(n){const e=ms(n);return e.body===n?Bh(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function nh(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function rR(n){return parseInt(Bh(n).getComputedStyle(n).paddingRight,10)||0}function iR(n,e,t,r=[],i){const s=[e,t,...r],o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(n.children,a=>{s.indexOf(a)===-1&&o.indexOf(a.tagName)===-1&&nh(a,i)})}function Px(n,e){let t=-1;return n.some((r,i)=>e(r)?(t=i,!0):!1),t}function ez(n,e){const t=[],r=n.container;if(!e.disableScrollLock){if(Z4(r)){const l=oD(ms(r));t.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${rR(r)+l}px`;const u=ms(r).querySelectorAll(".mui-fixed");[].forEach.call(u,d=>{t.push({value:d.style.paddingRight,property:"padding-right",el:d}),d.style.paddingRight=`${rR(d)+l}px`})}const s=r.parentElement,o=Bh(r),a=(s==null?void 0:s.nodeName)==="HTML"&&o.getComputedStyle(s).overflowY==="scroll"?s:r;t.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return()=>{t.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function tz(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class nz{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&nh(e.modalRef,!1);const i=tz(t);iR(t,e.mount,e.modalRef,i,!0);const s=Px(this.containers,o=>o.container===t);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:i}),r)}mount(e,t){const r=Px(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=ez(i,t))}remove(e){const t=this.modals.indexOf(e);if(t===-1)return t;const r=Px(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(t,1),i.modals.length===0)i.restore&&i.restore(),e.modalRef&&nh(e.modalRef,!0),iR(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const s=i.modals[i.modals.length-1];s.modalRef&&nh(s.modalRef,!1)}return t}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const rz=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function iz(n){const e=parseInt(n.getAttribute("tabindex"),10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function sz(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=r=>n.ownerDocument.querySelector(`input[type="radio"]${r}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function oz(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||sz(n))}function az(n){const e=[],t=[];return Array.from(n.querySelectorAll(rz)).forEach((r,i)=>{const s=iz(r);s===-1||!oz(r)||(s===0?e.push(r):t.push({documentOrder:i,tabIndex:s,node:r}))}),t.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function lz(){return!0}function uz(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=az,isEnabled:o=lz,open:a}=n,l=X.exports.useRef(),u=X.exports.useRef(null),d=X.exports.useRef(null),h=X.exports.useRef(null),p=X.exports.useRef(null),m=X.exports.useRef(!1),v=X.exports.useRef(null),y=_i(e.ref,v),_=X.exports.useRef(null);X.exports.useEffect(()=>{!a||!v.current||(m.current=!t)},[t,a]),X.exports.useEffect(()=>{if(!a||!v.current)return;const A=ms(v.current);return v.current.contains(A.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex",-1),m.current&&v.current.focus()),()=>{i||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}},[a]),X.exports.useEffect(()=>{if(!a||!v.current)return;const A=ms(v.current),E=R=>{const{current:I}=v;if(I!==null){if(!A.hasFocus()||r||!o()||l.current){l.current=!1;return}if(!I.contains(A.activeElement)){if(R&&p.current!==R.target||A.activeElement!==p.current)p.current=null;else if(p.current!==null)return;if(!m.current)return;let P=[];if((A.activeElement===u.current||A.activeElement===d.current)&&(P=s(v.current)),P.length>0){var O,D;const B=Boolean(((O=_.current)==null?void 0:O.shiftKey)&&((D=_.current)==null?void 0:D.key)==="Tab"),q=P[0],W=P[P.length-1];B?W.focus():q.focus()}else I.focus()}}},C=R=>{_.current=R,!(r||!o()||R.key!=="Tab")&&A.activeElement===v.current&&R.shiftKey&&(l.current=!0,d.current.focus())};A.addEventListener("focusin",E),A.addEventListener("keydown",C,!0);const T=setInterval(()=>{A.activeElement.tagName==="BODY"&&E()},50);return()=>{clearInterval(T),A.removeEventListener("focusin",E),A.removeEventListener("keydown",C,!0)}},[t,r,i,o,a,s]);const w=A=>{h.current===null&&(h.current=A.relatedTarget),m.current=!0,p.current=A.target;const E=e.props.onFocus;E&&E(A)},x=A=>{h.current===null&&(h.current=A.relatedTarget),m.current=!0};return vu(X.exports.Fragment,{children:[ot("div",{tabIndex:0,onFocus:x,ref:u,"data-test":"sentinelStart"}),X.exports.cloneElement(e,{ref:y,onFocus:w}),ot("div",{tabIndex:0,onFocus:x,ref:d,"data-test":"sentinelEnd"})]})}function cz(n){return Qi("MuiModal",n)}Hr("MuiModal",["root","hidden"]);const fz=["BackdropComponent","BackdropProps","children","classes","className","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","theme","onTransitionEnter","onTransitionExited"],dz=n=>{const{open:e,exited:t,classes:r}=n;return vs({root:["root",!e&&t&&"hidden"]},cz,r)};function hz(n){return typeof n=="function"?n():n}function pz(n){return n.children?n.children.props.hasOwnProperty("in"):!1}const mz=new nz,gz=X.exports.forwardRef(function(e,t){const{BackdropComponent:r,BackdropProps:i,children:s,classes:o,className:a,closeAfterTransition:l=!1,component:u="div",components:d={},componentsProps:h={},container:p,disableAutoFocus:m=!1,disableEnforceFocus:v=!1,disableEscapeKeyDown:y=!1,disablePortal:_=!1,disableRestoreFocus:w=!1,disableScrollLock:x=!1,hideBackdrop:A=!1,keepMounted:E=!1,manager:C=mz,onBackdropClick:T,onClose:R,onKeyDown:I,open:O,theme:D,onTransitionEnter:P,onTransitionExited:B}=e,q=zt(e,fz),[W,J]=X.exports.useState(!0),j=X.exports.useRef({}),$=X.exports.useRef(null),k=X.exports.useRef(null),K=_i(k,t),Z=pz(e),ae=()=>ms($.current),Q=()=>(j.current.modalRef=k.current,j.current.mountNode=$.current,j.current),se=()=>{C.mount(Q(),{disableScrollLock:x}),k.current.scrollTop=0},pe=Tc(()=>{const Ee=hz(p)||ae().body;C.add(Q(),Ee),k.current&&se()}),_e=X.exports.useCallback(()=>C.isTopModal(Q()),[C]),H=Tc(Ee=>{$.current=Ee,Ee&&(O&&_e()?se():nh(k.current,!0))}),Be=X.exports.useCallback(()=>{C.remove(Q())},[C]);X.exports.useEffect(()=>()=>{Be()},[Be]),X.exports.useEffect(()=>{O?pe():(!Z||!l)&&Be()},[O,Be,Z,l,pe]);const ue=Ie({},e,{classes:o,closeAfterTransition:l,disableAutoFocus:m,disableEnforceFocus:v,disableEscapeKeyDown:y,disablePortal:_,disableRestoreFocus:w,disableScrollLock:x,exited:W,hideBackdrop:A,keepMounted:E}),Le=dz(ue);if(!E&&!O&&(!Z||W))return null;const ve=()=>{J(!1),P&&P()},Re=()=>{J(!0),B&&B(),l&&Be()},ne=Ee=>{Ee.target===Ee.currentTarget&&(T&&T(Ee),R&&R(Ee,"backdropClick"))},oe=Ee=>{I&&I(Ee),!(Ee.key!=="Escape"||!_e())&&(y||(Ee.stopPropagation(),R&&R(Ee,"escapeKeyDown")))},xe={};s.props.tabIndex===void 0&&(xe.tabIndex="-1"),Z&&(xe.onEnter=eR(ve,s.props.onEnter),xe.onExited=eR(Re,s.props.onExited));const Ae=d.Root||u,Me=h.root||{};return ot(q4,{ref:H,container:p,disablePortal:_,children:vu(Ae,Ie({role:"presentation"},Me,!sD(Ae)&&{as:u,ownerState:Ie({},ue,Me.ownerState),theme:D},q,{ref:K,onKeyDown:oe,className:Pn(Le.root,Me.className,a),children:[!A&&r?ot(r,Ie({"aria-hidden":!0,open:O,onClick:ne},i)):null,ot(uz,{disableEnforceFocus:v,disableAutoFocus:m,disableRestoreFocus:w,isEnabled:_e,open:O,children:X.exports.cloneElement(s,xe)})]}))})});var yz=gz;function vz(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function _z(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var xz=function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(_z(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=vz(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},n}(),_r="-ms-",u0="-moz-",Nt="-webkit-",lD="comm",nM="rule",rM="decl",wz="@import",uD="@keyframes",Sz=Math.abs,rv=String.fromCharCode,Az=Object.assign;function Mz(n,e){return(((e<<2^$r(n,0))<<2^$r(n,1))<<2^$r(n,2))<<2^$r(n,3)}function cD(n){return n.trim()}function Ez(n,e){return(n=e.exec(n))?n[0]:n}function Ot(n,e,t){return n.replace(e,t)}function Ow(n,e){return n.indexOf(e)}function $r(n,e){return n.charCodeAt(e)|0}function Dh(n,e,t){return n.slice(e,t)}function Is(n){return n.length}function iM(n){return n.length}function mg(n,e){return e.push(n),n}function Cz(n,e){return n.map(e).join("")}var iv=1,nf=1,fD=0,ii=0,On=0,If="";function sv(n,e,t,r,i,s,o){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:iv,column:nf,length:o,return:""}}function xd(n,e){return Az(sv("",null,null,"",null,null,0),n,{length:-n.length},e)}function bz(){return On}function Tz(){return On=ii>0?$r(If,--ii):0,nf--,On===10&&(nf=1,iv--),On}function xi(){return On=ii<fD?$r(If,ii++):0,nf++,On===10&&(nf=1,iv++),On}function Gs(){return $r(If,ii)}function My(){return ii}function lp(n,e){return Dh(If,n,e)}function Fh(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function dD(n){return iv=nf=1,fD=Is(If=n),ii=0,[]}function hD(n){return If="",n}function Ey(n){return cD(lp(ii-1,Hw(n===91?n+2:n===40?n+1:n)))}function Rz(n){for(;(On=Gs())&&On<33;)xi();return Fh(n)>2||Fh(On)>3?"":" "}function Pz(n,e){for(;--e&&xi()&&!(On<48||On>102||On>57&&On<65||On>70&&On<97););return lp(n,My()+(e<6&&Gs()==32&&xi()==32))}function Hw(n){for(;xi();)switch(On){case n:return ii;case 34:case 39:n!==34&&n!==39&&Hw(On);break;case 40:n===41&&Hw(n);break;case 92:xi();break}return ii}function Iz(n,e){for(;xi()&&n+On!==47+10;)if(n+On===42+42&&Gs()===47)break;return"/*"+lp(e,ii-1)+"*"+rv(n===47?n:xi())}function Bz(n){for(;!Fh(Gs());)xi();return lp(n,ii)}function Lz(n){return hD(Cy("",null,null,null,[""],n=dD(n),0,[0],n))}function Cy(n,e,t,r,i,s,o,a,l){for(var u=0,d=0,h=o,p=0,m=0,v=0,y=1,_=1,w=1,x=0,A="",E=i,C=s,T=r,R=A;_;)switch(v=x,x=xi()){case 40:if(v!=108&&R.charCodeAt(h-1)==58){Ow(R+=Ot(Ey(x),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:R+=Ey(x);break;case 9:case 10:case 13:case 32:R+=Rz(v);break;case 92:R+=Pz(My()-1,7);continue;case 47:switch(Gs()){case 42:case 47:mg(Dz(Iz(xi(),My()),e,t),l);break;default:R+="/"}break;case 123*y:a[u++]=Is(R)*w;case 125*y:case 59:case 0:switch(x){case 0:case 125:_=0;case 59+d:m>0&&Is(R)-h&&mg(m>32?oR(R+";",r,t,h-1):oR(Ot(R," ","")+";",r,t,h-2),l);break;case 59:R+=";";default:if(mg(T=sR(R,e,t,u,d,i,a,A,E=[],C=[],h),s),x===123)if(d===0)Cy(R,e,T,T,E,s,h,a,C);else switch(p){case 100:case 109:case 115:Cy(n,T,T,r&&mg(sR(n,T,T,0,0,i,a,A,i,E=[],h),C),i,C,h,a,r?E:C);break;default:Cy(R,T,T,T,[""],C,0,a,C)}}u=d=m=0,y=w=1,A=R="",h=o;break;case 58:h=1+Is(R),m=v;default:if(y<1){if(x==123)--y;else if(x==125&&y++==0&&Tz()==125)continue}switch(R+=rv(x),x*y){case 38:w=d>0?1:(R+="\f",-1);break;case 44:a[u++]=(Is(R)-1)*w,w=1;break;case 64:Gs()===45&&(R+=Ey(xi())),p=Gs(),d=h=Is(A=R+=Bz(My())),x++;break;case 45:v===45&&Is(R)==2&&(y=0)}}return s}function sR(n,e,t,r,i,s,o,a,l,u,d){for(var h=i-1,p=i===0?s:[""],m=iM(p),v=0,y=0,_=0;v<r;++v)for(var w=0,x=Dh(n,h+1,h=Sz(y=o[v])),A=n;w<m;++w)(A=cD(y>0?p[w]+" "+x:Ot(x,/&\f/g,p[w])))&&(l[_++]=A);return sv(n,e,t,i===0?nM:a,l,u,d)}function Dz(n,e,t){return sv(n,e,t,lD,rv(bz()),Dh(n,2,-2),0)}function oR(n,e,t,r){return sv(n,e,t,rM,Dh(n,0,r),Dh(n,r+1,-1),r)}function pD(n,e){switch(Mz(n,e)){case 5103:return Nt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Nt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Nt+n+u0+n+_r+n+n;case 6828:case 4268:return Nt+n+_r+n+n;case 6165:return Nt+n+_r+"flex-"+n+n;case 5187:return Nt+n+Ot(n,/(\w+).+(:[^]+)/,Nt+"box-$1$2"+_r+"flex-$1$2")+n;case 5443:return Nt+n+_r+"flex-item-"+Ot(n,/flex-|-self/,"")+n;case 4675:return Nt+n+_r+"flex-line-pack"+Ot(n,/align-content|flex-|-self/,"")+n;case 5548:return Nt+n+_r+Ot(n,"shrink","negative")+n;case 5292:return Nt+n+_r+Ot(n,"basis","preferred-size")+n;case 6060:return Nt+"box-"+Ot(n,"-grow","")+Nt+n+_r+Ot(n,"grow","positive")+n;case 4554:return Nt+Ot(n,/([^-])(transform)/g,"$1"+Nt+"$2")+n;case 6187:return Ot(Ot(Ot(n,/(zoom-|grab)/,Nt+"$1"),/(image-set)/,Nt+"$1"),n,"")+n;case 5495:case 3959:return Ot(n,/(image-set\([^]*)/,Nt+"$1$`$1");case 4968:return Ot(Ot(n,/(.+:)(flex-)?(.*)/,Nt+"box-pack:$3"+_r+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Nt+n+n;case 4095:case 3583:case 4068:case 2532:return Ot(n,/(.+)-inline(.+)/,Nt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Is(n)-1-e>6)switch($r(n,e+1)){case 109:if($r(n,e+4)!==45)break;case 102:return Ot(n,/(.+:)(.+)-([^]+)/,"$1"+Nt+"$2-$3$1"+u0+($r(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Ow(n,"stretch")?pD(Ot(n,"stretch","fill-available"),e)+n:n}break;case 4949:if($r(n,e+1)!==115)break;case 6444:switch($r(n,Is(n)-3-(~Ow(n,"!important")&&10))){case 107:return Ot(n,":",":"+Nt)+n;case 101:return Ot(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Nt+($r(n,14)===45?"inline-":"")+"box$3$1"+Nt+"$2$3$1"+_r+"$2box$3")+n}break;case 5936:switch($r(n,e+11)){case 114:return Nt+n+_r+Ot(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Nt+n+_r+Ot(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Nt+n+_r+Ot(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Nt+n+_r+n+n}return n}function Uc(n,e){for(var t="",r=iM(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function Fz(n,e,t,r){switch(n.type){case wz:case rM:return n.return=n.return||n.value;case lD:return"";case uD:return n.return=n.value+"{"+Uc(n.children,r)+"}";case nM:n.value=n.props.join(",")}return Is(t=Uc(n.children,r))?n.return=n.value+"{"+t+"}":""}function kz(n){var e=iM(n);return function(t,r,i,s){for(var o="",a=0;a<e;a++)o+=n[a](t,r,i,s)||"";return o}}function Nz(n){return function(e){e.root||(e=e.return)&&n(e)}}function Oz(n,e,t,r){if(n.length>-1&&!n.return)switch(n.type){case rM:n.return=pD(n.value,n.length);break;case uD:return Uc([xd(n,{value:Ot(n.value,"@","@"+Nt)})],r);case nM:if(n.length)return Cz(n.props,function(i){switch(Ez(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Uc([xd(n,{props:[Ot(i,/:(read-\w+)/,":"+u0+"$1")]})],r);case"::placeholder":return Uc([xd(n,{props:[Ot(i,/:(plac\w+)/,":"+Nt+"input-$1")]}),xd(n,{props:[Ot(i,/:(plac\w+)/,":"+u0+"$1")]}),xd(n,{props:[Ot(i,/:(plac\w+)/,_r+"input-$1")]})],r)}return""})}}var Hz=function(e,t,r){for(var i=0,s=0;i=s,s=Gs(),i===38&&s===12&&(t[r]=1),!Fh(s);)xi();return lp(e,ii)},Uz=function(e,t){var r=-1,i=44;do switch(Fh(i)){case 0:i===38&&Gs()===12&&(t[r]=1),e[r]+=Hz(ii-1,t,r);break;case 2:e[r]+=Ey(i);break;case 4:if(i===44){e[++r]=Gs()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=rv(i)}while(i=xi());return e},Gz=function(e,t){return hD(Uz(dD(e),t))},aR=new WeakMap,zz=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!aR.get(r))&&!i){aR.set(e,!0);for(var s=[],o=Gz(t,s),a=r.props,l=0,u=0;l<o.length;l++)for(var d=0;d<a.length;d++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},Wz=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}},Vz=[Oz],jz=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var _=y.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||Vz,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(y){for(var _=y.getAttribute("data-emotion").split(" "),w=1;w<_.length;w++)s[_[w]]=!0;a.push(y)});var l,u=[zz,Wz];{var d,h=[Fz,Nz(function(y){d.insert(y)})],p=kz(u.concat(i,h)),m=function(_){return Uc(Lz(_),p)};l=function(_,w,x,A){d=x,m(_?_+"{"+w.styles+"}":w.styles),A&&(v.inserted[w.name]=!0)}}var v={key:t,sheet:new xz({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return v.sheet.hydrate(a),v},Jz=!0;function $z(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):r+=i+" "}),r}var mD=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||Jz===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},Kz=function(e,t,r){mD(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Xz(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Qz=/[A-Z]|^ms/g,Yz=/_EMO_([^_]+?)_([^]*?)_EMO_/g,gD=function(e){return e.charCodeAt(1)===45},lR=function(e){return e!=null&&typeof e!="boolean"},Ix=jL(function(n){return gD(n)?n:n.replace(Qz,"-$&").toLowerCase()}),uR=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(Yz,function(r,i,s){return Bs={name:i,styles:s,next:Bs},i})}return VL[e]!==1&&!gD(e)&&typeof t=="number"&&t!==0?t+"px":t};function kh(n,e,t){if(t==null)return"";if(t.__emotion_styles!==void 0)return t;switch(typeof t){case"boolean":return"";case"object":{if(t.anim===1)return Bs={name:t.name,styles:t.styles,next:Bs},t.name;if(t.styles!==void 0){var r=t.next;if(r!==void 0)for(;r!==void 0;)Bs={name:r.name,styles:r.styles,next:Bs},r=r.next;var i=t.styles+";";return i}return qz(n,e,t)}case"function":{if(n!==void 0){var s=Bs,o=t(n);return Bs=s,kh(n,e,o)}break}}if(e==null)return t;var a=e[t];return a!==void 0?a:t}function qz(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=kh(n,e,t[i])+";";else for(var s in t){var o=t[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":lR(o)&&(r+=Ix(s)+":"+uR(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)lR(o[a])&&(r+=Ix(s)+":"+uR(s,o[a])+";");else{var l=kh(n,e,o);switch(s){case"animation":case"animationName":{r+=Ix(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var cR=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Bs,yD=function(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Bs=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=kh(r,t,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=kh(r,t,e[a]),i&&(s+=o[a]);cR.lastIndex=0;for(var l="",u;(u=cR.exec(s))!==null;)l+="-"+u[1];var d=Xz(s)+l;return{name:d,styles:s,next:Bs}},vD=X.exports.createContext(typeof HTMLElement!="undefined"?jz({key:"css"}):null);vD.Provider;var Zz=function(e){return X.exports.forwardRef(function(t,r){var i=X.exports.useContext(vD);return e(t,i,r)})},e5=X.exports.createContext({});jc["useInsertionEffect"]&&jc["useInsertionEffect"];jc["useInsertionEffect"]?jc["useInsertionEffect"]:X.exports.useLayoutEffect;function t5(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return yD(e)}var sM=function(){var e=t5.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},n5=Iw,r5=function(e){return e!=="theme"},fR=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?n5:r5},dR=function(e,t,r){var i;if(t){var s=t.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},i5=jc["useInsertionEffect"]?jc["useInsertionEffect"]:function(e){e()};function s5(n){i5(n)}var o5=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return mD(t,r,i),s5(function(){return Kz(t,r,i)}),null},a5=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;t!==void 0&&(s=t.label,o=t.target);var a=dR(e,t,r),l=a||fR(i),u=!l("as");return function(){var d=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{h.push(d[0][0]);for(var p=d.length,m=1;m<p;m++)h.push(d[m],d[0][m])}var v=Zz(function(y,_,w){var x=u&&y.as||i,A="",E=[],C=y;if(y.theme==null){C={};for(var T in y)C[T]=y[T];C.theme=X.exports.useContext(e5)}typeof y.className=="string"?A=$z(_.registered,E,y.className):y.className!=null&&(A=y.className+" ");var R=yD(h.concat(E),_.registered,C);A+=_.key+"-"+R.name,o!==void 0&&(A+=" "+o);var I=u&&a===void 0?fR(x):l,O={};for(var D in y)u&&D==="as"||I(D)&&(O[D]=y[D]);return O.className=A,O.ref=w,X.exports.createElement(X.exports.Fragment,null,X.exports.createElement(o5,{cache:_,serialized:R,isStringTag:typeof x=="string"}),X.exports.createElement(x,O))});return v.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=i,v.__emotion_styles=h,v.__emotion_forwardProp=a,Object.defineProperty(v,"toString",{value:function(){return"."+o}}),v.withComponent=function(y,_){return n(y,Ie({},t,_,{shouldForwardProp:dR(v,_,!0)})).apply(void 0,h)},v}},l5=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Uw=a5.bind();l5.forEach(function(n){Uw[n]=Uw(n)});var u5=Uw;/** @license MUI v5.6.1
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function c5(n,e){return u5(n,e)}function rh(n,e){return e?Mo(n,e,{clone:!1}):n}const oM={xs:0,sm:600,md:900,lg:1200,xl:1536},hR={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${oM[n]}px)`};function Va(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const s=r.breakpoints||hR;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=t(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||hR;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||oM).indexOf(a)!==-1){const l=s.up(a);o[l]=t(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return t(e)}function f5(n={}){var e;return(n==null||(e=n.keys)==null?void 0:e.reduce((r,i)=>{const s=n.up(i);return r[s]={},r},{}))||{}}function d5(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function aM(n,e){return!e||typeof e!="string"?null:e.split(".").reduce((t,r)=>t&&t[r]?t[r]:null,n)}function pR(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=aM(n,t)||r,e&&(i=e(i)),i}function Je(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=aM(l,r)||{};return Va(o,a,h=>{let p=pR(u,i,h);return h===p&&typeof h=="string"&&(p=pR(u,i,`${e}${h==="default"?"":Er(h)}`,h)),t===!1?p:{[t]:p}})};return s.propTypes={},s.filterProps=[e],s}function ja(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),t=r=>Object.keys(r).reduce((i,s)=>e[s]?rh(i,e[s](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function h5(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const p5={m:"margin",p:"padding"},m5={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},mR={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},g5=h5(n=>{if(n.length>2)if(mR[n])n=mR[n];else return[n];const[e,t]=n.split(""),r=p5[e],i=m5[t]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),y5=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],v5=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],_D=[...y5,...v5];function up(n,e,t,r){const i=aM(n,e)||t;return typeof i=="number"?s=>typeof s=="string"?s:i*s:Array.isArray(i)?s=>typeof s=="string"?s:i[s]:typeof i=="function"?i:()=>{}}function xD(n){return up(n,"spacing",8)}function cp(n,e){if(typeof e=="string"||e==null)return e;const t=Math.abs(e),r=n(t);return e>=0?r:typeof r=="number"?-r:`-${r}`}function _5(n,e){return t=>n.reduce((r,i)=>(r[i]=cp(e,t),r),{})}function x5(n,e,t,r){if(e.indexOf(t)===-1)return null;const i=g5(t),s=_5(i,r),o=n[t];return Va(n,o,s)}function w5(n,e){const t=xD(n.theme);return Object.keys(n).map(r=>x5(n,e,r,t)).reduce(rh,{})}function ov(n){return w5(n,_D)}ov.propTypes={};ov.filterProps=_D;function fp(n){return typeof n!="number"?n:`${n}px solid`}const S5=Je({prop:"border",themeKey:"borders",transform:fp}),A5=Je({prop:"borderTop",themeKey:"borders",transform:fp}),M5=Je({prop:"borderRight",themeKey:"borders",transform:fp}),E5=Je({prop:"borderBottom",themeKey:"borders",transform:fp}),C5=Je({prop:"borderLeft",themeKey:"borders",transform:fp}),b5=Je({prop:"borderColor",themeKey:"palette"}),T5=Je({prop:"borderTopColor",themeKey:"palette"}),R5=Je({prop:"borderRightColor",themeKey:"palette"}),P5=Je({prop:"borderBottomColor",themeKey:"palette"}),I5=Je({prop:"borderLeftColor",themeKey:"palette"}),lM=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=up(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:cp(e,r)});return Va(n,n.borderRadius,t)}return null};lM.propTypes={};lM.filterProps=["borderRadius"];const B5=ja(S5,A5,M5,E5,C5,b5,T5,R5,P5,I5,lM);var wD=B5;const L5=Je({prop:"displayPrint",cssProperty:!1,transform:n=>({"@media print":{display:n}})}),D5=Je({prop:"display"}),F5=Je({prop:"overflow"}),k5=Je({prop:"textOverflow"}),N5=Je({prop:"visibility"}),O5=Je({prop:"whiteSpace"});var SD=ja(L5,D5,F5,k5,N5,O5);const H5=Je({prop:"flexBasis"}),U5=Je({prop:"flexDirection"}),G5=Je({prop:"flexWrap"}),z5=Je({prop:"justifyContent"}),W5=Je({prop:"alignItems"}),V5=Je({prop:"alignContent"}),j5=Je({prop:"order"}),J5=Je({prop:"flex"}),$5=Je({prop:"flexGrow"}),K5=Je({prop:"flexShrink"}),X5=Je({prop:"alignSelf"}),Q5=Je({prop:"justifyItems"}),Y5=Je({prop:"justifySelf"}),q5=ja(H5,U5,G5,z5,W5,V5,j5,J5,$5,K5,X5,Q5,Y5);var AD=q5;const uM=n=>{if(n.gap!==void 0&&n.gap!==null){const e=up(n.theme,"spacing",8),t=r=>({gap:cp(e,r)});return Va(n,n.gap,t)}return null};uM.propTypes={};uM.filterProps=["gap"];const cM=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=up(n.theme,"spacing",8),t=r=>({columnGap:cp(e,r)});return Va(n,n.columnGap,t)}return null};cM.propTypes={};cM.filterProps=["columnGap"];const fM=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=up(n.theme,"spacing",8),t=r=>({rowGap:cp(e,r)});return Va(n,n.rowGap,t)}return null};fM.propTypes={};fM.filterProps=["rowGap"];const Z5=Je({prop:"gridColumn"}),e6=Je({prop:"gridRow"}),t6=Je({prop:"gridAutoFlow"}),n6=Je({prop:"gridAutoColumns"}),r6=Je({prop:"gridAutoRows"}),i6=Je({prop:"gridTemplateColumns"}),s6=Je({prop:"gridTemplateRows"}),o6=Je({prop:"gridTemplateAreas"}),a6=Je({prop:"gridArea"}),l6=ja(uM,cM,fM,Z5,e6,t6,n6,r6,i6,s6,o6,a6);var MD=l6;const u6=Je({prop:"color",themeKey:"palette"}),c6=Je({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),f6=Je({prop:"backgroundColor",themeKey:"palette"}),d6=ja(u6,c6,f6);var ED=d6;const h6=Je({prop:"position"}),p6=Je({prop:"zIndex",themeKey:"zIndex"}),m6=Je({prop:"top"}),g6=Je({prop:"right"}),y6=Je({prop:"bottom"}),v6=Je({prop:"left"});var CD=ja(h6,p6,m6,g6,y6,v6);const _6=Je({prop:"boxShadow",themeKey:"shadows"});var bD=_6;function Ja(n){return n<=1&&n!==0?`${n*100}%`:n}const x6=Je({prop:"width",transform:Ja}),TD=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var r,i,s;return{maxWidth:((r=n.theme)==null||(i=r.breakpoints)==null||(s=i.values)==null?void 0:s[t])||oM[t]||Ja(t)}};return Va(n,n.maxWidth,e)}return null};TD.filterProps=["maxWidth"];const w6=Je({prop:"minWidth",transform:Ja}),S6=Je({prop:"height",transform:Ja}),A6=Je({prop:"maxHeight",transform:Ja}),M6=Je({prop:"minHeight",transform:Ja});Je({prop:"size",cssProperty:"width",transform:Ja});Je({prop:"size",cssProperty:"height",transform:Ja});const E6=Je({prop:"boxSizing"}),C6=ja(x6,TD,w6,S6,A6,M6,E6);var RD=C6;const b6=Je({prop:"fontFamily",themeKey:"typography"}),T6=Je({prop:"fontSize",themeKey:"typography"}),R6=Je({prop:"fontStyle",themeKey:"typography"}),P6=Je({prop:"fontWeight",themeKey:"typography"}),I6=Je({prop:"letterSpacing"}),B6=Je({prop:"textTransform"}),L6=Je({prop:"lineHeight"}),D6=Je({prop:"textAlign"}),F6=Je({prop:"typography",cssProperty:!1,themeKey:"typography"}),k6=ja(F6,b6,T6,R6,P6,I6,L6,D6,B6);var PD=k6;const gR={borders:wD.filterProps,display:SD.filterProps,flexbox:AD.filterProps,grid:MD.filterProps,positions:CD.filterProps,palette:ED.filterProps,shadows:bD.filterProps,sizing:RD.filterProps,spacing:ov.filterProps,typography:PD.filterProps},ID={borders:wD,display:SD,flexbox:AD,grid:MD,positions:CD,palette:ED,shadows:bD,sizing:RD,spacing:ov,typography:PD};Object.keys(gR).reduce((n,e)=>(gR[e].forEach(t=>{n[t]=ID[e]}),n),{});function N6(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function O6(n,e){return typeof n=="function"?n(e):n}function H6(n=ID){const e=Object.keys(n).reduce((i,s)=>(n[s].filterProps.forEach(o=>{i[o]=n[s]}),i),{});function t(i,s,o){const a={[i]:s,theme:o},l=e[i];return l?l(a):{[i]:s}}function r(i){const{sx:s,theme:o={}}=i||{};if(!s)return null;function a(l){let u=l;if(typeof l=="function")u=l(o);else if(typeof l!="object")return l;if(!u)return null;const d=f5(o.breakpoints),h=Object.keys(d);let p=d;return Object.keys(u).forEach(m=>{const v=O6(u[m],o);if(v!=null)if(typeof v=="object")if(e[m])p=rh(p,t(m,v,o));else{const y=Va({theme:o},v,_=>({[m]:_}));N6(y,v)?p[m]=r({sx:v,theme:o}):p=rh(p,y)}else p=rh(p,t(m,v,o))}),d5(h,p)}return Array.isArray(s)?s.map(a):a(s)}return r}const BD=H6();BD.filterProps=["sx"];var U6=BD;const G6=["values","unit","step"],z6=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>Ie({},t,{[r.key]:r.val}),{})};function W6(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5}=n,i=zt(n,G6),s=z6(e),o=Object.keys(s);function a(p){return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${t})`}function l(p){return`@media (max-width:${(typeof e[p]=="number"?e[p]:p)-r/100}${t})`}function u(p,m){const v=o.indexOf(m);return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${t}) and (max-width:${(v!==-1&&typeof e[o[v]]=="number"?e[o[v]]:m)-r/100}${t})`}function d(p){return o.indexOf(p)+1<o.length?u(p,o[o.indexOf(p)+1]):a(p)}function h(p){const m=o.indexOf(p);return m===0?a(o[1]):m===o.length-1?l(o[m]):u(p,o[o.indexOf(p)+1]).replace("@media","@media not all and")}return Ie({keys:o,values:s,up:a,down:l,between:u,only:d,not:h,unit:t},i)}const V6={borderRadius:4};var j6=V6;function J6(n=8){if(n.mui)return n;const e=xD({spacing:n}),t=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return t.mui=!0,t}const $6=["breakpoints","palette","spacing","shape"];function dM(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:s={}}=n,o=zt(n,$6),a=W6(t),l=J6(i);let u=Mo({breakpoints:a,direction:"ltr",components:{},palette:Ie({mode:"light"},r),spacing:l,shape:Ie({},j6,s)},o);return u=e.reduce((d,h)=>Mo(d,h),u),u}const K6=X.exports.createContext(null);var X6=K6;function Q6(){return X.exports.useContext(X6)}function Y6(n){return Object.keys(n).length===0}function q6(n=null){const e=Q6();return!e||Y6(e)?n:e}const Z6=dM();function LD(n=Z6){return q6(n)}const e9=["variant"];function yR(n){return n.length===0}function DD(n){const{variant:e}=n,t=zt(n,e9);let r=e||"";return Object.keys(t).sort().forEach(i=>{i==="color"?r+=yR(r)?n[i]:Er(n[i]):r+=`${yR(r)?i:Er(i)}${Er(n[i].toString())}`}),r}const t9=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],n9=["theme"],r9=["theme"];function wd(n){return Object.keys(n).length===0}const i9=(n,e)=>e.components&&e.components[n]&&e.components[n].styleOverrides?e.components[n].styleOverrides:null,s9=(n,e)=>{let t=[];e&&e.components&&e.components[n]&&e.components[n].variants&&(t=e.components[n].variants);const r={};return t.forEach(i=>{const s=DD(i.props);r[s]=i.style}),r},o9=(n,e,t,r)=>{var i,s;const{ownerState:o={}}=n,a=[],l=t==null||(i=t.components)==null||(s=i[r])==null?void 0:s.variants;return l&&l.forEach(u=>{let d=!0;Object.keys(u.props).forEach(h=>{o[h]!==u.props[h]&&n[h]!==u.props[h]&&(d=!1)}),d&&a.push(e[DD(u.props)])}),a};function by(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const a9=dM();function l9(n={}){const{defaultTheme:e=a9,rootShouldForwardProp:t=by,slotShouldForwardProp:r=by,styleFunctionSx:i=U6}=n;return(s,o={})=>{const{name:a,slot:l,skipVariantsResolver:u,skipSx:d,overridesResolver:h}=o,p=zt(o,t9),m=u!==void 0?u:l&&l!=="Root"||!1,v=d||!1;let y,_=by;l==="Root"?_=t:l&&(_=r);const w=c5(s,Ie({shouldForwardProp:_,label:y},p)),x=(A,...E)=>{const C=E?E.map(O=>typeof O=="function"&&O.__emotion_real!==O?D=>{let{theme:P}=D,B=zt(D,n9);return O(Ie({theme:wd(P)?e:P},B))}:O):[];let T=A;a&&h&&C.push(O=>{const D=wd(O.theme)?e:O.theme,P=i9(a,D);if(P){const B={};return Object.entries(P).forEach(([q,W])=>{B[q]=typeof W=="function"?W(O):W}),h(O,B)}return null}),a&&!m&&C.push(O=>{const D=wd(O.theme)?e:O.theme;return o9(O,s9(a,D),D,a)}),v||C.push(O=>{const D=wd(O.theme)?e:O.theme;return i(Ie({},O,{theme:D}))});const R=C.length-E.length;if(Array.isArray(A)&&R>0){const O=new Array(R).fill("");T=[...A,...O],T.raw=[...A.raw,...O]}else typeof A=="function"&&A.__emotion_real!==A&&(T=O=>{let{theme:D}=O,P=zt(O,r9);return A(Ie({theme:wd(D)?e:D},P))});return w(T,...C)};return w.withConfig&&(x.withConfig=w.withConfig),x}}function u9(n){const{theme:e,name:t,props:r}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?r:N4(e.components[t].defaultProps,r)}function c9({props:n,name:e,defaultTheme:t}){const r=LD(t);return u9({theme:r,name:e,props:n})}function hM(n,e=0,t=1){return Math.min(Math.max(e,n),t)}function f9(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function tu(n){if(n.type)return n;if(n.charAt(0)==="#")return tu(f9(n));const e=n.indexOf("("),t=n.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(t)===-1)throw new Error(Ih(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Ih(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:t,values:r,colorSpace:i}}function av(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function d9(n){n=tu(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,d=(u+t/30)%12)=>i-s*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return n.type==="hsla"&&(a+="a",l.push(e[3])),av({type:a,values:l})}function vR(n){n=tu(n);let e=n.type==="hsl"?tu(d9(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function h9(n,e){const t=vR(n),r=vR(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function pa(n,e){return n=tu(n),e=hM(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,av(n)}function Gw(n,e){if(n=tu(n),e=hM(e),n.type.indexOf("hsl")!==-1)n.values[2]*=1-e;else if(n.type.indexOf("rgb")!==-1||n.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)n.values[t]*=1-e;return av(n)}function zw(n,e){if(n=tu(n),e=hM(e),n.type.indexOf("hsl")!==-1)n.values[2]+=(100-n.values[2])*e;else if(n.type.indexOf("rgb")!==-1)for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return av(n)}function p9(n,e,t){return Ie({toolbar:{minHeight:56,[`${n.up("xs")} and (orientation: landscape)`]:{minHeight:48},[n.up("sm")]:{minHeight:64}}},t)}const m9={black:"#000",white:"#fff"};var Nh=m9;const g9={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};var y9=g9;const v9={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"};var Gu=v9;const _9={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};var zu=_9;const x9={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};var Sd=x9;const w9={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};var Wu=w9;const S9={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"};var Vu=S9;const A9={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};var ju=A9;const M9=["mode","contrastThreshold","tonalOffset"],_R={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Nh.white,default:Nh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Bx={text:{primary:Nh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Nh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function xR(n,e,t,r){const i=r.light||r,s=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=zw(n.main,i):e==="dark"&&(n.dark=Gw(n.main,s)))}function E9(n="light"){return n==="dark"?{main:Wu[200],light:Wu[50],dark:Wu[400]}:{main:Wu[700],light:Wu[400],dark:Wu[800]}}function C9(n="light"){return n==="dark"?{main:Gu[200],light:Gu[50],dark:Gu[400]}:{main:Gu[500],light:Gu[300],dark:Gu[700]}}function b9(n="light"){return n==="dark"?{main:zu[500],light:zu[300],dark:zu[700]}:{main:zu[700],light:zu[400],dark:zu[800]}}function T9(n="light"){return n==="dark"?{main:Vu[400],light:Vu[300],dark:Vu[700]}:{main:Vu[700],light:Vu[500],dark:Vu[900]}}function R9(n="light"){return n==="dark"?{main:ju[400],light:ju[300],dark:ju[700]}:{main:ju[800],light:ju[500],dark:ju[900]}}function P9(n="light"){return n==="dark"?{main:Sd[400],light:Sd[300],dark:Sd[700]}:{main:"#ed6c02",light:Sd[500],dark:Sd[900]}}function I9(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2}=n,i=zt(n,M9),s=n.primary||E9(e),o=n.secondary||C9(e),a=n.error||b9(e),l=n.info||T9(e),u=n.success||R9(e),d=n.warning||P9(e);function h(y){return h9(y,Bx.text.primary)>=t?Bx.text.primary:_R.text.primary}const p=({color:y,name:_,mainShade:w=500,lightShade:x=300,darkShade:A=700})=>{if(y=Ie({},y),!y.main&&y[w]&&(y.main=y[w]),!y.hasOwnProperty("main"))throw new Error(Ih(11,_?` (${_})`:"",w));if(typeof y.main!="string")throw new Error(Ih(12,_?` (${_})`:"",JSON.stringify(y.main)));return xR(y,"light",x,r),xR(y,"dark",A,r),y.contrastText||(y.contrastText=h(y.main)),y},m={dark:Bx,light:_R};return Mo(Ie({common:Nh,mode:e,primary:p({color:s,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:a,name:"error"}),warning:p({color:d,name:"warning"}),info:p({color:l,name:"info"}),success:p({color:u,name:"success"}),grey:y9,contrastThreshold:t,getContrastText:h,augmentColor:p,tonalOffset:r},m[e]),i)}const B9=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function L9(n){return Math.round(n*1e5)/1e5}const wR={textTransform:"uppercase"},SR='"Roboto", "Helvetica", "Arial", sans-serif';function D9(n,e){const t=typeof e=="function"?e(n):e,{fontFamily:r=SR,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:d,pxToRem:h}=t,p=zt(t,B9),m=i/14,v=h||(w=>`${w/u*m}rem`),y=(w,x,A,E,C)=>Ie({fontFamily:r,fontWeight:w,fontSize:v(x),lineHeight:A},r===SR?{letterSpacing:`${L9(E/x)}em`}:{},C,d),_={h1:y(s,96,1.167,-1.5),h2:y(s,60,1.2,-.5),h3:y(o,48,1.167,0),h4:y(o,34,1.235,.25),h5:y(o,24,1.334,0),h6:y(a,20,1.6,.15),subtitle1:y(o,16,1.75,.15),subtitle2:y(a,14,1.57,.1),body1:y(o,16,1.5,.15),body2:y(o,14,1.43,.15),button:y(a,14,1.75,.4,wR),caption:y(o,12,1.66,.4),overline:y(o,12,2.66,1,wR)};return Mo(Ie({htmlFontSize:u,pxToRem:v,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},_),p,{clone:!1})}const F9=.2,k9=.14,N9=.12;function un(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${F9})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${k9})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${N9})`].join(",")}const O9=["none",un(0,2,1,-1,0,1,1,0,0,1,3,0),un(0,3,1,-2,0,2,2,0,0,1,5,0),un(0,3,3,-2,0,3,4,0,0,1,8,0),un(0,2,4,-1,0,4,5,0,0,1,10,0),un(0,3,5,-1,0,5,8,0,0,1,14,0),un(0,3,5,-1,0,6,10,0,0,1,18,0),un(0,4,5,-2,0,7,10,1,0,2,16,1),un(0,5,5,-3,0,8,10,1,0,3,14,2),un(0,5,6,-3,0,9,12,1,0,3,16,2),un(0,6,6,-3,0,10,14,1,0,4,18,3),un(0,6,7,-4,0,11,15,1,0,4,20,3),un(0,7,8,-4,0,12,17,2,0,5,22,4),un(0,7,8,-4,0,13,19,2,0,5,24,4),un(0,7,9,-4,0,14,21,2,0,5,26,4),un(0,8,9,-5,0,15,22,2,0,6,28,5),un(0,8,10,-5,0,16,24,2,0,6,30,5),un(0,8,11,-5,0,17,26,2,0,6,32,5),un(0,9,11,-5,0,18,28,2,0,7,34,6),un(0,9,12,-6,0,19,29,2,0,7,36,6),un(0,10,13,-6,0,20,31,3,0,8,38,7),un(0,10,13,-6,0,21,33,3,0,8,40,7),un(0,10,14,-6,0,22,35,3,0,8,42,7),un(0,11,14,-7,0,23,36,3,0,9,44,8),un(0,11,15,-7,0,24,38,3,0,9,46,8)];var H9=O9;const U9=["duration","easing","delay"],G9={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},z9={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function AR(n){return`${Math.round(n)}ms`}function W9(n){if(!n)return 0;const e=n/36;return Math.round((4+15*e**.25+e/5)*10)}function V9(n){const e=Ie({},G9,n.easing),t=Ie({},z9,n.duration);return Ie({getAutoHeightDuration:W9,create:(i=["all"],s={})=>{const{duration:o=t.standard,easing:a=e.easeInOut,delay:l=0}=s;return zt(s,U9),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:AR(o)} ${a} ${typeof l=="string"?l:AR(l)}`).join(",")}},n,{easing:e,duration:t})}const j9={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};var J9=j9;const $9=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function K9(n={},...e){const{mixins:t={},palette:r={},transitions:i={},typography:s={}}=n,o=zt(n,$9),a=I9(r),l=dM(n);let u=Mo(l,{mixins:p9(l.breakpoints,l.spacing,t),palette:a,shadows:H9.slice(),typography:D9(a,s),transitions:V9(i),zIndex:Ie({},J9)});return u=Mo(u,o),u=e.reduce((d,h)=>Mo(d,h),u),u}const X9=K9();var pM=X9;const mM=n=>by(n)&&n!=="classes",Q9=l9({defaultTheme:pM,rootShouldForwardProp:mM});var zn=Q9;function Yi({props:n,name:e}){return c9({props:n,name:e,defaultTheme:pM})}function Ww(n,e){return Ww=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Ww(n,e)}function FD(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Ww(n,e)}var MR={disabled:!1},c0=Yr.createContext(null),Vd="unmounted",Sl="exited",Al="entering",hc="entered",Vw="exiting",Do=function(n){FD(e,n);function e(r,i){var s;s=n.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Sl,s.appearStatus=Al):l=hc:r.unmountOnExit||r.mountOnEnter?l=Vd:l=Sl,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Vd?{status:Sl}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Al&&o!==hc&&(s=Al):(o===Al||o===hc)&&(s=Vw)}this.updateStatus(!1,s)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},t.updateStatus=function(i,s){i===void 0&&(i=!1),s!==null?(this.cancelNextCallback(),s===Al?this.performEnter(i):this.performExit()):this.props.unmountOnExit&&this.state.status===Sl&&this.setState({status:Vd})},t.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Cx.findDOMNode(this),a],u=l[0],d=l[1],h=this.getTimeouts(),p=a?h.appear:h.enter;if(!i&&!o||MR.disabled){this.safeSetState({status:hc},function(){s.props.onEntered(u)});return}this.props.onEnter(u,d),this.safeSetState({status:Al},function(){s.props.onEntering(u,d),s.onTransitionEnd(p,function(){s.safeSetState({status:hc},function(){s.props.onEntered(u,d)})})})},t.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Cx.findDOMNode(this);if(!s||MR.disabled){this.safeSetState({status:Sl},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Vw},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Sl},function(){i.props.onExited(a)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},t.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},t.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Cx.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],d=l[1];this.props.addEndListener(u,d)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===Vd)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=zt(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Yr.createElement(c0.Provider,{value:null},typeof o=="function"?o(i,a):Yr.cloneElement(Yr.Children.only(o),a))},e}(Yr.Component);Do.contextType=c0;Do.propTypes={};function Ju(){}Do.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ju,onEntering:Ju,onEntered:Ju,onExit:Ju,onExiting:Ju,onExited:Ju};Do.UNMOUNTED=Vd;Do.EXITED=Sl;Do.ENTERING=Al;Do.ENTERED=hc;Do.EXITING=Vw;var kD=Do;function Y9(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function gM(n,e){var t=function(s){return e&&X.exports.isValidElement(s)?e(s):s},r=Object.create(null);return n&&X.exports.Children.map(n,function(i){return i}).forEach(function(i){r[i.key]=t(i)}),r}function q9(n,e){n=n||{},e=e||{};function t(d){return d in e?e[d]:n[d]}var r=Object.create(null),i=[];for(var s in n)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=t(u)}a[l]=t(l)}for(o=0;o<i.length;o++)a[i[o]]=t(i[o]);return a}function Fl(n,e,t){return t[e]!=null?t[e]:n.props[e]}function Z9(n,e){return gM(n.children,function(t){return X.exports.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:Fl(t,"appear",n),enter:Fl(t,"enter",n),exit:Fl(t,"exit",n)})})}function e8(n,e,t){var r=gM(n.children),i=q9(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(!!X.exports.isValidElement(o)){var a=s in e,l=s in r,u=e[s],d=X.exports.isValidElement(u)&&!u.props.in;l&&(!a||d)?i[s]=X.exports.cloneElement(o,{onExited:t.bind(null,o),in:!0,exit:Fl(o,"exit",n),enter:Fl(o,"enter",n)}):!l&&a&&!d?i[s]=X.exports.cloneElement(o,{in:!1}):l&&a&&X.exports.isValidElement(u)&&(i[s]=X.exports.cloneElement(o,{onExited:t.bind(null,o),in:u.props.in,exit:Fl(o,"exit",n),enter:Fl(o,"enter",n)}))}}),i}var t8=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},n8={component:"div",childFactory:function(e){return e}},yM=function(n){FD(e,n);function e(r,i){var s;s=n.call(this,r,i)||this;var o=s.handleExited.bind(Y9(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?Z9(i,a):e8(i,o,a),firstRender:!1}},t.handleExited=function(i,s){var o=gM(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=Ie({},a.children);return delete l[i.key],{children:l}}))},t.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=zt(i,["component","childFactory"]),l=this.state.contextValue,u=t8(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Yr.createElement(c0.Provider,{value:l},u):Yr.createElement(c0.Provider,{value:l},Yr.createElement(s,a,u))},e}(Yr.Component);yM.propTypes={};yM.defaultProps=n8;var r8=yM;function vM(){return LD(pM)}const ND=n=>n.scrollTop;function f0(n,e){var t,r;const{timeout:i,easing:s,style:o={}}=n;return{duration:(t=o.transitionDuration)!=null?t:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}const i8=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],s8={entering:{opacity:1},entered:{opacity:1}},o8=X.exports.forwardRef(function(e,t){const r=vM(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:u,onEnter:d,onEntered:h,onEntering:p,onExit:m,onExited:v,onExiting:y,style:_,timeout:w=i,TransitionComponent:x=kD}=e,A=zt(e,i8),E=X.exports.useRef(null),C=_i(a.ref,t),T=_i(E,C),R=J=>j=>{if(J){const $=E.current;j===void 0?J($):J($,j)}},I=R(p),O=R((J,j)=>{ND(J);const $=f0({style:_,timeout:w,easing:l},{mode:"enter"});J.style.webkitTransition=r.transitions.create("opacity",$),J.style.transition=r.transitions.create("opacity",$),d&&d(J,j)}),D=R(h),P=R(y),B=R(J=>{const j=f0({style:_,timeout:w,easing:l},{mode:"exit"});J.style.webkitTransition=r.transitions.create("opacity",j),J.style.transition=r.transitions.create("opacity",j),m&&m(J)}),q=R(v);return ot(x,Ie({appear:o,in:u,nodeRef:E,onEnter:O,onEntered:D,onEntering:I,onExit:B,onExited:q,onExiting:P,addEndListener:J=>{s&&s(E.current,J)},timeout:w},A,{children:(J,j)=>X.exports.cloneElement(a,Ie({style:Ie({opacity:0,visibility:J==="exited"&&!u?"hidden":void 0},s8[J],_,a.props.style),ref:T},j))}))});var a8=o8;function l8(n){return Qi("MuiBackdrop",n)}Hr("MuiBackdrop",["root","invisible"]);const u8=["children","component","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],c8=n=>{const{classes:e,invisible:t}=n;return vs({root:["root",t&&"invisible"]},l8,e)},f8=zn("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})(({ownerState:n})=>Ie({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},n.invisible&&{backgroundColor:"transparent"})),d8=X.exports.forwardRef(function(e,t){var r,i;const s=Yi({props:e,name:"MuiBackdrop"}),{children:o,component:a="div",components:l={},componentsProps:u={},className:d,invisible:h=!1,open:p,transitionDuration:m,TransitionComponent:v=a8}=s,y=zt(s,u8),_=Ie({},s,{component:a,invisible:h}),w=c8(_);return ot(v,Ie({in:p,timeout:m},y,{children:ot(f8,{"aria-hidden":!0,as:(r=l.Root)!=null?r:a,className:Pn(w.root,d),ownerState:Ie({},_,(i=u.root)==null?void 0:i.ownerState),classes:w,ref:t,children:o})}))});var h8=d8;const p8=["BackdropComponent","closeAfterTransition","children","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted"],m8=n=>n.classes,g8=zn("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(({theme:n,ownerState:e})=>Ie({position:"fixed",zIndex:n.zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),y8=zn(h8,{name:"MuiModal",slot:"Backdrop",overridesResolver:(n,e)=>e.backdrop})({zIndex:-1}),v8=X.exports.forwardRef(function(e,t){var r;const i=Yi({name:"MuiModal",props:e}),{BackdropComponent:s=y8,closeAfterTransition:o=!1,children:a,components:l={},componentsProps:u={},disableAutoFocus:d=!1,disableEnforceFocus:h=!1,disableEscapeKeyDown:p=!1,disablePortal:m=!1,disableRestoreFocus:v=!1,disableScrollLock:y=!1,hideBackdrop:_=!1,keepMounted:w=!1}=i,x=zt(i,p8),[A,E]=X.exports.useState(!0),C={closeAfterTransition:o,disableAutoFocus:d,disableEnforceFocus:h,disableEscapeKeyDown:p,disablePortal:m,disableRestoreFocus:v,disableScrollLock:y,hideBackdrop:_,keepMounted:w},T=Ie({},i,C,{exited:A}),R=m8(T);return ot(yz,Ie({components:Ie({Root:g8},l),componentsProps:{root:Ie({},u.root,(!l.Root||!sD(l.Root))&&{ownerState:Ie({},(r=u.root)==null?void 0:r.ownerState)})},BackdropComponent:s,onTransitionEnter:()=>E(!1),onTransitionExited:()=>E(!0),ref:t},x,{classes:R},C,{children:a}))});var _8=v8,Zt={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv=60103,uv=60106,dp=60107,hp=60108,pp=60114,mp=60109,gp=60110,yp=60112,vp=60113,_M=60120,_p=60115,xp=60116,OD=60121,HD=60122,UD=60117,GD=60129,zD=60131;if(typeof Symbol=="function"&&Symbol.for){var ir=Symbol.for;lv=ir("react.element"),uv=ir("react.portal"),dp=ir("react.fragment"),hp=ir("react.strict_mode"),pp=ir("react.profiler"),mp=ir("react.provider"),gp=ir("react.context"),yp=ir("react.forward_ref"),vp=ir("react.suspense"),_M=ir("react.suspense_list"),_p=ir("react.memo"),xp=ir("react.lazy"),OD=ir("react.block"),HD=ir("react.server.block"),UD=ir("react.fundamental"),GD=ir("react.debug_trace_mode"),zD=ir("react.legacy_hidden")}function _s(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case lv:switch(n=n.type,n){case dp:case pp:case hp:case vp:case _M:return n;default:switch(n=n&&n.$$typeof,n){case gp:case yp:case xp:case _p:case mp:return n;default:return e}}case uv:return e}}}var x8=mp,w8=lv,S8=yp,A8=dp,M8=xp,E8=_p,C8=uv,b8=pp,T8=hp,R8=vp;Zt.ContextConsumer=gp;Zt.ContextProvider=x8;Zt.Element=w8;Zt.ForwardRef=S8;Zt.Fragment=A8;Zt.Lazy=M8;Zt.Memo=E8;Zt.Portal=C8;Zt.Profiler=b8;Zt.StrictMode=T8;Zt.Suspense=R8;Zt.isAsyncMode=function(){return!1};Zt.isConcurrentMode=function(){return!1};Zt.isContextConsumer=function(n){return _s(n)===gp};Zt.isContextProvider=function(n){return _s(n)===mp};Zt.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===lv};Zt.isForwardRef=function(n){return _s(n)===yp};Zt.isFragment=function(n){return _s(n)===dp};Zt.isLazy=function(n){return _s(n)===xp};Zt.isMemo=function(n){return _s(n)===_p};Zt.isPortal=function(n){return _s(n)===uv};Zt.isProfiler=function(n){return _s(n)===pp};Zt.isStrictMode=function(n){return _s(n)===hp};Zt.isSuspense=function(n){return _s(n)===vp};Zt.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===dp||n===pp||n===GD||n===hp||n===vp||n===_M||n===zD||typeof n=="object"&&n!==null&&(n.$$typeof===xp||n.$$typeof===_p||n.$$typeof===mp||n.$$typeof===gp||n.$$typeof===yp||n.$$typeof===UD||n.$$typeof===OD||n[0]===HD)};Zt.typeOf=_s;const P8=X.exports.createContext({});var jw=P8;function I8(n){return Qi("MuiList",n)}Hr("MuiList",["root","padding","dense","subheader"]);const B8=["children","className","component","dense","disablePadding","subheader"],L8=n=>{const{classes:e,disablePadding:t,dense:r,subheader:i}=n;return vs({root:["root",!t&&"padding",r&&"dense",i&&"subheader"]},I8,e)},D8=zn("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})(({ownerState:n})=>Ie({listStyle:"none",margin:0,padding:0,position:"relative"},!n.disablePadding&&{paddingTop:8,paddingBottom:8},n.subheader&&{paddingTop:0})),F8=X.exports.forwardRef(function(e,t){const r=Yi({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:u}=r,d=zt(r,B8),h=X.exports.useMemo(()=>({dense:a}),[a]),p=Ie({},r,{component:o,dense:a,disablePadding:l}),m=L8(p);return ot(jw.Provider,{value:h,children:vu(D8,Ie({as:o,className:Pn(m.root,s),ref:t,ownerState:p},d,{children:[u,i]}))})});var k8=F8;const N8=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Lx(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function ER(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function WD(n,e){if(e===void 0)return!0;let t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.indexOf(e.keys.join(""))===0}function Ad(n,e,t,r,i,s){let o=!1,a=i(n,e,e?t:!1);for(;a;){if(a===n.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!WD(a,s)||l)a=i(n,a,t);else return a.focus(),!0}return!1}const O8=X.exports.forwardRef(function(e,t){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:d,variant:h="selectedMenu"}=e,p=zt(e,N8),m=X.exports.useRef(null),v=X.exports.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Lh(()=>{i&&m.current.focus()},[i]),X.exports.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(A,E)=>{const C=!m.current.style.width;if(A.clientHeight<m.current.clientHeight&&C){const T=`${oD(ms(A))}px`;m.current.style[E.direction==="rtl"?"paddingLeft":"paddingRight"]=T,m.current.style.width=`calc(100% + ${T})`}return m.current}}),[]);const y=A=>{const E=m.current,C=A.key,T=ms(E).activeElement;if(C==="ArrowDown")A.preventDefault(),Ad(E,T,u,l,Lx);else if(C==="ArrowUp")A.preventDefault(),Ad(E,T,u,l,ER);else if(C==="Home")A.preventDefault(),Ad(E,null,u,l,Lx);else if(C==="End")A.preventDefault(),Ad(E,null,u,l,ER);else if(C.length===1){const R=v.current,I=C.toLowerCase(),O=performance.now();R.keys.length>0&&(O-R.lastTime>500?(R.keys=[],R.repeating=!0,R.previousKeyMatched=!0):R.repeating&&I!==R.keys[0]&&(R.repeating=!1)),R.lastTime=O,R.keys.push(I);const D=T&&!R.repeating&&WD(T,R);R.previousKeyMatched&&(D||Ad(E,T,!1,l,Lx,R))?A.preventDefault():R.previousKeyMatched=!1}d&&d(A)},_=_i(m,t);let w=-1;X.exports.Children.forEach(o,(A,E)=>{!X.exports.isValidElement(A)||A.props.disabled||(h==="selectedMenu"&&A.props.selected||w===-1)&&(w=E)});const x=X.exports.Children.map(o,(A,E)=>{if(E===w){const C={};return s&&(C.autoFocus=!0),A.props.tabIndex===void 0&&h==="selectedMenu"&&(C.tabIndex=0),X.exports.cloneElement(A,C)}return A});return ot(k8,Ie({role:"menu",ref:_,className:a,onKeyDown:y,tabIndex:i?0:-1},p,{children:x}))});var H8=O8;function U8(n){return Qi("MuiPaper",n)}Hr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const G8=["className","component","elevation","square","variant"],CR=n=>{let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,(e/100).toFixed(2)},z8=n=>{const{square:e,elevation:t,variant:r,classes:i}=n,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${t}`]};return vs(s,U8,i)},W8=zn("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(({theme:n,ownerState:e})=>Ie({backgroundColor:n.palette.background.paper,color:n.palette.text.primary,transition:n.transitions.create("box-shadow")},!e.square&&{borderRadius:n.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${n.palette.divider}`},e.variant==="elevation"&&Ie({boxShadow:n.shadows[e.elevation]},n.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${pa("#fff",CR(e.elevation))}, ${pa("#fff",CR(e.elevation))})`}))),V8=X.exports.forwardRef(function(e,t){const r=Yi({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,u=zt(r,G8),d=Ie({},r,{component:s,elevation:o,square:a,variant:l}),h=z8(d);return ot(W8,Ie({as:s,ownerState:d,className:Pn(h.root,i),ref:t},u))});var xM=V8;const j8=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Jw(n){return`scale(${n}, ${n**2})`}const J8={entering:{opacity:1,transform:Jw(1)},entered:{opacity:1,transform:"none"}},Dx=typeof navigator!="undefined"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)[4-9]/i.test(navigator.userAgent),VD=X.exports.forwardRef(function(e,t){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:u,onEntering:d,onExit:h,onExited:p,onExiting:m,style:v,timeout:y="auto",TransitionComponent:_=kD}=e,w=zt(e,j8),x=X.exports.useRef(),A=X.exports.useRef(),E=vM(),C=X.exports.useRef(null),T=_i(s.ref,t),R=_i(C,T),I=j=>$=>{if(j){const k=C.current;$===void 0?j(k):j(k,$)}},O=I(d),D=I((j,$)=>{ND(j);const{duration:k,delay:K,easing:Z}=f0({style:v,timeout:y,easing:o},{mode:"enter"});let ae;y==="auto"?(ae=E.transitions.getAutoHeightDuration(j.clientHeight),A.current=ae):ae=k,j.style.transition=[E.transitions.create("opacity",{duration:ae,delay:K}),E.transitions.create("transform",{duration:Dx?ae:ae*.666,delay:K,easing:Z})].join(","),l&&l(j,$)}),P=I(u),B=I(m),q=I(j=>{const{duration:$,delay:k,easing:K}=f0({style:v,timeout:y,easing:o},{mode:"exit"});let Z;y==="auto"?(Z=E.transitions.getAutoHeightDuration(j.clientHeight),A.current=Z):Z=$,j.style.transition=[E.transitions.create("opacity",{duration:Z,delay:k}),E.transitions.create("transform",{duration:Dx?Z:Z*.666,delay:Dx?k:k||Z*.333,easing:K})].join(","),j.style.opacity=0,j.style.transform=Jw(.75),h&&h(j)}),W=I(p),J=j=>{y==="auto"&&(x.current=setTimeout(j,A.current||0)),r&&r(C.current,j)};return X.exports.useEffect(()=>()=>{clearTimeout(x.current)},[]),ot(_,Ie({appear:i,in:a,nodeRef:C,onEnter:D,onEntered:P,onEntering:O,onExit:q,onExited:W,onExiting:B,addEndListener:J,timeout:y==="auto"?null:y},w,{children:(j,$)=>X.exports.cloneElement(s,Ie({style:Ie({opacity:0,transform:Jw(.75),visibility:j==="exited"&&!a?"hidden":void 0},J8[j],v,s.props.style),ref:R},$))}))});VD.muiSupportAuto=!0;var $8=VD;function K8(n){return Qi("MuiPopover",n)}Hr("MuiPopover",["root","paper"]);const X8=["onEntering"],Q8=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function bR(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function TR(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function RR(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Fx(n){return typeof n=="function"?n():n}const Y8=n=>{const{classes:e}=n;return vs({root:["root"],paper:["paper"]},K8,e)},q8=zn(_8,{name:"MuiPopover",slot:"Root",overridesResolver:(n,e)=>e.root})({}),Z8=zn(xM,{name:"MuiPopover",slot:"Paper",overridesResolver:(n,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),eW=X.exports.forwardRef(function(e,t){const r=Yi({props:e,name:"MuiPopover"}),{action:i,anchorEl:s,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:u,className:d,container:h,elevation:p=8,marginThreshold:m=16,open:v,PaperProps:y={},transformOrigin:_={vertical:"top",horizontal:"left"},TransitionComponent:w=$8,transitionDuration:x="auto",TransitionProps:{onEntering:A}={}}=r,E=zt(r.TransitionProps,X8),C=zt(r,Q8),T=X.exports.useRef(),R=_i(T,y.ref),I=Ie({},r,{anchorOrigin:o,anchorReference:l,elevation:p,marginThreshold:m,PaperProps:y,transformOrigin:_,TransitionComponent:w,transitionDuration:x,TransitionProps:E}),O=Y8(I),D=X.exports.useCallback(()=>{if(l==="anchorPosition")return a;const $=Fx(s),K=($&&$.nodeType===1?$:ms(T.current).body).getBoundingClientRect();return{top:K.top+bR(K,o.vertical),left:K.left+TR(K,o.horizontal)}},[s,o.horizontal,o.vertical,a,l]),P=X.exports.useCallback($=>({vertical:bR($,_.vertical),horizontal:TR($,_.horizontal)}),[_.horizontal,_.vertical]),B=X.exports.useCallback($=>{const k={width:$.offsetWidth,height:$.offsetHeight},K=P(k);if(l==="none")return{top:null,left:null,transformOrigin:RR(K)};const Z=D();let ae=Z.top-K.vertical,Q=Z.left-K.horizontal;const se=ae+k.height,pe=Q+k.width,_e=Bh(Fx(s)),H=_e.innerHeight-m,Be=_e.innerWidth-m;if(ae<m){const ue=ae-m;ae-=ue,K.vertical+=ue}else if(se>H){const ue=se-H;ae-=ue,K.vertical+=ue}if(Q<m){const ue=Q-m;Q-=ue,K.horizontal+=ue}else if(pe>Be){const ue=pe-Be;Q-=ue,K.horizontal+=ue}return{top:`${Math.round(ae)}px`,left:`${Math.round(Q)}px`,transformOrigin:RR(K)}},[s,l,D,P,m]),q=X.exports.useCallback(()=>{const $=T.current;if(!$)return;const k=B($);k.top!==null&&($.style.top=k.top),k.left!==null&&($.style.left=k.left),$.style.transformOrigin=k.transformOrigin},[B]),W=($,k)=>{A&&A($,k),q()};X.exports.useEffect(()=>{v&&q()}),X.exports.useImperativeHandle(i,()=>v?{updatePosition:()=>{q()}}:null,[v,q]),X.exports.useEffect(()=>{if(!v)return;const $=T4(()=>{q()}),k=Bh(s);return k.addEventListener("resize",$),()=>{$.clear(),k.removeEventListener("resize",$)}},[s,v,q]);let J=x;x==="auto"&&!w.muiSupportAuto&&(J=void 0);const j=h||(s?ms(Fx(s)).body:void 0);return ot(q8,Ie({BackdropProps:{invisible:!0},className:Pn(O.root,d),container:j,open:v,ref:t,ownerState:I},C,{children:ot(w,Ie({appear:!0,in:v,onEntering:W,timeout:J},E,{children:ot(Z8,Ie({elevation:p},y,{ref:R,className:Pn(O.paper,y.className),children:u}))}))}))});var tW=eW;function nW(n){return Qi("MuiMenu",n)}Hr("MuiMenu",["root","paper","list"]);const rW=["onEntering"],iW=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],sW={vertical:"top",horizontal:"right"},oW={vertical:"top",horizontal:"left"},aW=n=>{const{classes:e}=n;return vs({root:["root"],paper:["paper"],list:["list"]},nW,e)},lW=zn(tW,{shouldForwardProp:n=>mM(n)||n==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(n,e)=>e.root})({}),uW=zn(xM,{name:"MuiMenu",slot:"Paper",overridesResolver:(n,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),cW=zn(H8,{name:"MuiMenu",slot:"List",overridesResolver:(n,e)=>e.list})({outline:0}),fW=X.exports.forwardRef(function(e,t){const r=Yi({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:s,disableAutoFocusItem:o=!1,MenuListProps:a={},onClose:l,open:u,PaperProps:d={},PopoverClasses:h,transitionDuration:p="auto",TransitionProps:{onEntering:m}={},variant:v="selectedMenu"}=r,y=zt(r.TransitionProps,rW),_=zt(r,iW),w=vM(),x=w.direction==="rtl",A=Ie({},r,{autoFocus:i,disableAutoFocusItem:o,MenuListProps:a,onEntering:m,PaperProps:d,transitionDuration:p,TransitionProps:y,variant:v}),E=aW(A),C=i&&!o&&u,T=X.exports.useRef(null),R=(D,P)=>{T.current&&T.current.adjustStyleForScrollbar(D,w),m&&m(D,P)},I=D=>{D.key==="Tab"&&(D.preventDefault(),l&&l(D,"tabKeyDown"))};let O=-1;return X.exports.Children.map(s,(D,P)=>{!X.exports.isValidElement(D)||D.props.disabled||(v==="selectedMenu"&&D.props.selected||O===-1)&&(O=P)}),ot(lW,Ie({classes:h,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:x?"right":"left"},transformOrigin:x?sW:oW,PaperProps:Ie({component:uW},d,{classes:Ie({},d.classes,{root:E.paper})}),className:E.root,open:u,ref:t,transitionDuration:p,TransitionProps:Ie({onEntering:R},y),ownerState:A},_,{children:ot(cW,Ie({onKeyDown:I,actions:T,autoFocus:i&&(O===-1||o),autoFocusItem:C,variant:v},a,{className:Pn(E.list,a.className),children:s}))}))});var Qre=fW;function dW(n){const{className:e,classes:t,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=n,[d,h]=X.exports.useState(!1),p=Pn(e,t.ripple,t.rippleVisible,r&&t.ripplePulsate),m={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},v=Pn(t.child,d&&t.childLeaving,r&&t.childPulsate);return!a&&!d&&h(!0),X.exports.useEffect(()=>{if(!a&&l!=null){const y=setTimeout(l,u);return()=>{clearTimeout(y)}}},[l,a,u]),ot("span",{className:p,style:m,children:ot("span",{className:v})})}const hW=Hr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var Ui=hW;const pW=["center","classes","className"];let cv=n=>n,PR,IR,BR,LR;const $w=550,mW=80,gW=sM(PR||(PR=cv`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),yW=sM(IR||(IR=cv`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),vW=sM(BR||(BR=cv`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),_W=zn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),xW=zn(dW,{name:"MuiTouchRipple",slot:"Ripple"})(LR||(LR=cv`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Ui.rippleVisible,gW,$w,({theme:n})=>n.transitions.easing.easeInOut,Ui.ripplePulsate,({theme:n})=>n.transitions.duration.shorter,Ui.child,Ui.childLeaving,yW,$w,({theme:n})=>n.transitions.easing.easeInOut,Ui.childPulsate,vW,({theme:n})=>n.transitions.easing.easeInOut),wW=X.exports.forwardRef(function(e,t){const r=Yi({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=zt(r,pW),[l,u]=X.exports.useState([]),d=X.exports.useRef(0),h=X.exports.useRef(null);X.exports.useEffect(()=>{h.current&&(h.current(),h.current=null)},[l]);const p=X.exports.useRef(!1),m=X.exports.useRef(null),v=X.exports.useRef(null),y=X.exports.useRef(null);X.exports.useEffect(()=>()=>{clearTimeout(m.current)},[]);const _=X.exports.useCallback(E=>{const{pulsate:C,rippleX:T,rippleY:R,rippleSize:I,cb:O}=E;u(D=>[...D,ot(xW,{classes:{ripple:Pn(s.ripple,Ui.ripple),rippleVisible:Pn(s.rippleVisible,Ui.rippleVisible),ripplePulsate:Pn(s.ripplePulsate,Ui.ripplePulsate),child:Pn(s.child,Ui.child),childLeaving:Pn(s.childLeaving,Ui.childLeaving),childPulsate:Pn(s.childPulsate,Ui.childPulsate)},timeout:$w,pulsate:C,rippleX:T,rippleY:R,rippleSize:I},d.current)]),d.current+=1,h.current=O},[s]),w=X.exports.useCallback((E={},C={},T)=>{const{pulsate:R=!1,center:I=i||C.pulsate,fakeElement:O=!1}=C;if(E.type==="mousedown"&&p.current){p.current=!1;return}E.type==="touchstart"&&(p.current=!0);const D=O?null:y.current,P=D?D.getBoundingClientRect():{width:0,height:0,left:0,top:0};let B,q,W;if(I||E.clientX===0&&E.clientY===0||!E.clientX&&!E.touches)B=Math.round(P.width/2),q=Math.round(P.height/2);else{const{clientX:J,clientY:j}=E.touches?E.touches[0]:E;B=Math.round(J-P.left),q=Math.round(j-P.top)}if(I)W=Math.sqrt((2*P.width**2+P.height**2)/3),W%2===0&&(W+=1);else{const J=Math.max(Math.abs((D?D.clientWidth:0)-B),B)*2+2,j=Math.max(Math.abs((D?D.clientHeight:0)-q),q)*2+2;W=Math.sqrt(J**2+j**2)}E.touches?v.current===null&&(v.current=()=>{_({pulsate:R,rippleX:B,rippleY:q,rippleSize:W,cb:T})},m.current=setTimeout(()=>{v.current&&(v.current(),v.current=null)},mW)):_({pulsate:R,rippleX:B,rippleY:q,rippleSize:W,cb:T})},[i,_]),x=X.exports.useCallback(()=>{w({},{pulsate:!0})},[w]),A=X.exports.useCallback((E,C)=>{if(clearTimeout(m.current),E.type==="touchend"&&v.current){v.current(),v.current=null,m.current=setTimeout(()=>{A(E,C)});return}v.current=null,u(T=>T.length>0?T.slice(1):T),h.current=C},[]);return X.exports.useImperativeHandle(t,()=>({pulsate:x,start:w,stop:A}),[x,w,A]),ot(_W,Ie({className:Pn(s.root,Ui.root,o),ref:y},a,{children:ot(r8,{component:null,exit:!0,children:l})}))});var SW=wW;function AW(n){return Qi("MuiButtonBase",n)}const MW=Hr("MuiButtonBase",["root","disabled","focusVisible"]);var EW=MW;const CW=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],bW=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:r,classes:i}=n,o=vs({root:["root",e&&"disabled",t&&"focusVisible"]},AW,i);return t&&r&&(o.root+=` ${r}`),o},TW=zn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${EW.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),RW=X.exports.forwardRef(function(e,t){const r=Yi({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:d=!1,disableTouchRipple:h=!1,focusRipple:p=!1,LinkComponent:m="a",onBlur:v,onClick:y,onContextMenu:_,onDragLeave:w,onFocus:x,onFocusVisible:A,onKeyDown:E,onKeyUp:C,onMouseDown:T,onMouseLeave:R,onMouseUp:I,onTouchEnd:O,onTouchMove:D,onTouchStart:P,tabIndex:B=0,TouchRippleProps:q,touchRippleRef:W,type:J}=r,j=zt(r,CW),$=X.exports.useRef(null),k=X.exports.useRef(null),K=_i(k,W),{isFocusVisibleRef:Z,onFocus:ae,onBlur:Q,ref:se}=k4(),[pe,_e]=X.exports.useState(!1);u&&pe&&_e(!1),X.exports.useImperativeHandle(i,()=>({focusVisible:()=>{_e(!0),$.current.focus()}}),[]);const[H,Be]=X.exports.useState(!1);X.exports.useEffect(()=>{Be(!0)},[]);const ue=H&&!d&&!u;X.exports.useEffect(()=>{pe&&p&&!d&&H&&k.current.pulsate()},[d,p,pe,H]);function Le(Te,it,V=h){return Tc(N=>(it&&it(N),!V&&k.current&&k.current[Te](N),!0))}const ve=Le("start",T),Re=Le("stop",_),ne=Le("stop",w),oe=Le("stop",I),xe=Le("stop",Te=>{pe&&Te.preventDefault(),R&&R(Te)}),Ae=Le("start",P),Me=Le("stop",O),Ee=Le("stop",D),ze=Le("stop",Te=>{Q(Te),Z.current===!1&&_e(!1),v&&v(Te)},!1),$e=Tc(Te=>{$.current||($.current=Te.currentTarget),ae(Te),Z.current===!0&&(_e(!0),A&&A(Te)),x&&x(Te)}),Ze=()=>{const Te=$.current;return l&&l!=="button"&&!(Te.tagName==="A"&&Te.href)},dt=X.exports.useRef(!1),z=Tc(Te=>{p&&!dt.current&&pe&&k.current&&Te.key===" "&&(dt.current=!0,k.current.stop(Te,()=>{k.current.start(Te)})),Te.target===Te.currentTarget&&Ze()&&Te.key===" "&&Te.preventDefault(),E&&E(Te),Te.target===Te.currentTarget&&Ze()&&Te.key==="Enter"&&!u&&(Te.preventDefault(),y&&y(Te))}),L=Tc(Te=>{p&&Te.key===" "&&k.current&&pe&&!Te.defaultPrevented&&(dt.current=!1,k.current.stop(Te,()=>{k.current.pulsate(Te)})),C&&C(Te),y&&Te.target===Te.currentTarget&&Ze()&&Te.key===" "&&!Te.defaultPrevented&&y(Te)});let ee=l;ee==="button"&&(j.href||j.to)&&(ee=m);const me={};ee==="button"?(me.type=J===void 0?"button":J,me.disabled=u):(!j.href&&!j.to&&(me.role="button"),u&&(me["aria-disabled"]=u));const Fe=_i(se,$),ke=_i(t,Fe),Ke=Ie({},r,{centerRipple:s,component:l,disabled:u,disableRipple:d,disableTouchRipple:h,focusRipple:p,tabIndex:B,focusVisible:pe}),he=bW(Ke);return vu(TW,Ie({as:ee,className:Pn(he.root,a),ownerState:Ke,onBlur:ze,onClick:y,onContextMenu:Re,onFocus:$e,onKeyDown:z,onKeyUp:L,onMouseDown:ve,onMouseLeave:xe,onMouseUp:oe,onDragLeave:ne,onTouchEnd:Me,onTouchMove:Ee,onTouchStart:Ae,ref:ke,tabIndex:u?-1:B,type:J},me,j,{children:[o,ue?ot(SW,Ie({ref:K,center:s},q)):null]}))});var jD=RW;const PW=Hr("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);var DR=PW;const IW=Hr("MuiListItemIcon",["root","alignItemsFlexStart"]);var FR=IW;const BW=Hr("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);var kR=BW;function LW(n){return Qi("MuiMenuItem",n)}const DW=Hr("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var Md=DW;const FW=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],kW=(n,e)=>{const{ownerState:t}=n;return[e.root,t.dense&&e.dense,t.divider&&e.divider,!t.disableGutters&&e.gutters]},NW=n=>{const{disabled:e,dense:t,divider:r,disableGutters:i,selected:s,classes:o}=n,l=vs({root:["root",t&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},LW,o);return Ie({},o,l)},OW=zn(jD,{shouldForwardProp:n=>mM(n)||n==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:kW})(({theme:n,ownerState:e})=>Ie({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${n.palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:n.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Md.selected}`]:{backgroundColor:pa(n.palette.primary.main,n.palette.action.selectedOpacity),[`&.${Md.focusVisible}`]:{backgroundColor:pa(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}},[`&.${Md.selected}:hover`]:{backgroundColor:pa(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:pa(n.palette.primary.main,n.palette.action.selectedOpacity)}},[`&.${Md.focusVisible}`]:{backgroundColor:n.palette.action.focus},[`&.${Md.disabled}`]:{opacity:n.palette.action.disabledOpacity},[`& + .${DR.root}`]:{marginTop:n.spacing(1),marginBottom:n.spacing(1)},[`& + .${DR.inset}`]:{marginLeft:52},[`& .${kR.root}`]:{marginTop:0,marginBottom:0},[`& .${kR.inset}`]:{paddingLeft:36},[`& .${FR.root}`]:{minWidth:36}},!e.dense&&{[n.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&Ie({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,{[`& .${FR.root} svg`]:{fontSize:"1.25rem"}}))),HW=X.exports.forwardRef(function(e,t){const r=Yi({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:u,role:d="menuitem",tabIndex:h}=r,p=zt(r,FW),m=X.exports.useContext(jw),v={dense:o||m.dense||!1,disableGutters:l},y=X.exports.useRef(null);Lh(()=>{i&&y.current&&y.current.focus()},[i]);const _=Ie({},r,{dense:v.dense,divider:a,disableGutters:l}),w=NW(r),x=_i(y,t);let A;return r.disabled||(A=h!==void 0?h:-1),ot(jw.Provider,{value:v,children:ot(OW,Ie({ref:x,role:d,tabIndex:A,component:s,focusVisibleClassName:Pn(w.focusVisible,u)},p,{ownerState:_,classes:w}))})});var Yre=HW,En={},wM={},wp={},Sp={},JD="Expected a function",NR=0/0,UW="[object Symbol]",GW=/^\s+|\s+$/g,zW=/^[-+]0x[0-9a-f]+$/i,WW=/^0b[01]+$/i,VW=/^0o[0-7]+$/i,jW=parseInt,JW=typeof jm=="object"&&jm&&jm.Object===Object&&jm,$W=typeof self=="object"&&self&&self.Object===Object&&self,KW=JW||$W||Function("return this")(),XW=Object.prototype,QW=XW.toString,YW=Math.max,qW=Math.min,kx=function(){return KW.Date.now()};function ZW(n,e,t){var r,i,s,o,a,l,u=0,d=!1,h=!1,p=!0;if(typeof n!="function")throw new TypeError(JD);e=OR(e)||0,d0(t)&&(d=!!t.leading,h="maxWait"in t,s=h?YW(OR(t.maxWait)||0,e):s,p="trailing"in t?!!t.trailing:p);function m(T){var R=r,I=i;return r=i=void 0,u=T,o=n.apply(I,R),o}function v(T){return u=T,a=setTimeout(w,e),d?m(T):o}function y(T){var R=T-l,I=T-u,O=e-R;return h?qW(O,s-I):O}function _(T){var R=T-l,I=T-u;return l===void 0||R>=e||R<0||h&&I>=s}function w(){var T=kx();if(_(T))return x(T);a=setTimeout(w,y(T))}function x(T){return a=void 0,p&&r?m(T):(r=i=void 0,o)}function A(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function E(){return a===void 0?o:x(kx())}function C(){var T=kx(),R=_(T);if(r=arguments,i=this,l=T,R){if(a===void 0)return v(l);if(h)return a=setTimeout(w,e),m(l)}return a===void 0&&(a=setTimeout(w,e)),o}return C.cancel=A,C.flush=E,C}function eV(n,e,t){var r=!0,i=!0;if(typeof n!="function")throw new TypeError(JD);return d0(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),ZW(n,e,{leading:r,maxWait:e,trailing:i})}function d0(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function tV(n){return!!n&&typeof n=="object"}function nV(n){return typeof n=="symbol"||tV(n)&&QW.call(n)==UW}function OR(n){if(typeof n=="number")return n;if(nV(n))return NR;if(d0(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=d0(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(GW,"");var t=WW.test(n);return t||VW.test(n)?jW(n.slice(2),t?2:8):zW.test(n)?NR:+n}var rV=eV,Ap={};Object.defineProperty(Ap,"__esModule",{value:!0});Ap.addPassiveEventListener=function(e,t,r){var i=function(){var s=!1;try{var o=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("test",null,o)}catch{}return s}();e.addEventListener(t,r,i?{passive:!0}:!1)};Ap.removePassiveEventListener=function(e,t,r){e.removeEventListener(t,r)};Object.defineProperty(Sp,"__esModule",{value:!0});var iV=rV,sV=aV(iV),oV=Ap;function aV(n){return n&&n.__esModule?n:{default:n}}var lV=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:66;return(0,sV.default)(e,t)},Mn={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(e,t){if(e){var r=lV(function(i){Mn.scrollHandler(e)},t);Mn.scrollSpyContainers.push(e),(0,oV.addPassiveEventListener)(e,"scroll",r)}},isMounted:function(e){return Mn.scrollSpyContainers.indexOf(e)!==-1},currentPositionX:function(e){if(e===document){var t=window.pageYOffset!==void 0,r=(document.compatMode||"")==="CSS1Compat";return t?window.pageXOffset:r?document.documentElement.scrollLeft:document.body.scrollLeft}else return e.scrollLeft},currentPositionY:function(e){if(e===document){var t=window.pageXOffset!==void 0,r=(document.compatMode||"")==="CSS1Compat";return t?window.pageYOffset:r?document.documentElement.scrollTop:document.body.scrollTop}else return e.scrollTop},scrollHandler:function(e){var t=Mn.scrollSpyContainers[Mn.scrollSpyContainers.indexOf(e)].spyCallbacks||[];t.forEach(function(r){return r(Mn.currentPositionX(e),Mn.currentPositionY(e))})},addStateHandler:function(e){Mn.spySetState.push(e)},addSpyHandler:function(e,t){var r=Mn.scrollSpyContainers[Mn.scrollSpyContainers.indexOf(t)];r.spyCallbacks||(r.spyCallbacks=[]),r.spyCallbacks.push(e),e(Mn.currentPositionX(t),Mn.currentPositionY(t))},updateStates:function(){Mn.spySetState.forEach(function(e){return e()})},unmount:function(e,t){Mn.scrollSpyContainers.forEach(function(r){return r.spyCallbacks&&r.spyCallbacks.length&&r.spyCallbacks.splice(r.spyCallbacks.indexOf(t),1)}),Mn.spySetState&&Mn.spySetState.length&&Mn.spySetState.splice(Mn.spySetState.indexOf(e),1),document.removeEventListener("scroll",Mn.scrollHandler)},update:function(){return Mn.scrollSpyContainers.forEach(function(e){return Mn.scrollHandler(e)})}};Sp.default=Mn;var Bf={},Mp={};Object.defineProperty(Mp,"__esModule",{value:!0});var uV=function(e,t){var r=e.indexOf("#")===0?e.substring(1):e,i=r?"#"+r:"",s=window&&window.location,o=i?s.pathname+s.search+i:s.pathname+s.search;t?history.pushState(history.state,"",o):history.replaceState(history.state,"",o)},cV=function(){return window.location.hash.replace(/^#/,"")},fV=function(e){return function(t){return e.contains?e!=t&&e.contains(t):!!(e.compareDocumentPosition(t)&16)}},dV=function(e){return getComputedStyle(e).position!=="static"},Nx=function(e,t){for(var r=e.offsetTop,i=e.offsetParent;i&&!t(i);)r+=i.offsetTop,i=i.offsetParent;return{offsetTop:r,offsetParent:i}},hV=function(e,t,r){if(r)return e===document?t.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):getComputedStyle(e).position!=="static"?t.offsetLeft:t.offsetLeft-e.offsetLeft;if(e===document)return t.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if(dV(e)){if(t.offsetParent!==e){var i=function(d){return d===e||d===document},s=Nx(t,i),o=s.offsetTop,a=s.offsetParent;if(a!==e)throw new Error("Seems containerElement is not an ancestor of the Element");return o}return t.offsetTop}if(t.offsetParent===e.offsetParent)return t.offsetTop-e.offsetTop;var l=function(d){return d===document};return Nx(t,l).offsetTop-Nx(e,l).offsetTop};Mp.default={updateHash:uV,getHash:cV,filterElementInContainer:fV,scrollOffset:hV};var fv={},SM={};Object.defineProperty(SM,"__esModule",{value:!0});SM.default={defaultEasing:function(e){return e<.5?Math.pow(e*2,2)/2:1-Math.pow((1-e)*2,2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};var AM={};Object.defineProperty(AM,"__esModule",{value:!0});var pV=Ap,mV=["mousedown","mousewheel","touchmove","keydown"];AM.default={subscribe:function(e){return typeof document!="undefined"&&mV.forEach(function(t){return(0,pV.addPassiveEventListener)(document,t,e)})}};var Ep={};Object.defineProperty(Ep,"__esModule",{value:!0});var Kw={registered:{},scrollEvent:{register:function(e,t){Kw.registered[e]=t},remove:function(e){Kw.registered[e]=null}}};Ep.default=Kw;Object.defineProperty(fv,"__esModule",{value:!0});var gV=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},yV=Mp;dv(yV);var vV=SM,HR=dv(vV),_V=AM,xV=dv(_V),wV=Ep,Ls=dv(wV);function dv(n){return n&&n.__esModule?n:{default:n}}var $D=function(e){return HR.default[e.smooth]||HR.default.defaultEasing},SV=function(e){return typeof e=="function"?e:function(){return e}},AV=function(){if(typeof window!="undefined")return window.requestAnimationFrame||window.webkitRequestAnimationFrame},Xw=function(){return AV()||function(n,e,t){window.setTimeout(n,t||1e3/60,new Date().getTime())}}(),KD=function(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}},XD=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollLeft;var r=window.pageXOffset!==void 0,i=(document.compatMode||"")==="CSS1Compat";return r?window.pageXOffset:i?document.documentElement.scrollLeft:document.body.scrollLeft},QD=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollTop;var r=window.pageXOffset!==void 0,i=(document.compatMode||"")==="CSS1Compat";return r?window.pageYOffset:i?document.documentElement.scrollTop:document.body.scrollTop},MV=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollWidth-t.offsetWidth;var r=document.body,i=document.documentElement;return Math.max(r.scrollWidth,r.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth)},EV=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollHeight-t.offsetHeight;var r=document.body,i=document.documentElement;return Math.max(r.scrollHeight,r.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight)},CV=function n(e,t,r){var i=t.data;if(!t.ignoreCancelEvents&&i.cancel){Ls.default.registered.end&&Ls.default.registered.end(i.to,i.target,i.currentPositionY);return}if(i.delta=Math.round(i.targetPosition-i.startPosition),i.start===null&&(i.start=r),i.progress=r-i.start,i.percent=i.progress>=i.duration?1:e(i.progress/i.duration),i.currentPosition=i.startPosition+Math.ceil(i.delta*i.percent),i.containerElement&&i.containerElement!==document&&i.containerElement!==document.body?t.horizontal?i.containerElement.scrollLeft=i.currentPosition:i.containerElement.scrollTop=i.currentPosition:t.horizontal?window.scrollTo(i.currentPosition,0):window.scrollTo(0,i.currentPosition),i.percent<1){var s=n.bind(null,e,t);Xw.call(window,s);return}Ls.default.registered.end&&Ls.default.registered.end(i.to,i.target,i.currentPosition)},MM=function(e){e.data.containerElement=e?e.containerId?document.getElementById(e.containerId):e.container&&e.container.nodeType?e.container:document:null},Cp=function(e,t,r,i){if(t.data=t.data||KD(),window.clearTimeout(t.data.delayTimeout),xV.default.subscribe(function(){t.data.cancel=!0}),MM(t),t.data.start=null,t.data.cancel=!1,t.data.startPosition=t.horizontal?XD(t):QD(t),t.data.targetPosition=t.absolute?e:e+t.data.startPosition,t.data.startPosition===t.data.targetPosition){Ls.default.registered.end&&Ls.default.registered.end(t.data.to,t.data.target,t.data.currentPosition);return}t.data.delta=Math.round(t.data.targetPosition-t.data.startPosition),t.data.duration=SV(t.duration)(t.data.delta),t.data.duration=isNaN(parseFloat(t.data.duration))?1e3:parseFloat(t.data.duration),t.data.to=r,t.data.target=i;var s=$D(t),o=CV.bind(null,s,t);if(t&&t.delay>0){t.data.delayTimeout=window.setTimeout(function(){Ls.default.registered.begin&&Ls.default.registered.begin(t.data.to,t.data.target),Xw.call(window,o)},t.delay);return}Ls.default.registered.begin&&Ls.default.registered.begin(t.data.to,t.data.target),Xw.call(window,o)},hv=function(e){return e=gV({},e),e.data=e.data||KD(),e.absolute=!0,e},bV=function(e){Cp(0,hv(e))},TV=function(e,t){Cp(e,hv(t))},RV=function(e){e=hv(e),MM(e),Cp(e.horizontal?MV(e):EV(e),e)},PV=function(e,t){t=hv(t),MM(t);var r=t.horizontal?XD(t):QD(t);Cp(e+r,t)};fv.default={animateTopScroll:Cp,getAnimationType:$D,scrollToTop:bV,scrollToBottom:RV,scrollTo:TV,scrollMore:PV};Object.defineProperty(Bf,"__esModule",{value:!0});var IV=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},BV=Mp,LV=EM(BV),DV=fv,FV=EM(DV),kV=Ep,gg=EM(kV);function EM(n){return n&&n.__esModule?n:{default:n}}var yg={},UR=void 0;Bf.default={unmount:function(){yg={}},register:function(e,t){yg[e]=t},unregister:function(e){delete yg[e]},get:function(e){return yg[e]||document.getElementById(e)||document.getElementsByName(e)[0]||document.getElementsByClassName(e)[0]},setActiveLink:function(e){return UR=e},getActiveLink:function(){return UR},scrollTo:function(e,t){var r=this.get(e);if(!r){console.warn("target Element not found");return}t=IV({},t,{absolute:!1});var i=t.containerId,s=t.container,o=void 0;i?o=document.getElementById(i):s&&s.nodeType?o=s:o=document,t.absolute=!0;var a=t.horizontal,l=LV.default.scrollOffset(o,r,a)+(t.offset||0);if(!t.smooth){gg.default.registered.begin&&gg.default.registered.begin(e,r),o===document?t.horizontal?window.scrollTo(l,0):window.scrollTo(0,l):o.scrollTop=l,gg.default.registered.end&&gg.default.registered.end(e,r);return}FV.default.animateTopScroll(l,t,e,r)}};var pv={};Object.defineProperty(pv,"__esModule",{value:!0});var NV=Mp,Ox=OV(NV);function OV(n){return n&&n.__esModule?n:{default:n}}var HV={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(e){this.scroller=e,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(e,t){this.containers[e]=t},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var e=this,t=this.getHash();t?window.setTimeout(function(){e.scrollTo(t,!0),e.initialized=!0},10):this.initialized=!0},scrollTo:function(e,t){var r=this.scroller,i=r.get(e);if(i&&(t||e!==r.getActiveLink())){var s=this.containers[e]||document;r.scrollTo(e,{container:s})}},getHash:function(){return Ox.default.getHash()},changeHash:function(e,t){this.isInitialized()&&Ox.default.getHash()!==e&&Ox.default.updateHash(e,t)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};pv.default=HV;Object.defineProperty(wp,"__esModule",{value:!0});var GR=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},UV=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),GV=X.exports,zR=bp(GV),zV=Sp,vg=bp(zV),WV=Bf,VV=bp(WV),jV=ap.exports,mn=bp(jV),JV=pv,Yo=bp(JV);function bp(n){return n&&n.__esModule?n:{default:n}}function $V(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function KV(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function XV(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var WR={to:mn.default.string.isRequired,containerId:mn.default.string,container:mn.default.object,activeClass:mn.default.string,spy:mn.default.bool,horizontal:mn.default.bool,smooth:mn.default.oneOfType([mn.default.bool,mn.default.string]),offset:mn.default.number,delay:mn.default.number,isDynamic:mn.default.bool,onClick:mn.default.func,duration:mn.default.oneOfType([mn.default.number,mn.default.func]),absolute:mn.default.bool,onSetActive:mn.default.func,onSetInactive:mn.default.func,ignoreCancelEvents:mn.default.bool,hashSpy:mn.default.bool,saveHashHistory:mn.default.bool,spyThrottle:mn.default.number};wp.default=function(n,e){var t=e||VV.default,r=function(s){XV(o,s);function o(a){$V(this,o);var l=KV(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,a));return i.call(l),l.state={active:!1},l}return UV(o,[{key:"getScrollSpyContainer",value:function(){var l=this.props.containerId,u=this.props.container;return l&&!u?document.getElementById(l):u&&u.nodeType?u:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var l=this.getScrollSpyContainer();vg.default.isMounted(l)||vg.default.mount(l,this.props.spyThrottle),this.props.hashSpy&&(Yo.default.isMounted()||Yo.default.mount(t),Yo.default.mapContainer(this.props.to,l)),vg.default.addSpyHandler(this.spyHandler,l),this.setState({container:l})}}},{key:"componentWillUnmount",value:function(){vg.default.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var l="";this.state&&this.state.active?l=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():l=this.props.className;var u=GR({},this.props);for(var d in WR)u.hasOwnProperty(d)&&delete u[d];return u.className=l,u.onClick=this.handleClick,zR.default.createElement(n,u)}}]),o}(zR.default.PureComponent),i=function(){var o=this;this.scrollTo=function(a,l){t.scrollTo(a,GR({},o.state,l))},this.handleClick=function(a){o.props.onClick&&o.props.onClick(a),a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),o.scrollTo(o.props.to,o.props)},this.spyHandler=function(a,l){var u=o.getScrollSpyContainer();if(!(Yo.default.isMounted()&&!Yo.default.isInitialized())){var d=o.props.horizontal,h=o.props.to,p=null,m=void 0,v=void 0;if(d){var y=0,_=0,w=0;if(u.getBoundingClientRect){var x=u.getBoundingClientRect();w=x.left}if(!p||o.props.isDynamic){if(p=t.get(h),!p)return;var A=p.getBoundingClientRect();y=A.left-w+a,_=y+A.width}var E=a-o.props.offset;m=E>=Math.floor(y)&&E<Math.floor(_),v=E<Math.floor(y)||E>=Math.floor(_)}else{var C=0,T=0,R=0;if(u.getBoundingClientRect){var I=u.getBoundingClientRect();R=I.top}if(!p||o.props.isDynamic){if(p=t.get(h),!p)return;var O=p.getBoundingClientRect();C=O.top-R+l,T=C+O.height}var D=l-o.props.offset;m=D>=Math.floor(C)&&D<Math.floor(T),v=D<Math.floor(C)||D>=Math.floor(T)}var P=t.getActiveLink();if(v){if(h===P&&t.setActiveLink(void 0),o.props.hashSpy&&Yo.default.getHash()===h){var B=o.props.saveHashHistory,q=B===void 0?!1:B;Yo.default.changeHash("",q)}o.props.spy&&o.state.active&&(o.setState({active:!1}),o.props.onSetInactive&&o.props.onSetInactive(h,p))}if(m&&(P!==h||o.state.active===!1)){t.setActiveLink(h);var W=o.props.saveHashHistory,J=W===void 0?!1:W;o.props.hashSpy&&Yo.default.changeHash(h,J),o.props.spy&&(o.setState({active:!0}),o.props.onSetActive&&o.props.onSetActive(h,p))}}}};return r.propTypes=WR,r.defaultProps={offset:0},r};Object.defineProperty(wM,"__esModule",{value:!0});var QV=X.exports,VR=YD(QV),YV=wp,qV=YD(YV);function YD(n){return n&&n.__esModule?n:{default:n}}function ZV(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function jR(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function e7(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var t7=function(n){e7(e,n);function e(){var t,r,i,s;ZV(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=jR(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),i),i.render=function(){return VR.default.createElement("a",i.props,i.props.children)},r),jR(i,s)}return e}(VR.default.Component);wM.default=(0,qV.default)(t7);var CM={};Object.defineProperty(CM,"__esModule",{value:!0});var n7=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),r7=X.exports,JR=qD(r7),i7=wp,s7=qD(i7);function qD(n){return n&&n.__esModule?n:{default:n}}function o7(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function a7(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function l7(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var u7=function(n){l7(e,n);function e(){return o7(this,e),a7(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return n7(e,[{key:"render",value:function(){return JR.default.createElement("input",this.props,this.props.children)}}]),e}(JR.default.Component);CM.default=(0,s7.default)(u7);var bM={},mv={};Object.defineProperty(mv,"__esModule",{value:!0});var c7=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},f7=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),d7=X.exports,$R=gv(d7),h7=tp.exports;gv(h7);var p7=Bf,KR=gv(p7),m7=ap.exports,XR=gv(m7);function gv(n){return n&&n.__esModule?n:{default:n}}function g7(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function y7(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function v7(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}mv.default=function(n){var e=function(t){v7(r,t);function r(i){g7(this,r);var s=y7(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,i));return s.childBindings={domNode:null},s}return f7(r,[{key:"componentDidMount",value:function(){if(typeof window=="undefined")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(s){this.props.name!==s.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window=="undefined")return!1;KR.default.unregister(this.props.name)}},{key:"registerElems",value:function(s){KR.default.register(s,this.childBindings.domNode)}},{key:"render",value:function(){return $R.default.createElement(n,c7({},this.props,{parentBindings:this.childBindings}))}}]),r}($R.default.Component);return e.propTypes={name:XR.default.string,id:XR.default.string},e};Object.defineProperty(bM,"__esModule",{value:!0});var QR=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_7=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),x7=X.exports,YR=TM(x7),w7=mv,S7=TM(w7),A7=ap.exports,qR=TM(A7);function TM(n){return n&&n.__esModule?n:{default:n}}function M7(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function E7(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function C7(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var ZD=function(n){C7(e,n);function e(){return M7(this,e),E7(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return _7(e,[{key:"render",value:function(){var r=this,i=QR({},this.props);return i.parentBindings&&delete i.parentBindings,YR.default.createElement("div",QR({},i,{ref:function(o){r.props.parentBindings.domNode=o}}),this.props.children)}}]),e}(YR.default.Component);ZD.propTypes={name:qR.default.string,id:qR.default.string};bM.default=(0,S7.default)(ZD);var b7=lH(X4),ZR=b7.jsx,e2=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},t2=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function n2(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function r2(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function i2(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var s2=X.exports,fl=Sp,Hx=Bf,gn=ap.exports,qo=pv,o2={to:gn.string.isRequired,containerId:gn.string,container:gn.object,activeClass:gn.string,spy:gn.bool,smooth:gn.oneOfType([gn.bool,gn.string]),offset:gn.number,delay:gn.number,isDynamic:gn.bool,onClick:gn.func,duration:gn.oneOfType([gn.number,gn.func]),absolute:gn.bool,onSetActive:gn.func,onSetInactive:gn.func,ignoreCancelEvents:gn.bool,hashSpy:gn.bool,spyThrottle:gn.number},T7={Scroll:function(e,t){console.warn("Helpers.Scroll is deprecated since v1.7.0");var r=t||Hx,i=function(o){i2(a,o);function a(l){n2(this,a);var u=r2(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l));return s.call(u),u.state={active:!1},u}return t2(a,[{key:"getScrollSpyContainer",value:function(){var u=this.props.containerId,d=this.props.container;return u?document.getElementById(u):d&&d.nodeType?d:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var u=this.getScrollSpyContainer();fl.isMounted(u)||fl.mount(u,this.props.spyThrottle),this.props.hashSpy&&(qo.isMounted()||qo.mount(r),qo.mapContainer(this.props.to,u)),this.props.spy&&fl.addStateHandler(this.stateHandler),fl.addSpyHandler(this.spyHandler,u),this.setState({container:u})}}},{key:"componentWillUnmount",value:function(){fl.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var u="";this.state&&this.state.active?u=((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():u=this.props.className;var d=e2({},this.props);for(var h in o2)d.hasOwnProperty(h)&&delete d[h];return d.className=u,d.onClick=this.handleClick,ZR(e,It({},d))}}]),a}(s2.Component),s=function(){var a=this;this.scrollTo=function(l,u){r.scrollTo(l,e2({},a.state,u))},this.handleClick=function(l){a.props.onClick&&a.props.onClick(l),l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault(),a.scrollTo(a.props.to,a.props)},this.stateHandler=function(){r.getActiveLink()!==a.props.to&&(a.state!==null&&a.state.active&&a.props.onSetInactive&&a.props.onSetInactive(),a.setState({active:!1}))},this.spyHandler=function(l){var u=a.getScrollSpyContainer();if(!(qo.isMounted()&&!qo.isInitialized())){var d=a.props.to,h=null,p=0,m=0,v=0;if(u.getBoundingClientRect){var y=u.getBoundingClientRect();v=y.top}if(!h||a.props.isDynamic){if(h=r.get(d),!h)return;var _=h.getBoundingClientRect();p=_.top-v+l,m=p+_.height}var w=l-a.props.offset,x=w>=Math.floor(p)&&w<Math.floor(m),A=w<Math.floor(p)||w>=Math.floor(m),E=r.getActiveLink();if(A)return d===E&&r.setActiveLink(void 0),a.props.hashSpy&&qo.getHash()===d&&qo.changeHash(),a.props.spy&&a.state.active&&(a.setState({active:!1}),a.props.onSetInactive&&a.props.onSetInactive()),fl.updateStates();if(x&&E!==d)return r.setActiveLink(d),a.props.hashSpy&&qo.changeHash(d),a.props.spy&&(a.setState({active:!0}),a.props.onSetActive&&a.props.onSetActive(d)),fl.updateStates()}}};return i.propTypes=o2,i.defaultProps={offset:0},i},Element:function(e){console.warn("Helpers.Element is deprecated since v1.7.0");var t=function(r){i2(i,r);function i(s){n2(this,i);var o=r2(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,s));return o.childBindings={domNode:null},o}return t2(i,[{key:"componentDidMount",value:function(){if(typeof window=="undefined")return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(o){this.props.name!==o.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if(typeof window=="undefined")return!1;Hx.unregister(this.props.name)}},{key:"registerElems",value:function(o){Hx.register(o,this.childBindings.domNode)}},{key:"render",value:function(){return ZR(e,Pr(It({},this.props),{parentBindings:this.childBindings}))}}]),i}(s2.Component);return t.propTypes={name:gn.string,id:gn.string},t}},R7=T7;Object.defineProperty(En,"__esModule",{value:!0});En.Helpers=En.ScrollElement=En.ScrollLink=En.animateScroll=En.scrollSpy=En.Events=En.scroller=G7=En.Element=En.Button=U7=En.Link=void 0;var P7=wM,e3=Ys(P7),I7=CM,t3=Ys(I7),B7=bM,n3=Ys(B7),L7=Bf,r3=Ys(L7),D7=Ep,i3=Ys(D7),F7=Sp,s3=Ys(F7),k7=fv,o3=Ys(k7),N7=wp,a3=Ys(N7),O7=mv,l3=Ys(O7),H7=R7,u3=Ys(H7);function Ys(n){return n&&n.__esModule?n:{default:n}}var U7=En.Link=e3.default;En.Button=t3.default;var G7=En.Element=n3.default;En.scroller=r3.default;En.Events=i3.default;En.scrollSpy=s3.default;En.animateScroll=o3.default;En.ScrollLink=a3.default;En.ScrollElement=l3.default;En.Helpers=u3.default;En.default={Link:e3.default,Button:t3.default,Element:n3.default,scroller:r3.default,Events:i3.default,scrollSpy:s3.default,animateScroll:o3.default,ScrollLink:a3.default,ScrollElement:l3.default,Helpers:u3.default};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He=function(n,e){if(!n)throw Lf(e)},Lf=function(n){return new Error("Firebase Database ("+c3.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},z7=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],a=n[t++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},RM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,u=l?n[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(p=64)),r.push(t[d],t[h],t[p],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(f3(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):z7(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const u=i<n.length?t[n.charAt(i)]:64;++i;const h=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw Error();const p=s<<2|a>>4;if(r.push(p),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const v=u<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},d3=function(n){const e=f3(n);return RM.encodeByteArray(e,!0)},h3=function(n){return d3(n).replace(/\./g,"")},a2=function(n){try{return RM.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W7(n){return p3(void 0,n)}function p3(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!V7(t)||(n[t]=p3(n[t],e[t]));return n}function V7(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j7(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function m3(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(j7())}function J7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function g3(){return c3.NODE_ADMIN===!0}function $7(){return typeof indexedDB=="object"}function K7(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7="FirebaseError";class PM extends Error{constructor(e,t,r){super(t);this.code=e,this.customData=r,this.name=X7,Object.setPrototypeOf(this,PM.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,y3.prototype.create)}}class y3{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Q7(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new PM(i,a,r)}}function Q7(n,e){return n.replace(Y7,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Y7=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(n){return JSON.parse(n)}function ar(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=function(n){let e={},t={},r={},i="";try{const s=n.split(".");e=Oh(a2(s[0])||""),t=Oh(a2(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}},q7=function(n){const e=v3(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},Z7=function(n){const e=v3(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function rf(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function l2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function h0(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function Qw(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(u2(s)&&u2(o)){if(!Qw(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function u2(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let h=0;h<16;h++)r[h]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let h=16;h<80;h++){const p=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(p<<1|p>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,d;for(let h=0;h<80;h++){h<40?h<20?(u=a^s&(o^a),d=1518500249):(u=s^o^a,d=1859775393):h<60?(u=s&o|a&(s|o),d=2400959708):(u=s^o^a,d=3395469782);const p=(i<<5|i>>>27)+u+l+d+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=p}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const r=t-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<t;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=t&255,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function IM(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,He(r<n.length,"Surrogate pair missing trail surrogate.");const o=n.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},vv=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(n){return n&&n._delegate?n._delegate:n}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(n,e){return new Promise((t,r)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var s;r(`${e}: ${(s=i.target.error)===null||s===void 0?void 0:s.message}`)}})}class c2{constructor(e){this._db=e,this.objectStoreNames=this._db.objectStoreNames}transaction(e,t){return new _3(this._db.transaction.call(this._db,e,t))}createObjectStore(e,t){return new x3(this._db.createObjectStore(e,t))}close(){this._db.close()}}class _3{constructor(e){this._transaction=e,this.complete=new Promise((t,r)=>{this._transaction.oncomplete=function(){t()},this._transaction.onerror=()=>{r(this._transaction.error)},this._transaction.onabort=()=>{r(this._transaction.error)}})}objectStore(e){return new x3(this._transaction.objectStore(e))}}class x3{constructor(e){this._store=e}index(e){return new f2(this._store.index(e))}createIndex(e,t,r){return new f2(this._store.createIndex(e,t,r))}get(e){const t=this._store.get(e);return jd(t,"Error reading from IndexedDB")}put(e,t){const r=this._store.put(e,t);return jd(r,"Error writing to IndexedDB")}delete(e){const t=this._store.delete(e);return jd(t,"Error deleting from IndexedDB")}clear(){const e=this._store.clear();return jd(e,"Error clearing IndexedDB object store")}}class f2{constructor(e){this._index=e}get(e){const t=this._index.get(e);return jd(t,"Error reading from IndexedDB")}}function rj(n,e,t){return new Promise((r,i)=>{try{const s=indexedDB.open(n,e);s.onsuccess=o=>{r(new c2(o.target.result))},s.onerror=o=>{var a;i(`Error opening indexedDB: ${(a=o.target.error)===null||a===void 0?void 0:a.message}`)},s.onupgradeneeded=o=>{t(new c2(s.result),o.oldVersion,o.newVersion,new _3(s.transaction))}}catch(s){i(`Error opening indexedDB: ${s.message}`)}})}class Hh{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new yv;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oj(e))try{this.getOrInitializeService({instanceIdentifier:Ml})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ml){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ml){return this.instances.has(e)}getOptions(e=Ml){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(!!r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sj(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ml){return this.component?this.component.multipleInstances?e:Ml:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sj(n){return n===Ml?void 0:n}function oj(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ij(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Qt||(Qt={}));const lj={debug:Qt.DEBUG,verbose:Qt.VERBOSE,info:Qt.INFO,warn:Qt.WARN,error:Qt.ERROR,silent:Qt.SILENT},uj=Qt.INFO,cj={[Qt.DEBUG]:"log",[Qt.VERBOSE]:"log",[Qt.INFO]:"info",[Qt.WARN]:"warn",[Qt.ERROR]:"error"},fj=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=cj[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class w3{constructor(e){this.name=e,this._logLevel=uj,this._logHandler=fj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qt.DEBUG,...e),this._logHandler(this,Qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qt.VERBOSE,...e),this._logHandler(this,Qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qt.INFO,...e),this._logHandler(this,Qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qt.WARN,...e),this._logHandler(this,Qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qt.ERROR,...e),this._logHandler(this,Qt.ERROR,...e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(hj(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function hj(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yw="@firebase/app",d2="0.7.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=new w3("@firebase/app"),pj="@firebase/app-compat",mj="@firebase/analytics-compat",gj="@firebase/analytics",yj="@firebase/app-check-compat",vj="@firebase/app-check",_j="@firebase/auth",xj="@firebase/auth-compat",wj="@firebase/database",Sj="@firebase/database-compat",Aj="@firebase/functions",Mj="@firebase/functions-compat",Ej="@firebase/installations",Cj="@firebase/installations-compat",bj="@firebase/messaging",Tj="@firebase/messaging-compat",Rj="@firebase/performance",Pj="@firebase/performance-compat",Ij="@firebase/remote-config",Bj="@firebase/remote-config-compat",Lj="@firebase/storage",Dj="@firebase/storage-compat",Fj="@firebase/firestore",kj="@firebase/firestore-compat",Nj="firebase",Oj="9.6.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3="[DEFAULT]",Hj={[Yw]:"fire-core",[pj]:"fire-core-compat",[gj]:"fire-analytics",[mj]:"fire-analytics-compat",[vj]:"fire-app-check",[yj]:"fire-app-check-compat",[_j]:"fire-auth",[xj]:"fire-auth-compat",[wj]:"fire-rtdb",[Sj]:"fire-rtdb-compat",[Aj]:"fire-fn",[Mj]:"fire-fn-compat",[Ej]:"fire-iid",[Cj]:"fire-iid-compat",[bj]:"fire-fcm",[Tj]:"fire-fcm-compat",[Rj]:"fire-perf",[Pj]:"fire-perf-compat",[Ij]:"fire-rc",[Bj]:"fire-rc-compat",[Lj]:"fire-gcs",[Dj]:"fire-gcs-compat",[Fj]:"fire-fst",[kj]:"fire-fst-compat","fire-js":"fire-js",[Nj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=new Map,qw=new Map;function Uj(n,e){try{n.container.addComponent(e)}catch(t){BM.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function m0(n){const e=n.name;if(qw.has(e))return BM.debug(`There were multiple attempts to register component ${e}.`),!1;qw.set(e,n);for(const t of p0.values())Uj(t,n);return!0}function Gj(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},nu=new y3("app","Firebase",zj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw nu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj=Oj;function qre(n,e={}){typeof e!="object"&&(e={name:e});const t=Object.assign({name:S3,automaticDataCollectionEnabled:!1},e),r=t.name;if(typeof r!="string"||!r)throw nu.create("bad-app-name",{appName:String(r)});const i=p0.get(r);if(i){if(Qw(n,i.options)&&Qw(t,i.config))return i;throw nu.create("duplicate-app",{appName:r})}const s=new aj(r);for(const a of qw.values())s.addComponent(a);const o=new Wj(n,t,s);return p0.set(r,o),o}function jj(n=S3){const e=p0.get(n);if(!e)throw nu.create("no-app",{appName:n});return e}function Gc(n,e,t){var r;let i=(r=Hj[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),BM.warn(a.join(" "));return}m0(new Hh(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj="firebase-heartbeat-database",$j=1,Uh="firebase-heartbeat-store";let Ux=null;function A3(){return Ux||(Ux=rj(Jj,$j,(n,e)=>{switch(e){case 0:n.createObjectStore(Uh)}}).catch(n=>{throw nu.create("storage-open",{originalErrorMessage:n.message})})),Ux}async function Kj(n){try{return(await A3()).transaction(Uh).objectStore(Uh).get(M3(n))}catch(e){throw nu.create("storage-get",{originalErrorMessage:e.message})}}async function h2(n,e){try{const r=(await A3()).transaction(Uh,"readwrite");return await r.objectStore(Uh).put(e,M3(n)),r.complete}catch(t){throw nu.create("storage-set",{originalErrorMessage:t.message})}}function M3(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=1024,Qj=30*24*60*60*1e3;class Yj{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Zj(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=p2();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=Qj}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=p2(),{heartbeatsToSend:t,unsentEntries:r}=qj(this._heartbeatsCache.heartbeats),i=h3(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function p2(){return new Date().toISOString().substring(0,10)}function qj(n,e=Xj){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),m2(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),m2(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Zj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $7()?K7().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Kj(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return h2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return h2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function m2(n){return h3(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eJ(n){m0(new Hh("platform-logger",e=>new dj(e),"PRIVATE")),m0(new Hh("heartbeat",e=>new Yj(e),"PRIVATE")),Gc(Yw,d2,n),Gc(Yw,d2,"esm2017"),Gc("fire-js","")}eJ("");const g2="@firebase/database",y2="0.12.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let E3="";function tJ(n){E3=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nJ{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ar(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Oh(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rJ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Fo(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=function(n){try{if(typeof window!="undefined"&&typeof window[n]!="undefined"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new nJ(e)}}catch{}return new rJ},kl=C3("localStorage"),Zw=C3("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new w3("@firebase/database"),iJ=function(){let n=1;return function(){return n++}}(),b3=function(n){const e=nj(n),t=new tj;t.update(e);const r=t.digest();return RM.encodeByteArray(r)},Tp=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Tp.apply(null,r):typeof r=="object"?e+=ar(r):e+=r,e+=" "}return e};let Vl=null,v2=!0;const sJ=function(n,e){He(!e||n===!0||n===!1,"Can't turn on custom loggers persistently."),n===!0?(zc.logLevel=Qt.VERBOSE,Vl=zc.log.bind(zc),e&&Zw.set("logging_enabled",!0)):typeof n=="function"?Vl=n:(Vl=null,Zw.remove("logging_enabled"))},Sr=function(...n){if(v2===!0&&(v2=!1,Vl===null&&Zw.get("logging_enabled")===!0&&sJ(!0)),Vl){const e=Tp.apply(null,n);Vl(e)}},Rp=function(n){return function(...e){Sr(n,...e)}},eS=function(...n){const e="FIREBASE INTERNAL ERROR: "+Tp(...n);zc.error(e)},ru=function(...n){const e=`FIREBASE FATAL ERROR: ${Tp(...n)}`;throw zc.error(e),new Error(e)},ri=function(...n){const e="FIREBASE WARNING: "+Tp(...n);zc.warn(e)},oJ=function(){typeof window!="undefined"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ri("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},T3=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},aJ=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},sf="[MIN_NAME]",iu="[MAX_NAME]",Df=function(n,e){if(n===e)return 0;if(n===sf||e===iu)return-1;if(e===sf||n===iu)return 1;{const t=_2(n),r=_2(e);return t!==null?r!==null?t-r===0?n.length-e.length:t-r:-1:r!==null?1:n<e?-1:1}},lJ=function(n,e){return n===e?0:n<e?-1:1},Ed=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+ar(e))},LM=function(n){if(typeof n!="object"||n===null)return ar(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)r!==0&&(t+=","),t+=ar(e[r]),t+=":",t+=LM(n[e[r]]);return t+="}",t},R3=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)i+e>t?r.push(n.substring(i,t)):r.push(n.substring(i,i+e));return r};function Xi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const P3=function(n){He(!T3(n),"Invalid JSON number");const e=11,t=52,r=(1<<e-1)-1;let i,s,o,a,l;n===0?(s=0,o=0,i=1/n===-1/0?1:0):(i=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,t-a)-Math.pow(2,t))):(s=0,o=Math.round(n/Math.pow(2,1-r-t))));const u=[];for(l=t;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const d=u.join("");let h="";for(l=0;l<64;l+=8){let p=parseInt(d.substr(l,8),2).toString(16);p.length===1&&(p="0"+p),h=h+p}return h.toLowerCase()},uJ=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},cJ=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},fJ=new RegExp("^-?(0*)\\d{1,10}$"),dJ=-2147483648,hJ=2147483647,_2=function(n){if(fJ.test(n)){const e=Number(n);if(e>=dJ&&e<=hJ)return e}return null},Ff=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw ri("Exception was thrown by user callback.",t),e},Math.floor(0))}},pJ=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ih=function(n,e){const t=setTimeout(n,e);return typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mJ{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ri(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gJ{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(Sr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ri(e)}}class tS{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}tS.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="5",I3="v",B3="s",L3="r",D3="f",F3=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,k3="ls",yJ="p",nS="ac",N3="websocket",O3="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vJ{constructor(e,t,r,i,s=!1,o="",a=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=kl.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&kl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function _J(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function H3(n,e,t){He(typeof e=="string","typeof type must == string"),He(typeof t=="object","typeof params must == object");let r;if(e===N3)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===O3)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);_J(n)&&(t.ns=n.namespace);const i=[];return Xi(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xJ{constructor(){this.counters_={}}incrementCounter(e,t=1){Fo(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return W7(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx={},zx={};function FM(n){const e=n.toString();return Gx[e]||(Gx[e]=new xJ),Gx[e]}function wJ(n,e){const t=n.toString();return zx[t]||(zx[t]=e()),zx[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SJ{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ff(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="start",AJ="close",MJ="pLPCommand",EJ="pRTLPCB",U3="id",G3="pw",z3="ser",CJ="cb",bJ="seg",TJ="ts",RJ="d",PJ="dframe",W3=1870,V3=30,IJ=W3-V3,BJ=25e3,LJ=3e4;class Rc{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Rp(e),this.stats_=FM(t),this.urlFn=l=>(this.appCheckToken&&(l[nS]=this.appCheckToken),H3(t,O3,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new SJ(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(LJ)),aJ(()=>{if(this.isClosed_)return;this.scriptTagHolder=new kM((...s)=>{const[o,a,l,u,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===x2)this.id=a,this.password=l;else if(o===AJ)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[x2]="t",r[z3]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[CJ]=this.scriptTagHolder.uniqueCallbackIdentifier),r[I3]=DM,this.transportSessionId&&(r[B3]=this.transportSessionId),this.lastSessionId&&(r[k3]=this.lastSessionId),this.applicationId&&(r[yJ]=this.applicationId),this.appCheckToken&&(r[nS]=this.appCheckToken),typeof location!="undefined"&&location.hostname&&F3.test(location.hostname)&&(r[L3]=D3);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Rc.forceAllow_=!0}static forceDisallow(){Rc.forceDisallow_=!0}static isAvailable(){return Rc.forceAllow_?!0:!Rc.forceDisallow_&&typeof document!="undefined"&&document.createElement!=null&&!uJ()&&!cJ()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=ar(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=d3(t),i=R3(r,IJ);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={};r[PJ]="t",r[U3]=e,r[G3]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=ar(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class kM{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=iJ(),window[MJ+this.uniqueCallbackIdentifier]=e,window[EJ+this.uniqueCallbackIdentifier]=t,this.myIFrame=kM.createIFrame_();let s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){const a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Sr("frame writing exception"),a.stack&&Sr(a.stack),Sr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Sr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[U3]=this.myID,e[G3]=this.myPW,e[z3]=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+V3+r.length<=W3;){const o=this.pendingSegs.shift();r=r+"&"+bJ+i+"="+o.seg+"&"+TJ+i+"="+o.ts+"&"+RJ+i+"="+o.d,i++}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(BJ)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Sr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DJ=16384,FJ=45e3;let g0=null;typeof MozWebSocket!="undefined"?g0=MozWebSocket:typeof WebSocket!="undefined"&&(g0=WebSocket);class us{constructor(e,t,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Rp(this.connId),this.stats_=FM(t),this.connURL=us.connectionURL_(t,o,a,i),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,r,i){const s={};return s[I3]=DM,typeof location!="undefined"&&location.hostname&&F3.test(location.hostname)&&(s[L3]=D3),t&&(s[B3]=t),r&&(s[k3]=r),i&&(s[nS]=i),H3(e,N3,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,kl.set("previous_websocket_failure",!0);try{if(!g3()){const r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new g0(this.connURL,[],r)}}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){us.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator!="undefined"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(t);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&g0!==null&&!us.forceDisallow_}static previouslyFailed(){return kl.isInMemoryStorage||kl.get("previous_websocket_failure")===!0}markConnectionHealthy(){kl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const r=Oh(t);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(He(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const r=this.extractFrameCount_(t);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const t=ar(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=R3(t,DJ);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(FJ))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}us.responsesRequiredToBeHealthy=2;us.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Rc,us]}initTransports_(e){const t=us&&us.isAvailable();let r=t&&!us.previouslyFailed();if(e.webSocketOnly&&(t||ri("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[us];else{const i=this.transports_=[];for(const s of NM.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kJ=6e4,NJ=5e3,OJ=10*1024,HJ=100*1024,Wx="t",w2="d",UJ="s",S2="r",GJ="e",A2="o",M2="a",E2="n",C2="p",zJ="h";class WJ{constructor(e,t,r,i,s,o,a,l,u,d){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Rp("c:"+this.id+":"),this.transportManager_=new NM(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ih(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>HJ?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>OJ?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Wx in e){const t=e[Wx];t===M2?this.upgradeIfSecondaryHealthy_():t===S2?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===A2&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Ed("t",e),r=Ed("d",e);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:C2,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:M2,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:E2,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Ed("t",e),r=Ed("d",e);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Ed(Wx,e);if(w2 in e){const r=e[w2];if(t===zJ)this.onHandshake_(r);else if(t===E2){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===UJ?this.onConnectionShutdown_(r):t===S2?this.onReset_(r):t===GJ?eS("Server Error: "+r):t===A2?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):eS("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),DM!==r&&ri("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),ih(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(kJ))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ih(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(NJ))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:C2,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(kl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e){this.allowedEvents_=e,this.listeners_={},He(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){He(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0 extends J3{constructor(){super(["online"]);this.online_=!0,typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&!m3()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new y0}getInitialEvent(e){return He(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=32,T2=768;class on{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function $t(){return new on("")}function St(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Pa(n){return n.pieces_.length-n.pieceNum_}function rn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new on(n.pieces_,e)}function $3(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function VJ(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function K3(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function X3(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new on(e,0)}function jn(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof on)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new on(t,0)}function bt(n){return n.pieceNum_>=n.pieces_.length}function Vi(n,e){const t=St(n),r=St(e);if(t===null)return e;if(t===r)return Vi(rn(n),rn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Q3(n,e){if(Pa(n)!==Pa(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function cs(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Pa(n)>Pa(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class jJ{constructor(e,t){this.errorPrefix_=t,this.parts_=K3(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=vv(this.parts_[r]);Y3(this)}}function JJ(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=vv(e),Y3(n)}function $J(n){const e=n.parts_.pop();n.byteLength_-=vv(e),n.parts_.length>0&&(n.byteLength_-=1)}function Y3(n){if(n.byteLength_>T2)throw new Error(n.errorPrefix_+"has a key path longer than "+T2+" bytes ("+n.byteLength_+").");if(n.parts_.length>b2)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+b2+") or object contains a cycle "+El(n))}function El(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM extends J3{constructor(){super(["visible"]);let e,t;typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(t="visibilitychange",e="hidden"):typeof document.mozHidden!="undefined"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden!="undefined"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden!="undefined"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new OM}getInitialEvent(e){return He(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd=1e3,KJ=60*5*1e3,XJ=3*1e3,R2=30*1e3,QJ=1.3,YJ=3e4,qJ="server_kill",P2=3;class Eo extends j3{constructor(e,t,r,i,s,o,a,l){super();if(this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Eo.nextPersistentConnectionId_++,this.log_=Rp("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Cd,this.maxReconnectDelay_=KJ,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!g3())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");OM.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&y0.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,r){const i=++this.requestNumber_,s={r:i,a:e,b:t};this.log_(ar(s)),He(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const t=new yv,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:o=>{const a=o.d;o.s==="ok"?(this.onDataUpdate_(r.p,a,!1,null),t.resolve(a)):t.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const o=this.outstandingGets_[s];o===void 0||i!==o||(delete this.outstandingGets_[s],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),this.log_("get "+s+" timed out on connection"),t.reject(new Error("Client is offline.")))},XJ),this.connected_&&this.sendGet_(s),t.promise}listen(e,t,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),He(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),He(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:t,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(r)})}sendListen_(e){const t=e.query,r=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=t._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Eo.warnOnListenWarnings_(l,t),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Fo(e,"w")){const r=rf(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+t._queryParams.getIndex().toString()+'"',s=t._path.toString();ri(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Z7(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=R2)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=q7(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(t,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,r=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,r)})}unlisten(e,t){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),He(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,t)}sendUnlisten_(e,t,r,i){this.log_("Unlisten on "+e+" for "+t);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:r})}onDisconnectMerge(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:r})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,r,i){const s={p:t,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,t,r,i){this.putInternal("p",e,t,r,i)}merge(e,t,r,i){this.putInternal("m",e,t,r,i)}putInternal(e,t,r,i,s){this.initConnection_();const o={p:t,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,r,s=>{this.log_(t+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ar(e));const t=e.r,r=this.requestCBHash_[t];r&&(delete this.requestCBHash_[t],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):eS("Unrecognized action received from server: "+ar(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){He(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Cd,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Cd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>YJ&&(this.reconnectDelay_=Cd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*QJ)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Eo.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(h){He(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,p]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?Sr("getToken() completed but was canceled"):(Sr("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=p&&p.token,a=new WJ(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,r,m=>{ri(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(qJ)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&ri(h),l())}}}interrupt(e){Sr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Sr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],l2(this.interruptReasons_)&&(this.reconnectDelay_=Cd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let r;t?r=t.map(s=>LM(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const r=new on(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(t),s.delete(t),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,t){Sr("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=P2&&(this.reconnectDelay_=R2,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Sr("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=P2&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+E3.replace(/\./g,"-")]=1,m3()?e["framework.cordova"]=1:J7()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=y0.getInstance().currentlyOnline();return l2(this.interruptReasons_)&&e}}Eo.nextPersistentConnectionId_=0;Eo.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Rt(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Rt(sf,e),i=new Rt(sf,t);return this.compare(r,i)!==0}minPost(){return Rt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _g;class q3 extends xv{static get __EMPTY_NODE(){return _g}static set __EMPTY_NODE(e){_g=e}compare(e,t){return Df(e.name,t.name)}isDefinedOn(e){throw Lf("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Rt.MIN}maxPost(){return new Rt(iu,_g)}makePost(e,t){return He(typeof e=="string","KeyIndex indexValue must always be a string."),new Rt(e,_g)}toString(){return".key"}}const Wc=new q3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?r(e.key,t):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class tr{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r!=null?r:tr.RED,this.left=i!=null?i:qr.EMPTY_NODE,this.right=s!=null?s:qr.EMPTY_NODE}copy(e,t,r,i,s){return new tr(e!=null?e:this.key,t!=null?t:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i=i.copy(null,t,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return qr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let r,i;if(r=this,t(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),t(e,r.key)===0){if(r.right.isEmpty())return qr.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,tr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,tr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}tr.RED=!0;tr.BLACK=!1;class ZJ{copy(e,t,r,i,s){return this}insert(e,t,r){return new tr(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class qr{constructor(e,t=qr.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new qr(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,tr.BLACK,null,null))}remove(e){return new qr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,tr.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();)if(t=this.comparator_(e,r.key),t===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new xg(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new xg(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new xg(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new xg(this.root_,null,this.comparator_,!0,e)}}qr.EMPTY_NODE=new ZJ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e$(n,e){return Df(n.name,e.name)}function HM(n,e){return Df(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rS;function t$(n){rS=n}const Z3=function(n){return typeof n=="number"?"number:"+P3(n):"string:"+n},eF=function(n){if(n.isLeafNode()){const e=n.val();He(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Fo(e,".sv"),"Priority must be a string or number.")}else He(n===rS||n.isEmpty(),"priority of unexpected type.");He(n===rS||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I2;class Zn{constructor(e,t=Zn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,He(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),eF(this.priorityNode_)}static set __childrenNodeConstructor(e){I2=e}static get __childrenNodeConstructor(){return I2}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Zn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Zn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return bt(e)?this:St(e)===".priority"?this.priorityNode_:Zn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Zn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const r=St(e);return r===null?t:t.isEmpty()&&r!==".priority"?this:(He(r!==".priority"||Pa(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Zn.__childrenNodeConstructor.EMPTY_NODE.updateChild(rn(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Z3(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=P3(this.value_):e+=this.value_,this.lazyHash_=b3(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Zn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Zn.__childrenNodeConstructor?-1:(He(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,r=typeof this.value_,i=Zn.VALUE_TYPE_ORDER.indexOf(t),s=Zn.VALUE_TYPE_ORDER.indexOf(r);return He(i>=0,"Unknown leaf type: "+t),He(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Zn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tF,nF;function n$(n){tF=n}function r$(n){nF=n}class i$ extends xv{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return s===0?Df(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Rt.MIN}maxPost(){return new Rt(iu,new Zn("[PRIORITY-POST]",nF))}makePost(e,t){const r=tF(e);return new Rt(t,new Zn("[PRIORITY-POST]",r))}toString(){return".priority"}}const Mr=new i$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$=Math.log(2);class o${constructor(e){const t=s=>parseInt(Math.log(s)/s$,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const v0=function(n,e,t,r){n.sort(e);const i=function(l,u){const d=u-l;let h,p;if(d===0)return null;if(d===1)return h=n[l],p=t?t(h):h,new tr(p,h.node,tr.BLACK,null,null);{const m=parseInt(d/2,10)+l,v=i(l,m),y=i(m+1,u);return h=n[m],p=t?t(h):h,new tr(p,h.node,tr.BLACK,v,y)}},s=function(l){let u=null,d=null,h=n.length;const p=function(v,y){const _=h-v,w=h;h-=v;const x=i(_+1,w),A=n[_],E=t?t(A):A;m(new tr(E,A.node,y,null,x))},m=function(v){u?(u.left=v,u=v):(d=v,u=v)};for(let v=0;v<l.count;++v){const y=l.nextBitIsOne(),_=Math.pow(2,l.count-(v+1));y?p(_,tr.BLACK):(p(_,tr.BLACK),p(_,tr.RED))}return d},o=new o$(n.length),a=s(o);return new qr(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vx;const $u={};class wo{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return He($u&&Mr,"ChildrenNode.ts has not been loaded"),Vx=Vx||new wo({".priority":$u},{".priority":Mr}),Vx}get(e){const t=rf(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof qr?t:null}hasIndex(e){return Fo(this.indexSet_,e.toString())}addIndex(e,t){He(e!==Wc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(Rt.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=v0(r,e.getCompare()):a=$u;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const d=Object.assign({},this.indexes_);return d[l]=a,new wo(d,u)}addToIndexes(e,t){const r=h0(this.indexes_,(i,s)=>{const o=rf(this.indexSet_,s);if(He(o,"Missing index implementation for "+s),i===$u)if(o.isDefinedOn(e.node)){const a=[],l=t.getIterator(Rt.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),v0(a,o.getCompare())}else return $u;else{const a=t.get(e.name);let l=i;return a&&(l=l.remove(new Rt(e.name,a))),l.insert(e,e.node)}});return new wo(r,this.indexSet_)}removeFromIndexes(e,t){const r=h0(this.indexes_,i=>{if(i===$u)return i;{const s=t.get(e.name);return s?i.remove(new Rt(e.name,s)):i}});return new wo(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd;class Gt{constructor(e,t,r){this.children_=e,this.priorityNode_=t,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&eF(this.priorityNode_),this.children_.isEmpty()&&He(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return bd||(bd=new Gt(new qr(HM),null,wo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||bd}updatePriority(e){return this.children_.isEmpty()?this:new Gt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?bd:t}}getChild(e){const t=St(e);return t===null?this:this.getImmediateChild(t).getChild(rn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(He(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const r=new Rt(e,t);let i,s;t.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,t),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?bd:this.priorityNode_;return new Gt(i,o,s)}}updateChild(e,t){const r=St(e);if(r===null)return t;{He(St(e)!==".priority"||Pa(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(rn(e),t);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let r=0,i=0,s=!0;if(this.forEachChild(Mr,(o,a)=>{t[o]=a.val(e),r++,s&&Gt.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in t)o[a]=t[a];return o}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Z3(this.getPriority().val())+":"),this.forEachChild(Mr,(t,r)=>{const i=r.hash();i!==""&&(e+=":"+t+":"+i)}),this.lazyHash_=e===""?"":b3(e)}return this.lazyHash_}getPredecessorChildName(e,t,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Rt(e,t));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Rt(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const r=t.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Rt(t,this.children_.get(t)):null}forEachChild(e,t){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>t(i.name,i.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Rt.Wrap);let s=i.peek();for(;s!=null&&t.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const r=this.resolveIndex_(t);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Rt.Wrap);let s=i.peek();for(;s!=null&&t.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Pp?-1:0}withIndex(e){if(e===Wc||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Gt(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Wc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const r=this.getIterator(Mr),i=t.getIterator(Mr);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Wc?null:this.indexMap_.get(e.toString())}}Gt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class a$ extends Gt{constructor(){super(new qr(HM),Gt.EMPTY_NODE,wo.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Gt.EMPTY_NODE}isEmpty(){return!1}}const Pp=new a$;Object.defineProperties(Rt,{MIN:{value:new Rt(sf,Gt.EMPTY_NODE)},MAX:{value:new Rt(iu,Pp)}});q3.__EMPTY_NODE=Gt.EMPTY_NODE;Zn.__childrenNodeConstructor=Gt;t$(Pp);r$(Pp);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$=!0;function or(n,e=null){if(n===null)return Gt.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),He(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new Zn(t,or(e))}if(!(n instanceof Array)&&l$){const t=[];let r=!1;if(Xi(n,(o,a)=>{if(o.substring(0,1)!=="."){const l=or(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),t.push(new Rt(o,l)))}}),t.length===0)return Gt.EMPTY_NODE;const s=v0(t,e$,o=>o.name,HM);if(r){const o=v0(t,Mr.getCompare());return new Gt(s,or(e),new wo({".priority":o},{".priority":Mr}))}else return new Gt(s,or(e),wo.Default)}else{let t=Gt.EMPTY_NODE;return Xi(n,(r,i)=>{if(Fo(n,r)&&r.substring(0,1)!=="."){const s=or(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(or(e))}}n$(or);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u$ extends xv{constructor(e){super();this.indexPath_=e,He(!bt(e)&&St(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return s===0?Df(e.name,t.name):s}makePost(e,t){const r=or(e),i=Gt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Rt(t,i)}maxPost(){const e=Gt.EMPTY_NODE.updateChild(this.indexPath_,Pp);return new Rt(iu,e)}toString(){return K3(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c$ extends xv{compare(e,t){const r=e.node.compareTo(t.node);return r===0?Df(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Rt.MIN}maxPost(){return Rt.MAX}makePost(e,t){const r=or(e);return new Rt(t,r)}toString(){return".value"}}const f$=new c$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d$(n){return{type:"value",snapshotNode:n}}function h$(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function p$(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function B2(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function m$(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Mr}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return He(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return He(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:sf}hasEnd(){return this.endSet_}getIndexEndValue(){return He(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return He(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:iu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return He(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Mr}copy(){const e=new UM;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function L2(n){const e={};if(n.isDefault())return e;let t;return n.index_===Mr?t="$priority":n.index_===f$?t="$value":n.index_===Wc?t="$key":(He(n.index_ instanceof u$,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=ar(t),n.startSet_&&(e.startAt=ar(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+ar(n.indexStartName_))),n.endSet_&&(e.endAt=ar(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+ar(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function D2(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==Mr&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0 extends j3{constructor(e,t,r,i){super();this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Rp("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(He(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=_0.getListenId_(e,r),a={};this.listens_[o]=a;const l=L2(e._queryParams);this.restRequest_(s+".json",l,(u,d)=>{let h=d;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(s,h,!1,r),rf(this.listens_,o)===a){let p;u?u===401?p="permission_denied":p="rest_error:"+u:p="ok",i(p,null)}})}unlisten(e,t){const r=_0.getListenId_(e,t);delete this.listens_[r]}get(e){const t=L2(e._queryParams),r=e._path.toString(),i=new yv;return this.restRequest_(r+".json",t,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ej(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Oh(a.responseText)}catch{ri("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&ri("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${constructor(){this.rootNode_=Gt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(){return{value:null,children:new Map}}function rF(n,e,t){if(bt(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const r=St(e);n.children.has(r)||n.children.set(r,x0());const i=n.children.get(r);e=rn(e),rF(i,e,t)}}function iS(n,e,t){n.value!==null?t(e,n.value):y$(n,(r,i)=>{const s=new on(e.toString()+"/"+r);iS(i,s,t)})}function y$(n,e){n.children.forEach((t,r)=>{e(r,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Xi(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=10*1e3,_$=30*1e3,x$=5*60*1e3;class w${constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new v$(e);const r=F2+(_$-F2)*Math.random();ih(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Xi(e,(i,s)=>{s>0&&Fo(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),ih(this.reportStats_.bind(this),Math.floor(Math.random()*2*x$))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ns;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ns||(Ns={}));function iF(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function sF(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function oF(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Ns.ACK_USER_WRITE,this.source=iF()}operationForChild(e){if(bt(this.path)){if(this.affectedTree.value!=null)return He(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new on(e));return new w0($t(),t,this.revert)}}else return He(St(this.path)===e,"operationForChild called for unrelated child."),new w0(rn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Ns.OVERWRITE}operationForChild(e){return bt(this.path)?new su(this.source,$t(),this.snap.getImmediateChild(e)):new su(this.source,rn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Ns.MERGE}operationForChild(e){if(bt(this.path)){const t=this.children.subtree(new on(e));return t.isEmpty()?null:t.value?new su(this.source,$t(),t.value):new Gh(this.source,$t(),t)}else return He(St(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Gh(this.source,rn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(bt(e))return this.isFullyInitialized()&&!this.filtered_;const t=St(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function S$(n,e,t,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(m$(o.childName,o.snapshotNode))}),Td(n,i,"child_removed",e,r,t),Td(n,i,"child_added",e,r,t),Td(n,i,"child_moved",s,r,t),Td(n,i,"child_changed",e,r,t),Td(n,i,"value",e,r,t),i}function Td(n,e,t,r,i,s){const o=r.filter(a=>a.type===t);o.sort((a,l)=>M$(n,a,l)),o.forEach(a=>{const l=A$(n,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,n.query_))})})}function A$(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function M$(n,e,t){if(e.childName==null||t.childName==null)throw Lf("Should only compare child_ events.");const r=new Rt(e.childName,e.snapshotNode),i=new Rt(t.childName,t.snapshotNode);return n.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(n,e){return{eventCache:n,serverCache:e}}function sh(n,e,t,r){return aF(new GM(e,t,r),n.serverCache)}function lF(n,e,t,r){return aF(n.eventCache,new GM(e,t,r))}function sS(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function ou(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jx;const E$=()=>(jx||(jx=new qr(lJ)),jx);class nn{constructor(e,t=E$()){this.value=e,this.children=t}static fromObject(e){let t=new nn(null);return Xi(e,(r,i)=>{t=t.set(new on(r),i)}),t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:$t(),value:this.value};if(bt(e))return null;{const r=St(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(rn(e),t);return s!=null?{path:jn(new on(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(bt(e))return this;{const t=St(e),r=this.children.get(t);return r!==null?r.subtree(rn(e)):new nn(null)}}set(e,t){if(bt(e))return new nn(t,this.children);{const r=St(e),s=(this.children.get(r)||new nn(null)).set(rn(e),t),o=this.children.insert(r,s);return new nn(this.value,o)}}remove(e){if(bt(e))return this.children.isEmpty()?new nn(null):new nn(null,this.children);{const t=St(e),r=this.children.get(t);if(r){const i=r.remove(rn(e));let s;return i.isEmpty()?s=this.children.remove(t):s=this.children.insert(t,i),this.value===null&&s.isEmpty()?new nn(null):new nn(this.value,s)}else return this}}get(e){if(bt(e))return this.value;{const t=St(e),r=this.children.get(t);return r?r.get(rn(e)):null}}setTree(e,t){if(bt(e))return t;{const r=St(e),s=(this.children.get(r)||new nn(null)).setTree(rn(e),t);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new nn(this.value,o)}}fold(e){return this.fold_($t(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(jn(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,$t(),t)}findOnPath_(e,t,r){const i=this.value?r(t,this.value):!1;if(i)return i;if(bt(e))return null;{const s=St(e),o=this.children.get(s);return o?o.findOnPath_(rn(e),jn(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,$t(),t)}foreachOnPath_(e,t,r){if(bt(e))return this;{this.value&&r(t,this.value);const i=St(e),s=this.children.get(i);return s?s.foreachOnPath_(rn(e),jn(t,i),r):new nn(null)}}foreach(e){this.foreach_($t(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(jn(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.writeTree_=e}static empty(){return new ds(new nn(null))}}function oh(n,e,t){if(bt(e))return new ds(new nn(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Vi(i,e);return s=s.updateChild(o,t),new ds(n.writeTree_.set(i,s))}else{const i=new nn(t),s=n.writeTree_.setTree(e,i);return new ds(s)}}}function k2(n,e,t){let r=n;return Xi(t,(i,s)=>{r=oh(r,jn(e,i),s)}),r}function N2(n,e){if(bt(e))return ds.empty();{const t=n.writeTree_.setTree(e,new nn(null));return new ds(t)}}function oS(n,e){return _u(n,e)!=null}function _u(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Vi(t.path,e)):null}function O2(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Mr,(r,i)=>{e.push(new Rt(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Rt(r,i.value))}),e}function Ma(n,e){if(bt(e))return n;{const t=_u(n,e);return t!=null?new ds(new nn(t)):new ds(n.writeTree_.subtree(e))}}function aS(n){return n.writeTree_.isEmpty()}function of(n,e){return uF($t(),n.writeTree_,e)}function uF(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(He(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):t=uF(jn(n,i),s,t)}),!t.getChild(n).isEmpty()&&r!==null&&(t=t.updateChild(jn(n,".priority"),r)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(n,e){return mF(e,n)}function C$(n,e,t,r,i){He(r>n.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=oh(n.visibleWrites,e,t)),n.lastWriteId=r}function b$(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}function T$(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);He(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&R$(a,r.path)?i=!1:cs(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return P$(n),!0;if(r.snap)n.visibleWrites=N2(n.visibleWrites,r.path);else{const a=r.children;Xi(a,l=>{n.visibleWrites=N2(n.visibleWrites,jn(r.path,l))})}return!0}else return!1}function R$(n,e){if(n.snap)return cs(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&cs(jn(n.path,t),e))return!0;return!1}function P$(n){n.visibleWrites=fF(n.allWrites,I$,$t()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function I$(n){return n.visible}function fF(n,e,t){let r=ds.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const o=s.path;let a;if(s.snap)cs(t,o)?(a=Vi(t,o),r=oh(r,a,s.snap)):cs(o,t)&&(a=Vi(o,t),r=oh(r,$t(),s.snap.getChild(a)));else if(s.children){if(cs(t,o))a=Vi(t,o),r=k2(r,a,s.children);else if(cs(o,t))if(a=Vi(o,t),bt(a))r=k2(r,$t(),s.children);else{const l=rf(s.children,St(a));if(l){const u=l.getChild(rn(a));r=oh(r,$t(),u)}}}else throw Lf("WriteRecord should have .snap or .children")}}return r}function dF(n,e,t,r,i){if(!r&&!i){const s=_u(n.visibleWrites,e);if(s!=null)return s;{const o=Ma(n.visibleWrites,e);if(aS(o))return t;if(t==null&&!oS(o,$t()))return null;{const a=t||Gt.EMPTY_NODE;return of(o,a)}}}else{const s=Ma(n.visibleWrites,e);if(!i&&aS(s))return t;if(!i&&t==null&&!oS(s,$t()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(cs(u.path,e)||cs(e,u.path))},a=fF(n.allWrites,o,e),l=t||Gt.EMPTY_NODE;return of(a,l)}}}function B$(n,e,t){let r=Gt.EMPTY_NODE;const i=_u(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Mr,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){const s=Ma(n.visibleWrites,e);return t.forEachChild(Mr,(o,a)=>{const l=of(Ma(s,new on(o)),a);r=r.updateImmediateChild(o,l)}),O2(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Ma(n.visibleWrites,e);return O2(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function L$(n,e,t,r,i){He(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=jn(e,t);if(oS(n.visibleWrites,s))return null;{const o=Ma(n.visibleWrites,s);return aS(o)?i.getChild(t):of(o,i.getChild(t))}}function D$(n,e,t,r){const i=jn(e,t),s=_u(n.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(t)){const o=Ma(n.visibleWrites,i);return of(o,r.getNode().getImmediateChild(t))}else return null}function F$(n,e){return _u(n.visibleWrites,e)}function k$(n,e,t,r,i,s,o){let a;const l=Ma(n.visibleWrites,e),u=_u(l,$t());if(u!=null)a=u;else if(t!=null)a=of(l,t);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],h=o.getCompare(),p=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let m=p.getNext();for(;m&&d.length<i;)h(m,r)!==0&&d.push(m),m=p.getNext();return d}else return[]}function N$(){return{visibleWrites:ds.empty(),allWrites:[],lastWriteId:-1}}function lS(n,e,t,r){return dF(n.writeTree,n.treePath,e,t,r)}function hF(n,e){return B$(n.writeTree,n.treePath,e)}function H2(n,e,t,r){return L$(n.writeTree,n.treePath,e,t,r)}function S0(n,e){return F$(n.writeTree,jn(n.treePath,e))}function O$(n,e,t,r,i,s){return k$(n.writeTree,n.treePath,e,t,r,i,s)}function zM(n,e,t){return D$(n.writeTree,n.treePath,e,t)}function pF(n,e){return mF(jn(n.treePath,e),n.writeTree)}function mF(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;He(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),He(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(t==="child_added"&&s==="child_removed")this.changeMap.set(r,B2(r,e.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&s==="child_changed")this.changeMap.set(r,p$(r,i.oldSnap));else if(t==="child_changed"&&s==="child_added")this.changeMap.set(r,h$(r,e.snapshotNode));else if(t==="child_changed"&&s==="child_changed")this.changeMap.set(r,B2(r,e.snapshotNode,i.oldSnap));else throw Lf("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}}const gF=new U$;class WM{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new GM(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return zM(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ou(this.viewCache_),s=O$(this.writes_,i,t,1,r,e);return s.length===0?null:s[0]}}function G$(n,e){He(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),He(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function z$(n,e,t,r,i){const s=new H$;let o,a;if(t.type===Ns.OVERWRITE){const u=t;u.source.fromUser?o=uS(n,e,u.path,u.snap,r,i,s):(He(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!bt(u.path),o=A0(n,e,u.path,u.snap,r,i,a,s))}else if(t.type===Ns.MERGE){const u=t;u.source.fromUser?o=V$(n,e,u.path,u.children,r,i,s):(He(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=cS(n,e,u.path,u.children,r,i,a,s))}else if(t.type===Ns.ACK_USER_WRITE){const u=t;u.revert?o=$$(n,e,u.path,r,i,s):o=j$(n,e,u.path,u.affectedTree,r,i,s)}else if(t.type===Ns.LISTEN_COMPLETE)o=J$(n,e,t.path,r,s);else throw Lf("Unknown operation type: "+t.type);const l=s.getChanges();return W$(e,o,l),{viewCache:o,changes:l}}function W$(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=sS(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(d$(sS(e)))}}function yF(n,e,t,r,i,s){const o=e.eventCache;if(S0(r,t)!=null)return e;{let a,l;if(bt(t))if(He(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=ou(e),d=u instanceof Gt?u:Gt.EMPTY_NODE,h=hF(r,d);a=n.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const u=lS(r,ou(e));a=n.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=St(t);if(u===".priority"){He(Pa(t)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const h=H2(r,t,d,l);h!=null?a=n.filter.updatePriority(d,h):a=o.getNode()}else{const d=rn(t);let h;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const p=H2(r,t,o.getNode(),l);p!=null?h=o.getNode().getImmediateChild(u).updateChild(d,p):h=o.getNode().getImmediateChild(u)}else h=zM(r,u,e.serverCache);h!=null?a=n.filter.updateChild(o.getNode(),u,h,d,i,s):a=o.getNode()}}return sh(e,a,o.isFullyInitialized()||bt(t),n.filter.filtersNodes())}}function A0(n,e,t,r,i,s,o,a){const l=e.serverCache;let u;const d=o?n.filter:n.filter.getIndexedFilter();if(bt(t))u=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const m=l.getNode().updateChild(t,r);u=d.updateFullNode(l.getNode(),m,null)}else{const m=St(t);if(!l.isCompleteForPath(t)&&Pa(t)>1)return e;const v=rn(t),_=l.getNode().getImmediateChild(m).updateChild(v,r);m===".priority"?u=d.updatePriority(l.getNode(),_):u=d.updateChild(l.getNode(),m,_,v,gF,null)}const h=lF(e,u,l.isFullyInitialized()||bt(t),d.filtersNodes()),p=new WM(i,h,s);return yF(n,h,t,i,p,a)}function uS(n,e,t,r,i,s,o){const a=e.eventCache;let l,u;const d=new WM(i,e,s);if(bt(t))u=n.filter.updateFullNode(e.eventCache.getNode(),r,o),l=sh(e,u,!0,n.filter.filtersNodes());else{const h=St(t);if(h===".priority")u=n.filter.updatePriority(e.eventCache.getNode(),r),l=sh(e,u,a.isFullyInitialized(),a.isFiltered());else{const p=rn(t),m=a.getNode().getImmediateChild(h);let v;if(bt(p))v=r;else{const y=d.getCompleteChild(h);y!=null?$3(p)===".priority"&&y.getChild(X3(p)).isEmpty()?v=y:v=y.updateChild(p,r):v=Gt.EMPTY_NODE}if(m.equals(v))l=e;else{const y=n.filter.updateChild(a.getNode(),h,v,p,d,o);l=sh(e,y,a.isFullyInitialized(),n.filter.filtersNodes())}}}return l}function U2(n,e){return n.eventCache.isCompleteForChild(e)}function V$(n,e,t,r,i,s,o){let a=e;return r.foreach((l,u)=>{const d=jn(t,l);U2(e,St(d))&&(a=uS(n,a,d,u,i,s,o))}),r.foreach((l,u)=>{const d=jn(t,l);U2(e,St(d))||(a=uS(n,a,d,u,i,s,o))}),a}function G2(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function cS(n,e,t,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;bt(t)?u=r:u=new nn(null).setTree(t,r);const d=e.serverCache.getNode();return u.children.inorderTraversal((h,p)=>{if(d.hasChild(h)){const m=e.serverCache.getNode().getImmediateChild(h),v=G2(n,m,p);l=A0(n,l,new on(h),v,i,s,o,a)}}),u.children.inorderTraversal((h,p)=>{const m=!e.serverCache.isCompleteForChild(h)&&p.value===void 0;if(!d.hasChild(h)&&!m){const v=e.serverCache.getNode().getImmediateChild(h),y=G2(n,v,p);l=A0(n,l,new on(h),y,i,s,o,a)}}),l}function j$(n,e,t,r,i,s,o){if(S0(i,t)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(bt(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return A0(n,e,t,l.getNode().getChild(t),i,s,a,o);if(bt(t)){let u=new nn(null);return l.getNode().forEachChild(Wc,(d,h)=>{u=u.set(new on(d),h)}),cS(n,e,t,u,i,s,a,o)}else return e}else{let u=new nn(null);return r.foreach((d,h)=>{const p=jn(t,d);l.isCompleteForPath(p)&&(u=u.set(d,l.getNode().getChild(p)))}),cS(n,e,t,u,i,s,a,o)}}function J$(n,e,t,r,i){const s=e.serverCache,o=lF(e,s.getNode(),s.isFullyInitialized()||bt(t),s.isFiltered());return yF(n,o,t,r,gF,i)}function $$(n,e,t,r,i,s){let o;if(S0(r,t)!=null)return e;{const a=new WM(r,e,i),l=e.eventCache.getNode();let u;if(bt(t)||St(t)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=lS(r,ou(e));else{const h=e.serverCache.getNode();He(h instanceof Gt,"serverChildren would be complete if leaf node"),d=hF(r,h)}d=d,u=n.filter.updateFullNode(l,d,s)}else{const d=St(t);let h=zM(r,d,e.serverCache);h==null&&e.serverCache.isCompleteForChild(d)&&(h=l.getImmediateChild(d)),h!=null?u=n.filter.updateChild(l,d,h,rn(t),a,s):e.eventCache.getNode().hasChild(d)?u=n.filter.updateChild(l,d,Gt.EMPTY_NODE,rn(t),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=lS(r,ou(e)),o.isLeafNode()&&(u=n.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||S0(r,$t())!=null,sh(e,u,o,n.filter.filtersNodes())}}function K$(n,e){const t=ou(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!bt(e)&&!t.getImmediateChild(St(e)).isEmpty())?t.getChild(e):null}function z2(n,e,t,r){e.type===Ns.MERGE&&e.source.queryId!==null&&(He(ou(n.viewCache_),"We should always have a full cache before handling merges"),He(sS(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=z$(n.processor_,i,e,t,r);return G$(n.processor_,s.viewCache),He(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,X$(n,s.changes,s.viewCache.eventCache.getNode(),null)}function X$(n,e,t,r){const i=r?[r]:n.eventRegistrations_;return S$(n.eventGenerator_,e,t,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W2;function Q$(n){He(!W2,"__referenceConstructor has already been defined"),W2=n}function VM(n,e,t,r){const i=e.source.queryId;if(i!==null){const s=n.views.get(i);return He(s!=null,"SyncTree gave us an op for an invalid query."),z2(s,e,t,r)}else{let s=[];for(const o of n.views.values())s=s.concat(z2(o,e,t,r));return s}}function jM(n,e){let t=null;for(const r of n.views.values())t=t||K$(r,e);return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V2;function Y$(n){He(!V2,"__referenceConstructor has already been defined"),V2=n}class j2{constructor(e){this.listenProvider_=e,this.syncPointTree_=new nn(null),this.pendingWriteTree_=N$(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function vF(n,e,t,r,i){return C$(n.pendingWriteTree_,e,t,r,i),i?Sv(n,new su(iF(),e,t)):[]}function Nl(n,e,t=!1){const r=b$(n.pendingWriteTree_,e);if(T$(n.pendingWriteTree_,e)){let s=new nn(null);return r.snap!=null?s=s.set($t(),!0):Xi(r.children,o=>{s=s.set(new on(o),!0)}),Sv(n,new w0(r.path,s,t))}else return[]}function wv(n,e,t){return Sv(n,new su(sF(),e,t))}function q$(n,e,t){const r=nn.fromObject(t);return Sv(n,new Gh(sF(),e,r))}function Z$(n,e,t,r){const i=wF(n,r);if(i!=null){const s=SF(i),o=s.path,a=s.queryId,l=Vi(o,e),u=new su(oF(a),l,t);return AF(n,o,u)}else return[]}function eK(n,e,t,r){const i=wF(n,r);if(i){const s=SF(i),o=s.path,a=s.queryId,l=Vi(o,e),u=nn.fromObject(t),d=new Gh(oF(a),l,u);return AF(n,o,d)}else return[]}function JM(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{const l=Vi(o,e),u=jM(a,l);if(u)return u});return dF(i,e,s,t,!0)}function Sv(n,e){return _F(e,n.syncPointTree_,null,cF(n.pendingWriteTree_,$t()))}function _F(n,e,t,r){if(bt(n.path))return xF(n,e,t,r);{const i=e.get($t());t==null&&i!=null&&(t=jM(i,$t()));let s=[];const o=St(n.path),a=n.operationForChild(o),l=e.children.get(o);if(l&&a){const u=t?t.getImmediateChild(o):null,d=pF(r,o);s=s.concat(_F(a,l,u,d))}return i&&(s=s.concat(VM(i,n,r,t))),s}}function xF(n,e,t,r){const i=e.get($t());t==null&&i!=null&&(t=jM(i,$t()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=t?t.getImmediateChild(o):null,u=pF(r,o),d=n.operationForChild(o);d&&(s=s.concat(xF(d,a,l,u)))}),i&&(s=s.concat(VM(i,n,r,t))),s}function wF(n,e){return n.tagToQueryMap.get(e)}function SF(n){const e=n.indexOf("$");return He(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new on(n.substr(0,e))}}function AF(n,e,t){const r=n.syncPointTree_.get(e);He(r,"Missing sync point for query tag that we're tracking");const i=cF(n.pendingWriteTree_,e);return VM(r,t,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new $M(t)}node(){return this.node_}}class KM{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=jn(this.path_,e);return new KM(this.syncTree_,t)}node(){return JM(this.syncTree_,this.path_)}}const tK=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},J2=function(n,e,t){if(!n||typeof n!="object")return n;if(He(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return nK(n[".sv"],e,t);if(typeof n[".sv"]=="object")return rK(n[".sv"],e);He(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},nK=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:He(!1,"Unexpected server value: "+n)}},rK=function(n,e,t){n.hasOwnProperty("increment")||He(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;typeof r!="number"&&He(!1,"Unexpected increment value: "+r);const i=e.node();if(He(i!==null&&typeof i!="undefined","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},iK=function(n,e,t,r){return XM(e,new KM(t,n),r)},MF=function(n,e,t){return XM(n,new $M(e),t)};function XM(n,e,t){const r=n.getPriority().val(),i=J2(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,a=J2(o.getValue(),e,t);return a!==o.getValue()||i!==o.getPriority().val()?new Zn(a,or(i)):n}else{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Zn(i))),o.forEachChild(Mr,(a,l)=>{const u=XM(l,e.getImmediateChild(a),t);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function YM(n,e){let t=e instanceof on?e:new on(e),r=n,i=St(t);for(;i!==null;){const s=rf(r.node.children,i)||{children:{},childCount:0};r=new QM(i,r,s),t=rn(t),i=St(t)}return r}function kf(n){return n.node.value}function EF(n,e){n.node.value=e,fS(n)}function CF(n){return n.node.childCount>0}function sK(n){return kf(n)===void 0&&!CF(n)}function Av(n,e){Xi(n.node.children,(t,r)=>{e(new QM(t,n,r))})}function bF(n,e,t,r){t&&!r&&e(n),Av(n,i=>{bF(i,e,!0,r)}),t&&r&&e(n)}function oK(n,e,t){let r=t?n:n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ip(n){return new on(n.parent===null?n.name:Ip(n.parent)+"/"+n.name)}function fS(n){n.parent!==null&&aK(n.parent,n.name,n)}function aK(n,e,t){const r=sK(t),i=Fo(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,fS(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,fS(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lK=/[\[\].#$\/\u0000-\u001F\u007F]/,uK=/[\[\].#$\u0000-\u001F\u007F]/,Jx=10*1024*1024,TF=function(n){return typeof n=="string"&&n.length!==0&&!lK.test(n)},RF=function(n){return typeof n=="string"&&n.length!==0&&!uK.test(n)},cK=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),RF(n)},fK=function(n,e,t,r){r&&e===void 0||qM(IM(n,"value"),e,t)},qM=function(n,e,t){const r=t instanceof on?new jJ(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+El(r));if(typeof e=="function")throw new Error(n+"contains a function "+El(r)+" with contents = "+e.toString());if(T3(e))throw new Error(n+"contains "+e.toString()+" "+El(r));if(typeof e=="string"&&e.length>Jx/3&&vv(e)>Jx)throw new Error(n+"contains a string greater than "+Jx+" utf8 bytes "+El(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Xi(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!TF(o)))throw new Error(n+" contains an invalid key ("+o+") "+El(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);JJ(r,o),qM(n,a,r),$J(r)}),i&&s)throw new Error(n+' contains ".value" child '+El(r)+" in addition to actual children.")}},PF=function(n,e,t,r){if(!(r&&t===void 0)&&!RF(t))throw new Error(IM(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},dK=function(n,e,t,r){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),PF(n,e,t,r)},hK=function(n,e){if(St(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},pK=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!TF(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!cK(t))throw new Error(IM(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mK{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function IF(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();t!==null&&!Q3(s,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function Po(n,e,t){IF(n,t),gK(n,r=>cs(r,e)||cs(e,r))}function gK(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];if(i){const s=i.path;e(s)?(yK(n.eventLists_[r]),n.eventLists_[r]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function yK(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const r=t.getEventRunner();Vl&&Sr("event: "+t.toString()),Ff(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vK="repo_interrupt",_K=25;class xK{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new mK,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=x0(),this.transactionQueueTree_=new QM,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function wK(n,e,t){if(n.stats_=FM(n.repoInfo_),n.forceRestClient_||pJ())n.server_=new _0(n.repoInfo_,(r,i,s,o)=>{$2(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>K2(n,!0),0);else{if(typeof t!="undefined"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ar(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Eo(n.repoInfo_,e,(r,i,s,o)=>{$2(n,r,i,s,o)},r=>{K2(n,r)},r=>{AK(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=wJ(n.repoInfo_,()=>new w$(n.stats_,n.server_)),n.infoData_=new g$,n.infoSyncTree_=new j2({startListening:(r,i,s,o)=>{let a=[];const l=n.infoData_.getNode(r._path);return l.isEmpty()||(a=wv(n.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),eE(n,"connected",!1),n.serverSyncTree_=new j2({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Po(n.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}function SK(n){const t=n.infoData_.getNode(new on(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function ZM(n){return tK({timestamp:SK(n)})}function $2(n,e,t,r,i){n.dataUpdateCount++;const s=new on(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){const l=h0(t,u=>or(u));o=eK(n.serverSyncTree_,s,l,i)}else{const l=or(t);o=Z$(n.serverSyncTree_,s,l,i)}else if(r){const l=h0(t,u=>or(u));o=q$(n.serverSyncTree_,s,l)}else{const l=or(t);o=wv(n.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Mv(n,s)),Po(n.eventQueue_,a,o)}function K2(n,e){eE(n,"connected",e),e===!1&&EK(n)}function AK(n,e){Xi(e,(t,r)=>{eE(n,t,r)})}function eE(n,e,t){const r=new on("/.info/"+e),i=or(t);n.infoData_.updateSnapshot(r,i);const s=wv(n.infoSyncTree_,r,i);Po(n.eventQueue_,r,s)}function BF(n){return n.nextWriteId_++}function MK(n,e,t,r,i){tE(n,"set",{path:e.toString(),value:t,priority:r});const s=ZM(n),o=or(t,r),a=JM(n.serverSyncTree_,e),l=MF(o,a,s),u=BF(n),d=vF(n.serverSyncTree_,e,l,u,!0);IF(n.eventQueue_,d),n.server_.put(e.toString(),o.val(!0),(p,m)=>{const v=p==="ok";v||ri("set at "+e+" failed: "+p);const y=Nl(n.serverSyncTree_,u,!v);Po(n.eventQueue_,e,y),bK(n,i,p,m)});const h=NF(n,e);Mv(n,h),Po(n.eventQueue_,h,[])}function EK(n){tE(n,"onDisconnectEvents");const e=ZM(n),t=x0();iS(n.onDisconnect_,$t(),(i,s)=>{const o=iK(i,s,n.serverSyncTree_,e);rF(t,i,o)});let r=[];iS(t,$t(),(i,s)=>{r=r.concat(wv(n.serverSyncTree_,i,s));const o=NF(n,i);Mv(n,o)}),n.onDisconnect_=x0(),Po(n.eventQueue_,$t(),r)}function CK(n){n.persistentConnection_&&n.persistentConnection_.interrupt(vK)}function tE(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Sr(t,...e)}function bK(n,e,t,r){e&&Ff(()=>{if(t==="ok")e(null);else{const i=(t||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function LF(n,e,t){return JM(n.serverSyncTree_,e,t)||Gt.EMPTY_NODE}function nE(n,e=n.transactionQueueTree_){if(e||Ev(n,e),kf(e)){const t=FF(n,e);He(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&TK(n,Ip(e),t)}else CF(e)&&Av(e,t=>{nE(n,t)})}function TK(n,e,t){const r=t.map(u=>u.currentWriteId),i=LF(n,e,r);let s=i;const o=i.hash();for(let u=0;u<t.length;u++){const d=t[u];He(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const h=Vi(e,d.path);s=s.updateChild(h,d.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;n.server_.put(l.toString(),a,u=>{tE(n,"transaction put response",{path:l.toString(),status:u});let d=[];if(u==="ok"){const h=[];for(let p=0;p<t.length;p++)t[p].status=2,d=d.concat(Nl(n.serverSyncTree_,t[p].currentWriteId)),t[p].onComplete&&h.push(()=>t[p].onComplete(null,!0,t[p].currentOutputSnapshotResolved)),t[p].unwatcher();Ev(n,YM(n.transactionQueueTree_,e)),nE(n,n.transactionQueueTree_),Po(n.eventQueue_,e,d);for(let p=0;p<h.length;p++)Ff(h[p])}else{if(u==="datastale")for(let h=0;h<t.length;h++)t[h].status===3?t[h].status=4:t[h].status=0;else{ri("transaction at "+l.toString()+" failed: "+u);for(let h=0;h<t.length;h++)t[h].status=4,t[h].abortReason=u}Mv(n,e)}},o)}function Mv(n,e){const t=DF(n,e),r=Ip(t),i=FF(n,t);return RK(n,i,r),r}function RK(n,e,t){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Vi(t,l.path);let d=!1,h;if(He(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,h=l.abortReason,i=i.concat(Nl(n.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=_K)d=!0,h="maxretry",i=i.concat(Nl(n.serverSyncTree_,l.currentWriteId,!0));else{const p=LF(n,l.path,o);l.currentInputSnapshot=p;const m=e[a].update(p.val());if(m!==void 0){qM("transaction failed: Data returned ",m,l.path);let v=or(m);typeof m=="object"&&m!=null&&Fo(m,".priority")||(v=v.updatePriority(p.getPriority()));const _=l.currentWriteId,w=ZM(n),x=MF(v,p,w);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=x,l.currentWriteId=BF(n),o.splice(o.indexOf(_),1),i=i.concat(vF(n.serverSyncTree_,l.path,x,l.currentWriteId,l.applyLocally)),i=i.concat(Nl(n.serverSyncTree_,_,!0))}else d=!0,h="nodata",i=i.concat(Nl(n.serverSyncTree_,l.currentWriteId,!0))}Po(n.eventQueue_,t,i),i=[],d&&(e[a].status=2,function(p){setTimeout(p,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}Ev(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)Ff(r[a]);nE(n,n.transactionQueueTree_)}function DF(n,e){let t,r=n.transactionQueueTree_;for(t=St(e);t!==null&&kf(r)===void 0;)r=YM(r,t),e=rn(e),t=St(e);return r}function FF(n,e){const t=[];return kF(n,e,t),t.sort((r,i)=>r.order-i.order),t}function kF(n,e,t){const r=kf(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);Av(e,i=>{kF(n,i,t)})}function Ev(n,e){const t=kf(e);if(t){let r=0;for(let i=0;i<t.length;i++)t[i].status!==2&&(t[r]=t[i],r++);t.length=r,EF(e,t.length>0?t:void 0)}Av(e,r=>{Ev(n,r)})}function NF(n,e){const t=Ip(DF(n,e)),r=YM(n.transactionQueueTree_,e);return oK(r,i=>{$x(n,i)}),$x(n,r),bF(r,i=>{$x(n,i)}),t}function $x(n,e){const t=kf(e);if(t){const r=[];let i=[],s=-1;for(let o=0;o<t.length;o++)t[o].status===3||(t[o].status===1?(He(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(He(t[o].status===0,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(Nl(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?EF(e,void 0):t.length=s+1,Po(n.eventQueue_,Ip(e),i);for(let o=0;o<r.length;o++)Ff(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PK(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function IK(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const r=t.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ri(`Invalid query segment '${t}' in query '${n}'`)}return e}const X2=function(n,e){const t=BK(n),r=t.namespace;t.domain==="firebase.com"&&ru(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&ru("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||oJ();const i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new vJ(t.host,t.secure,r,e,i,"",r!==t.subdomain),path:new on(t.pathString)}},BK=function(n){let e="",t="",r="",i="",s="",o=!0,a="https",l=443;if(typeof n=="string"){let u=n.indexOf("//");u>=0&&(a=n.substring(0,u-1),n=n.substring(u+2));let d=n.indexOf("/");d===-1&&(d=n.length);let h=n.indexOf("?");h===-1&&(h=n.length),e=n.substring(0,Math.min(d,h)),d<h&&(i=PK(n.substring(d,h)));const p=IK(n.substring(Math.min(n.length,h)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const m=e.slice(0,u);if(m.toLowerCase()==="localhost")t="localhost";else if(m.split(".").length<=2)t=m;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),t=e.substring(v+1),s=r}"ns"in p&&(s=p.ns)}return{host:e,port:l,domain:t,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return bt(this._path)?null:$3(this._path)}get ref(){return new xu(this._repo,this._path)}get _queryIdentifier(){const e=D2(this._queryParams),t=LM(e);return t==="{}"?"default":t}get _queryObject(){return D2(this._queryParams)}isEqual(e){if(e=_v(e),!(e instanceof rE))return!1;const t=this._repo===e._repo,r=Q3(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+VJ(this._path)}}class xu extends rE{constructor(e,t){super(e,t,new UM,!1)}get parent(){const e=X3(this._path);return e===null?null:new xu(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}function Zre(n,e){return n=_v(n),n._checkNotDeleted("ref"),e!==void 0?LK(n._root,e):n._root}function LK(n,e){return n=_v(n),St(n._path)===null?dK("child","path",e,!1):PF("child","path",e,!1),new xu(n._repo,jn(n._path,e))}function eie(n,e){n=_v(n),hK("set",n._path),fK("set",e,n._path,!1);const t=new yv;return MK(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}Q$(xu);Y$(xu);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DK="FIREBASE_DATABASE_EMULATOR_HOST",dS={};let FK=!1;function kK(n,e,t,r,i){let s=r||n.options.databaseURL;s===void 0&&(n.options.projectId||ru("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Sr("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let o=X2(s,i),a=o.repoInfo,l,u;typeof process!="undefined"&&(u=process.env[DK]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=X2(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const d=i&&l?new tS(tS.OWNER):new gJ(n.name,n.options,e);pK("Invalid Firebase Database URL",o),bt(o.path)||ru("Database URL must point to the root of a Firebase Database (not including a child path).");const h=OK(a,n,d,new mJ(n.name,t));return new HK(h,n)}function NK(n,e){const t=dS[e];(!t||t[n.key]!==n)&&ru(`Database ${e}(${n.repoInfo_}) has already been deleted.`),CK(n),delete t[n.key]}function OK(n,e,t,r){let i=dS[e.name];i||(i={},dS[e.name]=i);let s=i[n.toURLString()];return s&&ru("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new xK(n,FK,t,r),i[n.toURLString()]=s,s}class HK{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(wK(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new xu(this._repo,$t())),this._rootInternal}_delete(){return this._rootInternal!==null&&(NK(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ru("Cannot call "+e+" on a deleted database.")}}function tie(n=jj(),e){return Gj(n,"database").getImmediate({identifier:e})}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UK(n){tJ(Vj),m0(new Hh("database",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return kK(r,i,s,t)},"PUBLIC").setMultipleInstances(!0)),Gc(g2,y2,n),Gc(g2,y2,"esm2017")}Eo.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Eo.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};UK();var GK="firebase",zK="9.6.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gc(GK,zK,"app");function WK(n){return Qi("MuiAlert",n)}const VK=Hr("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);var Q2=VK;function jK(n){return Qi("MuiIconButton",n)}const JK=Hr("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]);var $K=JK;const KK=["edge","children","className","color","disabled","disableFocusRipple","size"],XK=n=>{const{classes:e,disabled:t,color:r,edge:i,size:s}=n,o={root:["root",t&&"disabled",r!=="default"&&`color${Er(r)}`,i&&`edge${Er(i)}`,`size${Er(s)}`]};return vs(o,jK,e)},QK=zn(jD,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="default"&&e[`color${Er(t.color)}`],t.edge&&e[`edge${Er(t.edge)}`],e[`size${Er(t.size)}`]]}})(({theme:n,ownerState:e})=>Ie({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:n.palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:pa(n.palette.action.active,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:n,ownerState:e})=>Ie({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&Ie({color:n.palette[e.color].main},!e.disableRipple&&{"&:hover":{backgroundColor:pa(n.palette[e.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),e.size==="small"&&{padding:5,fontSize:n.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:n.typography.pxToRem(28)},{[`&.${$K.disabled}`]:{backgroundColor:"transparent",color:n.palette.action.disabled}})),YK=X.exports.forwardRef(function(e,t){const r=Yi({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:u=!1,size:d="medium"}=r,h=zt(r,KK),p=Ie({},r,{edge:i,color:a,disabled:l,disableFocusRipple:u,size:d}),m=XK(p);return ot(QK,Ie({className:Pn(m.root,o),centerRipple:!0,focusRipple:!u,disabled:l,ref:t,ownerState:p},h,{children:s}))});var qK=YK;function ZK(n){return Qi("MuiSvgIcon",n)}Hr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const eX=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],tX=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${Er(e)}`,`fontSize${Er(t)}`]};return vs(i,ZK,r)},nX=zn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Er(t.color)}`],e[`fontSize${Er(t.fontSize)}`]]}})(({theme:n,ownerState:e})=>{var t,r,i,s,o,a,l,u,d,h,p,m,v,y,_,w,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(t=n.transitions)==null||(r=t.create)==null?void 0:r.call(t,"fill",{duration:(i=n.transitions)==null||(s=i.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((o=n.typography)==null||(a=o.pxToRem)==null?void 0:a.call(o,20))||"1.25rem",medium:((l=n.typography)==null||(u=l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem",large:((d=n.typography)==null||(h=d.pxToRem)==null?void 0:h.call(d,35))||"2.1875"}[e.fontSize],color:(p=(m=n.palette)==null||(v=m[e.color])==null?void 0:v.main)!=null?p:{action:(y=n.palette)==null||(_=y.action)==null?void 0:_.active,disabled:(w=n.palette)==null||(x=w.action)==null?void 0:x.disabled,inherit:void 0}[e.color]}}),OF=X.exports.forwardRef(function(e,t){const r=Yi({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:h,viewBox:p="0 0 24 24"}=r,m=zt(r,eX),v=Ie({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:p}),y={};d||(y.viewBox=p);const _=tX(v);return vu(nX,Ie({as:a,className:Pn(_.root,s),ownerState:v,focusable:"false",color:u,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:t},y,m,{children:[i,h?ot("title",{children:h}):null]}))});OF.muiName="SvgIcon";var Y2=OF;function Bp(n,e){const t=(r,i)=>ot(Y2,Ie({"data-testid":`${e}Icon`,ref:i},r,{children:n}));return t.muiName=Y2.muiName,X.exports.memo(X.exports.forwardRef(t))}var rX=Bp(ot("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),iX=Bp(ot("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),sX=Bp(ot("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),oX=Bp(ot("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),aX=Bp(ot("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),q2;const lX=["action","children","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"],uX=n=>{const{variant:e,color:t,severity:r,classes:i}=n,s={root:["root",`${e}${Er(t||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return vs(s,WK,i)},cX=zn(xM,{name:"MuiAlert",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${Er(t.color||t.severity)}`]]}})(({theme:n,ownerState:e})=>{const t=n.palette.mode==="light"?Gw:zw,r=n.palette.mode==="light"?zw:Gw,i=e.color||e.severity;return Ie({},n.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},i&&e.variant==="standard"&&{color:t(n.palette[i].light,.6),backgroundColor:r(n.palette[i].light,.9),[`& .${Q2.icon}`]:{color:n.palette.mode==="dark"?n.palette[i].main:n.palette[i].light}},i&&e.variant==="outlined"&&{color:t(n.palette[i].light,.6),border:`1px solid ${n.palette[i].light}`,[`& .${Q2.icon}`]:{color:n.palette.mode==="dark"?n.palette[i].main:n.palette[i].light}},i&&e.variant==="filled"&&{color:"#fff",fontWeight:n.typography.fontWeightMedium,backgroundColor:n.palette.mode==="dark"?n.palette[i].dark:n.palette[i].main})}),fX=zn("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(n,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),dX=zn("div",{name:"MuiAlert",slot:"Message",overridesResolver:(n,e)=>e.message})({padding:"8px 0"}),Z2=zn("div",{name:"MuiAlert",slot:"Action",overridesResolver:(n,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),eP={success:ot(rX,{fontSize:"inherit"}),warning:ot(iX,{fontSize:"inherit"}),error:ot(sX,{fontSize:"inherit"}),info:ot(oX,{fontSize:"inherit"})},hX=X.exports.forwardRef(function(e,t){const r=Yi({props:e,name:"MuiAlert"}),{action:i,children:s,className:o,closeText:a="Close",color:l,icon:u,iconMapping:d=eP,onClose:h,role:p="alert",severity:m="success",variant:v="standard"}=r,y=zt(r,lX),_=Ie({},r,{color:l,severity:m,variant:v}),w=uX(_);return vu(cX,Ie({role:p,elevation:0,ownerState:_,className:Pn(w.root,o),ref:t},y,{children:[u!==!1?ot(fX,{ownerState:_,className:w.icon,children:u||d[m]||eP[m]}):null,ot(dX,{ownerState:_,className:w.message,children:s}),i!=null?ot(Z2,{className:w.action,children:i}):null,i==null&&h?ot(Z2,{ownerState:_,className:w.action,children:ot(qK,{size:"small","aria-label":a,title:a,color:"inherit",onClick:h,children:q2||(q2=ot(aX,{fontSize:"small"}))})}):null]}))});var nie=hX;/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Cv="139",Cl={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},bl={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},HF=0,hS=1,UF=2,pX=3,mX=0,iE=1,sE=2,Pc=3,Ia=0,wi=1,Ba=2,oE=1,gX=2,Co=0,jl=1,pS=2,mS=3,gS=4,GF=5,Pl=100,zF=101,WF=102,yS=103,vS=104,VF=200,jF=201,JF=202,$F=203,aE=204,lE=205,KF=206,XF=207,QF=208,YF=209,qF=210,ZF=0,ek=1,tk=2,M0=3,nk=4,rk=5,ik=6,sk=7,Lp=0,ok=1,ak=2,hs=0,lk=1,uk=2,ck=3,uE=4,fk=5,bv=300,La=301,Da=302,zh=303,Wh=304,Nf=306,Fa=1e3,Ar=1001,af=1002,Bn=1003,Vh=1004,yX=1004,jh=1005,vX=1005,vn=1006,Tv=1007,_X=1007,ko=1008,xX=1008,ka=1009,dk=1010,hk=1011,lf=1012,pk=1013,ah=1014,So=1015,Jl=1016,mk=1017,gk=1018,$l=1020,yk=1021,vk=1022,yi=1023,_k=1024,xk=1025,Ea=1026,au=1027,wk=1028,Sk=1029,Ak=1030,Mk=1031,Ek=1033,Ty=33776,Ry=33777,Py=33778,Iy=33779,_S=35840,xS=35841,wS=35842,SS=35843,Ck=36196,AS=37492,MS=37496,ES=37808,CS=37809,bS=37810,TS=37811,RS=37812,PS=37813,IS=37814,BS=37815,LS=37816,DS=37817,FS=37818,kS=37819,NS=37820,OS=37821,HS=36492,bk=2200,Tk=2201,Rk=2202,uf=2300,lu=2301,By=2302,Ol=2400,Hl=2401,Jh=2402,Rv=2500,cE=2501,Pk=0,Ik=1,fE=2,gs=3e3,Ht=3001,Bk=3200,Lk=3201,$a=0,Dk=1,wX="",Ps="srgb",ma="srgb-linear",SX=0,Ly=7680,AX=7681,MX=7682,EX=7683,CX=34055,bX=34056,TX=5386,RX=512,PX=513,IX=514,BX=515,LX=516,DX=517,FX=518,Fk=519,cf=35044,ff=35048,kX=35040,NX=35045,OX=35049,HX=35041,UX=35046,GX=35050,zX=35042,WX="100",US="300 es",E0=1035;class No{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const sr=[];for(let n=0;n<256;n++)sr[n]=(n<16?"0":"")+n.toString(16);let tP=1234567;const Kl=Math.PI/180,$h=180/Math.PI;function Si(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(sr[n&255]+sr[n>>8&255]+sr[n>>16&255]+sr[n>>24&255]+"-"+sr[e&255]+sr[e>>8&255]+"-"+sr[e>>16&15|64]+sr[e>>24&255]+"-"+sr[t&63|128]+sr[t>>8&255]+"-"+sr[t>>16&255]+sr[t>>24&255]+sr[r&255]+sr[r>>8&255]+sr[r>>16&255]+sr[r>>24&255]).toLowerCase()}function Ln(n,e,t){return Math.max(e,Math.min(t,n))}function dE(n,e){return(n%e+e)%e}function VX(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function jX(n,e,t){return n!==e?(t-n)/(e-n):0}function lh(n,e,t){return(1-t)*n+t*e}function JX(n,e,t,r){return lh(n,e,1-Math.exp(-t*r))}function $X(n,e=1){return e-Math.abs(dE(n,e*2)-e)}function KX(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function XX(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function QX(n,e){return n+Math.floor(Math.random()*(e-n+1))}function YX(n,e){return n+Math.random()*(e-n)}function qX(n){return n*(.5-Math.random())}function ZX(n){n!==void 0&&(tP=n);let e=tP+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function eQ(n){return n*Kl}function tQ(n){return n*$h}function GS(n){return(n&n-1)===0&&n!==0}function kk(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function C0(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function nQ(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),u=s((e+r)/2),d=o((e+r)/2),h=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),v=o((r-e)/2);switch(i){case"XYX":n.set(a*d,l*h,l*p,a*u);break;case"YZY":n.set(l*p,a*d,l*h,a*u);break;case"ZXZ":n.set(l*h,l*p,a*d,a*u);break;case"XZX":n.set(a*d,l*v,l*m,a*u);break;case"YXY":n.set(l*m,a*d,l*v,a*u);break;case"ZYZ":n.set(l*v,l*m,a*d,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function rQ(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function iQ(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var zS=Object.freeze({__proto__:null,DEG2RAD:Kl,RAD2DEG:$h,generateUUID:Si,clamp:Ln,euclideanModulo:dE,mapLinear:VX,inverseLerp:jX,lerp:lh,damp:JX,pingpong:$X,smoothstep:KX,smootherstep:XX,randInt:QX,randFloat:YX,randFloatSpread:qX,seededRandom:ZX,degToRad:eQ,radToDeg:tQ,isPowerOfTwo:GS,ceilPowerOfTwo:kk,floorPowerOfTwo:C0,setQuaternionFromProperEuler:nQ,normalize:iQ,denormalize:rQ});class ye{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}ye.prototype.isVector2=!0;class $n{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,s,o,a,l,u){const d=this.elements;return d[0]=e,d[1]=i,d[2]=a,d[3]=t,d[4]=s,d[5]=l,d[6]=r,d[7]=o,d[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],d=r[4],h=r[7],p=r[2],m=r[5],v=r[8],y=i[0],_=i[3],w=i[6],x=i[1],A=i[4],E=i[7],C=i[2],T=i[5],R=i[8];return s[0]=o*y+a*x+l*C,s[3]=o*_+a*A+l*T,s[6]=o*w+a*E+l*R,s[1]=u*y+d*x+h*C,s[4]=u*_+d*A+h*T,s[7]=u*w+d*E+h*R,s[2]=p*y+m*x+v*C,s[5]=p*_+m*A+v*T,s[8]=p*w+m*E+v*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8];return t*o*d-t*a*u-r*s*d+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8],h=d*o-a*u,p=a*l-d*s,m=u*s-o*l,v=t*h+r*p+i*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/v;return e[0]=h*y,e[1]=(i*u-d*r)*y,e[2]=(a*r-i*o)*y,e[3]=p*y,e[4]=(d*t-i*l)*y,e[5]=(i*s-a*t)*y,e[6]=m*y,e[7]=(r*l-u*t)*y,e[8]=(o*t-r*s)*y,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.elements,s=i[0],o=i[3],a=i[6],l=i[1],u=i[4],d=i[7];return i[0]=t*s+r*l,i[3]=t*o+r*u,i[6]=t*a+r*d,i[1]=-r*s+t*l,i[4]=-r*o+t*u,i[7]=-r*a+t*d,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}$n.prototype.isMatrix3=!0;function Nk(n){for(let e=n.length-1;e>=0;--e)if(n[e]>65535)return!0;return!1}const sQ={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Ic(n,e){return new sQ[n](e)}function Kh(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Xl(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Dy(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const Kx={[Ps]:{[ma]:Xl},[ma]:{[Ps]:Dy}},Br={legacyMode:!0,get workingColorSpace(){return ma},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(Kx[e]&&Kx[e][t]!==void 0){const r=Kx[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},Ok={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Vn={r:0,g:0,b:0},ts={h:0,s:0,l:0},wg={h:0,s:0,l:0};function Xx(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function Sg(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}class Pe{constructor(e,t,r){return t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Ps){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Br.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=ma){return this.r=e,this.g=t,this.b=r,Br.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=ma){if(e=dE(e,1),t=Ln(t,0,1),r=Ln(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=Xx(o,s,e+1/3),this.g=Xx(o,s,e),this.b=Xx(o,s,e-1/3)}return Br.toWorkingColorSpace(this,i),this}setStyle(e,t=Ps){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,Br.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,Br.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,u=parseInt(s[2],10)/100,d=parseInt(s[3],10)/100;return r(s[4]),this.setHSL(l,u,d,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,Br.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,Br.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Ps){const r=Ok[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Xl(e.r),this.g=Xl(e.g),this.b=Xl(e.b),this}copyLinearToSRGB(e){return this.r=Dy(e.r),this.g=Dy(e.g),this.b=Dy(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ps){return Br.fromWorkingColorSpace(Sg(this,Vn),e),Ln(Vn.r*255,0,255)<<16^Ln(Vn.g*255,0,255)<<8^Ln(Vn.b*255,0,255)<<0}getHexString(e=Ps){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=ma){Br.fromWorkingColorSpace(Sg(this,Vn),t);const r=Vn.r,i=Vn.g,s=Vn.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const d=(a+o)/2;if(a===o)l=0,u=0;else{const h=o-a;switch(u=d<=.5?h/(o+a):h/(2-o-a),o){case r:l=(i-s)/h+(i<s?6:0);break;case i:l=(s-r)/h+2;break;case s:l=(r-i)/h+4;break}l/=6}return e.h=l,e.s=u,e.l=d,e}getRGB(e,t=ma){return Br.fromWorkingColorSpace(Sg(this,Vn),t),e.r=Vn.r,e.g=Vn.g,e.b=Vn.b,e}getStyle(e=Ps){return Br.fromWorkingColorSpace(Sg(this,Vn),e),e!==Ps?`color(${e} ${Vn.r} ${Vn.g} ${Vn.b})`:`rgb(${Vn.r*255|0},${Vn.g*255|0},${Vn.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(ts),ts.h+=e,ts.s+=t,ts.l+=r,this.setHSL(ts.h,ts.s,ts.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(ts),e.getHSL(wg);const r=lh(ts.h,wg.h,t),i=lh(ts.s,wg.s,t),s=lh(ts.l,wg.l,t);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}Pe.NAMES=Ok;Pe.prototype.isColor=!0;Pe.prototype.r=1;Pe.prototype.g=1;Pe.prototype.b=1;let Ku;class Ka{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Ku===void 0&&(Ku=Kh("canvas")),Ku.width=e.width,Ku.height=e.height;const r=Ku.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=Ku}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement!="undefined"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&e instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&e instanceof ImageBitmap){const t=Kh("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Xl(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Xl(t[r]/255)*255):t[r]=Xl(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Ul{constructor(e=null){this.uuid=Si(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(Qx(i[o].image)):s.push(Qx(i[o]))}else s=Qx(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function Qx(n){return typeof HTMLImageElement!="undefined"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&n instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&n instanceof ImageBitmap?Ka.getDataURL(n):n.data?{data:Array.prototype.slice.call(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}Ul.prototype.isSource=!0;let oQ=0;class wn extends No{constructor(e=wn.DEFAULT_IMAGE,t=wn.DEFAULT_MAPPING,r=Ar,i=Ar,s=vn,o=ko,a=yi,l=ka,u=1,d=gs){super();Object.defineProperty(this,"id",{value:oQ++}),this.uuid=Si(),this.name="",this.source=new Ul(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new ye(0,0),this.repeat=new ye(1,1),this.center=new ye(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new $n,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==bv)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Fa:e.x=e.x-Math.floor(e.x);break;case Ar:e.x=e.x<0?0:1;break;case af:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Fa:e.y=e.y-Math.floor(e.y);break;case Ar:e.y=e.y<0?0:1;break;case af:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}wn.DEFAULT_IMAGE=null;wn.DEFAULT_MAPPING=bv;wn.prototype.isTexture=!0;class Ut{constructor(e=0,t=0,r=0,i=1){this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,u=l[0],d=l[4],h=l[8],p=l[1],m=l[5],v=l[9],y=l[2],_=l[6],w=l[10];if(Math.abs(d-p)<.01&&Math.abs(h-y)<.01&&Math.abs(v-_)<.01){if(Math.abs(d+p)<.1&&Math.abs(h+y)<.1&&Math.abs(v+_)<.1&&Math.abs(u+m+w-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const A=(u+1)/2,E=(m+1)/2,C=(w+1)/2,T=(d+p)/4,R=(h+y)/4,I=(v+_)/4;return A>E&&A>C?A<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(A),i=T/r,s=R/r):E>C?E<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(E),r=T/i,s=I/i):C<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(C),r=R/s,i=I/s),this.set(r,i,s,t),this}let x=Math.sqrt((_-v)*(_-v)+(h-y)*(h-y)+(p-d)*(p-d));return Math.abs(x)<.001&&(x=1),this.x=(_-v)/x,this.y=(h-y)/x,this.z=(p-d)/x,this.w=Math.acos((u+m+w-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}Ut.prototype.isVector4=!0;class ur extends No{constructor(e,t,r={}){super();this.width=e,this.height=t,this.depth=1,this.scissor=new Ut(0,0,e,t),this.scissorTest=!1,this.viewport=new Ut(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new wn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:vn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0,this.texture.image=Object.assign({},e.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}ur.prototype.isWebGLRenderTarget=!0;class Of extends wn{constructor(e=null,t=1,r=1,i=1){super(null);this.image={data:e,width:t,height:r,depth:i},this.magFilter=Bn,this.minFilter=Bn,this.wrapR=Ar,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}Of.prototype.isDataArrayTexture=!0;class Hk extends ur{constructor(e,t,r){super(e,t);this.depth=r,this.texture=new Of(null,e,t,r),this.texture.isRenderTargetTexture=!0}}Hk.prototype.isWebGLArrayRenderTarget=!0;class Dp extends wn{constructor(e=null,t=1,r=1,i=1){super(null);this.image={data:e,width:t,height:r,depth:i},this.magFilter=Bn,this.minFilter=Bn,this.wrapR=Ar,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}Dp.prototype.isData3DTexture=!0;class Uk extends ur{constructor(e,t,r){super(e,t);this.depth=r,this.texture=new Dp(null,e,t,r),this.texture.isRenderTargetTexture=!0}}Uk.prototype.isWebGL3DRenderTarget=!0;class Gk extends ur{constructor(e,t,r,i={}){super(e,t,i);const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone();return this}}Gk.prototype.isWebGLMultipleRenderTargets=!0;class Gn{constructor(e=0,t=0,r=0,i=1){this._x=e,this._y=t,this._z=r,this._w=i}static slerp(e,t,r,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,t,i)}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],u=r[i+1],d=r[i+2],h=r[i+3];const p=s[o+0],m=s[o+1],v=s[o+2],y=s[o+3];if(a===0){e[t+0]=l,e[t+1]=u,e[t+2]=d,e[t+3]=h;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=v,e[t+3]=y;return}if(h!==y||l!==p||u!==m||d!==v){let _=1-a;const w=l*p+u*m+d*v+h*y,x=w>=0?1:-1,A=1-w*w;if(A>Number.EPSILON){const C=Math.sqrt(A),T=Math.atan2(C,w*x);_=Math.sin(_*T)/C,a=Math.sin(a*T)/C}const E=a*x;if(l=l*_+p*E,u=u*_+m*E,d=d*_+v*E,h=h*_+y*E,_===1-a){const C=1/Math.sqrt(l*l+u*u+d*d+h*h);l*=C,u*=C,d*=C,h*=C}}e[t]=l,e[t+1]=u,e[t+2]=d,e[t+3]=h}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],d=r[i+3],h=s[o],p=s[o+1],m=s[o+2],v=s[o+3];return e[t]=a*v+d*h+l*m-u*p,e[t+1]=l*v+d*p+u*h-a*m,e[t+2]=u*v+d*m+a*p-l*h,e[t+3]=d*v-a*h-l*p-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),d=a(i/2),h=a(s/2),p=l(r/2),m=l(i/2),v=l(s/2);switch(o){case"XYZ":this._x=p*d*h+u*m*v,this._y=u*m*h-p*d*v,this._z=u*d*v+p*m*h,this._w=u*d*h-p*m*v;break;case"YXZ":this._x=p*d*h+u*m*v,this._y=u*m*h-p*d*v,this._z=u*d*v-p*m*h,this._w=u*d*h+p*m*v;break;case"ZXY":this._x=p*d*h-u*m*v,this._y=u*m*h+p*d*v,this._z=u*d*v+p*m*h,this._w=u*d*h-p*m*v;break;case"ZYX":this._x=p*d*h-u*m*v,this._y=u*m*h+p*d*v,this._z=u*d*v-p*m*h,this._w=u*d*h+p*m*v;break;case"YZX":this._x=p*d*h+u*m*v,this._y=u*m*h+p*d*v,this._z=u*d*v-p*m*h,this._w=u*d*h-p*m*v;break;case"XZY":this._x=p*d*h-u*m*v,this._y=u*m*h-p*d*v,this._z=u*d*v+p*m*h,this._w=u*d*h+p*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],u=t[2],d=t[6],h=t[10],p=r+a+h;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(d-l)*m,this._y=(s-u)*m,this._z=(o-i)*m}else if(r>a&&r>h){const m=2*Math.sqrt(1+r-a-h);this._w=(d-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+u)/m}else if(a>h){const m=2*Math.sqrt(1+a-r-h);this._w=(s-u)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+d)/m}else{const m=2*Math.sqrt(1+h-r-a);this._w=(o-i)/m,this._x=(s+u)/m,this._y=(l+d)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ln(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,u=t._z,d=t._w;return this._x=r*d+o*a+i*u-s*l,this._y=i*d+o*l+s*a-r*u,this._z=s*d+o*u+r*l-i*a,this._w=o*d-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),d=Math.atan2(u,a),h=Math.sin((1-t)*d)/u,p=Math.sin(t*d)/u;return this._w=o*h+this._w*p,this._x=r*h+this._x*p,this._y=i*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Gn.prototype.isQuaternion=!0;class F{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(nP.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(nP.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*t+o*i-a*r,d=l*r+a*t-s*i,h=l*i+s*r-o*t,p=-s*t-o*r-a*i;return this.x=u*l+p*-s+d*-a-h*-o,this.y=d*l+p*-o+h*-s-u*-a,this.z=h*l+p*-a+u*-o-d*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Yx.copy(this).projectOnVector(e),this.sub(Yx)}reflect(e){return this.sub(Yx.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Ln(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}F.prototype.isVector3=!0;const Yx=new F,nP=new Gn;class ai{constructor(e=new F(1/0,1/0,1/0),t=new F(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.length;l<u;l+=3){const d=e[l],h=e[l+1],p=e[l+2];d<t&&(t=d),h<r&&(r=h),p<i&&(i=p),d>s&&(s=d),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.count;l<u;l++){const d=e.getX(l),h=e.getY(l),p=e.getZ(l);d<t&&(t=d),h<r&&(r=h),p<i&&(i=p),d>s&&(s=d),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=dl.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)dl.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(dl)}else r.boundingBox===null&&r.computeBoundingBox(),qx.copy(r.boundingBox),qx.applyMatrix4(e.matrixWorld),this.union(qx);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,dl),dl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Rd),Ag.subVectors(this.max,Rd),Xu.subVectors(e.a,Rd),Qu.subVectors(e.b,Rd),Yu.subVectors(e.c,Rd),Zo.subVectors(Qu,Xu),ea.subVectors(Yu,Qu),hl.subVectors(Xu,Yu);let t=[0,-Zo.z,Zo.y,0,-ea.z,ea.y,0,-hl.z,hl.y,Zo.z,0,-Zo.x,ea.z,0,-ea.x,hl.z,0,-hl.x,-Zo.y,Zo.x,0,-ea.y,ea.x,0,-hl.y,hl.x,0];return!Zx(t,Xu,Qu,Yu,Ag)||(t=[1,0,0,0,1,0,0,0,1],!Zx(t,Xu,Qu,Yu,Ag))?!1:(Mg.crossVectors(Zo,ea),t=[Mg.x,Mg.y,Mg.z],Zx(t,Xu,Qu,Yu,Ag))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return dl.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(dl).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(so[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),so[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),so[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),so[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),so[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),so[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),so[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),so[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(so),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}ai.prototype.isBox3=!0;const so=[new F,new F,new F,new F,new F,new F,new F,new F],dl=new F,qx=new ai,Xu=new F,Qu=new F,Yu=new F,Zo=new F,ea=new F,hl=new F,Rd=new F,Ag=new F,Mg=new F,pl=new F;function Zx(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){pl.fromArray(n,s);const a=i.x*Math.abs(pl.x)+i.y*Math.abs(pl.y)+i.z*Math.abs(pl.z),l=e.dot(pl),u=t.dot(pl),d=r.dot(pl);if(Math.max(-Math.max(l,u,d),Math.min(l,u,d))>a)return!1}return!0}const aQ=new ai,rP=new F,Eg=new F,e1=new F;class Oo{constructor(e=new F,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):aQ.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){e1.subVectors(e,this.center);const t=e1.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.add(e1.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return this.center.equals(e.center)===!0?Eg.set(0,0,1).multiplyScalar(e.radius):Eg.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(rP.copy(e.center).add(Eg)),this.expandByPoint(rP.copy(e.center).sub(Eg)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const oo=new F,t1=new F,Cg=new F,ta=new F,n1=new F,bg=new F,r1=new F;class Xa{constructor(e=new F,t=new F(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,oo)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=oo.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(oo.copy(this.direction).multiplyScalar(t).add(this.origin),oo.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){t1.copy(e).add(t).multiplyScalar(.5),Cg.copy(t).sub(e).normalize(),ta.copy(this.origin).sub(t1);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Cg),a=ta.dot(this.direction),l=-ta.dot(Cg),u=ta.lengthSq(),d=Math.abs(1-o*o);let h,p,m,v;if(d>0)if(h=o*l-a,p=o*a-l,v=s*d,h>=0)if(p>=-v)if(p<=v){const y=1/d;h*=y,p*=y,m=h*(h+o*p+2*a)+p*(o*h+p+2*l)+u}else p=s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+u;else p=-s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+u;else p<=-v?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+u):p<=v?(h=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+u):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+u);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+u;return r&&r.copy(this.direction).multiplyScalar(h).add(this.origin),i&&i.copy(Cg).multiplyScalar(p).add(t1),m}intersectSphere(e,t){oo.subVectors(e.center,this.origin);const r=oo.dot(this.direction),i=oo.dot(oo)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const u=1/this.direction.x,d=1/this.direction.y,h=1/this.direction.z,p=this.origin;return u>=0?(r=(e.min.x-p.x)*u,i=(e.max.x-p.x)*u):(r=(e.max.x-p.x)*u,i=(e.min.x-p.x)*u),d>=0?(s=(e.min.y-p.y)*d,o=(e.max.y-p.y)*d):(s=(e.max.y-p.y)*d,o=(e.min.y-p.y)*d),r>o||s>i||((s>r||r!==r)&&(r=s),(o<i||i!==i)&&(i=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,oo)!==null}intersectTriangle(e,t,r,i,s){n1.subVectors(t,e),bg.subVectors(r,e),r1.crossVectors(n1,bg);let o=this.direction.dot(r1),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;ta.subVectors(this.origin,e);const l=a*this.direction.dot(bg.crossVectors(ta,bg));if(l<0)return null;const u=a*this.direction.dot(n1.cross(ta));if(u<0||l+u>o)return null;const d=-a*ta.dot(r1);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Xe{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,s,o,a,l,u,d,h,p,m,v,y,_){const w=this.elements;return w[0]=e,w[4]=t,w[8]=r,w[12]=i,w[1]=s,w[5]=o,w[9]=a,w[13]=l,w[2]=u,w[6]=d,w[10]=h,w[14]=p,w[3]=m,w[7]=v,w[11]=y,w[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Xe().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/qu.setFromMatrixColumn(e,0).length(),s=1/qu.setFromMatrixColumn(e,1).length(),o=1/qu.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),d=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*d,m=o*h,v=a*d,y=a*h;t[0]=l*d,t[4]=-l*h,t[8]=u,t[1]=m+v*u,t[5]=p-y*u,t[9]=-a*l,t[2]=y-p*u,t[6]=v+m*u,t[10]=o*l}else if(e.order==="YXZ"){const p=l*d,m=l*h,v=u*d,y=u*h;t[0]=p+y*a,t[4]=v*a-m,t[8]=o*u,t[1]=o*h,t[5]=o*d,t[9]=-a,t[2]=m*a-v,t[6]=y+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*d,m=l*h,v=u*d,y=u*h;t[0]=p-y*a,t[4]=-o*h,t[8]=v+m*a,t[1]=m+v*a,t[5]=o*d,t[9]=y-p*a,t[2]=-o*u,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*d,m=o*h,v=a*d,y=a*h;t[0]=l*d,t[4]=v*u-m,t[8]=p*u+y,t[1]=l*h,t[5]=y*u+p,t[9]=m*u-v,t[2]=-u,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*u,v=a*l,y=a*u;t[0]=l*d,t[4]=y-p*h,t[8]=v*h+m,t[1]=h,t[5]=o*d,t[9]=-a*d,t[2]=-u*d,t[6]=m*h+v,t[10]=p-y*h}else if(e.order==="XZY"){const p=o*l,m=o*u,v=a*l,y=a*u;t[0]=l*d,t[4]=-h,t[8]=u*d,t[1]=p*h+y,t[5]=o*d,t[9]=m*h-v,t[2]=v*h-m,t[6]=a*d,t[10]=y*h+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(lQ,e,uQ)}lookAt(e,t,r){const i=this.elements;return hi.subVectors(e,t),hi.lengthSq()===0&&(hi.z=1),hi.normalize(),na.crossVectors(r,hi),na.lengthSq()===0&&(Math.abs(r.z)===1?hi.x+=1e-4:hi.z+=1e-4,hi.normalize(),na.crossVectors(r,hi)),na.normalize(),Tg.crossVectors(hi,na),i[0]=na.x,i[4]=Tg.x,i[8]=hi.x,i[1]=na.y,i[5]=Tg.y,i[9]=hi.y,i[2]=na.z,i[6]=Tg.z,i[10]=hi.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],d=r[1],h=r[5],p=r[9],m=r[13],v=r[2],y=r[6],_=r[10],w=r[14],x=r[3],A=r[7],E=r[11],C=r[15],T=i[0],R=i[4],I=i[8],O=i[12],D=i[1],P=i[5],B=i[9],q=i[13],W=i[2],J=i[6],j=i[10],$=i[14],k=i[3],K=i[7],Z=i[11],ae=i[15];return s[0]=o*T+a*D+l*W+u*k,s[4]=o*R+a*P+l*J+u*K,s[8]=o*I+a*B+l*j+u*Z,s[12]=o*O+a*q+l*$+u*ae,s[1]=d*T+h*D+p*W+m*k,s[5]=d*R+h*P+p*J+m*K,s[9]=d*I+h*B+p*j+m*Z,s[13]=d*O+h*q+p*$+m*ae,s[2]=v*T+y*D+_*W+w*k,s[6]=v*R+y*P+_*J+w*K,s[10]=v*I+y*B+_*j+w*Z,s[14]=v*O+y*q+_*$+w*ae,s[3]=x*T+A*D+E*W+C*k,s[7]=x*R+A*P+E*J+C*K,s[11]=x*I+A*B+E*j+C*Z,s[15]=x*O+A*q+E*$+C*ae,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],d=e[2],h=e[6],p=e[10],m=e[14],v=e[3],y=e[7],_=e[11],w=e[15];return v*(+s*l*h-i*u*h-s*a*p+r*u*p+i*a*m-r*l*m)+y*(+t*l*m-t*u*p+s*o*p-i*o*m+i*u*d-s*l*d)+_*(+t*u*h-t*a*m-s*o*h+r*o*m+s*a*d-r*u*d)+w*(-i*a*d-t*l*h+t*a*p+i*o*h-r*o*p+r*l*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],d=e[8],h=e[9],p=e[10],m=e[11],v=e[12],y=e[13],_=e[14],w=e[15],x=h*_*u-y*p*u+y*l*m-a*_*m-h*l*w+a*p*w,A=v*p*u-d*_*u-v*l*m+o*_*m+d*l*w-o*p*w,E=d*y*u-v*h*u+v*a*m-o*y*m-d*a*w+o*h*w,C=v*h*l-d*y*l-v*a*p+o*y*p+d*a*_-o*h*_,T=t*x+r*A+i*E+s*C;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/T;return e[0]=x*R,e[1]=(y*p*s-h*_*s-y*i*m+r*_*m+h*i*w-r*p*w)*R,e[2]=(a*_*s-y*l*s+y*i*u-r*_*u-a*i*w+r*l*w)*R,e[3]=(h*l*s-a*p*s-h*i*u+r*p*u+a*i*m-r*l*m)*R,e[4]=A*R,e[5]=(d*_*s-v*p*s+v*i*m-t*_*m-d*i*w+t*p*w)*R,e[6]=(v*l*s-o*_*s-v*i*u+t*_*u+o*i*w-t*l*w)*R,e[7]=(o*p*s-d*l*s+d*i*u-t*p*u-o*i*m+t*l*m)*R,e[8]=E*R,e[9]=(v*h*s-d*y*s-v*r*m+t*y*m+d*r*w-t*h*w)*R,e[10]=(o*y*s-v*a*s+v*r*u-t*y*u-o*r*w+t*a*w)*R,e[11]=(d*a*s-o*h*s-d*r*u+t*h*u+o*r*m-t*a*m)*R,e[12]=C*R,e[13]=(d*y*i-v*h*i+v*r*p-t*y*p-d*r*_+t*h*_)*R,e[14]=(v*a*i-o*y*i-v*r*l+t*y*l+o*r*_-t*a*_)*R,e[15]=(o*h*i-d*a*i+d*r*l-t*h*l-o*r*p+t*a*p)*R,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,d=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,d*a+r,d*l-i*o,0,u*l-i*a,d*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,u=s+s,d=o+o,h=a+a,p=s*u,m=s*d,v=s*h,y=o*d,_=o*h,w=a*h,x=l*u,A=l*d,E=l*h,C=r.x,T=r.y,R=r.z;return i[0]=(1-(y+w))*C,i[1]=(m+E)*C,i[2]=(v-A)*C,i[3]=0,i[4]=(m-E)*T,i[5]=(1-(p+w))*T,i[6]=(_+x)*T,i[7]=0,i[8]=(v+A)*R,i[9]=(_-x)*R,i[10]=(1-(p+y))*R,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=qu.set(i[0],i[1],i[2]).length();const o=qu.set(i[4],i[5],i[6]).length(),a=qu.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],ns.copy(this);const u=1/s,d=1/o,h=1/a;return ns.elements[0]*=u,ns.elements[1]*=u,ns.elements[2]*=u,ns.elements[4]*=d,ns.elements[5]*=d,ns.elements[6]*=d,ns.elements[8]*=h,ns.elements[9]*=h,ns.elements[10]*=h,t.setFromRotationMatrix(ns),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){o===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,l=2*s/(t-e),u=2*s/(r-i),d=(t+e)/(t-e),h=(r+i)/(r-i),p=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=d,a[12]=0,a[1]=0,a[5]=u,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,l=1/(t-e),u=1/(r-i),d=1/(o-s),h=(t+e)*l,p=(r+i)*u,m=(o+s)*d;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*d,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}Xe.prototype.isMatrix4=!0;const qu=new F,ns=new Xe,lQ=new F(0,0,0),uQ=new F(1,1,1),na=new F,Tg=new F,hi=new F,iP=new Xe,sP=new Gn;class Qa{constructor(e=0,t=0,r=0,i=Qa.DefaultOrder){this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],d=i[9],h=i[2],p=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(Ln(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Ln(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Ln(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Ln(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Ln(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Ln(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return iP.makeRotationFromQuaternion(e),this.setFromRotationMatrix(iP,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return sP.setFromEuler(this),this.setFromQuaternion(sP,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Qa.prototype.isEuler=!0;Qa.DefaultOrder="XYZ";Qa.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Ql{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let cQ=0;const oP=new F,Zu=new Gn,ao=new Xe,Rg=new F,Pd=new F,fQ=new F,dQ=new Gn,aP=new F(1,0,0),lP=new F(0,1,0),uP=new F(0,0,1),hQ={type:"added"},cP={type:"removed"};class _t extends No{constructor(){super();Object.defineProperty(this,"id",{value:cQ++}),this.uuid=Si(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=_t.DefaultUp.clone();const e=new F,t=new Qa,r=new Gn,i=new F(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Xe},normalMatrix:{value:new $n}}),this.matrix=new Xe,this.matrixWorld=new Xe,this.matrixAutoUpdate=_t.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Ql,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Zu.setFromAxisAngle(e,t),this.quaternion.multiply(Zu),this}rotateOnWorldAxis(e,t){return Zu.setFromAxisAngle(e,t),this.quaternion.premultiply(Zu),this}rotateX(e){return this.rotateOnAxis(aP,e)}rotateY(e){return this.rotateOnAxis(lP,e)}rotateZ(e){return this.rotateOnAxis(uP,e)}translateOnAxis(e,t){return oP.copy(e).applyQuaternion(this.quaternion),this.position.add(oP.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(aP,e)}translateY(e){return this.translateOnAxis(lP,e)}translateZ(e){return this.translateOnAxis(uP,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(ao.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?Rg.copy(e):Rg.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Pd.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ao.lookAt(Pd,Rg,this.up):ao.lookAt(Rg,Pd,this.up),this.quaternion.setFromRotationMatrix(ao),i&&(ao.extractRotation(i.matrixWorld),Zu.setFromRotationMatrix(ao),this.quaternion.premultiply(Zu.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(hQ)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(cP)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(cP)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),ao.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ao.multiply(e.parent.matrixWorld)),e.applyMatrix4(ao),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Pd,e,fQ),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Pd,dQ,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,d=l.length;u<d;u++){const h=l[u];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),d=o(e.images),h=o(e.shapes),p=o(e.skeletons),m=o(e.animations),v=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),d.length>0&&(r.images=d),h.length>0&&(r.shapes=h),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),v.length>0&&(r.nodes=v)}return r.object=i,r;function o(a){const l=[];for(const u in a){const d=a[u];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}_t.DefaultUp=new F(0,1,0);_t.DefaultMatrixAutoUpdate=!0;_t.prototype.isObject3D=!0;const rs=new F,lo=new F,i1=new F,uo=new F,ec=new F,tc=new F,fP=new F,s1=new F,o1=new F,a1=new F;class Dn{constructor(e=new F,t=new F,r=new F){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),rs.subVectors(e,t),i.cross(rs);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){rs.subVectors(i,t),lo.subVectors(r,t),i1.subVectors(e,t);const o=rs.dot(rs),a=rs.dot(lo),l=rs.dot(i1),u=lo.dot(lo),d=lo.dot(i1),h=o*u-a*a;if(h===0)return s.set(-2,-1,-1);const p=1/h,m=(u*l-a*d)*p,v=(o*d-a*l)*p;return s.set(1-m-v,v,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,uo),uo.x>=0&&uo.y>=0&&uo.x+uo.y<=1}static getUV(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,uo),l.set(0,0),l.addScaledVector(s,uo.x),l.addScaledVector(o,uo.y),l.addScaledVector(a,uo.z),l}static isFrontFacing(e,t,r,i){return rs.subVectors(r,t),lo.subVectors(e,t),rs.cross(lo).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return rs.subVectors(this.c,this.b),lo.subVectors(this.a,this.b),rs.cross(lo).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Dn.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Dn.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return Dn.getUV(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return Dn.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Dn.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;ec.subVectors(i,r),tc.subVectors(s,r),s1.subVectors(e,r);const l=ec.dot(s1),u=tc.dot(s1);if(l<=0&&u<=0)return t.copy(r);o1.subVectors(e,i);const d=ec.dot(o1),h=tc.dot(o1);if(d>=0&&h<=d)return t.copy(i);const p=l*h-d*u;if(p<=0&&l>=0&&d<=0)return o=l/(l-d),t.copy(r).addScaledVector(ec,o);a1.subVectors(e,s);const m=ec.dot(a1),v=tc.dot(a1);if(v>=0&&m<=v)return t.copy(s);const y=m*u-l*v;if(y<=0&&u>=0&&v<=0)return a=u/(u-v),t.copy(r).addScaledVector(tc,a);const _=d*v-m*h;if(_<=0&&h-d>=0&&m-v>=0)return fP.subVectors(s,i),a=(h-d)/(h-d+(m-v)),t.copy(i).addScaledVector(fP,a);const w=1/(_+y+p);return o=y*w,a=p*w,t.copy(r).addScaledVector(ec,o).addScaledVector(tc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let pQ=0;class dn extends No{constructor(){super();Object.defineProperty(this,"id",{value:pQ++}),this.uuid=Si(),this.name="",this.type="Material",this.fog=!0,this.blending=jl,this.side=Ia,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=aE,this.blendDst=lE,this.blendEquation=Pl,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=M0,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Fk,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ly,this.stencilZFail=Ly,this.stencilZPass=Ly,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===oE;continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==jl&&(r.blending=this.blending),this.side!==Ia&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}dn.prototype.isMaterial=!0;dn.fromType=function(){return null};class Zr extends dn{constructor(e){super();this.type="MeshBasicMaterial",this.color=new Pe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Lp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}Zr.prototype.isMeshBasicMaterial=!0;const Nn=new F,Pg=new ye;class vt{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r===!0,this.usage=cf,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new Pe),t[r++]=o.r,t[r++]=o.g,t[r++]=o.b}return this}copyVector2sArray(e){const t=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new ye),t[r++]=o.x,t[r++]=o.y}return this}copyVector3sArray(e){const t=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new F),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z}return this}copyVector4sArray(e){const t=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new Ut),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z,t[r++]=o.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)Pg.fromBufferAttribute(this,t),Pg.applyMatrix3(e),this.setXY(t,Pg.x,Pg.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Nn.fromBufferAttribute(this,t),Nn.applyMatrix3(e),this.setXYZ(t,Nn.x,Nn.y,Nn.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Nn.fromBufferAttribute(this,t),Nn.applyMatrix4(e),this.setXYZ(t,Nn.x,Nn.y,Nn.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Nn.fromBufferAttribute(this,t),Nn.applyNormalMatrix(e),this.setXYZ(t,Nn.x,Nn.y,Nn.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Nn.fromBufferAttribute(this,t),Nn.transformDirection(e),this.setXYZ(t,Nn.x,Nn.y,Nn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==cf&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}vt.prototype.isBufferAttribute=!0;class zk extends vt{constructor(e,t,r){super(new Int8Array(e),t,r)}}class Wk extends vt{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class Vk extends vt{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class jk extends vt{constructor(e,t,r){super(new Int16Array(e),t,r)}}class Pv extends vt{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class Jk extends vt{constructor(e,t,r){super(new Int32Array(e),t,r)}}class Iv extends vt{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class $k extends vt{constructor(e,t,r){super(new Uint16Array(e),t,r)}}$k.prototype.isFloat16BufferAttribute=!0;class Qe extends vt{constructor(e,t,r){super(new Float32Array(e),t,r)}}class Kk extends vt{constructor(e,t,r){super(new Float64Array(e),t,r)}}let mQ=0;const Hi=new Xe,l1=new _t,nc=new F,pi=new ai,Id=new ai,qn=new F;class rt extends No{constructor(){super();Object.defineProperty(this,"id",{value:mQ++}),this.uuid=Si(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Nk(e)?Iv:Pv)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new $n().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Hi.makeRotationFromQuaternion(e),this.applyMatrix4(Hi),this}rotateX(e){return Hi.makeRotationX(e),this.applyMatrix4(Hi),this}rotateY(e){return Hi.makeRotationY(e),this.applyMatrix4(Hi),this}rotateZ(e){return Hi.makeRotationZ(e),this.applyMatrix4(Hi),this}translate(e,t,r){return Hi.makeTranslation(e,t,r),this.applyMatrix4(Hi),this}scale(e,t,r){return Hi.makeScale(e,t,r),this.applyMatrix4(Hi),this}lookAt(e){return l1.lookAt(e),l1.updateMatrix(),this.applyMatrix4(l1.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(nc).negate(),this.translate(nc.x,nc.y,nc.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Qe(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ai);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new F(-1/0,-1/0,-1/0),new F(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];pi.setFromBufferAttribute(s),this.morphTargetsRelative?(qn.addVectors(this.boundingBox.min,pi.min),this.boundingBox.expandByPoint(qn),qn.addVectors(this.boundingBox.max,pi.max),this.boundingBox.expandByPoint(qn)):(this.boundingBox.expandByPoint(pi.min),this.boundingBox.expandByPoint(pi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Oo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new F,1/0);return}if(e){const r=this.boundingSphere.center;if(pi.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];Id.setFromBufferAttribute(a),this.morphTargetsRelative?(qn.addVectors(pi.min,Id.min),pi.expandByPoint(qn),qn.addVectors(pi.max,Id.max),pi.expandByPoint(qn)):(pi.expandByPoint(Id.min),pi.expandByPoint(Id.max))}pi.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)qn.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(qn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let u=0,d=a.count;u<d;u++)qn.fromBufferAttribute(a,u),l&&(nc.fromBufferAttribute(e,u),qn.add(nc)),i=Math.max(i,r.distanceToSquared(qn))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new vt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],d=[];for(let D=0;D<a;D++)u[D]=new F,d[D]=new F;const h=new F,p=new F,m=new F,v=new ye,y=new ye,_=new ye,w=new F,x=new F;function A(D,P,B){h.fromArray(i,D*3),p.fromArray(i,P*3),m.fromArray(i,B*3),v.fromArray(o,D*2),y.fromArray(o,P*2),_.fromArray(o,B*2),p.sub(h),m.sub(h),y.sub(v),_.sub(v);const q=1/(y.x*_.y-_.x*y.y);!isFinite(q)||(w.copy(p).multiplyScalar(_.y).addScaledVector(m,-y.y).multiplyScalar(q),x.copy(m).multiplyScalar(y.x).addScaledVector(p,-_.x).multiplyScalar(q),u[D].add(w),u[P].add(w),u[B].add(w),d[D].add(x),d[P].add(x),d[B].add(x))}let E=this.groups;E.length===0&&(E=[{start:0,count:r.length}]);for(let D=0,P=E.length;D<P;++D){const B=E[D],q=B.start,W=B.count;for(let J=q,j=q+W;J<j;J+=3)A(r[J+0],r[J+1],r[J+2])}const C=new F,T=new F,R=new F,I=new F;function O(D){R.fromArray(s,D*3),I.copy(R);const P=u[D];C.copy(P),C.sub(R.multiplyScalar(R.dot(P))).normalize(),T.crossVectors(I,P);const q=T.dot(d[D])<0?-1:1;l[D*4]=C.x,l[D*4+1]=C.y,l[D*4+2]=C.z,l[D*4+3]=q}for(let D=0,P=E.length;D<P;++D){const B=E[D],q=B.start,W=B.count;for(let J=q,j=q+W;J<j;J+=3)O(r[J+0]),O(r[J+1]),O(r[J+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new vt(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new F,s=new F,o=new F,a=new F,l=new F,u=new F,d=new F,h=new F;if(e)for(let p=0,m=e.count;p<m;p+=3){const v=e.getX(p+0),y=e.getX(p+1),_=e.getX(p+2);i.fromBufferAttribute(t,v),s.fromBufferAttribute(t,y),o.fromBufferAttribute(t,_),d.subVectors(o,s),h.subVectors(i,s),d.cross(h),a.fromBufferAttribute(r,v),l.fromBufferAttribute(r,y),u.fromBufferAttribute(r,_),a.add(d),l.add(d),u.add(d),r.setXYZ(v,a.x,a.y,a.z),r.setXYZ(y,l.x,l.y,l.z),r.setXYZ(_,u.x,u.y,u.z)}else for(let p=0,m=t.count;p<m;p+=3)i.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),d.subVectors(o,s),h.subVectors(i,s),d.cross(h),r.setXYZ(p+0,d.x,d.y,d.z),r.setXYZ(p+1,d.x,d.y,d.z),r.setXYZ(p+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const r=this.attributes;for(const i in r){if(e.attributes[i]===void 0)continue;const o=r[i].array,a=e.attributes[i],l=a.array,u=a.itemSize*t,d=Math.min(l.length,o.length-u);for(let h=0,p=u;h<d;h++,p++)o[p]=l[h]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)qn.fromBufferAttribute(e,t),qn.normalize(),e.setXYZ(t,qn.x,qn.y,qn.z)}toNonIndexed(){function e(a,l){const u=a.array,d=a.itemSize,h=a.normalized,p=new u.constructor(l.length*d);let m=0,v=0;for(let y=0,_=l.length;y<_;y++){a.isInterleavedBufferAttribute?m=l[y]*a.data.stride+a.offset:m=l[y]*d;for(let w=0;w<d;w++)p[v++]=u[m++]}return new vt(p,d,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new rt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);t.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let d=0,h=u.length;d<h;d++){const p=u[d],m=e(p,r);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],d=[];for(let h=0,p=u.length;h<p;h++){const m=u[h];d.push(m.toJSON(e.data))}d.length>0&&(i[l]=d,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const u in i){const d=i[u];this.setAttribute(u,d.clone(t))}const s=e.morphAttributes;for(const u in s){const d=[],h=s[u];for(let p=0,m=h.length;p<m;p++)d.push(h[p].clone(t));this.morphAttributes[u]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,d=o.length;u<d;u++){const h=o[u];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}rt.prototype.isBufferGeometry=!0;const dP=new Xe,rc=new Xa,u1=new Oo,ra=new F,ia=new F,sa=new F,c1=new F,f1=new F,d1=new F,Ig=new F,Bg=new F,Lg=new F,Dg=new ye,Fg=new ye,kg=new ye,h1=new F,Ng=new F;class Cn extends _t{constructor(e=new rt,t=new Zr){super();this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),u1.copy(r.boundingSphere),u1.applyMatrix4(s),e.ray.intersectsSphere(u1)===!1)||(dP.copy(s).invert(),rc.copy(e.ray).applyMatrix4(dP),r.boundingBox!==null&&rc.intersectsBox(r.boundingBox)===!1))return;let o;if(r.isBufferGeometry){const a=r.index,l=r.attributes.position,u=r.morphAttributes.position,d=r.morphTargetsRelative,h=r.attributes.uv,p=r.attributes.uv2,m=r.groups,v=r.drawRange;if(a!==null)if(Array.isArray(i))for(let y=0,_=m.length;y<_;y++){const w=m[y],x=i[w.materialIndex],A=Math.max(w.start,v.start),E=Math.min(a.count,Math.min(w.start+w.count,v.start+v.count));for(let C=A,T=E;C<T;C+=3){const R=a.getX(C),I=a.getX(C+1),O=a.getX(C+2);o=Og(this,x,e,rc,l,u,d,h,p,R,I,O),o&&(o.faceIndex=Math.floor(C/3),o.face.materialIndex=w.materialIndex,t.push(o))}}else{const y=Math.max(0,v.start),_=Math.min(a.count,v.start+v.count);for(let w=y,x=_;w<x;w+=3){const A=a.getX(w),E=a.getX(w+1),C=a.getX(w+2);o=Og(this,i,e,rc,l,u,d,h,p,A,E,C),o&&(o.faceIndex=Math.floor(w/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let y=0,_=m.length;y<_;y++){const w=m[y],x=i[w.materialIndex],A=Math.max(w.start,v.start),E=Math.min(l.count,Math.min(w.start+w.count,v.start+v.count));for(let C=A,T=E;C<T;C+=3){const R=C,I=C+1,O=C+2;o=Og(this,x,e,rc,l,u,d,h,p,R,I,O),o&&(o.faceIndex=Math.floor(C/3),o.face.materialIndex=w.materialIndex,t.push(o))}}else{const y=Math.max(0,v.start),_=Math.min(l.count,v.start+v.count);for(let w=y,x=_;w<x;w+=3){const A=w,E=w+1,C=w+2;o=Og(this,i,e,rc,l,u,d,h,p,A,E,C),o&&(o.faceIndex=Math.floor(w/3),t.push(o))}}}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}Cn.prototype.isMesh=!0;function gQ(n,e,t,r,i,s,o,a){let l;if(e.side===wi?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side!==Ba,a),l===null)return null;Ng.copy(a),Ng.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(Ng);return u<t.near||u>t.far?null:{distance:u,point:Ng.clone(),object:n}}function Og(n,e,t,r,i,s,o,a,l,u,d,h){ra.fromBufferAttribute(i,u),ia.fromBufferAttribute(i,d),sa.fromBufferAttribute(i,h);const p=n.morphTargetInfluences;if(s&&p){Ig.set(0,0,0),Bg.set(0,0,0),Lg.set(0,0,0);for(let v=0,y=s.length;v<y;v++){const _=p[v],w=s[v];_!==0&&(c1.fromBufferAttribute(w,u),f1.fromBufferAttribute(w,d),d1.fromBufferAttribute(w,h),o?(Ig.addScaledVector(c1,_),Bg.addScaledVector(f1,_),Lg.addScaledVector(d1,_)):(Ig.addScaledVector(c1.sub(ra),_),Bg.addScaledVector(f1.sub(ia),_),Lg.addScaledVector(d1.sub(sa),_)))}ra.add(Ig),ia.add(Bg),sa.add(Lg)}n.isSkinnedMesh&&(n.boneTransform(u,ra),n.boneTransform(d,ia),n.boneTransform(h,sa));const m=gQ(n,e,t,r,ra,ia,sa,h1);if(m){a&&(Dg.fromBufferAttribute(a,u),Fg.fromBufferAttribute(a,d),kg.fromBufferAttribute(a,h),m.uv=Dn.getUV(h1,ra,ia,sa,Dg,Fg,kg,new ye)),l&&(Dg.fromBufferAttribute(l,u),Fg.fromBufferAttribute(l,d),kg.fromBufferAttribute(l,h),m.uv2=Dn.getUV(h1,ra,ia,sa,Dg,Fg,kg,new ye));const v={a:u,b:d,c:h,normal:new F,materialIndex:0};Dn.getNormal(ra,ia,sa,v.normal),m.face=v}return m}class Io extends rt{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super();this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],d=[],h=[];let p=0,m=0;v("z","y","x",-1,-1,r,t,e,o,s,0),v("z","y","x",1,-1,r,t,-e,o,s,1),v("x","z","y",1,1,e,r,t,i,o,2),v("x","z","y",1,-1,e,r,-t,i,o,3),v("x","y","z",1,-1,e,t,r,i,s,4),v("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Qe(u,3)),this.setAttribute("normal",new Qe(d,3)),this.setAttribute("uv",new Qe(h,2));function v(y,_,w,x,A,E,C,T,R,I,O){const D=E/R,P=C/I,B=E/2,q=C/2,W=T/2,J=R+1,j=I+1;let $=0,k=0;const K=new F;for(let Z=0;Z<j;Z++){const ae=Z*P-q;for(let Q=0;Q<J;Q++){const se=Q*D-B;K[y]=se*x,K[_]=ae*A,K[w]=W,u.push(K.x,K.y,K.z),K[y]=0,K[_]=0,K[w]=T>0?1:-1,d.push(K.x,K.y,K.z),h.push(Q/R),h.push(1-Z/I),$+=1}}for(let Z=0;Z<I;Z++)for(let ae=0;ae<R;ae++){const Q=p+ae+J*Z,se=p+ae+J*(Z+1),pe=p+(ae+1)+J*(Z+1),_e=p+(ae+1)+J*Z;l.push(Q,se,_e),l.push(se,pe,_e),k+=6}a.addGroup(m,k,O),m+=k,p+=$}}static fromJSON(e){return new Io(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function df(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function xr(n){const e={};for(let t=0;t<n.length;t++){const r=df(n[t]);for(const i in r)e[i]=r[i]}return e}const Xk={clone:df,merge:xr};var yQ=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,vQ=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class si extends dn{constructor(e){super();this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=yQ,this.fragmentShader=vQ,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=df(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}si.prototype.isShaderMaterial=!0;class Hf extends _t{constructor(){super();this.type="Camera",this.matrixWorldInverse=new Xe,this.projectionMatrix=new Xe,this.projectionMatrixInverse=new Xe}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}Hf.prototype.isCamera=!0;class Yt extends Hf{constructor(e=50,t=1,r=.1,i=2e3){super();this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=$h*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Kl*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return $h*2*Math.atan(Math.tan(Kl*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Kl*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}Yt.prototype.isPerspectiveCamera=!0;const ic=90,sc=1;class Bv extends _t{constructor(e,t,r){super();if(this.type="CubeCamera",r.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=r;const i=new Yt(ic,sc,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new F(1,0,0)),this.add(i);const s=new Yt(ic,sc,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new F(-1,0,0)),this.add(s);const o=new Yt(ic,sc,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new F(0,1,0)),this.add(o);const a=new Yt(ic,sc,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new F(0,-1,0)),this.add(a);const l=new Yt(ic,sc,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new F(0,0,1)),this.add(l);const u=new Yt(ic,sc,e,t);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new F(0,0,-1)),this.add(u)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,u]=this.children,d=e.getRenderTarget(),h=e.outputEncoding,p=e.toneMapping,m=e.xr.enabled;e.outputEncoding=gs,e.toneMapping=hs,e.xr.enabled=!1;const v=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=v,e.setRenderTarget(r,5),e.render(t,u),e.setRenderTarget(d),e.outputEncoding=h,e.toneMapping=p,e.xr.enabled=m,r.texture.needsPMREMUpdate=!0}}class Uf extends wn{constructor(e,t,r,i,s,o,a,l,u,d){e=e!==void 0?e:[],t=t!==void 0?t:La;super(e,t,r,i,s,o,a,l,u,d);this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}Uf.prototype.isCubeTexture=!0;class Lv extends ur{constructor(e,t={}){super(e,e,t);const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Uf(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:vn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Io(5,5,5),s=new si({name:"CubemapFromEquirect",uniforms:df(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:wi,blending:Co});s.uniforms.tEquirect.value=t;const o=new Cn(i,s),a=t.minFilter;return t.minFilter===ko&&(t.minFilter=vn),new Bv(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}Lv.prototype.isWebGLCubeRenderTarget=!0;const p1=new F,_Q=new F,xQ=new $n;class Ds{constructor(e=new F(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=p1.subVectors(r,t).cross(_Q.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(p1),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||xQ.getNormalMatrix(e),i=this.coplanarPoint(p1).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}Ds.prototype.isPlane=!0;const oc=new Oo,Hg=new F;class Fp{constructor(e=new Ds,t=new Ds,r=new Ds,i=new Ds,s=new Ds,o=new Ds){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],u=r[5],d=r[6],h=r[7],p=r[8],m=r[9],v=r[10],y=r[11],_=r[12],w=r[13],x=r[14],A=r[15];return t[0].setComponents(a-i,h-l,y-p,A-_).normalize(),t[1].setComponents(a+i,h+l,y+p,A+_).normalize(),t[2].setComponents(a+s,h+u,y+m,A+w).normalize(),t[3].setComponents(a-s,h-u,y-m,A-w).normalize(),t[4].setComponents(a-o,h-d,y-v,A-x).normalize(),t[5].setComponents(a+o,h+d,y+v,A+x).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),oc.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(oc)}intersectsSprite(e){return oc.center.set(0,0,0),oc.radius=.7071067811865476,oc.applyMatrix4(e.matrixWorld),this.intersectsSphere(oc)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(Hg.x=i.normal.x>0?e.max.x:e.min.x,Hg.y=i.normal.y>0?e.max.y:e.min.y,Hg.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Hg)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Qk(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function wQ(n,e){const t=e.isWebGL2,r=new WeakMap;function i(u,d){const h=u.array,p=u.usage,m=n.createBuffer();n.bindBuffer(d,m),n.bufferData(d,h,p),u.onUploadCallback();let v;if(h instanceof Float32Array)v=5126;else if(h instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(t)v=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=5123;else if(h instanceof Int16Array)v=5122;else if(h instanceof Uint32Array)v=5125;else if(h instanceof Int32Array)v=5124;else if(h instanceof Int8Array)v=5120;else if(h instanceof Uint8Array)v=5121;else if(h instanceof Uint8ClampedArray)v=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:m,type:v,bytesPerElement:h.BYTES_PER_ELEMENT,version:u.version}}function s(u,d,h){const p=d.array,m=d.updateRange;n.bindBuffer(h,u),m.count===-1?n.bufferSubData(h,0,p):(t?n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1)}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const d=r.get(u);d&&(n.deleteBuffer(d.buffer),r.delete(u))}function l(u,d){if(u.isGLBufferAttribute){const p=r.get(u);(!p||p.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const h=r.get(u);h===void 0?r.set(u,i(u,d)):h.version<u.version&&(s(h.buffer,u,d),h.version=u.version)}return{get:o,remove:a,update:l}}class Na extends rt{constructor(e=1,t=1,r=1,i=1){super();this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),u=a+1,d=l+1,h=e/a,p=t/l,m=[],v=[],y=[],_=[];for(let w=0;w<d;w++){const x=w*p-o;for(let A=0;A<u;A++){const E=A*h-s;v.push(E,-x,0),y.push(0,0,1),_.push(A/a),_.push(1-w/l)}}for(let w=0;w<l;w++)for(let x=0;x<a;x++){const A=x+u*w,E=x+u*(w+1),C=x+1+u*(w+1),T=x+1+u*w;m.push(A,E,T),m.push(E,C,T)}this.setIndex(m),this.setAttribute("position",new Qe(v,3)),this.setAttribute("normal",new Qe(y,3)),this.setAttribute("uv",new Qe(_,2))}static fromJSON(e){return new Na(e.width,e.height,e.widthSegments,e.heightSegments)}}var SQ=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,AQ=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,MQ=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,EQ=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,CQ=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,bQ=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,TQ="vec3 transformed = vec3( position );",RQ=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,PQ=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,IQ=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,BQ=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,LQ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,DQ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,FQ=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,kQ=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,NQ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,OQ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,HQ=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,UQ=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,GQ=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,zQ=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,WQ=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,VQ=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,jQ=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,JQ=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,$Q="gl_FragColor = linearToOutputTexel( gl_FragColor );",KQ=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,XQ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,QQ=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,YQ=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,qQ=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,ZQ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,eY=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,tY=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,nY=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,rY=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,iY=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,sY=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,oY=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,aY=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,lY=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,uY=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,cY=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,fY=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,dY=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,hY=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,pY=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,mY=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,gY=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,yY=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,vY=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,_Y=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,xY=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,wY=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,SY=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,AY=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,MY=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,EY=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,CY=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,bY=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,TY=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,RY=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,PY=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,IY=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,BY=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,LY=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,DY=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,FY=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,kY=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,NY=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,OY=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,HY=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,UY=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,GY=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,zY=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,WY=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,VY=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,jY=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,JY=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,$Y=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,KY=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,XY=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,QY=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,YY=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,qY=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,ZY=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,eq=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,tq=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,nq=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,rq=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,iq=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,sq=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,oq=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,aq=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,lq=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,uq=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,cq=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,fq=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,dq=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,hq=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,pq=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,mq=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,gq=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const yq=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,vq=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,_q=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,xq=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,wq=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Sq=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Aq=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Mq=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Eq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Cq=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,bq=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Tq=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Rq=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Pq=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Iq=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Bq=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Lq=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Dq=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Fq=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,kq=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Nq=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Oq=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Hq=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Uq=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Gq=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,zq=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Wq=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Vq=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,jq=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Jq=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,$q=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Kq=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,yt={alphamap_fragment:SQ,alphamap_pars_fragment:AQ,alphatest_fragment:MQ,alphatest_pars_fragment:EQ,aomap_fragment:CQ,aomap_pars_fragment:bQ,begin_vertex:TQ,beginnormal_vertex:RQ,bsdfs:PQ,bumpmap_pars_fragment:IQ,clipping_planes_fragment:BQ,clipping_planes_pars_fragment:LQ,clipping_planes_pars_vertex:DQ,clipping_planes_vertex:FQ,color_fragment:kQ,color_pars_fragment:NQ,color_pars_vertex:OQ,color_vertex:HQ,common:UQ,cube_uv_reflection_fragment:GQ,defaultnormal_vertex:zQ,displacementmap_pars_vertex:WQ,displacementmap_vertex:VQ,emissivemap_fragment:jQ,emissivemap_pars_fragment:JQ,encodings_fragment:$Q,encodings_pars_fragment:KQ,envmap_fragment:XQ,envmap_common_pars_fragment:QQ,envmap_pars_fragment:YQ,envmap_pars_vertex:qQ,envmap_physical_pars_fragment:uY,envmap_vertex:ZQ,fog_vertex:eY,fog_pars_vertex:tY,fog_fragment:nY,fog_pars_fragment:rY,gradientmap_pars_fragment:iY,lightmap_fragment:sY,lightmap_pars_fragment:oY,lights_lambert_vertex:aY,lights_pars_begin:lY,lights_toon_fragment:cY,lights_toon_pars_fragment:fY,lights_phong_fragment:dY,lights_phong_pars_fragment:hY,lights_physical_fragment:pY,lights_physical_pars_fragment:mY,lights_fragment_begin:gY,lights_fragment_maps:yY,lights_fragment_end:vY,logdepthbuf_fragment:_Y,logdepthbuf_pars_fragment:xY,logdepthbuf_pars_vertex:wY,logdepthbuf_vertex:SY,map_fragment:AY,map_pars_fragment:MY,map_particle_fragment:EY,map_particle_pars_fragment:CY,metalnessmap_fragment:bY,metalnessmap_pars_fragment:TY,morphcolor_vertex:RY,morphnormal_vertex:PY,morphtarget_pars_vertex:IY,morphtarget_vertex:BY,normal_fragment_begin:LY,normal_fragment_maps:DY,normal_pars_fragment:FY,normal_pars_vertex:kY,normal_vertex:NY,normalmap_pars_fragment:OY,clearcoat_normal_fragment_begin:HY,clearcoat_normal_fragment_maps:UY,clearcoat_pars_fragment:GY,output_fragment:zY,packing:WY,premultiplied_alpha_fragment:VY,project_vertex:jY,dithering_fragment:JY,dithering_pars_fragment:$Y,roughnessmap_fragment:KY,roughnessmap_pars_fragment:XY,shadowmap_pars_fragment:QY,shadowmap_pars_vertex:YY,shadowmap_vertex:qY,shadowmask_pars_fragment:ZY,skinbase_vertex:eq,skinning_pars_vertex:tq,skinning_vertex:nq,skinnormal_vertex:rq,specularmap_fragment:iq,specularmap_pars_fragment:sq,tonemapping_fragment:oq,tonemapping_pars_fragment:aq,transmission_fragment:lq,transmission_pars_fragment:uq,uv_pars_fragment:cq,uv_pars_vertex:fq,uv_vertex:dq,uv2_pars_fragment:hq,uv2_pars_vertex:pq,uv2_vertex:mq,worldpos_vertex:gq,background_vert:yq,background_frag:vq,cube_vert:_q,cube_frag:xq,depth_vert:wq,depth_frag:Sq,distanceRGBA_vert:Aq,distanceRGBA_frag:Mq,equirect_vert:Eq,equirect_frag:Cq,linedashed_vert:bq,linedashed_frag:Tq,meshbasic_vert:Rq,meshbasic_frag:Pq,meshlambert_vert:Iq,meshlambert_frag:Bq,meshmatcap_vert:Lq,meshmatcap_frag:Dq,meshnormal_vert:Fq,meshnormal_frag:kq,meshphong_vert:Nq,meshphong_frag:Oq,meshphysical_vert:Hq,meshphysical_frag:Uq,meshtoon_vert:Gq,meshtoon_frag:zq,points_vert:Wq,points_frag:Vq,shadow_vert:jq,shadow_frag:Jq,sprite_vert:$q,sprite_frag:Kq},Oe={common:{diffuse:{value:new Pe(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new $n},uv2Transform:{value:new $n},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ye(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Pe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Pe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new $n}},sprite:{diffuse:{value:new Pe(16777215)},opacity:{value:1},center:{value:new ye(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new $n}}},ls={basic:{uniforms:xr([Oe.common,Oe.specularmap,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.fog]),vertexShader:yt.meshbasic_vert,fragmentShader:yt.meshbasic_frag},lambert:{uniforms:xr([Oe.common,Oe.specularmap,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.fog,Oe.lights,{emissive:{value:new Pe(0)}}]),vertexShader:yt.meshlambert_vert,fragmentShader:yt.meshlambert_frag},phong:{uniforms:xr([Oe.common,Oe.specularmap,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.fog,Oe.lights,{emissive:{value:new Pe(0)},specular:{value:new Pe(1118481)},shininess:{value:30}}]),vertexShader:yt.meshphong_vert,fragmentShader:yt.meshphong_frag},standard:{uniforms:xr([Oe.common,Oe.envmap,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.roughnessmap,Oe.metalnessmap,Oe.fog,Oe.lights,{emissive:{value:new Pe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:yt.meshphysical_vert,fragmentShader:yt.meshphysical_frag},toon:{uniforms:xr([Oe.common,Oe.aomap,Oe.lightmap,Oe.emissivemap,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.gradientmap,Oe.fog,Oe.lights,{emissive:{value:new Pe(0)}}]),vertexShader:yt.meshtoon_vert,fragmentShader:yt.meshtoon_frag},matcap:{uniforms:xr([Oe.common,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,Oe.fog,{matcap:{value:null}}]),vertexShader:yt.meshmatcap_vert,fragmentShader:yt.meshmatcap_frag},points:{uniforms:xr([Oe.points,Oe.fog]),vertexShader:yt.points_vert,fragmentShader:yt.points_frag},dashed:{uniforms:xr([Oe.common,Oe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:yt.linedashed_vert,fragmentShader:yt.linedashed_frag},depth:{uniforms:xr([Oe.common,Oe.displacementmap]),vertexShader:yt.depth_vert,fragmentShader:yt.depth_frag},normal:{uniforms:xr([Oe.common,Oe.bumpmap,Oe.normalmap,Oe.displacementmap,{opacity:{value:1}}]),vertexShader:yt.meshnormal_vert,fragmentShader:yt.meshnormal_frag},sprite:{uniforms:xr([Oe.sprite,Oe.fog]),vertexShader:yt.sprite_vert,fragmentShader:yt.sprite_frag},background:{uniforms:{uvTransform:{value:new $n},t2D:{value:null}},vertexShader:yt.background_vert,fragmentShader:yt.background_frag},cube:{uniforms:xr([Oe.envmap,{opacity:{value:1}}]),vertexShader:yt.cube_vert,fragmentShader:yt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:yt.equirect_vert,fragmentShader:yt.equirect_frag},distanceRGBA:{uniforms:xr([Oe.common,Oe.displacementmap,{referencePosition:{value:new F},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:yt.distanceRGBA_vert,fragmentShader:yt.distanceRGBA_frag},shadow:{uniforms:xr([Oe.lights,Oe.fog,{color:{value:new Pe(0)},opacity:{value:1}}]),vertexShader:yt.shadow_vert,fragmentShader:yt.shadow_frag}};ls.physical={uniforms:xr([ls.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ye(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new Pe(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ye},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Pe(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Pe(1,1,1)},specularColorMap:{value:null}}]),vertexShader:yt.meshphysical_vert,fragmentShader:yt.meshphysical_frag};function Xq(n,e,t,r,i,s){const o=new Pe(0);let a=i===!0?0:1,l,u,d=null,h=0,p=null;function m(y,_){let w=!1,x=_.isScene===!0?_.background:null;x&&x.isTexture&&(x=e.get(x));const A=n.xr,E=A.getSession&&A.getSession();E&&E.environmentBlendMode==="additive"&&(x=null),x===null?v(o,a):x&&x.isColor&&(v(x,1),w=!0),(n.autoClear||w)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),x&&(x.isCubeTexture||x.mapping===Nf)?(u===void 0&&(u=new Cn(new Io(1,1,1),new si({name:"BackgroundCubeMaterial",uniforms:df(ls.cube.uniforms),vertexShader:ls.cube.vertexShader,fragmentShader:ls.cube.fragmentShader,side:wi,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(C,T,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),u.material.uniforms.envMap.value=x,u.material.uniforms.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,(d!==x||h!==x.version||p!==n.toneMapping)&&(u.material.needsUpdate=!0,d=x,h=x.version,p=n.toneMapping),y.unshift(u,u.geometry,u.material,0,0,null)):x&&x.isTexture&&(l===void 0&&(l=new Cn(new Na(2,2),new si({name:"BackgroundMaterial",uniforms:df(ls.background.uniforms),vertexShader:ls.background.vertexShader,fragmentShader:ls.background.fragmentShader,side:Ia,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=x,x.matrixAutoUpdate===!0&&x.updateMatrix(),l.material.uniforms.uvTransform.value.copy(x.matrix),(d!==x||h!==x.version||p!==n.toneMapping)&&(l.material.needsUpdate=!0,d=x,h=x.version,p=n.toneMapping),y.unshift(l,l.geometry,l.material,0,0,null))}function v(y,_){t.buffers.color.setClear(y.r,y.g,y.b,_,s)}return{getClearColor:function(){return o},setClearColor:function(y,_=1){o.set(y),a=_,v(o,a)},getClearAlpha:function(){return a},setClearAlpha:function(y){a=y,v(o,a)},render:m}}function Qq(n,e,t,r){const i=n.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=_(null);let u=l,d=!1;function h(W,J,j,$,k){let K=!1;if(o){const Z=y($,j,J);u!==Z&&(u=Z,m(u.object)),K=w($,k),K&&x($,k)}else{const Z=J.wireframe===!0;(u.geometry!==$.id||u.program!==j.id||u.wireframe!==Z)&&(u.geometry=$.id,u.program=j.id,u.wireframe=Z,K=!0)}W.isInstancedMesh===!0&&(K=!0),k!==null&&t.update(k,34963),(K||d)&&(d=!1,I(W,J,j,$),k!==null&&n.bindBuffer(34963,t.get(k).buffer))}function p(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(W){return r.isWebGL2?n.bindVertexArray(W):s.bindVertexArrayOES(W)}function v(W){return r.isWebGL2?n.deleteVertexArray(W):s.deleteVertexArrayOES(W)}function y(W,J,j){const $=j.wireframe===!0;let k=a[W.id];k===void 0&&(k={},a[W.id]=k);let K=k[J.id];K===void 0&&(K={},k[J.id]=K);let Z=K[$];return Z===void 0&&(Z=_(p()),K[$]=Z),Z}function _(W){const J=[],j=[],$=[];for(let k=0;k<i;k++)J[k]=0,j[k]=0,$[k]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:J,enabledAttributes:j,attributeDivisors:$,object:W,attributes:{},index:null}}function w(W,J){const j=u.attributes,$=W.attributes;let k=0;for(const K in $){const Z=j[K],ae=$[K];if(Z===void 0||Z.attribute!==ae||Z.data!==ae.data)return!0;k++}return u.attributesNum!==k||u.index!==J}function x(W,J){const j={},$=W.attributes;let k=0;for(const K in $){const Z=$[K],ae={};ae.attribute=Z,Z.data&&(ae.data=Z.data),j[K]=ae,k++}u.attributes=j,u.attributesNum=k,u.index=J}function A(){const W=u.newAttributes;for(let J=0,j=W.length;J<j;J++)W[J]=0}function E(W){C(W,0)}function C(W,J){const j=u.newAttributes,$=u.enabledAttributes,k=u.attributeDivisors;j[W]=1,$[W]===0&&(n.enableVertexAttribArray(W),$[W]=1),k[W]!==J&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](W,J),k[W]=J)}function T(){const W=u.newAttributes,J=u.enabledAttributes;for(let j=0,$=J.length;j<$;j++)J[j]!==W[j]&&(n.disableVertexAttribArray(j),J[j]=0)}function R(W,J,j,$,k,K){r.isWebGL2===!0&&(j===5124||j===5125)?n.vertexAttribIPointer(W,J,j,k,K):n.vertexAttribPointer(W,J,j,$,k,K)}function I(W,J,j,$){if(r.isWebGL2===!1&&(W.isInstancedMesh||$.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;A();const k=$.attributes,K=j.getAttributes(),Z=J.defaultAttributeValues;for(const ae in K){const Q=K[ae];if(Q.location>=0){let se=k[ae];if(se===void 0&&(ae==="instanceMatrix"&&W.instanceMatrix&&(se=W.instanceMatrix),ae==="instanceColor"&&W.instanceColor&&(se=W.instanceColor)),se!==void 0){const pe=se.normalized,_e=se.itemSize,H=t.get(se);if(H===void 0)continue;const Be=H.buffer,ue=H.type,Le=H.bytesPerElement;if(se.isInterleavedBufferAttribute){const ve=se.data,Re=ve.stride,ne=se.offset;if(ve.isInstancedInterleavedBuffer){for(let oe=0;oe<Q.locationSize;oe++)C(Q.location+oe,ve.meshPerAttribute);W.isInstancedMesh!==!0&&$._maxInstanceCount===void 0&&($._maxInstanceCount=ve.meshPerAttribute*ve.count)}else for(let oe=0;oe<Q.locationSize;oe++)E(Q.location+oe);n.bindBuffer(34962,Be);for(let oe=0;oe<Q.locationSize;oe++)R(Q.location+oe,_e/Q.locationSize,ue,pe,Re*Le,(ne+_e/Q.locationSize*oe)*Le)}else{if(se.isInstancedBufferAttribute){for(let ve=0;ve<Q.locationSize;ve++)C(Q.location+ve,se.meshPerAttribute);W.isInstancedMesh!==!0&&$._maxInstanceCount===void 0&&($._maxInstanceCount=se.meshPerAttribute*se.count)}else for(let ve=0;ve<Q.locationSize;ve++)E(Q.location+ve);n.bindBuffer(34962,Be);for(let ve=0;ve<Q.locationSize;ve++)R(Q.location+ve,_e/Q.locationSize,ue,pe,_e*Le,_e/Q.locationSize*ve*Le)}}else if(Z!==void 0){const pe=Z[ae];if(pe!==void 0)switch(pe.length){case 2:n.vertexAttrib2fv(Q.location,pe);break;case 3:n.vertexAttrib3fv(Q.location,pe);break;case 4:n.vertexAttrib4fv(Q.location,pe);break;default:n.vertexAttrib1fv(Q.location,pe)}}}}T()}function O(){B();for(const W in a){const J=a[W];for(const j in J){const $=J[j];for(const k in $)v($[k].object),delete $[k];delete J[j]}delete a[W]}}function D(W){if(a[W.id]===void 0)return;const J=a[W.id];for(const j in J){const $=J[j];for(const k in $)v($[k].object),delete $[k];delete J[j]}delete a[W.id]}function P(W){for(const J in a){const j=a[J];if(j[W.id]===void 0)continue;const $=j[W.id];for(const k in $)v($[k].object),delete $[k];delete j[W.id]}}function B(){q(),d=!0,u!==l&&(u=l,m(u.object))}function q(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:B,resetDefaultState:q,dispose:O,releaseStatesOfGeometry:D,releaseStatesOfProgram:P,initAttributes:A,enableAttribute:E,disableUnusedAttributes:T}}function Yq(n,e,t,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,d){n.drawArrays(s,u,d),t.update(d,s,1)}function l(u,d,h){if(h===0)return;let p,m;if(i)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,u,d,h),t.update(d,s,h)}this.setMode=o,this.render=a,this.renderInstances=l}function qq(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(R){if(R==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";R="mediump"}return R==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext!="undefined"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&n instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),d=t.logarithmicDepthBuffer===!0,h=n.getParameter(34930),p=n.getParameter(35660),m=n.getParameter(3379),v=n.getParameter(34076),y=n.getParameter(34921),_=n.getParameter(36347),w=n.getParameter(36348),x=n.getParameter(36349),A=p>0,E=o||e.has("OES_texture_float"),C=A&&E,T=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:d,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:v,maxAttributes:y,maxVertexUniforms:_,maxVaryings:w,maxFragmentUniforms:x,vertexTextures:A,floatFragmentTextures:E,floatVertexTextures:C,maxSamples:T}}function Zq(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new Ds,a=new $n,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p,m){const v=h.length!==0||p||r!==0||i;return i=p,t=d(h,m,0),r=h.length,v},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1,u()},this.setState=function(h,p,m){const v=h.clippingPlanes,y=h.clipIntersection,_=h.clipShadows,w=n.get(h);if(!i||v===null||v.length===0||s&&!_)s?d(null):u();else{const x=s?0:r,A=x*4;let E=w.clippingState||null;l.value=E,E=d(v,p,A,m);for(let C=0;C!==A;++C)E[C]=t[C];w.clippingState=E,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=x}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(h,p,m,v){const y=h!==null?h.length:0;let _=null;if(y!==0){if(_=l.value,v!==!0||_===null){const w=m+y*4,x=p.matrixWorldInverse;a.getNormalMatrix(x),(_===null||_.length<w)&&(_=new Float32Array(w));for(let A=0,E=m;A!==y;++A,E+=4)o.copy(h[A]).applyMatrix4(x,a),o.normal.toArray(_,E),_[E+3]=o.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,_}}function eZ(n){let e=new WeakMap;function t(o,a){return a===zh?o.mapping=La:a===Wh&&(o.mapping=Da),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===zh||a===Wh)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new Lv(l.height/2);return u.fromEquirectangularTexture(n,o),e.set(o,u),o.addEventListener("dispose",i),t(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class zs extends Hf{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super();this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}zs.prototype.isOrthographicCamera=!0;const Bc=4,hP=[.125,.215,.35,.446,.526,.582],Il=20,m1=new zs,pP=new Pe;let g1=null;const Tl=(1+Math.sqrt(5))/2,ac=1/Tl,mP=[new F(1,1,1),new F(-1,1,1),new F(1,1,-1),new F(-1,1,-1),new F(0,Tl,ac),new F(0,Tl,-ac),new F(ac,0,Tl),new F(-ac,0,Tl),new F(Tl,ac,0),new F(-Tl,ac,0)];class WS{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){g1=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=vP(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=yP(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(g1),e.scissorTest=!1,Ug(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===La||e.mapping===Da?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),g1=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize-32,r={magFilter:vn,minFilter:vn,generateMipmaps:!1,type:Jl,format:yi,encoding:gs,depthBuffer:!1},i=gP(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=gP(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=tZ(s)),this._blurMaterial=nZ(s,e,t)}return i}_compileMaterial(e){const t=new Cn(this._lodPlanes[0],e);this._renderer.compile(t,m1)}_sceneToCubeUV(e,t,r,i){const a=new Yt(90,1,t,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],d=this._renderer,h=d.autoClear,p=d.toneMapping;d.getClearColor(pP),d.toneMapping=hs,d.autoClear=!1;const m=new Zr({name:"PMREM.Background",side:wi,depthWrite:!1,depthTest:!1}),v=new Cn(new Io,m);let y=!1;const _=e.background;_?_.isColor&&(m.color.copy(_),e.background=null,y=!0):(m.color.copy(pP),y=!0);for(let w=0;w<6;w++){const x=w%3;x===0?(a.up.set(0,l[w],0),a.lookAt(u[w],0,0)):x===1?(a.up.set(0,0,l[w]),a.lookAt(0,u[w],0)):(a.up.set(0,l[w],0),a.lookAt(0,0,u[w]));const A=this._cubeSize;Ug(i,x*A,w>2?A:0,A,A),d.setRenderTarget(i),y&&d.render(v,a),d.render(e,a)}v.geometry.dispose(),v.material.dispose(),d.toneMapping=p,d.autoClear=h,e.background=_}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===La||e.mapping===Da;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=vP()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=yP());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Cn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Ug(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,m1)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=mP[(i-1)%mP.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,h=new Cn(this._lodPlanes[i],u),p=u.uniforms,m=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Il-1),y=s/v,_=isFinite(s)?1+Math.floor(d*y):Il;_>Il&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${Il}`);const w=[];let x=0;for(let R=0;R<Il;++R){const I=R/y,O=Math.exp(-I*I/2);w.push(O),R===0?x+=O:R<_&&(x+=2*O)}for(let R=0;R<w.length;R++)w[R]=w[R]/x;p.envMap.value=e.texture,p.samples.value=_,p.weights.value=w,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:A}=this;p.dTheta.value=v,p.mipInt.value=A-r;const E=this._sizeLods[i],C=3*E*(i>A-Bc?i-A+Bc:0),T=4*(this._cubeSize-E);Ug(t,C,T,3*E,2*E),l.setRenderTarget(t),l.render(h,m1)}}function tZ(n){const e=[],t=[],r=[];let i=n;const s=n-Bc+1+hP.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-Bc?l=hP[o-n+Bc-1]:o===0&&(l=0),r.push(l);const u=1/(a-1),d=-u/2,h=1+u/2,p=[d,d,h,d,h,h,d,d,h,h,d,h],m=6,v=6,y=3,_=2,w=1,x=new Float32Array(y*v*m),A=new Float32Array(_*v*m),E=new Float32Array(w*v*m);for(let T=0;T<m;T++){const R=T%3*2/3-1,I=T>2?0:-1,O=[R,I,0,R+2/3,I,0,R+2/3,I+1,0,R,I,0,R+2/3,I+1,0,R,I+1,0];x.set(O,y*v*T),A.set(p,_*v*T);const D=[T,T,T,T,T,T];E.set(D,w*v*T)}const C=new rt;C.setAttribute("position",new vt(x,y)),C.setAttribute("uv",new vt(A,_)),C.setAttribute("faceIndex",new vt(E,w)),e.push(C),i>Bc&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function gP(n,e,t){const r=new ur(n,e,t);return r.texture.mapping=Nf,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Ug(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function nZ(n,e,t){const r=new Float32Array(Il),i=new F(0,1,0);return new si({name:"SphericalGaussianBlur",defines:{n:Il,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:hE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Co,depthTest:!1,depthWrite:!1})}function yP(){return new si({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:hE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Co,depthTest:!1,depthWrite:!1})}function vP(){return new si({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:hE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Co,depthTest:!1,depthWrite:!1})}function hE(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function rZ(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===zh||l===Wh,d=l===La||l===Da;if(u||d)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return t===null&&(t=new WS(n)),h=u?t.fromEquirectangular(a,h):t.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(u&&h&&h.height>0||d&&h&&i(h)){t===null&&(t=new WS(n));const p=u?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let d=0;d<u;d++)a[d]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function iZ(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function sZ(n,e,t,r){const i={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const v in p.attributes)e.remove(p.attributes[v]);p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(h,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,t.memory.geometries++),p}function l(h){const p=h.attributes;for(const v in p)e.update(p[v],34962);const m=h.morphAttributes;for(const v in m){const y=m[v];for(let _=0,w=y.length;_<w;_++)e.update(y[_],34962)}}function u(h){const p=[],m=h.index,v=h.attributes.position;let y=0;if(m!==null){const x=m.array;y=m.version;for(let A=0,E=x.length;A<E;A+=3){const C=x[A+0],T=x[A+1],R=x[A+2];p.push(C,T,T,R,R,C)}}else{const x=v.array;y=v.version;for(let A=0,E=x.length/3-1;A<E;A+=3){const C=A+0,T=A+1,R=A+2;p.push(C,T,T,R,R,C)}}const _=new(Nk(p)?Iv:Pv)(p,1);_.version=y;const w=s.get(h);w&&e.remove(w),s.set(h,_)}function d(h){const p=s.get(h);if(p){const m=h.index;m!==null&&p.version<m.version&&u(h)}else u(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:d}}function oZ(n,e,t,r){const i=r.isWebGL2;let s;function o(p){s=p}let a,l;function u(p){a=p.type,l=p.bytesPerElement}function d(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function h(p,m,v){if(v===0)return;let y,_;if(i)y=n,_="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[_](s,m,a,p*l,v),t.update(m,s,v)}this.setMode=o,this.setIndex=u,this.render=d,this.renderInstances=h}function aZ(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function lZ(n,e){return n[0]-e[0]}function uZ(n,e){return Math.abs(e[1])-Math.abs(n[1])}function y1(n,e){let t=1;const r=e.isInterleavedBufferAttribute?e.data.array:e.array;r instanceof Int8Array?t=127:r instanceof Int16Array?t=32767:r instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),n.divideScalar(t)}function cZ(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new Ut,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,d,h,p){const m=u.morphTargetInfluences;if(e.isWebGL2===!0){const v=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,y=v!==void 0?v.length:0;let _=s.get(d);if(_===void 0||_.count!==y){let J=function(){q.dispose(),s.delete(d),d.removeEventListener("dispose",J)};_!==void 0&&_.texture.dispose();const A=d.morphAttributes.position!==void 0,E=d.morphAttributes.normal!==void 0,C=d.morphAttributes.color!==void 0,T=d.morphAttributes.position||[],R=d.morphAttributes.normal||[],I=d.morphAttributes.color||[];let O=0;A===!0&&(O=1),E===!0&&(O=2),C===!0&&(O=3);let D=d.attributes.position.count*O,P=1;D>e.maxTextureSize&&(P=Math.ceil(D/e.maxTextureSize),D=e.maxTextureSize);const B=new Float32Array(D*P*4*y),q=new Of(B,D,P,y);q.type=So,q.needsUpdate=!0;const W=O*4;for(let j=0;j<y;j++){const $=T[j],k=R[j],K=I[j],Z=D*P*4*j;for(let ae=0;ae<$.count;ae++){const Q=ae*W;A===!0&&(o.fromBufferAttribute($,ae),$.normalized===!0&&y1(o,$),B[Z+Q+0]=o.x,B[Z+Q+1]=o.y,B[Z+Q+2]=o.z,B[Z+Q+3]=0),E===!0&&(o.fromBufferAttribute(k,ae),k.normalized===!0&&y1(o,k),B[Z+Q+4]=o.x,B[Z+Q+5]=o.y,B[Z+Q+6]=o.z,B[Z+Q+7]=0),C===!0&&(o.fromBufferAttribute(K,ae),K.normalized===!0&&y1(o,K),B[Z+Q+8]=o.x,B[Z+Q+9]=o.y,B[Z+Q+10]=o.z,B[Z+Q+11]=K.itemSize===4?o.w:1)}}_={count:y,texture:q,size:new ye(D,P)},s.set(d,_),d.addEventListener("dispose",J)}let w=0;for(let A=0;A<m.length;A++)w+=m[A];const x=d.morphTargetsRelative?1:1-w;p.getUniforms().setValue(n,"morphTargetBaseInfluence",x),p.getUniforms().setValue(n,"morphTargetInfluences",m),p.getUniforms().setValue(n,"morphTargetsTexture",_.texture,t),p.getUniforms().setValue(n,"morphTargetsTextureSize",_.size)}else{const v=m===void 0?0:m.length;let y=r[d.id];if(y===void 0||y.length!==v){y=[];for(let E=0;E<v;E++)y[E]=[E,0];r[d.id]=y}for(let E=0;E<v;E++){const C=y[E];C[0]=E,C[1]=m[E]}y.sort(uZ);for(let E=0;E<8;E++)E<v&&y[E][1]?(a[E][0]=y[E][0],a[E][1]=y[E][1]):(a[E][0]=Number.MAX_SAFE_INTEGER,a[E][1]=0);a.sort(lZ);const _=d.morphAttributes.position,w=d.morphAttributes.normal;let x=0;for(let E=0;E<8;E++){const C=a[E],T=C[0],R=C[1];T!==Number.MAX_SAFE_INTEGER&&R?(_&&d.getAttribute("morphTarget"+E)!==_[T]&&d.setAttribute("morphTarget"+E,_[T]),w&&d.getAttribute("morphNormal"+E)!==w[T]&&d.setAttribute("morphNormal"+E,w[T]),i[E]=R,x+=R):(_&&d.hasAttribute("morphTarget"+E)===!0&&d.deleteAttribute("morphTarget"+E),w&&d.hasAttribute("morphNormal"+E)===!0&&d.deleteAttribute("morphNormal"+E),i[E]=0)}const A=d.morphTargetsRelative?1:1-x;p.getUniforms().setValue(n,"morphTargetBaseInfluence",A),p.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function fZ(n,e,t,r){let i=new WeakMap;function s(l){const u=r.render.frame,d=l.geometry,h=e.get(l,d);return i.get(h)!==u&&(e.update(h),i.set(h,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),h}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:o}}const Yk=new wn,qk=new Of,Zk=new Dp,eN=new Uf,_P=[],xP=[],wP=new Float32Array(16),SP=new Float32Array(9),AP=new Float32Array(4);function Gf(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=_P[i];if(s===void 0&&(s=new Float32Array(i),_P[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Fr(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function br(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function Dv(n,e){let t=xP[e];t===void 0&&(t=new Int32Array(e),xP[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function dZ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function hZ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Fr(t,e))return;n.uniform2fv(this.addr,e),br(t,e)}}function pZ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Fr(t,e))return;n.uniform3fv(this.addr,e),br(t,e)}}function mZ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Fr(t,e))return;n.uniform4fv(this.addr,e),br(t,e)}}function gZ(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Fr(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),br(t,e)}else{if(Fr(t,r))return;AP.set(r),n.uniformMatrix2fv(this.addr,!1,AP),br(t,r)}}function yZ(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Fr(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),br(t,e)}else{if(Fr(t,r))return;SP.set(r),n.uniformMatrix3fv(this.addr,!1,SP),br(t,r)}}function vZ(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Fr(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),br(t,e)}else{if(Fr(t,r))return;wP.set(r),n.uniformMatrix4fv(this.addr,!1,wP),br(t,r)}}function _Z(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function xZ(n,e){const t=this.cache;Fr(t,e)||(n.uniform2iv(this.addr,e),br(t,e))}function wZ(n,e){const t=this.cache;Fr(t,e)||(n.uniform3iv(this.addr,e),br(t,e))}function SZ(n,e){const t=this.cache;Fr(t,e)||(n.uniform4iv(this.addr,e),br(t,e))}function AZ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function MZ(n,e){const t=this.cache;Fr(t,e)||(n.uniform2uiv(this.addr,e),br(t,e))}function EZ(n,e){const t=this.cache;Fr(t,e)||(n.uniform3uiv(this.addr,e),br(t,e))}function CZ(n,e){const t=this.cache;Fr(t,e)||(n.uniform4uiv(this.addr,e),br(t,e))}function bZ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||Yk,i)}function TZ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||Zk,i)}function RZ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||eN,i)}function PZ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||qk,i)}function IZ(n){switch(n){case 5126:return dZ;case 35664:return hZ;case 35665:return pZ;case 35666:return mZ;case 35674:return gZ;case 35675:return yZ;case 35676:return vZ;case 5124:case 35670:return _Z;case 35667:case 35671:return xZ;case 35668:case 35672:return wZ;case 35669:case 35673:return SZ;case 5125:return AZ;case 36294:return MZ;case 36295:return EZ;case 36296:return CZ;case 35678:case 36198:case 36298:case 36306:case 35682:return bZ;case 35679:case 36299:case 36307:return TZ;case 35680:case 36300:case 36308:case 36293:return RZ;case 36289:case 36303:case 36311:case 36292:return PZ}}function BZ(n,e){n.uniform1fv(this.addr,e)}function LZ(n,e){const t=Gf(e,this.size,2);n.uniform2fv(this.addr,t)}function DZ(n,e){const t=Gf(e,this.size,3);n.uniform3fv(this.addr,t)}function FZ(n,e){const t=Gf(e,this.size,4);n.uniform4fv(this.addr,t)}function kZ(n,e){const t=Gf(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function NZ(n,e){const t=Gf(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function OZ(n,e){const t=Gf(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function HZ(n,e){n.uniform1iv(this.addr,e)}function UZ(n,e){n.uniform2iv(this.addr,e)}function GZ(n,e){n.uniform3iv(this.addr,e)}function zZ(n,e){n.uniform4iv(this.addr,e)}function WZ(n,e){n.uniform1uiv(this.addr,e)}function VZ(n,e){n.uniform2uiv(this.addr,e)}function jZ(n,e){n.uniform3uiv(this.addr,e)}function JZ(n,e){n.uniform4uiv(this.addr,e)}function $Z(n,e,t){const r=e.length,i=Dv(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.setTexture2D(e[s]||Yk,i[s])}function KZ(n,e,t){const r=e.length,i=Dv(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.setTexture3D(e[s]||Zk,i[s])}function XZ(n,e,t){const r=e.length,i=Dv(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.setTextureCube(e[s]||eN,i[s])}function QZ(n,e,t){const r=e.length,i=Dv(t,r);n.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)t.setTexture2DArray(e[s]||qk,i[s])}function YZ(n){switch(n){case 5126:return BZ;case 35664:return LZ;case 35665:return DZ;case 35666:return FZ;case 35674:return kZ;case 35675:return NZ;case 35676:return OZ;case 5124:case 35670:return HZ;case 35667:case 35671:return UZ;case 35668:case 35672:return GZ;case 35669:case 35673:return zZ;case 5125:return WZ;case 36294:return VZ;case 36295:return jZ;case 36296:return JZ;case 35678:case 36198:case 36298:case 36306:case 35682:return $Z;case 35679:case 36299:case 36307:return KZ;case 35680:case 36300:case 36308:case 36293:return XZ;case 36289:case 36303:case 36311:case 36292:return QZ}}function qZ(n,e,t){this.id=n,this.addr=t,this.cache=[],this.setValue=IZ(e.type)}function tN(n,e,t){this.id=n,this.addr=t,this.cache=[],this.size=e.size,this.setValue=YZ(e.type)}tN.prototype.updateCache=function(n){const e=this.cache;n instanceof Float32Array&&e.length!==n.length&&(this.cache=new Float32Array(n.length)),br(e,n)};function nN(n){this.id=n,this.seq=[],this.map={}}nN.prototype.setValue=function(n,e,t){const r=this.seq;for(let i=0,s=r.length;i!==s;++i){const o=r[i];o.setValue(n,e[o.id],t)}};const v1=/(\w+)(\])?(\[|\.)?/g;function MP(n,e){n.seq.push(e),n.map[e.id]=e}function ZZ(n,e,t){const r=n.name,i=r.length;for(v1.lastIndex=0;;){const s=v1.exec(r),o=v1.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){MP(t,u===void 0?new qZ(a,n,e):new tN(a,n,e));break}else{let h=t.map[a];h===void 0&&(h=new nN(a),MP(t,h)),t=h}}}function Ca(n,e){this.seq=[],this.map={};const t=n.getProgramParameter(e,35718);for(let r=0;r<t;++r){const i=n.getActiveUniform(e,r),s=n.getUniformLocation(e,i.name);ZZ(i,s,this)}}Ca.prototype.setValue=function(n,e,t,r){const i=this.map[e];i!==void 0&&i.setValue(n,t,r)};Ca.prototype.setOptional=function(n,e,t){const r=e[t];r!==void 0&&this.setValue(n,t,r)};Ca.upload=function(n,e,t,r){for(let i=0,s=e.length;i!==s;++i){const o=e[i],a=t[o.id];a.needsUpdate!==!1&&o.setValue(n,a.value,r)}};Ca.seqWithValue=function(n,e){const t=[];for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.id in e&&t.push(s)}return t};function EP(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let eee=0;function tee(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++)r.push(o+1+": "+t[o]);return r.join(`
`)}function nee(n){switch(n){case gs:return["Linear","( value )"];case Ht:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function CP(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=parseInt(/ERROR: 0:(\d+)/.exec(i)[1]);return t.toUpperCase()+`

`+i+`

`+tee(n.getShaderSource(e),s)}function ree(n,e){const t=nee(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function iee(n,e){let t;switch(e){case lk:t="Linear";break;case uk:t="Reinhard";break;case ck:t="OptimizedCineon";break;case uE:t="ACESFilmic";break;case fk:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function see(n){return[n.extensionDerivatives||!!n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Jd).join(`
`)}function oee(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function aee(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Jd(n){return n!==""}function bP(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function TP(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const lee=/^[ \t]*#include +<([\w\d./]+)>/gm;function VS(n){return n.replace(lee,uee)}function uee(n,e){const t=yt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return VS(t)}const cee=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,fee=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function RP(n){return n.replace(fee,rN).replace(cee,dee)}function dee(n,e,t,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),rN(n,e,t,r)}function rN(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function PP(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function hee(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===iE?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===sE?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Pc&&(e="SHADOWMAP_TYPE_VSM"),e}function pee(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case La:case Da:e="ENVMAP_TYPE_CUBE";break;case Nf:e="ENVMAP_TYPE_CUBE_UV";break}return e}function mee(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Da:e="ENVMAP_MODE_REFRACTION";break}return e}function gee(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Lp:e="ENVMAP_BLENDING_MULTIPLY";break;case ok:e="ENVMAP_BLENDING_MIX";break;case ak:e="ENVMAP_BLENDING_ADD";break}return e}function yee(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e/32+1)+3,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function vee(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=hee(t),u=pee(t),d=mee(t),h=gee(t),p=yee(t),m=t.isWebGL2?"":see(t),v=oee(s),y=i.createProgram();let _,w,x=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=[v].filter(Jd).join(`
`),_.length>0&&(_+=`
`),w=[m,v].filter(Jd).join(`
`),w.length>0&&(w+=`
`)):(_=[PP(t),"#define SHADER_NAME "+t.shaderName,v,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+t.maxBones,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.useVertexTexture?"#define BONE_TEXTURE":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Jd).join(`
`),w=[m,PP(t),"#define SHADER_NAME "+t.shaderName,v,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",t.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==hs?"#define TONE_MAPPING":"",t.toneMapping!==hs?yt.tonemapping_pars_fragment:"",t.toneMapping!==hs?iee("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",yt.encodings_pars_fragment,ree("linearToOutputTexel",t.outputEncoding),t.depthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Jd).join(`
`)),o=VS(o),o=bP(o,t),o=TP(o,t),a=VS(a),a=bP(a,t),a=TP(a,t),o=RP(o),a=RP(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,_=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,w=["#define varying in",t.glslVersion===US?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===US?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const A=x+_+o,E=x+w+a,C=EP(i,35633,A),T=EP(i,35632,E);if(i.attachShader(y,C),i.attachShader(y,T),t.index0AttributeName!==void 0?i.bindAttribLocation(y,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y),n.debug.checkShaderErrors){const O=i.getProgramInfoLog(y).trim(),D=i.getShaderInfoLog(C).trim(),P=i.getShaderInfoLog(T).trim();let B=!0,q=!0;if(i.getProgramParameter(y,35714)===!1){B=!1;const W=CP(i,C,"vertex"),J=CP(i,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,35715)+`

Program Info Log: `+O+`
`+W+`
`+J)}else O!==""?console.warn("THREE.WebGLProgram: Program Info Log:",O):(D===""||P==="")&&(q=!1);q&&(this.diagnostics={runnable:B,programLog:O,vertexShader:{log:D,prefix:_},fragmentShader:{log:P,prefix:w}})}i.deleteShader(C),i.deleteShader(T);let R;this.getUniforms=function(){return R===void 0&&(R=new Ca(i,y)),R};let I;return this.getAttributes=function(){return I===void 0&&(I=aee(i,y)),I},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.name=t.shaderName,this.id=eee++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=C,this.fragmentShader=T,this}let _ee=0;class xee{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;return t.has(e)===!1&&t.set(e,new Set),t.get(e)}_getShaderStage(e){const t=this.shaderCache;if(t.has(e)===!1){const r=new wee(e);t.set(e,r)}return t.get(e)}}class wee{constructor(e){this.id=_ee++,this.code=e,this.usedTimes=0}}function See(n,e,t,r,i,s,o){const a=new Ql,l=new xee,u=[],d=i.isWebGL2,h=i.logarithmicDepthBuffer,p=i.floatVertexTextures,m=i.maxVertexUniforms,v=i.vertexTextures;let y=i.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function w(P){const q=P.skeleton.bones;if(p)return 1024;{const J=Math.floor((m-20)/4),j=Math.min(J,q.length);return j<q.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+q.length+" bones. This GPU supports "+j+"."),0):j}}function x(P,B,q,W,J){const j=W.fog,$=J.geometry,k=P.isMeshStandardMaterial?W.environment:null,K=(P.isMeshStandardMaterial?t:e).get(P.envMap||k),Z=!!K&&K.mapping===Nf?K.image.height:null,ae=_[P.type],Q=J.isSkinnedMesh?w(J):0;P.precision!==null&&(y=i.getMaxPrecision(P.precision),y!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",y,"instead."));const se=$.morphAttributes.position||$.morphAttributes.normal||$.morphAttributes.color,pe=se!==void 0?se.length:0;let _e=0;$.morphAttributes.position!==void 0&&(_e=1),$.morphAttributes.normal!==void 0&&(_e=2),$.morphAttributes.color!==void 0&&(_e=3);let H,Be,ue,Le;if(ae){const xe=ls[ae];H=xe.vertexShader,Be=xe.fragmentShader}else H=P.vertexShader,Be=P.fragmentShader,l.update(P),ue=l.getVertexShaderID(P),Le=l.getFragmentShaderID(P);const ve=n.getRenderTarget(),Re=P.alphaTest>0,ne=P.clearcoat>0;return{isWebGL2:d,shaderID:ae,shaderName:P.type,vertexShader:H,fragmentShader:Be,defines:P.defines,customVertexShaderID:ue,customFragmentShaderID:Le,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:y,instancing:J.isInstancedMesh===!0,instancingColor:J.isInstancedMesh===!0&&J.instanceColor!==null,supportsVertexTextures:v,outputEncoding:ve===null?n.outputEncoding:ve.isXRRenderTarget===!0?ve.texture.encoding:gs,map:!!P.map,matcap:!!P.matcap,envMap:!!K,envMapMode:K&&K.mapping,envMapCubeUVHeight:Z,lightMap:!!P.lightMap,aoMap:!!P.aoMap,emissiveMap:!!P.emissiveMap,bumpMap:!!P.bumpMap,normalMap:!!P.normalMap,objectSpaceNormalMap:P.normalMapType===Dk,tangentSpaceNormalMap:P.normalMapType===$a,decodeVideoTexture:!!P.map&&P.map.isVideoTexture===!0&&P.map.encoding===Ht,clearcoat:ne,clearcoatMap:ne&&!!P.clearcoatMap,clearcoatRoughnessMap:ne&&!!P.clearcoatRoughnessMap,clearcoatNormalMap:ne&&!!P.clearcoatNormalMap,displacementMap:!!P.displacementMap,roughnessMap:!!P.roughnessMap,metalnessMap:!!P.metalnessMap,specularMap:!!P.specularMap,specularIntensityMap:!!P.specularIntensityMap,specularColorMap:!!P.specularColorMap,opaque:P.transparent===!1&&P.blending===jl,alphaMap:!!P.alphaMap,alphaTest:Re,gradientMap:!!P.gradientMap,sheen:P.sheen>0,sheenColorMap:!!P.sheenColorMap,sheenRoughnessMap:!!P.sheenRoughnessMap,transmission:P.transmission>0,transmissionMap:!!P.transmissionMap,thicknessMap:!!P.thicknessMap,combine:P.combine,vertexTangents:!!P.normalMap&&!!$.attributes.tangent,vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!$.attributes.color&&$.attributes.color.itemSize===4,vertexUvs:!!P.map||!!P.bumpMap||!!P.normalMap||!!P.specularMap||!!P.alphaMap||!!P.emissiveMap||!!P.roughnessMap||!!P.metalnessMap||!!P.clearcoatMap||!!P.clearcoatRoughnessMap||!!P.clearcoatNormalMap||!!P.displacementMap||!!P.transmissionMap||!!P.thicknessMap||!!P.specularIntensityMap||!!P.specularColorMap||!!P.sheenColorMap||!!P.sheenRoughnessMap,uvsVertexOnly:!(!!P.map||!!P.bumpMap||!!P.normalMap||!!P.specularMap||!!P.alphaMap||!!P.emissiveMap||!!P.roughnessMap||!!P.metalnessMap||!!P.clearcoatNormalMap||P.transmission>0||!!P.transmissionMap||!!P.thicknessMap||!!P.specularIntensityMap||!!P.specularColorMap||P.sheen>0||!!P.sheenColorMap||!!P.sheenRoughnessMap)&&!!P.displacementMap,fog:!!j,useFog:P.fog,fogExp2:j&&j.isFogExp2,flatShading:!!P.flatShading,sizeAttenuation:P.sizeAttenuation,logarithmicDepthBuffer:h,skinning:J.isSkinnedMesh===!0&&Q>0,maxBones:Q,useVertexTexture:p,morphTargets:$.morphAttributes.position!==void 0,morphNormals:$.morphAttributes.normal!==void 0,morphColors:$.morphAttributes.color!==void 0,morphTargetsCount:pe,morphTextureStride:_e,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:P.dithering,shadowMapEnabled:n.shadowMap.enabled&&q.length>0,shadowMapType:n.shadowMap.type,toneMapping:P.toneMapped?n.toneMapping:hs,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===Ba,flipSided:P.side===wi,depthPacking:P.depthPacking!==void 0?P.depthPacking:!1,index0AttributeName:P.index0AttributeName,extensionDerivatives:P.extensions&&P.extensions.derivatives,extensionFragDepth:P.extensions&&P.extensions.fragDepth,extensionDrawBuffers:P.extensions&&P.extensions.drawBuffers,extensionShaderTextureLOD:P.extensions&&P.extensions.shaderTextureLOD,rendererExtensionFragDepth:d||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||r.has("EXT_shader_texture_lod"),customProgramCacheKey:P.customProgramCacheKey()}}function A(P){const B=[];if(P.shaderID?B.push(P.shaderID):(B.push(P.customVertexShaderID),B.push(P.customFragmentShaderID)),P.defines!==void 0)for(const q in P.defines)B.push(q),B.push(P.defines[q]);return P.isRawShaderMaterial===!1&&(E(B,P),C(B,P),B.push(n.outputEncoding)),B.push(P.customProgramCacheKey),B.join()}function E(P,B){P.push(B.precision),P.push(B.outputEncoding),P.push(B.envMapMode),P.push(B.envMapCubeUVHeight),P.push(B.combine),P.push(B.vertexUvs),P.push(B.fogExp2),P.push(B.sizeAttenuation),P.push(B.maxBones),P.push(B.morphTargetsCount),P.push(B.morphAttributeCount),P.push(B.numDirLights),P.push(B.numPointLights),P.push(B.numSpotLights),P.push(B.numHemiLights),P.push(B.numRectAreaLights),P.push(B.numDirLightShadows),P.push(B.numPointLightShadows),P.push(B.numSpotLightShadows),P.push(B.shadowMapType),P.push(B.toneMapping),P.push(B.numClippingPlanes),P.push(B.numClipIntersection)}function C(P,B){a.disableAll(),B.isWebGL2&&a.enable(0),B.supportsVertexTextures&&a.enable(1),B.instancing&&a.enable(2),B.instancingColor&&a.enable(3),B.map&&a.enable(4),B.matcap&&a.enable(5),B.envMap&&a.enable(6),B.lightMap&&a.enable(7),B.aoMap&&a.enable(8),B.emissiveMap&&a.enable(9),B.bumpMap&&a.enable(10),B.normalMap&&a.enable(11),B.objectSpaceNormalMap&&a.enable(12),B.tangentSpaceNormalMap&&a.enable(13),B.clearcoat&&a.enable(14),B.clearcoatMap&&a.enable(15),B.clearcoatRoughnessMap&&a.enable(16),B.clearcoatNormalMap&&a.enable(17),B.displacementMap&&a.enable(18),B.specularMap&&a.enable(19),B.roughnessMap&&a.enable(20),B.metalnessMap&&a.enable(21),B.gradientMap&&a.enable(22),B.alphaMap&&a.enable(23),B.alphaTest&&a.enable(24),B.vertexColors&&a.enable(25),B.vertexAlphas&&a.enable(26),B.vertexUvs&&a.enable(27),B.vertexTangents&&a.enable(28),B.uvsVertexOnly&&a.enable(29),B.fog&&a.enable(30),P.push(a.mask),a.disableAll(),B.useFog&&a.enable(0),B.flatShading&&a.enable(1),B.logarithmicDepthBuffer&&a.enable(2),B.skinning&&a.enable(3),B.useVertexTexture&&a.enable(4),B.morphTargets&&a.enable(5),B.morphNormals&&a.enable(6),B.morphColors&&a.enable(7),B.premultipliedAlpha&&a.enable(8),B.shadowMapEnabled&&a.enable(9),B.physicallyCorrectLights&&a.enable(10),B.doubleSided&&a.enable(11),B.flipSided&&a.enable(12),B.depthPacking&&a.enable(13),B.dithering&&a.enable(14),B.specularIntensityMap&&a.enable(15),B.specularColorMap&&a.enable(16),B.transmission&&a.enable(17),B.transmissionMap&&a.enable(18),B.thicknessMap&&a.enable(19),B.sheen&&a.enable(20),B.sheenColorMap&&a.enable(21),B.sheenRoughnessMap&&a.enable(22),B.decodeVideoTexture&&a.enable(23),B.opaque&&a.enable(24),P.push(a.mask)}function T(P){const B=_[P.type];let q;if(B){const W=ls[B];q=Xk.clone(W.uniforms)}else q=P.uniforms;return q}function R(P,B){let q;for(let W=0,J=u.length;W<J;W++){const j=u[W];if(j.cacheKey===B){q=j,++q.usedTimes;break}}return q===void 0&&(q=new vee(n,B,P,s),u.push(q)),q}function I(P){if(--P.usedTimes===0){const B=u.indexOf(P);u[B]=u[u.length-1],u.pop(),P.destroy()}}function O(P){l.remove(P)}function D(){l.dispose()}return{getParameters:x,getProgramCacheKey:A,getUniforms:T,acquireProgram:R,releaseProgram:I,releaseShaderCache:O,programs:u,dispose:D}}function Aee(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function Mee(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function IP(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function BP(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(h,p,m,v,y,_){let w=n[e];return w===void 0?(w={id:h.id,object:h,geometry:p,material:m,groupOrder:v,renderOrder:h.renderOrder,z:y,group:_},n[e]=w):(w.id=h.id,w.object=h,w.geometry=p,w.material=m,w.groupOrder=v,w.renderOrder=h.renderOrder,w.z=y,w.group=_),e++,w}function a(h,p,m,v,y,_){const w=o(h,p,m,v,y,_);m.transmission>0?r.push(w):m.transparent===!0?i.push(w):t.push(w)}function l(h,p,m,v,y,_){const w=o(h,p,m,v,y,_);m.transmission>0?r.unshift(w):m.transparent===!0?i.unshift(w):t.unshift(w)}function u(h,p){t.length>1&&t.sort(h||Mee),r.length>1&&r.sort(p||IP),i.length>1&&i.sort(p||IP)}function d(){for(let h=e,p=n.length;h<p;h++){const m=n[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:d,sort:u}}function Eee(){let n=new WeakMap;function e(r,i){let s;return n.has(r)===!1?(s=new BP,n.set(r,[s])):i>=n.get(r).length?(s=new BP,n.get(r).push(s)):s=n.get(r)[i],s}function t(){n=new WeakMap}return{get:e,dispose:t}}function Cee(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new F,color:new Pe};break;case"SpotLight":t={position:new F,direction:new F,color:new Pe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new F,color:new Pe,distance:0,decay:0};break;case"HemisphereLight":t={direction:new F,skyColor:new Pe,groundColor:new Pe};break;case"RectAreaLight":t={color:new Pe,position:new F,halfWidth:new F,halfHeight:new F};break}return n[e.id]=t,t}}}function bee(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ye};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ye};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ye,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Tee=0;function Ree(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function Pee(n,e){const t=new Cee,r=bee(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let d=0;d<9;d++)i.probe.push(new F);const s=new F,o=new Xe,a=new Xe;function l(d,h){let p=0,m=0,v=0;for(let O=0;O<9;O++)i.probe[O].set(0,0,0);let y=0,_=0,w=0,x=0,A=0,E=0,C=0,T=0;d.sort(Ree);const R=h!==!0?Math.PI:1;for(let O=0,D=d.length;O<D;O++){const P=d[O],B=P.color,q=P.intensity,W=P.distance,J=P.shadow&&P.shadow.map?P.shadow.map.texture:null;if(P.isAmbientLight)p+=B.r*q*R,m+=B.g*q*R,v+=B.b*q*R;else if(P.isLightProbe)for(let j=0;j<9;j++)i.probe[j].addScaledVector(P.sh.coefficients[j],q);else if(P.isDirectionalLight){const j=t.get(P);if(j.color.copy(P.color).multiplyScalar(P.intensity*R),P.castShadow){const $=P.shadow,k=r.get(P);k.shadowBias=$.bias,k.shadowNormalBias=$.normalBias,k.shadowRadius=$.radius,k.shadowMapSize=$.mapSize,i.directionalShadow[y]=k,i.directionalShadowMap[y]=J,i.directionalShadowMatrix[y]=P.shadow.matrix,E++}i.directional[y]=j,y++}else if(P.isSpotLight){const j=t.get(P);if(j.position.setFromMatrixPosition(P.matrixWorld),j.color.copy(B).multiplyScalar(q*R),j.distance=W,j.coneCos=Math.cos(P.angle),j.penumbraCos=Math.cos(P.angle*(1-P.penumbra)),j.decay=P.decay,P.castShadow){const $=P.shadow,k=r.get(P);k.shadowBias=$.bias,k.shadowNormalBias=$.normalBias,k.shadowRadius=$.radius,k.shadowMapSize=$.mapSize,i.spotShadow[w]=k,i.spotShadowMap[w]=J,i.spotShadowMatrix[w]=P.shadow.matrix,T++}i.spot[w]=j,w++}else if(P.isRectAreaLight){const j=t.get(P);j.color.copy(B).multiplyScalar(q),j.halfWidth.set(P.width*.5,0,0),j.halfHeight.set(0,P.height*.5,0),i.rectArea[x]=j,x++}else if(P.isPointLight){const j=t.get(P);if(j.color.copy(P.color).multiplyScalar(P.intensity*R),j.distance=P.distance,j.decay=P.decay,P.castShadow){const $=P.shadow,k=r.get(P);k.shadowBias=$.bias,k.shadowNormalBias=$.normalBias,k.shadowRadius=$.radius,k.shadowMapSize=$.mapSize,k.shadowCameraNear=$.camera.near,k.shadowCameraFar=$.camera.far,i.pointShadow[_]=k,i.pointShadowMap[_]=J,i.pointShadowMatrix[_]=P.shadow.matrix,C++}i.point[_]=j,_++}else if(P.isHemisphereLight){const j=t.get(P);j.skyColor.copy(P.color).multiplyScalar(q*R),j.groundColor.copy(P.groundColor).multiplyScalar(q*R),i.hemi[A]=j,A++}}x>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Oe.LTC_FLOAT_1,i.rectAreaLTC2=Oe.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Oe.LTC_HALF_1,i.rectAreaLTC2=Oe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=v;const I=i.hash;(I.directionalLength!==y||I.pointLength!==_||I.spotLength!==w||I.rectAreaLength!==x||I.hemiLength!==A||I.numDirectionalShadows!==E||I.numPointShadows!==C||I.numSpotShadows!==T)&&(i.directional.length=y,i.spot.length=w,i.rectArea.length=x,i.point.length=_,i.hemi.length=A,i.directionalShadow.length=E,i.directionalShadowMap.length=E,i.pointShadow.length=C,i.pointShadowMap.length=C,i.spotShadow.length=T,i.spotShadowMap.length=T,i.directionalShadowMatrix.length=E,i.pointShadowMatrix.length=C,i.spotShadowMatrix.length=T,I.directionalLength=y,I.pointLength=_,I.spotLength=w,I.rectAreaLength=x,I.hemiLength=A,I.numDirectionalShadows=E,I.numPointShadows=C,I.numSpotShadows=T,i.version=Tee++)}function u(d,h){let p=0,m=0,v=0,y=0,_=0;const w=h.matrixWorldInverse;for(let x=0,A=d.length;x<A;x++){const E=d[x];if(E.isDirectionalLight){const C=i.directional[p];C.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(w),p++}else if(E.isSpotLight){const C=i.spot[v];C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(w),C.direction.setFromMatrixPosition(E.matrixWorld),s.setFromMatrixPosition(E.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(w),v++}else if(E.isRectAreaLight){const C=i.rectArea[y];C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(w),a.identity(),o.copy(E.matrixWorld),o.premultiply(w),a.extractRotation(o),C.halfWidth.set(E.width*.5,0,0),C.halfHeight.set(0,E.height*.5,0),C.halfWidth.applyMatrix4(a),C.halfHeight.applyMatrix4(a),y++}else if(E.isPointLight){const C=i.point[m];C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(w),m++}else if(E.isHemisphereLight){const C=i.hemi[_];C.direction.setFromMatrixPosition(E.matrixWorld),C.direction.transformDirection(w),C.direction.normalize(),_++}}}return{setup:l,setupView:u,state:i}}function LP(n,e){const t=new Pee(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(h){r.push(h)}function a(h){i.push(h)}function l(h){t.setup(r,h)}function u(h){t.setupView(r,h)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function Iee(n,e){let t=new WeakMap;function r(s,o=0){let a;return t.has(s)===!1?(a=new LP(n,e),t.set(s,[a])):o>=t.get(s).length?(a=new LP(n,e),t.get(s).push(a)):a=t.get(s)[o],a}function i(){t=new WeakMap}return{get:r,dispose:i}}class kp extends dn{constructor(e){super();this.type="MeshDepthMaterial",this.depthPacking=Bk,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}kp.prototype.isMeshDepthMaterial=!0;class Fv extends dn{constructor(e){super();this.type="MeshDistanceMaterial",this.referencePosition=new F,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}Fv.prototype.isMeshDistanceMaterial=!0;const Bee=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Lee=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function iN(n,e,t){let r=new Fp;const i=new ye,s=new ye,o=new Ut,a=new kp({depthPacking:Lk}),l=new Fv,u={},d=t.maxTextureSize,h={0:wi,1:Ia,2:Ba},p=new si({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ye},radius:{value:4}},vertexShader:Bee,fragmentShader:Lee}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const v=new rt;v.setAttribute("position",new vt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new Cn(v,p),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=iE,this.render=function(E,C,T){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||E.length===0)return;const R=n.getRenderTarget(),I=n.getActiveCubeFace(),O=n.getActiveMipmapLevel(),D=n.state;D.setBlending(Co),D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);for(let P=0,B=E.length;P<B;P++){const q=E[P],W=q.shadow;if(W===void 0){console.warn("THREE.WebGLShadowMap:",q,"has no shadow.");continue}if(W.autoUpdate===!1&&W.needsUpdate===!1)continue;i.copy(W.mapSize);const J=W.getFrameExtents();if(i.multiply(J),s.copy(W.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(s.x=Math.floor(d/J.x),i.x=s.x*J.x,W.mapSize.x=s.x),i.y>d&&(s.y=Math.floor(d/J.y),i.y=s.y*J.y,W.mapSize.y=s.y)),W.map===null&&!W.isPointLightShadow&&this.type===Pc&&(W.map=new ur(i.x,i.y),W.map.texture.name=q.name+".shadowMap",W.mapPass=new ur(i.x,i.y),W.camera.updateProjectionMatrix()),W.map===null){const $={minFilter:Bn,magFilter:Bn,format:yi};W.map=new ur(i.x,i.y,$),W.map.texture.name=q.name+".shadowMap",W.camera.updateProjectionMatrix()}n.setRenderTarget(W.map),n.clear();const j=W.getViewportCount();for(let $=0;$<j;$++){const k=W.getViewport($);o.set(s.x*k.x,s.y*k.y,s.x*k.z,s.y*k.w),D.viewport(o),W.updateMatrices(q,$),r=W.getFrustum(),A(C,T,W.camera,q,this.type)}!W.isPointLightShadow&&this.type===Pc&&w(W,T),W.needsUpdate=!1}_.needsUpdate=!1,n.setRenderTarget(R,I,O)};function w(E,C){const T=e.update(y);p.defines.VSM_SAMPLES!==E.blurSamples&&(p.defines.VSM_SAMPLES=E.blurSamples,m.defines.VSM_SAMPLES=E.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),p.uniforms.shadow_pass.value=E.map.texture,p.uniforms.resolution.value=E.mapSize,p.uniforms.radius.value=E.radius,n.setRenderTarget(E.mapPass),n.clear(),n.renderBufferDirect(C,null,T,p,y,null),m.uniforms.shadow_pass.value=E.mapPass.texture,m.uniforms.resolution.value=E.mapSize,m.uniforms.radius.value=E.radius,n.setRenderTarget(E.map),n.clear(),n.renderBufferDirect(C,null,T,m,y,null)}function x(E,C,T,R,I,O){let D=null;const P=T.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(P!==void 0?D=P:D=T.isPointLight===!0?l:a,n.localClippingEnabled&&C.clipShadows===!0&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0){const B=D.uuid,q=C.uuid;let W=u[B];W===void 0&&(W={},u[B]=W);let J=W[q];J===void 0&&(J=D.clone(),W[q]=J),D=J}return D.visible=C.visible,D.wireframe=C.wireframe,O===Pc?D.side=C.shadowSide!==null?C.shadowSide:C.side:D.side=C.shadowSide!==null?C.shadowSide:h[C.side],D.alphaMap=C.alphaMap,D.alphaTest=C.alphaTest,D.clipShadows=C.clipShadows,D.clippingPlanes=C.clippingPlanes,D.clipIntersection=C.clipIntersection,D.displacementMap=C.displacementMap,D.displacementScale=C.displacementScale,D.displacementBias=C.displacementBias,D.wireframeLinewidth=C.wireframeLinewidth,D.linewidth=C.linewidth,T.isPointLight===!0&&D.isMeshDistanceMaterial===!0&&(D.referencePosition.setFromMatrixPosition(T.matrixWorld),D.nearDistance=R,D.farDistance=I),D}function A(E,C,T,R,I){if(E.visible===!1)return;if(E.layers.test(C.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&I===Pc)&&(!E.frustumCulled||r.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,E.matrixWorld);const P=e.update(E),B=E.material;if(Array.isArray(B)){const q=P.groups;for(let W=0,J=q.length;W<J;W++){const j=q[W],$=B[j.materialIndex];if($&&$.visible){const k=x(E,$,R,T.near,T.far,I);n.renderBufferDirect(T,null,P,k,E,j)}}}else if(B.visible){const q=x(E,B,R,T.near,T.far,I);n.renderBufferDirect(T,null,P,q,E,null)}}const D=E.children;for(let P=0,B=D.length;P<B;P++)A(D[P],C,T,R,I)}}function Dee(n,e,t){const r=t.isWebGL2;function i(){let N=!1;const ge=new Ut;let we=null;const Ve=new Ut(0,0,0,0);return{setMask:function(Ne){we!==Ne&&!N&&(n.colorMask(Ne,Ne,Ne,Ne),we=Ne)},setLocked:function(Ne){N=Ne},setClear:function(Ne,tt,De,et,xt){xt===!0&&(Ne*=et,tt*=et,De*=et),ge.set(Ne,tt,De,et),Ve.equals(ge)===!1&&(n.clearColor(Ne,tt,De,et),Ve.copy(ge))},reset:function(){N=!1,we=null,Ve.set(-1,0,0,0)}}}function s(){let N=!1,ge=null,we=null,Ve=null;return{setTest:function(Ne){Ne?_e(2929):H(2929)},setMask:function(Ne){ge!==Ne&&!N&&(n.depthMask(Ne),ge=Ne)},setFunc:function(Ne){if(we!==Ne){if(Ne)switch(Ne){case ZF:n.depthFunc(512);break;case ek:n.depthFunc(519);break;case tk:n.depthFunc(513);break;case M0:n.depthFunc(515);break;case nk:n.depthFunc(514);break;case rk:n.depthFunc(518);break;case ik:n.depthFunc(516);break;case sk:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);we=Ne}},setLocked:function(Ne){N=Ne},setClear:function(Ne){Ve!==Ne&&(n.clearDepth(Ne),Ve=Ne)},reset:function(){N=!1,ge=null,we=null,Ve=null}}}function o(){let N=!1,ge=null,we=null,Ve=null,Ne=null,tt=null,De=null,et=null,xt=null;return{setTest:function(wt){N||(wt?_e(2960):H(2960))},setMask:function(wt){ge!==wt&&!N&&(n.stencilMask(wt),ge=wt)},setFunc:function(wt,Ti,li){(we!==wt||Ve!==Ti||Ne!==li)&&(n.stencilFunc(wt,Ti,li),we=wt,Ve=Ti,Ne=li)},setOp:function(wt,Ti,li){(tt!==wt||De!==Ti||et!==li)&&(n.stencilOp(wt,Ti,li),tt=wt,De=Ti,et=li)},setLocked:function(wt){N=wt},setClear:function(wt){xt!==wt&&(n.clearStencil(wt),xt=wt)},reset:function(){N=!1,ge=null,we=null,Ve=null,Ne=null,tt=null,De=null,et=null,xt=null}}}const a=new i,l=new s,u=new o;let d={},h={},p=new WeakMap,m=[],v=null,y=!1,_=null,w=null,x=null,A=null,E=null,C=null,T=null,R=!1,I=null,O=null,D=null,P=null,B=null;const q=n.getParameter(35661);let W=!1,J=0;const j=n.getParameter(7938);j.indexOf("WebGL")!==-1?(J=parseFloat(/^WebGL (\d)/.exec(j)[1]),W=J>=1):j.indexOf("OpenGL ES")!==-1&&(J=parseFloat(/^OpenGL ES (\d)/.exec(j)[1]),W=J>=2);let $=null,k={};const K=n.getParameter(3088),Z=n.getParameter(2978),ae=new Ut().fromArray(K),Q=new Ut().fromArray(Z);function se(N,ge,we){const Ve=new Uint8Array(4),Ne=n.createTexture();n.bindTexture(N,Ne),n.texParameteri(N,10241,9728),n.texParameteri(N,10240,9728);for(let tt=0;tt<we;tt++)n.texImage2D(ge+tt,0,6408,1,1,0,6408,5121,Ve);return Ne}const pe={};pe[3553]=se(3553,3553,1),pe[34067]=se(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),_e(2929),l.setFunc(M0),xe(!1),Ae(hS),_e(2884),ne(Co);function _e(N){d[N]!==!0&&(n.enable(N),d[N]=!0)}function H(N){d[N]!==!1&&(n.disable(N),d[N]=!1)}function Be(N,ge){return h[N]!==ge?(n.bindFramebuffer(N,ge),h[N]=ge,r&&(N===36009&&(h[36160]=ge),N===36160&&(h[36009]=ge)),!0):!1}function ue(N,ge){let we=m,Ve=!1;if(N)if(we=p.get(ge),we===void 0&&(we=[],p.set(ge,we)),N.isWebGLMultipleRenderTargets){const Ne=N.texture;if(we.length!==Ne.length||we[0]!==36064){for(let tt=0,De=Ne.length;tt<De;tt++)we[tt]=36064+tt;we.length=Ne.length,Ve=!0}}else we[0]!==36064&&(we[0]=36064,Ve=!0);else we[0]!==1029&&(we[0]=1029,Ve=!0);Ve&&(t.isWebGL2?n.drawBuffers(we):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(we))}function Le(N){return v!==N?(n.useProgram(N),v=N,!0):!1}const ve={[Pl]:32774,[zF]:32778,[WF]:32779};if(r)ve[yS]=32775,ve[vS]=32776;else{const N=e.get("EXT_blend_minmax");N!==null&&(ve[yS]=N.MIN_EXT,ve[vS]=N.MAX_EXT)}const Re={[VF]:0,[jF]:1,[JF]:768,[aE]:770,[qF]:776,[QF]:774,[KF]:772,[$F]:769,[lE]:771,[YF]:775,[XF]:773};function ne(N,ge,we,Ve,Ne,tt,De,et){if(N===Co){y===!0&&(H(3042),y=!1);return}if(y===!1&&(_e(3042),y=!0),N!==GF){if(N!==_||et!==R){if((w!==Pl||E!==Pl)&&(n.blendEquation(32774),w=Pl,E=Pl),et)switch(N){case jl:n.blendFuncSeparate(1,771,1,771);break;case pS:n.blendFunc(1,1);break;case mS:n.blendFuncSeparate(0,769,0,1);break;case gS:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",N);break}else switch(N){case jl:n.blendFuncSeparate(770,771,1,771);break;case pS:n.blendFunc(770,1);break;case mS:n.blendFuncSeparate(0,769,0,1);break;case gS:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",N);break}x=null,A=null,C=null,T=null,_=N,R=et}return}Ne=Ne||ge,tt=tt||we,De=De||Ve,(ge!==w||Ne!==E)&&(n.blendEquationSeparate(ve[ge],ve[Ne]),w=ge,E=Ne),(we!==x||Ve!==A||tt!==C||De!==T)&&(n.blendFuncSeparate(Re[we],Re[Ve],Re[tt],Re[De]),x=we,A=Ve,C=tt,T=De),_=N,R=null}function oe(N,ge){N.side===Ba?H(2884):_e(2884);let we=N.side===wi;ge&&(we=!we),xe(we),N.blending===jl&&N.transparent===!1?ne(Co):ne(N.blending,N.blendEquation,N.blendSrc,N.blendDst,N.blendEquationAlpha,N.blendSrcAlpha,N.blendDstAlpha,N.premultipliedAlpha),l.setFunc(N.depthFunc),l.setTest(N.depthTest),l.setMask(N.depthWrite),a.setMask(N.colorWrite);const Ve=N.stencilWrite;u.setTest(Ve),Ve&&(u.setMask(N.stencilWriteMask),u.setFunc(N.stencilFunc,N.stencilRef,N.stencilFuncMask),u.setOp(N.stencilFail,N.stencilZFail,N.stencilZPass)),Ee(N.polygonOffset,N.polygonOffsetFactor,N.polygonOffsetUnits),N.alphaToCoverage===!0?_e(32926):H(32926)}function xe(N){I!==N&&(N?n.frontFace(2304):n.frontFace(2305),I=N)}function Ae(N){N!==HF?(_e(2884),N!==O&&(N===hS?n.cullFace(1029):N===UF?n.cullFace(1028):n.cullFace(1032))):H(2884),O=N}function Me(N){N!==D&&(W&&n.lineWidth(N),D=N)}function Ee(N,ge,we){N?(_e(32823),(P!==ge||B!==we)&&(n.polygonOffset(ge,we),P=ge,B=we)):H(32823)}function ze(N){N?_e(3089):H(3089)}function $e(N){N===void 0&&(N=33984+q-1),$!==N&&(n.activeTexture(N),$=N)}function Ze(N,ge){$===null&&$e();let we=k[$];we===void 0&&(we={type:void 0,texture:void 0},k[$]=we),(we.type!==N||we.texture!==ge)&&(n.bindTexture(N,ge||pe[N]),we.type=N,we.texture=ge)}function dt(){const N=k[$];N!==void 0&&N.type!==void 0&&(n.bindTexture(N.type,null),N.type=void 0,N.texture=void 0)}function z(){try{n.compressedTexImage2D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}}function L(){try{n.texSubImage2D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}}function ee(){try{n.texSubImage3D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}}function me(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}}function Fe(){try{n.texStorage2D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}}function ke(){try{n.texStorage3D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}}function Ke(){try{n.texImage2D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}}function he(){try{n.texImage3D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}}function Te(N){ae.equals(N)===!1&&(n.scissor(N.x,N.y,N.z,N.w),ae.copy(N))}function it(N){Q.equals(N)===!1&&(n.viewport(N.x,N.y,N.z,N.w),Q.copy(N))}function V(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),d={},$=null,k={},h={},p=new WeakMap,m=[],v=null,y=!1,_=null,w=null,x=null,A=null,E=null,C=null,T=null,R=!1,I=null,O=null,D=null,P=null,B=null,ae.set(0,0,n.canvas.width,n.canvas.height),Q.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:_e,disable:H,bindFramebuffer:Be,drawBuffers:ue,useProgram:Le,setBlending:ne,setMaterial:oe,setFlipSided:xe,setCullFace:Ae,setLineWidth:Me,setPolygonOffset:Ee,setScissorTest:ze,activeTexture:$e,bindTexture:Ze,unbindTexture:dt,compressedTexImage2D:z,texImage2D:Ke,texImage3D:he,texStorage2D:Fe,texStorage3D:ke,texSubImage2D:L,texSubImage3D:ee,compressedTexSubImage2D:me,scissor:Te,viewport:it,reset:V}}function Fee(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,d=i.maxTextureSize,h=i.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap;let y;const _=new WeakMap;let w=!1;try{w=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(z,L){return w?new OffscreenCanvas(z,L):Kh("canvas")}function A(z,L,ee,me){let Fe=1;if((z.width>me||z.height>me)&&(Fe=me/Math.max(z.width,z.height)),Fe<1||L===!0)if(typeof HTMLImageElement!="undefined"&&z instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&z instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&z instanceof ImageBitmap){const ke=L?C0:Math.floor,Ke=ke(Fe*z.width),he=ke(Fe*z.height);y===void 0&&(y=x(Ke,he));const Te=ee?x(Ke,he):y;return Te.width=Ke,Te.height=he,Te.getContext("2d").drawImage(z,0,0,Ke,he),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+z.width+"x"+z.height+") to ("+Ke+"x"+he+")."),Te}else return"data"in z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+z.width+"x"+z.height+")."),z;return z}function E(z){return GS(z.width)&&GS(z.height)}function C(z){return a?!1:z.wrapS!==Ar||z.wrapT!==Ar||z.minFilter!==Bn&&z.minFilter!==vn}function T(z,L){return z.generateMipmaps&&L&&z.minFilter!==Bn&&z.minFilter!==vn}function R(z){n.generateMipmap(z)}function I(z,L,ee,me,Fe=!1){if(a===!1)return L;if(z!==null){if(n[z]!==void 0)return n[z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+z+"'")}let ke=L;return L===6403&&(ee===5126&&(ke=33326),ee===5131&&(ke=33325),ee===5121&&(ke=33321)),L===33319&&(ee===5126&&(ke=33328),ee===5131&&(ke=33327),ee===5121&&(ke=33323)),L===6408&&(ee===5126&&(ke=34836),ee===5131&&(ke=34842),ee===5121&&(ke=me===Ht&&Fe===!1?35907:32856),ee===32819&&(ke=32854),ee===32820&&(ke=32855)),(ke===33325||ke===33326||ke===33327||ke===33328||ke===34842||ke===34836)&&e.get("EXT_color_buffer_float"),ke}function O(z,L,ee){return T(z,ee)===!0||z.isFramebufferTexture&&z.minFilter!==Bn&&z.minFilter!==vn?Math.log2(Math.max(L.width,L.height))+1:z.mipmaps!==void 0&&z.mipmaps.length>0?z.mipmaps.length:z.isCompressedTexture&&Array.isArray(z.image)?L.mipmaps.length:1}function D(z){return z===Bn||z===Vh||z===jh?9728:9729}function P(z){const L=z.target;L.removeEventListener("dispose",P),q(L),L.isVideoTexture&&v.delete(L)}function B(z){const L=z.target;L.removeEventListener("dispose",B),J(L)}function q(z){const L=r.get(z);if(L.__webglInit===void 0)return;const ee=z.source,me=_.get(ee);if(me){const Fe=me[L.__cacheKey];Fe.usedTimes--,Fe.usedTimes===0&&W(z),Object.keys(me).length===0&&_.delete(ee)}r.remove(z)}function W(z){const L=r.get(z);n.deleteTexture(L.__webglTexture);const ee=z.source,me=_.get(ee);delete me[L.__cacheKey],o.memory.textures--}function J(z){const L=z.texture,ee=r.get(z),me=r.get(L);if(me.__webglTexture!==void 0&&(n.deleteTexture(me.__webglTexture),o.memory.textures--),z.depthTexture&&z.depthTexture.dispose(),z.isWebGLCubeRenderTarget)for(let Fe=0;Fe<6;Fe++)n.deleteFramebuffer(ee.__webglFramebuffer[Fe]),ee.__webglDepthbuffer&&n.deleteRenderbuffer(ee.__webglDepthbuffer[Fe]);else n.deleteFramebuffer(ee.__webglFramebuffer),ee.__webglDepthbuffer&&n.deleteRenderbuffer(ee.__webglDepthbuffer),ee.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ee.__webglMultisampledFramebuffer),ee.__webglColorRenderbuffer&&n.deleteRenderbuffer(ee.__webglColorRenderbuffer),ee.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ee.__webglDepthRenderbuffer);if(z.isWebGLMultipleRenderTargets)for(let Fe=0,ke=L.length;Fe<ke;Fe++){const Ke=r.get(L[Fe]);Ke.__webglTexture&&(n.deleteTexture(Ke.__webglTexture),o.memory.textures--),r.remove(L[Fe])}r.remove(L),r.remove(z)}let j=0;function $(){j=0}function k(){const z=j;return z>=l&&console.warn("THREE.WebGLTextures: Trying to use "+z+" texture units while this GPU supports only "+l),j+=1,z}function K(z){const L=[];return L.push(z.wrapS),L.push(z.wrapT),L.push(z.magFilter),L.push(z.minFilter),L.push(z.anisotropy),L.push(z.internalFormat),L.push(z.format),L.push(z.type),L.push(z.generateMipmaps),L.push(z.premultiplyAlpha),L.push(z.flipY),L.push(z.unpackAlignment),L.push(z.encoding),L.join()}function Z(z,L){const ee=r.get(z);if(z.isVideoTexture&&Ze(z),z.isRenderTargetTexture===!1&&z.version>0&&ee.__version!==z.version){const me=z.image;if(me===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(me.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ue(ee,z,L);return}}t.activeTexture(33984+L),t.bindTexture(3553,ee.__webglTexture)}function ae(z,L){const ee=r.get(z);if(z.version>0&&ee.__version!==z.version){ue(ee,z,L);return}t.activeTexture(33984+L),t.bindTexture(35866,ee.__webglTexture)}function Q(z,L){const ee=r.get(z);if(z.version>0&&ee.__version!==z.version){ue(ee,z,L);return}t.activeTexture(33984+L),t.bindTexture(32879,ee.__webglTexture)}function se(z,L){const ee=r.get(z);if(z.version>0&&ee.__version!==z.version){Le(ee,z,L);return}t.activeTexture(33984+L),t.bindTexture(34067,ee.__webglTexture)}const pe={[Fa]:10497,[Ar]:33071,[af]:33648},_e={[Bn]:9728,[Vh]:9984,[jh]:9986,[vn]:9729,[Tv]:9985,[ko]:9987};function H(z,L,ee){if(ee?(n.texParameteri(z,10242,pe[L.wrapS]),n.texParameteri(z,10243,pe[L.wrapT]),(z===32879||z===35866)&&n.texParameteri(z,32882,pe[L.wrapR]),n.texParameteri(z,10240,_e[L.magFilter]),n.texParameteri(z,10241,_e[L.minFilter])):(n.texParameteri(z,10242,33071),n.texParameteri(z,10243,33071),(z===32879||z===35866)&&n.texParameteri(z,32882,33071),(L.wrapS!==Ar||L.wrapT!==Ar)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(z,10240,D(L.magFilter)),n.texParameteri(z,10241,D(L.minFilter)),L.minFilter!==Bn&&L.minFilter!==vn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const me=e.get("EXT_texture_filter_anisotropic");if(L.type===So&&e.has("OES_texture_float_linear")===!1||a===!1&&L.type===Jl&&e.has("OES_texture_half_float_linear")===!1)return;(L.anisotropy>1||r.get(L).__currentAnisotropy)&&(n.texParameterf(z,me.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(L.anisotropy,i.getMaxAnisotropy())),r.get(L).__currentAnisotropy=L.anisotropy)}}function Be(z,L){let ee=!1;z.__webglInit===void 0&&(z.__webglInit=!0,L.addEventListener("dispose",P));const me=L.source;let Fe=_.get(me);Fe===void 0&&(Fe={},_.set(me,Fe));const ke=K(L);if(ke!==z.__cacheKey){Fe[ke]===void 0&&(Fe[ke]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ee=!0),Fe[ke].usedTimes++;const Ke=Fe[z.__cacheKey];Ke!==void 0&&(Fe[z.__cacheKey].usedTimes--,Ke.usedTimes===0&&W(L)),z.__cacheKey=ke,z.__webglTexture=Fe[ke].texture}return ee}function ue(z,L,ee){let me=3553;L.isDataArrayTexture&&(me=35866),L.isData3DTexture&&(me=32879);const Fe=Be(z,L),ke=L.source;if(t.activeTexture(33984+ee),t.bindTexture(me,z.__webglTexture),ke.version!==ke.__currentVersion||Fe===!0){n.pixelStorei(37440,L.flipY),n.pixelStorei(37441,L.premultiplyAlpha),n.pixelStorei(3317,L.unpackAlignment),n.pixelStorei(37443,0);const Ke=C(L)&&E(L.image)===!1;let he=A(L.image,Ke,!1,d);he=dt(L,he);const Te=E(he)||a,it=s.convert(L.format,L.encoding);let V=s.convert(L.type),N=I(L.internalFormat,it,V,L.encoding,L.isVideoTexture);H(me,L,Te);let ge;const we=L.mipmaps,Ve=a&&L.isVideoTexture!==!0,Ne=z.__version===void 0,tt=O(L,he,Te);if(L.isDepthTexture)N=6402,a?L.type===So?N=36012:L.type===ah?N=33190:L.type===$l?N=35056:N=33189:L.type===So&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),L.format===Ea&&N===6402&&L.type!==lf&&L.type!==ah&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),L.type=lf,V=s.convert(L.type)),L.format===au&&N===6402&&(N=34041,L.type!==$l&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),L.type=$l,V=s.convert(L.type))),Ve&&Ne?t.texStorage2D(3553,1,N,he.width,he.height):t.texImage2D(3553,0,N,he.width,he.height,0,it,V,null);else if(L.isDataTexture)if(we.length>0&&Te){Ve&&Ne&&t.texStorage2D(3553,tt,N,we[0].width,we[0].height);for(let De=0,et=we.length;De<et;De++)ge=we[De],Ve?t.texSubImage2D(3553,De,0,0,ge.width,ge.height,it,V,ge.data):t.texImage2D(3553,De,N,ge.width,ge.height,0,it,V,ge.data);L.generateMipmaps=!1}else Ve?(Ne&&t.texStorage2D(3553,tt,N,he.width,he.height),t.texSubImage2D(3553,0,0,0,he.width,he.height,it,V,he.data)):t.texImage2D(3553,0,N,he.width,he.height,0,it,V,he.data);else if(L.isCompressedTexture){Ve&&Ne&&t.texStorage2D(3553,tt,N,we[0].width,we[0].height);for(let De=0,et=we.length;De<et;De++)ge=we[De],L.format!==yi?it!==null?Ve?t.compressedTexSubImage2D(3553,De,0,0,ge.width,ge.height,it,ge.data):t.compressedTexImage2D(3553,De,N,ge.width,ge.height,0,ge.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ve?t.texSubImage2D(3553,De,0,0,ge.width,ge.height,it,V,ge.data):t.texImage2D(3553,De,N,ge.width,ge.height,0,it,V,ge.data)}else if(L.isDataArrayTexture)Ve?(Ne&&t.texStorage3D(35866,tt,N,he.width,he.height,he.depth),t.texSubImage3D(35866,0,0,0,0,he.width,he.height,he.depth,it,V,he.data)):t.texImage3D(35866,0,N,he.width,he.height,he.depth,0,it,V,he.data);else if(L.isData3DTexture)Ve?(Ne&&t.texStorage3D(32879,tt,N,he.width,he.height,he.depth),t.texSubImage3D(32879,0,0,0,0,he.width,he.height,he.depth,it,V,he.data)):t.texImage3D(32879,0,N,he.width,he.height,he.depth,0,it,V,he.data);else if(L.isFramebufferTexture)Ve&&Ne?t.texStorage2D(3553,tt,N,he.width,he.height):t.texImage2D(3553,0,N,he.width,he.height,0,it,V,null);else if(we.length>0&&Te){Ve&&Ne&&t.texStorage2D(3553,tt,N,we[0].width,we[0].height);for(let De=0,et=we.length;De<et;De++)ge=we[De],Ve?t.texSubImage2D(3553,De,0,0,it,V,ge):t.texImage2D(3553,De,N,it,V,ge);L.generateMipmaps=!1}else Ve?(Ne&&t.texStorage2D(3553,tt,N,he.width,he.height),t.texSubImage2D(3553,0,0,0,it,V,he)):t.texImage2D(3553,0,N,it,V,he);T(L,Te)&&R(me),ke.__currentVersion=ke.version,L.onUpdate&&L.onUpdate(L)}z.__version=L.version}function Le(z,L,ee){if(L.image.length!==6)return;const me=Be(z,L),Fe=L.source;if(t.activeTexture(33984+ee),t.bindTexture(34067,z.__webglTexture),Fe.version!==Fe.__currentVersion||me===!0){n.pixelStorei(37440,L.flipY),n.pixelStorei(37441,L.premultiplyAlpha),n.pixelStorei(3317,L.unpackAlignment),n.pixelStorei(37443,0);const ke=L.isCompressedTexture||L.image[0].isCompressedTexture,Ke=L.image[0]&&L.image[0].isDataTexture,he=[];for(let De=0;De<6;De++)!ke&&!Ke?he[De]=A(L.image[De],!1,!0,u):he[De]=Ke?L.image[De].image:L.image[De],he[De]=dt(L,he[De]);const Te=he[0],it=E(Te)||a,V=s.convert(L.format,L.encoding),N=s.convert(L.type),ge=I(L.internalFormat,V,N,L.encoding),we=a&&L.isVideoTexture!==!0,Ve=z.__version===void 0;let Ne=O(L,Te,it);H(34067,L,it);let tt;if(ke){we&&Ve&&t.texStorage2D(34067,Ne,ge,Te.width,Te.height);for(let De=0;De<6;De++){tt=he[De].mipmaps;for(let et=0;et<tt.length;et++){const xt=tt[et];L.format!==yi?V!==null?we?t.compressedTexSubImage2D(34069+De,et,0,0,xt.width,xt.height,V,xt.data):t.compressedTexImage2D(34069+De,et,ge,xt.width,xt.height,0,xt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):we?t.texSubImage2D(34069+De,et,0,0,xt.width,xt.height,V,N,xt.data):t.texImage2D(34069+De,et,ge,xt.width,xt.height,0,V,N,xt.data)}}}else{tt=L.mipmaps,we&&Ve&&(tt.length>0&&Ne++,t.texStorage2D(34067,Ne,ge,he[0].width,he[0].height));for(let De=0;De<6;De++)if(Ke){we?t.texSubImage2D(34069+De,0,0,0,he[De].width,he[De].height,V,N,he[De].data):t.texImage2D(34069+De,0,ge,he[De].width,he[De].height,0,V,N,he[De].data);for(let et=0;et<tt.length;et++){const wt=tt[et].image[De].image;we?t.texSubImage2D(34069+De,et+1,0,0,wt.width,wt.height,V,N,wt.data):t.texImage2D(34069+De,et+1,ge,wt.width,wt.height,0,V,N,wt.data)}}else{we?t.texSubImage2D(34069+De,0,0,0,V,N,he[De]):t.texImage2D(34069+De,0,ge,V,N,he[De]);for(let et=0;et<tt.length;et++){const xt=tt[et];we?t.texSubImage2D(34069+De,et+1,0,0,V,N,xt.image[De]):t.texImage2D(34069+De,et+1,ge,V,N,xt.image[De])}}}T(L,it)&&R(34067),Fe.__currentVersion=Fe.version,L.onUpdate&&L.onUpdate(L)}z.__version=L.version}function ve(z,L,ee,me,Fe){const ke=s.convert(ee.format,ee.encoding),Ke=s.convert(ee.type),he=I(ee.internalFormat,ke,Ke,ee.encoding);r.get(L).__hasExternalTextures||(Fe===32879||Fe===35866?t.texImage3D(Fe,0,he,L.width,L.height,L.depth,0,ke,Ke,null):t.texImage2D(Fe,0,he,L.width,L.height,0,ke,Ke,null)),t.bindFramebuffer(36160,z),$e(L)?p.framebufferTexture2DMultisampleEXT(36160,me,Fe,r.get(ee).__webglTexture,0,ze(L)):n.framebufferTexture2D(36160,me,Fe,r.get(ee).__webglTexture,0),t.bindFramebuffer(36160,null)}function Re(z,L,ee){if(n.bindRenderbuffer(36161,z),L.depthBuffer&&!L.stencilBuffer){let me=33189;if(ee||$e(L)){const Fe=L.depthTexture;Fe&&Fe.isDepthTexture&&(Fe.type===So?me=36012:Fe.type===ah&&(me=33190));const ke=ze(L);$e(L)?p.renderbufferStorageMultisampleEXT(36161,ke,me,L.width,L.height):n.renderbufferStorageMultisample(36161,ke,me,L.width,L.height)}else n.renderbufferStorage(36161,me,L.width,L.height);n.framebufferRenderbuffer(36160,36096,36161,z)}else if(L.depthBuffer&&L.stencilBuffer){const me=ze(L);ee&&$e(L)===!1?n.renderbufferStorageMultisample(36161,me,35056,L.width,L.height):$e(L)?p.renderbufferStorageMultisampleEXT(36161,me,35056,L.width,L.height):n.renderbufferStorage(36161,34041,L.width,L.height),n.framebufferRenderbuffer(36160,33306,36161,z)}else{const me=L.isWebGLMultipleRenderTargets===!0?L.texture[0]:L.texture,Fe=s.convert(me.format,me.encoding),ke=s.convert(me.type),Ke=I(me.internalFormat,Fe,ke,me.encoding),he=ze(L);ee&&$e(L)===!1?n.renderbufferStorageMultisample(36161,he,Ke,L.width,L.height):$e(L)?p.renderbufferStorageMultisampleEXT(36161,he,Ke,L.width,L.height):n.renderbufferStorage(36161,Ke,L.width,L.height)}n.bindRenderbuffer(36161,null)}function ne(z,L){if(L&&L.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,z),!(L.depthTexture&&L.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(L.depthTexture).__webglTexture||L.depthTexture.image.width!==L.width||L.depthTexture.image.height!==L.height)&&(L.depthTexture.image.width=L.width,L.depthTexture.image.height=L.height,L.depthTexture.needsUpdate=!0),Z(L.depthTexture,0);const me=r.get(L.depthTexture).__webglTexture,Fe=ze(L);if(L.depthTexture.format===Ea)$e(L)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,me,0,Fe):n.framebufferTexture2D(36160,36096,3553,me,0);else if(L.depthTexture.format===au)$e(L)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,me,0,Fe):n.framebufferTexture2D(36160,33306,3553,me,0);else throw new Error("Unknown depthTexture format")}function oe(z){const L=r.get(z),ee=z.isWebGLCubeRenderTarget===!0;if(z.depthTexture&&!L.__autoAllocateDepthBuffer){if(ee)throw new Error("target.depthTexture not supported in Cube render targets");ne(L.__webglFramebuffer,z)}else if(ee){L.__webglDepthbuffer=[];for(let me=0;me<6;me++)t.bindFramebuffer(36160,L.__webglFramebuffer[me]),L.__webglDepthbuffer[me]=n.createRenderbuffer(),Re(L.__webglDepthbuffer[me],z,!1)}else t.bindFramebuffer(36160,L.__webglFramebuffer),L.__webglDepthbuffer=n.createRenderbuffer(),Re(L.__webglDepthbuffer,z,!1);t.bindFramebuffer(36160,null)}function xe(z,L,ee){const me=r.get(z);L!==void 0&&ve(me.__webglFramebuffer,z,z.texture,36064,3553),ee!==void 0&&oe(z)}function Ae(z){const L=z.texture,ee=r.get(z),me=r.get(L);z.addEventListener("dispose",B),z.isWebGLMultipleRenderTargets!==!0&&(me.__webglTexture===void 0&&(me.__webglTexture=n.createTexture()),me.__version=L.version,o.memory.textures++);const Fe=z.isWebGLCubeRenderTarget===!0,ke=z.isWebGLMultipleRenderTargets===!0,Ke=E(z)||a;if(Fe){ee.__webglFramebuffer=[];for(let he=0;he<6;he++)ee.__webglFramebuffer[he]=n.createFramebuffer()}else if(ee.__webglFramebuffer=n.createFramebuffer(),ke)if(i.drawBuffers){const he=z.texture;for(let Te=0,it=he.length;Te<it;Te++){const V=r.get(he[Te]);V.__webglTexture===void 0&&(V.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(a&&z.samples>0&&$e(z)===!1){ee.__webglMultisampledFramebuffer=n.createFramebuffer(),ee.__webglColorRenderbuffer=n.createRenderbuffer(),n.bindRenderbuffer(36161,ee.__webglColorRenderbuffer);const he=s.convert(L.format,L.encoding),Te=s.convert(L.type),it=I(L.internalFormat,he,Te,L.encoding),V=ze(z);n.renderbufferStorageMultisample(36161,V,it,z.width,z.height),t.bindFramebuffer(36160,ee.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064,36161,ee.__webglColorRenderbuffer),n.bindRenderbuffer(36161,null),z.depthBuffer&&(ee.__webglDepthRenderbuffer=n.createRenderbuffer(),Re(ee.__webglDepthRenderbuffer,z,!0)),t.bindFramebuffer(36160,null)}if(Fe){t.bindTexture(34067,me.__webglTexture),H(34067,L,Ke);for(let he=0;he<6;he++)ve(ee.__webglFramebuffer[he],z,L,36064,34069+he);T(L,Ke)&&R(34067),t.unbindTexture()}else if(ke){const he=z.texture;for(let Te=0,it=he.length;Te<it;Te++){const V=he[Te],N=r.get(V);t.bindTexture(3553,N.__webglTexture),H(3553,V,Ke),ve(ee.__webglFramebuffer,z,V,36064+Te,3553),T(V,Ke)&&R(3553)}t.unbindTexture()}else{let he=3553;(z.isWebGL3DRenderTarget||z.isWebGLArrayRenderTarget)&&(a?he=z.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(he,me.__webglTexture),H(he,L,Ke),ve(ee.__webglFramebuffer,z,L,36064,he),T(L,Ke)&&R(he),t.unbindTexture()}z.depthBuffer&&oe(z)}function Me(z){const L=E(z)||a,ee=z.isWebGLMultipleRenderTargets===!0?z.texture:[z.texture];for(let me=0,Fe=ee.length;me<Fe;me++){const ke=ee[me];if(T(ke,L)){const Ke=z.isWebGLCubeRenderTarget?34067:3553,he=r.get(ke).__webglTexture;t.bindTexture(Ke,he),R(Ke),t.unbindTexture()}}}function Ee(z){if(a&&z.samples>0&&$e(z)===!1){const L=z.width,ee=z.height;let me=16384;const Fe=[36064],ke=z.stencilBuffer?33306:36096;z.depthBuffer&&Fe.push(ke);const Ke=r.get(z),he=Ke.__ignoreDepthValues!==void 0?Ke.__ignoreDepthValues:!1;he===!1&&(z.depthBuffer&&(me|=256),z.stencilBuffer&&(me|=1024)),t.bindFramebuffer(36008,Ke.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Ke.__webglFramebuffer),he===!0&&(n.invalidateFramebuffer(36008,[ke]),n.invalidateFramebuffer(36009,[ke])),n.blitFramebuffer(0,0,L,ee,0,0,L,ee,me,9728),m&&n.invalidateFramebuffer(36008,Fe),t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,Ke.__webglMultisampledFramebuffer)}}function ze(z){return Math.min(h,z.samples)}function $e(z){const L=r.get(z);return a&&z.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&L.__useRenderToTexture!==!1}function Ze(z){const L=o.render.frame;v.get(z)!==L&&(v.set(z,L),z.update())}function dt(z,L){const ee=z.encoding,me=z.format,Fe=z.type;return z.isCompressedTexture===!0||z.isVideoTexture===!0||z.format===E0||ee!==gs&&(ee===Ht?a===!1?e.has("EXT_sRGB")===!0&&me===yi?(z.format=E0,z.minFilter=vn,z.generateMipmaps=!1):L=Ka.sRGBToLinear(L):(me!==yi||Fe!==ka)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ee)),L}this.allocateTextureUnit=k,this.resetTextureUnits=$,this.setTexture2D=Z,this.setTexture2DArray=ae,this.setTexture3D=Q,this.setTextureCube=se,this.rebindTextures=xe,this.setupRenderTarget=Ae,this.updateRenderTargetMipmap=Me,this.updateMultisampleRenderTarget=Ee,this.setupDepthRenderbuffer=oe,this.setupFrameBufferTexture=ve,this.useMultisampledRTT=$e}function sN(n,e,t){const r=t.isWebGL2;function i(s,o=null){let a;if(s===ka)return 5121;if(s===mk)return 32819;if(s===gk)return 32820;if(s===dk)return 5120;if(s===hk)return 5122;if(s===lf)return 5123;if(s===pk)return 5124;if(s===ah)return 5125;if(s===So)return 5126;if(s===Jl)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===yk)return 6406;if(s===yi)return 6408;if(s===_k)return 6409;if(s===xk)return 6410;if(s===Ea)return 6402;if(s===au)return 34041;if(s===wk)return 6403;if(s===vk)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===E0)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===Sk)return 36244;if(s===Ak)return 33319;if(s===Mk)return 33320;if(s===Ek)return 36249;if(s===Ty||s===Ry||s===Py||s===Iy)if(o===Ht)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===Ty)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Ry)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Py)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Iy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===Ty)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Ry)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Py)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Iy)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===_S||s===xS||s===wS||s===SS)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===_S)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===xS)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===wS)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===SS)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===Ck)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===AS||s===MS)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===AS)return o===Ht?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===MS)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===ES||s===CS||s===bS||s===TS||s===RS||s===PS||s===IS||s===BS||s===LS||s===DS||s===FS||s===kS||s===NS||s===OS)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===ES)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===CS)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===bS)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===TS)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===RS)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===PS)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===IS)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===BS)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===LS)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===DS)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===FS)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===kS)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===NS)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===OS)return o===Ht?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===HS)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===HS)return o===Ht?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===$l)return r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:i}}class pE extends Yt{constructor(e=[]){super();this.cameras=e}}pE.prototype.isArrayCamera=!0;class Os extends _t{constructor(){super();this.type="Group"}}Os.prototype.isGroup=!0;const kee={type:"move"};class _1{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Os,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Os,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new F,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new F),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Os,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new F,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new F),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred")if(a!==null&&(i=t.getPose(e.targetRaySpace,r),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(kee))),u&&e.hand){o=!0;for(const y of e.hand.values()){const _=t.getJointPose(y,r);if(u.joints[y.jointName]===void 0){const x=new Os;x.matrixAutoUpdate=!1,x.visible=!1,u.joints[y.jointName]=x,u.add(x)}const w=u.joints[y.jointName];_!==null&&(w.matrix.fromArray(_.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale),w.jointRadius=_.radius),w.visible=_!==null}const d=u.joints["index-finger-tip"],h=u.joints["thumb-tip"],p=d.position.distanceTo(h.position),m=.02,v=.005;u.inputState.pinching&&p>m+v?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=m-v&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}}class mE extends wn{constructor(e,t,r,i,s,o,a,l,u,d){if(d=d!==void 0?d:Ea,d!==Ea&&d!==au)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&d===Ea&&(r=lf),r===void 0&&d===au&&(r=$l);super(null,i,s,o,a,l,d,r,u);this.image={width:e,height:t},this.magFilter=a!==void 0?a:Bn,this.minFilter=l!==void 0?l:Bn,this.flipY=!1,this.generateMipmaps=!1}}mE.prototype.isDepthTexture=!0;class Nee extends No{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=null,u=null,d=null,h=null,p=null;const m=t.getContextAttributes();let v=null,y=null;const _=[],w=new Map,x=new Yt;x.layers.enable(1),x.viewport=new Ut;const A=new Yt;A.layers.enable(2),A.viewport=new Ut;const E=[x,A],C=new pE;C.layers.enable(1),C.layers.enable(2);let T=null,R=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(k){let K=_[k];return K===void 0&&(K=new _1,_[k]=K),K.getTargetRaySpace()},this.getControllerGrip=function(k){let K=_[k];return K===void 0&&(K=new _1,_[k]=K),K.getGripSpace()},this.getHand=function(k){let K=_[k];return K===void 0&&(K=new _1,_[k]=K),K.getHandSpace()};function I(k){const K=w.get(k.inputSource);K&&K.dispatchEvent({type:k.type,data:k.inputSource})}function O(){w.forEach(function(k,K){k.disconnect(K)}),w.clear(),T=null,R=null,e.setRenderTarget(v),h=null,d=null,u=null,i=null,y=null,$.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(k){s=k,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(k){a=k,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getBaseLayer=function(){return d!==null?d:h},this.getBinding=function(){return u},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(k){if(i=k,i!==null){if(v=e.getRenderTarget(),i.addEventListener("select",I),i.addEventListener("selectstart",I),i.addEventListener("selectend",I),i.addEventListener("squeeze",I),i.addEventListener("squeezestart",I),i.addEventListener("squeezeend",I),i.addEventListener("end",O),i.addEventListener("inputsourceschange",D),m.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const K={antialias:i.renderState.layers===void 0?m.antialias:!0,alpha:m.alpha,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:s};h=new XRWebGLLayer(i,t,K),i.updateRenderState({baseLayer:h}),y=new ur(h.framebufferWidth,h.framebufferHeight,{format:yi,type:ka,encoding:e.outputEncoding})}else{let K=null,Z=null,ae=null;m.depth&&(ae=m.stencil?35056:33190,K=m.stencil?au:Ea,Z=m.stencil?$l:lf);const Q={colorFormat:e.outputEncoding===Ht?35907:32856,depthFormat:ae,scaleFactor:s};u=new XRWebGLBinding(i,t),d=u.createProjectionLayer(Q),i.updateRenderState({layers:[d]}),y=new ur(d.textureWidth,d.textureHeight,{format:yi,type:ka,depthTexture:new mE(d.textureWidth,d.textureHeight,Z,void 0,void 0,void 0,void 0,void 0,void 0,K),stencilBuffer:m.stencil,encoding:e.outputEncoding,samples:m.antialias?4:0});const se=e.properties.get(y);se.__ignoreDepthValues=d.ignoreDepthValues}y.isXRRenderTarget=!0,this.setFoveation(1),o=await i.requestReferenceSpace(a),$.setContext(i),$.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function D(k){const K=i.inputSources;for(let Z=0;Z<_.length;Z++)w.set(K[Z],_[Z]);for(let Z=0;Z<k.removed.length;Z++){const ae=k.removed[Z],Q=w.get(ae);Q&&(Q.dispatchEvent({type:"disconnected",data:ae}),w.delete(ae))}for(let Z=0;Z<k.added.length;Z++){const ae=k.added[Z],Q=w.get(ae);Q&&Q.dispatchEvent({type:"connected",data:ae})}}const P=new F,B=new F;function q(k,K,Z){P.setFromMatrixPosition(K.matrixWorld),B.setFromMatrixPosition(Z.matrixWorld);const ae=P.distanceTo(B),Q=K.projectionMatrix.elements,se=Z.projectionMatrix.elements,pe=Q[14]/(Q[10]-1),_e=Q[14]/(Q[10]+1),H=(Q[9]+1)/Q[5],Be=(Q[9]-1)/Q[5],ue=(Q[8]-1)/Q[0],Le=(se[8]+1)/se[0],ve=pe*ue,Re=pe*Le,ne=ae/(-ue+Le),oe=ne*-ue;K.matrixWorld.decompose(k.position,k.quaternion,k.scale),k.translateX(oe),k.translateZ(ne),k.matrixWorld.compose(k.position,k.quaternion,k.scale),k.matrixWorldInverse.copy(k.matrixWorld).invert();const xe=pe+ne,Ae=_e+ne,Me=ve-oe,Ee=Re+(ae-oe),ze=H*_e/Ae*xe,$e=Be*_e/Ae*xe;k.projectionMatrix.makePerspective(Me,Ee,ze,$e,xe,Ae)}function W(k,K){K===null?k.matrixWorld.copy(k.matrix):k.matrixWorld.multiplyMatrices(K.matrixWorld,k.matrix),k.matrixWorldInverse.copy(k.matrixWorld).invert()}this.updateCamera=function(k){if(i===null)return;C.near=A.near=x.near=k.near,C.far=A.far=x.far=k.far,(T!==C.near||R!==C.far)&&(i.updateRenderState({depthNear:C.near,depthFar:C.far}),T=C.near,R=C.far);const K=k.parent,Z=C.cameras;W(C,K);for(let Q=0;Q<Z.length;Q++)W(Z[Q],K);C.matrixWorld.decompose(C.position,C.quaternion,C.scale),k.position.copy(C.position),k.quaternion.copy(C.quaternion),k.scale.copy(C.scale),k.matrix.copy(C.matrix),k.matrixWorld.copy(C.matrixWorld);const ae=k.children;for(let Q=0,se=ae.length;Q<se;Q++)ae[Q].updateMatrixWorld(!0);Z.length===2?q(C,x,A):C.projectionMatrix.copy(x.projectionMatrix)},this.getCamera=function(){return C},this.getFoveation=function(){if(d!==null)return d.fixedFoveation;if(h!==null)return h.fixedFoveation},this.setFoveation=function(k){d!==null&&(d.fixedFoveation=k),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=k)};let J=null;function j(k,K){if(l=K.getViewerPose(o),p=K,l!==null){const ae=l.views;h!==null&&(e.setRenderTargetFramebuffer(y,h.framebuffer),e.setRenderTarget(y));let Q=!1;ae.length!==C.cameras.length&&(C.cameras.length=0,Q=!0);for(let se=0;se<ae.length;se++){const pe=ae[se];let _e=null;if(h!==null)_e=h.getViewport(pe);else{const Be=u.getViewSubImage(d,pe);_e=Be.viewport,se===0&&(e.setRenderTargetTextures(y,Be.colorTexture,d.ignoreDepthValues?void 0:Be.depthStencilTexture),e.setRenderTarget(y))}const H=E[se];H.matrix.fromArray(pe.transform.matrix),H.projectionMatrix.fromArray(pe.projectionMatrix),H.viewport.set(_e.x,_e.y,_e.width,_e.height),se===0&&C.matrix.copy(H.matrix),Q===!0&&C.cameras.push(H)}}const Z=i.inputSources;for(let ae=0;ae<_.length;ae++){const Q=_[ae],se=Z[ae];Q.update(se,K,o)}J&&J(k,K),p=null}const $=new Qk;$.setAnimationLoop(j),this.setAnimationLoop=function(k){J=k},this.dispose=function(){}}}function Oee(n,e){function t(y,_){y.fogColor.value.copy(_.color),_.isFog?(y.fogNear.value=_.near,y.fogFar.value=_.far):_.isFogExp2&&(y.fogDensity.value=_.density)}function r(y,_,w,x,A){_.isMeshBasicMaterial||_.isMeshLambertMaterial?i(y,_):_.isMeshToonMaterial?(i(y,_),d(y,_)):_.isMeshPhongMaterial?(i(y,_),u(y,_)):_.isMeshStandardMaterial?(i(y,_),h(y,_),_.isMeshPhysicalMaterial&&p(y,_,A)):_.isMeshMatcapMaterial?(i(y,_),m(y,_)):_.isMeshDepthMaterial?i(y,_):_.isMeshDistanceMaterial?(i(y,_),v(y,_)):_.isMeshNormalMaterial?i(y,_):_.isLineBasicMaterial?(s(y,_),_.isLineDashedMaterial&&o(y,_)):_.isPointsMaterial?a(y,_,w,x):_.isSpriteMaterial?l(y,_):_.isShadowMaterial?(y.color.value.copy(_.color),y.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}function i(y,_){y.opacity.value=_.opacity,_.color&&y.diffuse.value.copy(_.color),_.emissive&&y.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(y.map.value=_.map),_.alphaMap&&(y.alphaMap.value=_.alphaMap),_.bumpMap&&(y.bumpMap.value=_.bumpMap,y.bumpScale.value=_.bumpScale,_.side===wi&&(y.bumpScale.value*=-1)),_.displacementMap&&(y.displacementMap.value=_.displacementMap,y.displacementScale.value=_.displacementScale,y.displacementBias.value=_.displacementBias),_.emissiveMap&&(y.emissiveMap.value=_.emissiveMap),_.normalMap&&(y.normalMap.value=_.normalMap,y.normalScale.value.copy(_.normalScale),_.side===wi&&y.normalScale.value.negate()),_.specularMap&&(y.specularMap.value=_.specularMap),_.alphaTest>0&&(y.alphaTest.value=_.alphaTest);const w=e.get(_).envMap;if(w&&(y.envMap.value=w,y.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=_.reflectivity,y.ior.value=_.ior,y.refractionRatio.value=_.refractionRatio),_.lightMap){y.lightMap.value=_.lightMap;const E=n.physicallyCorrectLights!==!0?Math.PI:1;y.lightMapIntensity.value=_.lightMapIntensity*E}_.aoMap&&(y.aoMap.value=_.aoMap,y.aoMapIntensity.value=_.aoMapIntensity);let x;_.map?x=_.map:_.specularMap?x=_.specularMap:_.displacementMap?x=_.displacementMap:_.normalMap?x=_.normalMap:_.bumpMap?x=_.bumpMap:_.roughnessMap?x=_.roughnessMap:_.metalnessMap?x=_.metalnessMap:_.alphaMap?x=_.alphaMap:_.emissiveMap?x=_.emissiveMap:_.clearcoatMap?x=_.clearcoatMap:_.clearcoatNormalMap?x=_.clearcoatNormalMap:_.clearcoatRoughnessMap?x=_.clearcoatRoughnessMap:_.specularIntensityMap?x=_.specularIntensityMap:_.specularColorMap?x=_.specularColorMap:_.transmissionMap?x=_.transmissionMap:_.thicknessMap?x=_.thicknessMap:_.sheenColorMap?x=_.sheenColorMap:_.sheenRoughnessMap&&(x=_.sheenRoughnessMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),y.uvTransform.value.copy(x.matrix));let A;_.aoMap?A=_.aoMap:_.lightMap&&(A=_.lightMap),A!==void 0&&(A.isWebGLRenderTarget&&(A=A.texture),A.matrixAutoUpdate===!0&&A.updateMatrix(),y.uv2Transform.value.copy(A.matrix))}function s(y,_){y.diffuse.value.copy(_.color),y.opacity.value=_.opacity}function o(y,_){y.dashSize.value=_.dashSize,y.totalSize.value=_.dashSize+_.gapSize,y.scale.value=_.scale}function a(y,_,w,x){y.diffuse.value.copy(_.color),y.opacity.value=_.opacity,y.size.value=_.size*w,y.scale.value=x*.5,_.map&&(y.map.value=_.map),_.alphaMap&&(y.alphaMap.value=_.alphaMap),_.alphaTest>0&&(y.alphaTest.value=_.alphaTest);let A;_.map?A=_.map:_.alphaMap&&(A=_.alphaMap),A!==void 0&&(A.matrixAutoUpdate===!0&&A.updateMatrix(),y.uvTransform.value.copy(A.matrix))}function l(y,_){y.diffuse.value.copy(_.color),y.opacity.value=_.opacity,y.rotation.value=_.rotation,_.map&&(y.map.value=_.map),_.alphaMap&&(y.alphaMap.value=_.alphaMap),_.alphaTest>0&&(y.alphaTest.value=_.alphaTest);let w;_.map?w=_.map:_.alphaMap&&(w=_.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),y.uvTransform.value.copy(w.matrix))}function u(y,_){y.specular.value.copy(_.specular),y.shininess.value=Math.max(_.shininess,1e-4)}function d(y,_){_.gradientMap&&(y.gradientMap.value=_.gradientMap)}function h(y,_){y.roughness.value=_.roughness,y.metalness.value=_.metalness,_.roughnessMap&&(y.roughnessMap.value=_.roughnessMap),_.metalnessMap&&(y.metalnessMap.value=_.metalnessMap),e.get(_).envMap&&(y.envMapIntensity.value=_.envMapIntensity)}function p(y,_,w){y.ior.value=_.ior,_.sheen>0&&(y.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),y.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(y.sheenColorMap.value=_.sheenColorMap),_.sheenRoughnessMap&&(y.sheenRoughnessMap.value=_.sheenRoughnessMap)),_.clearcoat>0&&(y.clearcoat.value=_.clearcoat,y.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(y.clearcoatMap.value=_.clearcoatMap),_.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap),_.clearcoatNormalMap&&(y.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),y.clearcoatNormalMap.value=_.clearcoatNormalMap,_.side===wi&&y.clearcoatNormalScale.value.negate())),_.transmission>0&&(y.transmission.value=_.transmission,y.transmissionSamplerMap.value=w.texture,y.transmissionSamplerSize.value.set(w.width,w.height),_.transmissionMap&&(y.transmissionMap.value=_.transmissionMap),y.thickness.value=_.thickness,_.thicknessMap&&(y.thicknessMap.value=_.thicknessMap),y.attenuationDistance.value=_.attenuationDistance,y.attenuationColor.value.copy(_.attenuationColor)),y.specularIntensity.value=_.specularIntensity,y.specularColor.value.copy(_.specularColor),_.specularIntensityMap&&(y.specularIntensityMap.value=_.specularIntensityMap),_.specularColorMap&&(y.specularColorMap.value=_.specularColorMap)}function m(y,_){_.matcap&&(y.matcap.value=_.matcap)}function v(y,_){y.referencePosition.value.copy(_.referencePosition),y.nearDistance.value=_.nearDistance,y.farDistance.value=_.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:r}}function Hee(){const n=Kh("canvas");return n.style.display="block",n}function Wt(n={}){const e=n.canvas!==void 0?n.canvas:Hee(),t=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",u=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let d;n.context!==void 0?d=t.getContextAttributes().alpha:d=n.alpha!==void 0?n.alpha:!1;let h=null,p=null;const m=[],v=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=gs,this.physicallyCorrectLights=!1,this.toneMapping=hs,this.toneMappingExposure=1;const y=this;let _=!1,w=0,x=0,A=null,E=-1,C=null;const T=new Ut,R=new Ut;let I=null,O=e.width,D=e.height,P=1,B=null,q=null;const W=new Ut(0,0,O,D),J=new Ut(0,0,O,D);let j=!1;const $=new Fp;let k=!1,K=!1,Z=null;const ae=new Xe,Q=new ye,se=new F,pe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function _e(){return A===null?P:1}let H=t;function Be(U,re){for(let fe=0;fe<U.length;fe++){const le=U[fe],Se=e.getContext(le,re);if(Se!==null)return Se}return null}try{const U={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Cv}`),e.addEventListener("webglcontextlost",N,!1),e.addEventListener("webglcontextrestored",ge,!1),H===null){const re=["webgl2","webgl","experimental-webgl"];if(y.isWebGL1Renderer===!0&&re.shift(),H=Be(re,U),H===null)throw Be(re)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}H.getShaderPrecisionFormat===void 0&&(H.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(U){throw console.error("THREE.WebGLRenderer: "+U.message),U}let ue,Le,ve,Re,ne,oe,xe,Ae,Me,Ee,ze,$e,Ze,dt,z,L,ee,me,Fe,ke,Ke,he,Te;function it(){ue=new iZ(H),Le=new qq(H,ue,n),ue.init(Le),he=new sN(H,ue,Le),ve=new Dee(H,ue,Le),Re=new aZ(H),ne=new Aee,oe=new Fee(H,ue,ve,ne,Le,he,Re),xe=new eZ(y),Ae=new rZ(y),Me=new wQ(H,Le),Te=new Qq(H,ue,Me,Le),Ee=new sZ(H,Me,Re,Te),ze=new fZ(H,Ee,Me,Re),Fe=new cZ(H,Le,oe),L=new Zq(ne),$e=new See(y,xe,Ae,ue,Le,Te,L),Ze=new Oee(y,ne),dt=new Eee,z=new Iee(ue,Le),me=new Xq(y,xe,ve,ze,d,o),ee=new iN(y,ze,Le),ke=new Yq(H,ue,Re,Le),Ke=new oZ(H,ue,Re,Le),Re.programs=$e.programs,y.capabilities=Le,y.extensions=ue,y.properties=ne,y.renderLists=dt,y.shadowMap=ee,y.state=ve,y.info=Re}it();const V=new Nee(y,H);this.xr=V,this.getContext=function(){return H},this.getContextAttributes=function(){return H.getContextAttributes()},this.forceContextLoss=function(){const U=ue.get("WEBGL_lose_context");U&&U.loseContext()},this.forceContextRestore=function(){const U=ue.get("WEBGL_lose_context");U&&U.restoreContext()},this.getPixelRatio=function(){return P},this.setPixelRatio=function(U){U!==void 0&&(P=U,this.setSize(O,D,!1))},this.getSize=function(U){return U.set(O,D)},this.setSize=function(U,re,fe){if(V.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}O=U,D=re,e.width=Math.floor(U*P),e.height=Math.floor(re*P),fe!==!1&&(e.style.width=U+"px",e.style.height=re+"px"),this.setViewport(0,0,U,re)},this.getDrawingBufferSize=function(U){return U.set(O*P,D*P).floor()},this.setDrawingBufferSize=function(U,re,fe){O=U,D=re,P=fe,e.width=Math.floor(U*fe),e.height=Math.floor(re*fe),this.setViewport(0,0,U,re)},this.getCurrentViewport=function(U){return U.copy(T)},this.getViewport=function(U){return U.copy(W)},this.setViewport=function(U,re,fe,le){U.isVector4?W.set(U.x,U.y,U.z,U.w):W.set(U,re,fe,le),ve.viewport(T.copy(W).multiplyScalar(P).floor())},this.getScissor=function(U){return U.copy(J)},this.setScissor=function(U,re,fe,le){U.isVector4?J.set(U.x,U.y,U.z,U.w):J.set(U,re,fe,le),ve.scissor(R.copy(J).multiplyScalar(P).floor())},this.getScissorTest=function(){return j},this.setScissorTest=function(U){ve.setScissorTest(j=U)},this.setOpaqueSort=function(U){B=U},this.setTransparentSort=function(U){q=U},this.getClearColor=function(U){return U.copy(me.getClearColor())},this.setClearColor=function(){me.setClearColor.apply(me,arguments)},this.getClearAlpha=function(){return me.getClearAlpha()},this.setClearAlpha=function(){me.setClearAlpha.apply(me,arguments)},this.clear=function(U=!0,re=!0,fe=!0){let le=0;U&&(le|=16384),re&&(le|=256),fe&&(le|=1024),H.clear(le)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",N,!1),e.removeEventListener("webglcontextrestored",ge,!1),dt.dispose(),z.dispose(),ne.dispose(),xe.dispose(),Ae.dispose(),ze.dispose(),Te.dispose(),$e.dispose(),V.dispose(),V.removeEventListener("sessionstart",et),V.removeEventListener("sessionend",xt),Z&&(Z.dispose(),Z=null),wt.stop()};function N(U){U.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),_=!0}function ge(){console.log("THREE.WebGLRenderer: Context Restored."),_=!1;const U=Re.autoReset,re=ee.enabled,fe=ee.autoUpdate,le=ee.needsUpdate,Se=ee.type;it(),Re.autoReset=U,ee.enabled=re,ee.autoUpdate=fe,ee.needsUpdate=le,ee.type=Se}function we(U){const re=U.target;re.removeEventListener("dispose",we),Ve(re)}function Ve(U){Ne(U),ne.remove(U)}function Ne(U){const re=ne.get(U).programs;re!==void 0&&(re.forEach(function(fe){$e.releaseProgram(fe)}),U.isShaderMaterial&&$e.releaseShaderCache(U))}this.renderBufferDirect=function(U,re,fe,le,Se,st){re===null&&(re=pe);const at=Se.isMesh&&Se.matrixWorld.determinant()<0,ht=Kv(U,re,fe,le,Se);ve.setMaterial(le,at);let ft=fe.index;const kt=fe.attributes.position;if(ft===null){if(kt===void 0||kt.count===0)return}else if(ft.count===0)return;let Mt=1;le.wireframe===!0&&(ft=Ee.getWireframeAttribute(fe),Mt=2),Te.setup(Se,le,ht,fe,ft);let Et,an=ke;ft!==null&&(Et=Me.get(ft),an=Ke,an.setIndex(Et));const qs=ft!==null?ft.count:kt.count,Uo=fe.drawRange.start*Mt,Go=fe.drawRange.count*Mt,Ri=st!==null?st.start*Mt:0,Bt=st!==null?st.count*Mt:1/0,ws=Math.max(Uo,Ri),Xt=Math.min(qs,Uo+Go,Ri+Bt)-1,Ur=Math.max(0,Xt-ws+1);if(Ur!==0){if(Se.isMesh)le.wireframe===!0?(ve.setLineWidth(le.wireframeLinewidth*_e()),an.setMode(1)):an.setMode(4);else if(Se.isLine){let Pi=le.linewidth;Pi===void 0&&(Pi=1),ve.setLineWidth(Pi*_e()),Se.isLineSegments?an.setMode(1):Se.isLineLoop?an.setMode(2):an.setMode(3)}else Se.isPoints?an.setMode(0):Se.isSprite&&an.setMode(4);if(Se.isInstancedMesh)an.renderInstances(ws,Ur,Se.count);else if(fe.isInstancedBufferGeometry){const Pi=Math.min(fe.instanceCount,fe._maxInstanceCount);an.renderInstances(ws,Ur,Pi)}else an.render(ws,Ur)}},this.compile=function(U,re){p=z.get(U),p.init(),v.push(p),U.traverseVisible(function(fe){fe.isLight&&fe.layers.test(re.layers)&&(p.pushLight(fe),fe.castShadow&&p.pushShadow(fe))}),p.setupLights(y.physicallyCorrectLights),U.traverse(function(fe){const le=fe.material;if(le)if(Array.isArray(le))for(let Se=0;Se<le.length;Se++){const st=le[Se];Cu(st,U,fe)}else Cu(le,U,fe)}),v.pop(),p=null};let tt=null;function De(U){tt&&tt(U)}function et(){wt.stop()}function xt(){wt.start()}const wt=new Qk;wt.setAnimationLoop(De),typeof self!="undefined"&&wt.setContext(self),this.setAnimationLoop=function(U){tt=U,V.setAnimationLoop(U),U===null?wt.stop():wt.start()},V.addEventListener("sessionstart",et),V.addEventListener("sessionend",xt),this.render=function(U,re){if(re!==void 0&&re.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(_===!0)return;U.autoUpdate===!0&&U.updateMatrixWorld(),re.parent===null&&re.updateMatrixWorld(),V.enabled===!0&&V.isPresenting===!0&&(V.cameraAutoUpdate===!0&&V.updateCamera(re),re=V.getCamera()),U.isScene===!0&&U.onBeforeRender(y,U,re,A),p=z.get(U,v.length),p.init(),v.push(p),ae.multiplyMatrices(re.projectionMatrix,re.matrixWorldInverse),$.setFromProjectionMatrix(ae),K=this.localClippingEnabled,k=L.init(this.clippingPlanes,K,re),h=dt.get(U,m.length),h.init(),m.push(h),Ti(U,re,0,y.sortObjects),h.finish(),y.sortObjects===!0&&h.sort(B,q),k===!0&&L.beginShadows();const fe=p.state.shadowsArray;if(ee.render(fe,U,re),k===!0&&L.endShadows(),this.info.autoReset===!0&&this.info.reset(),me.render(h,U),p.setupLights(y.physicallyCorrectLights),re.isArrayCamera){const le=re.cameras;for(let Se=0,st=le.length;Se<st;Se++){const at=le[Se];li(h,U,at,at.viewport)}}else li(h,U,re);A!==null&&(oe.updateMultisampleRenderTarget(A),oe.updateRenderTargetMipmap(A)),U.isScene===!0&&U.onAfterRender(y,U,re),Te.resetDefaultState(),E=-1,C=null,v.pop(),v.length>0?p=v[v.length-1]:p=null,m.pop(),m.length>0?h=m[m.length-1]:h=null};function Ti(U,re,fe,le){if(U.visible===!1)return;if(U.layers.test(re.layers)){if(U.isGroup)fe=U.renderOrder;else if(U.isLOD)U.autoUpdate===!0&&U.update(re);else if(U.isLight)p.pushLight(U),U.castShadow&&p.pushShadow(U);else if(U.isSprite){if(!U.frustumCulled||$.intersectsSprite(U)){le&&se.setFromMatrixPosition(U.matrixWorld).applyMatrix4(ae);const at=ze.update(U),ht=U.material;ht.visible&&h.push(U,at,ht,fe,se.z,null)}}else if((U.isMesh||U.isLine||U.isPoints)&&(U.isSkinnedMesh&&U.skeleton.frame!==Re.render.frame&&(U.skeleton.update(),U.skeleton.frame=Re.render.frame),!U.frustumCulled||$.intersectsObject(U))){le&&se.setFromMatrixPosition(U.matrixWorld).applyMatrix4(ae);const at=ze.update(U),ht=U.material;if(Array.isArray(ht)){const ft=at.groups;for(let kt=0,Mt=ft.length;kt<Mt;kt++){const Et=ft[kt],an=ht[Et.materialIndex];an&&an.visible&&h.push(U,at,an,fe,se.z,Et)}}else ht.visible&&h.push(U,at,ht,fe,se.z,null)}}const st=U.children;for(let at=0,ht=st.length;at<ht;at++)Ti(st[at],re,fe,le)}function li(U,re,fe,le){const Se=U.opaque,st=U.transmissive,at=U.transparent;p.setupLightsView(fe),st.length>0&&Kp(Se,re,fe),le&&ve.viewport(T.copy(le)),Se.length>0&&Eu(Se,re,fe),st.length>0&&Eu(st,re,fe),at.length>0&&Eu(at,re,fe),ve.buffers.depth.setTest(!0),ve.buffers.depth.setMask(!0),ve.buffers.color.setMask(!0),ve.setPolygonOffset(!1)}function Kp(U,re,fe){const le=Le.isWebGL2;Z===null&&(Z=new ur(1,1,{generateMipmaps:!0,type:he.convert(Jl)!==null?Jl:ka,minFilter:ko,samples:le&&s===!0?4:0})),y.getDrawingBufferSize(Q),le?Z.setSize(Q.x,Q.y):Z.setSize(C0(Q.x),C0(Q.y));const Se=y.getRenderTarget();y.setRenderTarget(Z),y.clear();const st=y.toneMapping;y.toneMapping=hs,Eu(U,re,fe),y.toneMapping=st,oe.updateMultisampleRenderTarget(Z),oe.updateRenderTargetMipmap(Z),y.setRenderTarget(Se)}function Eu(U,re,fe){const le=re.isScene===!0?re.overrideMaterial:null;for(let Se=0,st=U.length;Se<st;Se++){const at=U[Se],ht=at.object,ft=at.geometry,kt=le===null?at.material:le,Mt=at.group;ht.layers.test(fe.layers)&&Xp(ht,re,fe,ft,kt,Mt)}}function Xp(U,re,fe,le,Se,st){U.onBeforeRender(y,re,fe,le,Se,st),U.modelViewMatrix.multiplyMatrices(fe.matrixWorldInverse,U.matrixWorld),U.normalMatrix.getNormalMatrix(U.modelViewMatrix),Se.onBeforeRender(y,re,fe,le,U,st),Se.transparent===!0&&Se.side===Ba?(Se.side=wi,Se.needsUpdate=!0,y.renderBufferDirect(fe,re,le,Se,U,st),Se.side=Ia,Se.needsUpdate=!0,y.renderBufferDirect(fe,re,le,Se,U,st),Se.side=Ba):y.renderBufferDirect(fe,re,le,Se,U,st),U.onAfterRender(y,re,fe,le,Se,st)}function Cu(U,re,fe){re.isScene!==!0&&(re=pe);const le=ne.get(U),Se=p.state.lights,st=p.state.shadowsArray,at=Se.state.version,ht=$e.getParameters(U,Se.state,st,re,fe),ft=$e.getProgramCacheKey(ht);let kt=le.programs;le.environment=U.isMeshStandardMaterial?re.environment:null,le.fog=re.fog,le.envMap=(U.isMeshStandardMaterial?Ae:xe).get(U.envMap||le.environment),kt===void 0&&(U.addEventListener("dispose",we),kt=new Map,le.programs=kt);let Mt=kt.get(ft);if(Mt!==void 0){if(le.currentProgram===Mt&&le.lightsStateVersion===at)return jf(U,ht),Mt}else ht.uniforms=$e.getUniforms(U),U.onBuild(fe,ht,y),U.onBeforeCompile(ht,y),Mt=$e.acquireProgram(ht,ft),kt.set(ft,Mt),le.uniforms=ht.uniforms;const Et=le.uniforms;(!U.isShaderMaterial&&!U.isRawShaderMaterial||U.clipping===!0)&&(Et.clippingPlanes=L.uniform),jf(U,ht),le.needsLights=Qv(U),le.lightsStateVersion=at,le.needsLights&&(Et.ambientLightColor.value=Se.state.ambient,Et.lightProbe.value=Se.state.probe,Et.directionalLights.value=Se.state.directional,Et.directionalLightShadows.value=Se.state.directionalShadow,Et.spotLights.value=Se.state.spot,Et.spotLightShadows.value=Se.state.spotShadow,Et.rectAreaLights.value=Se.state.rectArea,Et.ltc_1.value=Se.state.rectAreaLTC1,Et.ltc_2.value=Se.state.rectAreaLTC2,Et.pointLights.value=Se.state.point,Et.pointLightShadows.value=Se.state.pointShadow,Et.hemisphereLights.value=Se.state.hemi,Et.directionalShadowMap.value=Se.state.directionalShadowMap,Et.directionalShadowMatrix.value=Se.state.directionalShadowMatrix,Et.spotShadowMap.value=Se.state.spotShadowMap,Et.spotShadowMatrix.value=Se.state.spotShadowMatrix,Et.pointShadowMap.value=Se.state.pointShadowMap,Et.pointShadowMatrix.value=Se.state.pointShadowMatrix);const an=Mt.getUniforms(),qs=Ca.seqWithValue(an.seq,Et);return le.currentProgram=Mt,le.uniformsList=qs,Mt}function jf(U,re){const fe=ne.get(U);fe.outputEncoding=re.outputEncoding,fe.instancing=re.instancing,fe.skinning=re.skinning,fe.morphTargets=re.morphTargets,fe.morphNormals=re.morphNormals,fe.morphColors=re.morphColors,fe.morphTargetsCount=re.morphTargetsCount,fe.numClippingPlanes=re.numClippingPlanes,fe.numIntersection=re.numClipIntersection,fe.vertexAlphas=re.vertexAlphas,fe.vertexTangents=re.vertexTangents,fe.toneMapping=re.toneMapping}function Kv(U,re,fe,le,Se){re.isScene!==!0&&(re=pe),oe.resetTextureUnits();const st=re.fog,at=le.isMeshStandardMaterial?re.environment:null,ht=A===null?y.outputEncoding:A.isXRRenderTarget===!0?A.texture.encoding:gs,ft=(le.isMeshStandardMaterial?Ae:xe).get(le.envMap||at),kt=le.vertexColors===!0&&!!fe.attributes.color&&fe.attributes.color.itemSize===4,Mt=!!le.normalMap&&!!fe.attributes.tangent,Et=!!fe.morphAttributes.position,an=!!fe.morphAttributes.normal,qs=!!fe.morphAttributes.color,Uo=le.toneMapped?y.toneMapping:hs,Go=fe.morphAttributes.position||fe.morphAttributes.normal||fe.morphAttributes.color,Ri=Go!==void 0?Go.length:0,Bt=ne.get(le),ws=p.state.lights;if(k===!0&&(K===!0||U!==C)){const gt=U===C&&le.id===E;L.setState(le,U,gt)}let Xt=!1;le.version===Bt.__version?(Bt.needsLights&&Bt.lightsStateVersion!==ws.state.version||Bt.outputEncoding!==ht||Se.isInstancedMesh&&Bt.instancing===!1||!Se.isInstancedMesh&&Bt.instancing===!0||Se.isSkinnedMesh&&Bt.skinning===!1||!Se.isSkinnedMesh&&Bt.skinning===!0||Bt.envMap!==ft||le.fog&&Bt.fog!==st||Bt.numClippingPlanes!==void 0&&(Bt.numClippingPlanes!==L.numPlanes||Bt.numIntersection!==L.numIntersection)||Bt.vertexAlphas!==kt||Bt.vertexTangents!==Mt||Bt.morphTargets!==Et||Bt.morphNormals!==an||Bt.morphColors!==qs||Bt.toneMapping!==Uo||Le.isWebGL2===!0&&Bt.morphTargetsCount!==Ri)&&(Xt=!0):(Xt=!0,Bt.__version=le.version);let Ur=Bt.currentProgram;Xt===!0&&(Ur=Cu(le,re,Se));let Pi=!1,Za=!1,el=!1;const hn=Ur.getUniforms(),Gr=Bt.uniforms;if(ve.useProgram(Ur.program)&&(Pi=!0,Za=!0,el=!0),le.id!==E&&(E=le.id,Za=!0),Pi||C!==U){if(hn.setValue(H,"projectionMatrix",U.projectionMatrix),Le.logarithmicDepthBuffer&&hn.setValue(H,"logDepthBufFC",2/(Math.log(U.far+1)/Math.LN2)),C!==U&&(C=U,Za=!0,el=!0),le.isShaderMaterial||le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshStandardMaterial||le.envMap){const gt=hn.map.cameraPosition;gt!==void 0&&gt.setValue(H,se.setFromMatrixPosition(U.matrixWorld))}(le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshLambertMaterial||le.isMeshBasicMaterial||le.isMeshStandardMaterial||le.isShaderMaterial)&&hn.setValue(H,"isOrthographic",U.isOrthographicCamera===!0),(le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshLambertMaterial||le.isMeshBasicMaterial||le.isMeshStandardMaterial||le.isShaderMaterial||le.isShadowMaterial||Se.isSkinnedMesh)&&hn.setValue(H,"viewMatrix",U.matrixWorldInverse)}if(Se.isSkinnedMesh){hn.setOptional(H,Se,"bindMatrix"),hn.setOptional(H,Se,"bindMatrixInverse");const gt=Se.skeleton;gt&&(Le.floatVertexTextures?(gt.boneTexture===null&&gt.computeBoneTexture(),hn.setValue(H,"boneTexture",gt.boneTexture,oe),hn.setValue(H,"boneTextureSize",gt.boneTextureSize)):hn.setOptional(H,gt,"boneMatrices"))}const Vt=fe.morphAttributes;return(Vt.position!==void 0||Vt.normal!==void 0||Vt.color!==void 0&&Le.isWebGL2===!0)&&Fe.update(Se,fe,le,Ur),(Za||Bt.receiveShadow!==Se.receiveShadow)&&(Bt.receiveShadow=Se.receiveShadow,hn.setValue(H,"receiveShadow",Se.receiveShadow)),Za&&(hn.setValue(H,"toneMappingExposure",y.toneMappingExposure),Bt.needsLights&&Xv(Gr,el),st&&le.fog&&Ze.refreshFogUniforms(Gr,st),Ze.refreshMaterialUniforms(Gr,le,P,D,Z),Ca.upload(H,Bt.uniformsList,Gr,oe)),le.isShaderMaterial&&le.uniformsNeedUpdate===!0&&(Ca.upload(H,Bt.uniformsList,Gr,oe),le.uniformsNeedUpdate=!1),le.isSpriteMaterial&&hn.setValue(H,"center",Se.center),hn.setValue(H,"modelViewMatrix",Se.modelViewMatrix),hn.setValue(H,"normalMatrix",Se.normalMatrix),hn.setValue(H,"modelMatrix",Se.matrixWorld),Ur}function Xv(U,re){U.ambientLightColor.needsUpdate=re,U.lightProbe.needsUpdate=re,U.directionalLights.needsUpdate=re,U.directionalLightShadows.needsUpdate=re,U.pointLights.needsUpdate=re,U.pointLightShadows.needsUpdate=re,U.spotLights.needsUpdate=re,U.spotLightShadows.needsUpdate=re,U.rectAreaLights.needsUpdate=re,U.hemisphereLights.needsUpdate=re}function Qv(U){return U.isMeshLambertMaterial||U.isMeshToonMaterial||U.isMeshPhongMaterial||U.isMeshStandardMaterial||U.isShadowMaterial||U.isShaderMaterial&&U.lights===!0}this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return x},this.getRenderTarget=function(){return A},this.setRenderTargetTextures=function(U,re,fe){ne.get(U.texture).__webglTexture=re,ne.get(U.depthTexture).__webglTexture=fe;const le=ne.get(U);le.__hasExternalTextures=!0,le.__hasExternalTextures&&(le.__autoAllocateDepthBuffer=fe===void 0,le.__autoAllocateDepthBuffer||ue.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),le.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(U,re){const fe=ne.get(U);fe.__webglFramebuffer=re,fe.__useDefaultFramebuffer=re===void 0},this.setRenderTarget=function(U,re=0,fe=0){A=U,w=re,x=fe;let le=!0;if(U){const ft=ne.get(U);ft.__useDefaultFramebuffer!==void 0?(ve.bindFramebuffer(36160,null),le=!1):ft.__webglFramebuffer===void 0?oe.setupRenderTarget(U):ft.__hasExternalTextures&&oe.rebindTextures(U,ne.get(U.texture).__webglTexture,ne.get(U.depthTexture).__webglTexture)}let Se=null,st=!1,at=!1;if(U){const ft=U.texture;(ft.isData3DTexture||ft.isDataArrayTexture)&&(at=!0);const kt=ne.get(U).__webglFramebuffer;U.isWebGLCubeRenderTarget?(Se=kt[re],st=!0):Le.isWebGL2&&U.samples>0&&oe.useMultisampledRTT(U)===!1?Se=ne.get(U).__webglMultisampledFramebuffer:Se=kt,T.copy(U.viewport),R.copy(U.scissor),I=U.scissorTest}else T.copy(W).multiplyScalar(P).floor(),R.copy(J).multiplyScalar(P).floor(),I=j;if(ve.bindFramebuffer(36160,Se)&&Le.drawBuffers&&le&&ve.drawBuffers(U,Se),ve.viewport(T),ve.scissor(R),ve.setScissorTest(I),st){const ft=ne.get(U.texture);H.framebufferTexture2D(36160,36064,34069+re,ft.__webglTexture,fe)}else if(at){const ft=ne.get(U.texture),kt=re||0;H.framebufferTextureLayer(36160,36064,ft.__webglTexture,fe||0,kt)}E=-1},this.readRenderTargetPixels=function(U,re,fe,le,Se,st,at){if(!(U&&U.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ht=ne.get(U).__webglFramebuffer;if(U.isWebGLCubeRenderTarget&&at!==void 0&&(ht=ht[at]),ht){ve.bindFramebuffer(36160,ht);try{const ft=U.texture,kt=ft.format,Mt=ft.type;if(kt!==yi&&he.convert(kt)!==H.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Et=Mt===Jl&&(ue.has("EXT_color_buffer_half_float")||Le.isWebGL2&&ue.has("EXT_color_buffer_float"));if(Mt!==ka&&he.convert(Mt)!==H.getParameter(35738)&&!(Mt===So&&(Le.isWebGL2||ue.has("OES_texture_float")||ue.has("WEBGL_color_buffer_float")))&&!Et){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}re>=0&&re<=U.width-le&&fe>=0&&fe<=U.height-Se&&H.readPixels(re,fe,le,Se,he.convert(kt),he.convert(Mt),st)}finally{const ft=A!==null?ne.get(A).__webglFramebuffer:null;ve.bindFramebuffer(36160,ft)}}},this.copyFramebufferToTexture=function(U,re,fe=0){if(re.isFramebufferTexture!==!0){console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");return}const le=Math.pow(2,-fe),Se=Math.floor(re.image.width*le),st=Math.floor(re.image.height*le);oe.setTexture2D(re,0),H.copyTexSubImage2D(3553,fe,0,0,U.x,U.y,Se,st),ve.unbindTexture()},this.copyTextureToTexture=function(U,re,fe,le=0){const Se=re.image.width,st=re.image.height,at=he.convert(fe.format),ht=he.convert(fe.type);oe.setTexture2D(fe,0),H.pixelStorei(37440,fe.flipY),H.pixelStorei(37441,fe.premultiplyAlpha),H.pixelStorei(3317,fe.unpackAlignment),re.isDataTexture?H.texSubImage2D(3553,le,U.x,U.y,Se,st,at,ht,re.image.data):re.isCompressedTexture?H.compressedTexSubImage2D(3553,le,U.x,U.y,re.mipmaps[0].width,re.mipmaps[0].height,at,re.mipmaps[0].data):H.texSubImage2D(3553,le,U.x,U.y,at,ht,re.image),le===0&&fe.generateMipmaps&&H.generateMipmap(3553),ve.unbindTexture()},this.copyTextureToTexture3D=function(U,re,fe,le,Se=0){if(y.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const st=U.max.x-U.min.x+1,at=U.max.y-U.min.y+1,ht=U.max.z-U.min.z+1,ft=he.convert(le.format),kt=he.convert(le.type);let Mt;if(le.isData3DTexture)oe.setTexture3D(le,0),Mt=32879;else if(le.isDataArrayTexture)oe.setTexture2DArray(le,0),Mt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}H.pixelStorei(37440,le.flipY),H.pixelStorei(37441,le.premultiplyAlpha),H.pixelStorei(3317,le.unpackAlignment);const Et=H.getParameter(3314),an=H.getParameter(32878),qs=H.getParameter(3316),Uo=H.getParameter(3315),Go=H.getParameter(32877),Ri=fe.isCompressedTexture?fe.mipmaps[0]:fe.image;H.pixelStorei(3314,Ri.width),H.pixelStorei(32878,Ri.height),H.pixelStorei(3316,U.min.x),H.pixelStorei(3315,U.min.y),H.pixelStorei(32877,U.min.z),fe.isDataTexture||fe.isData3DTexture?H.texSubImage3D(Mt,Se,re.x,re.y,re.z,st,at,ht,ft,kt,Ri.data):fe.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),H.compressedTexSubImage3D(Mt,Se,re.x,re.y,re.z,st,at,ht,ft,Ri.data)):H.texSubImage3D(Mt,Se,re.x,re.y,re.z,st,at,ht,ft,kt,Ri),H.pixelStorei(3314,Et),H.pixelStorei(32878,an),H.pixelStorei(3316,qs),H.pixelStorei(3315,Uo),H.pixelStorei(32877,Go),Se===0&&le.generateMipmaps&&H.generateMipmap(Mt),ve.unbindTexture()},this.initTexture=function(U){oe.setTexture2D(U,0),ve.unbindTexture()},this.resetState=function(){w=0,x=0,A=null,ve.reset(),Te.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Wt.prototype.isWebGLRenderer=!0;class oN extends Wt{}oN.prototype.isWebGL1Renderer=!0;class Np{constructor(e,t=25e-5){this.name="",this.color=new Pe(e),this.density=t}clone(){return new Np(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}Np.prototype.isFogExp2=!0;class Op{constructor(e,t=1,r=1e3){this.name="",this.color=new Pe(e),this.near=t,this.far=r}clone(){return new Op(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}Op.prototype.isFog=!0;class Hp extends _t{constructor(){super();this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}}Hp.prototype.isScene=!0;class Ya{constructor(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=cf,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Si()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Si()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Si()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}Ya.prototype.isInterleavedBuffer=!0;const Ir=new F;class Bo{constructor(e,t,r,i=!1){this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Ir.fromBufferAttribute(this,t),Ir.applyMatrix4(e),this.setXYZ(t,Ir.x,Ir.y,Ir.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ir.fromBufferAttribute(this,t),Ir.applyNormalMatrix(e),this.setXYZ(t,Ir.x,Ir.y,Ir.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ir.fromBufferAttribute(this,t),Ir.transformDirection(e),this.setXYZ(t,Ir.x,Ir.y,Ir.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new vt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Bo(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}Bo.prototype.isInterleavedBufferAttribute=!0;class kv extends dn{constructor(e){super();this.type="SpriteMaterial",this.color=new Pe(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}kv.prototype.isSpriteMaterial=!0;let lc;const Bd=new F,uc=new F,cc=new F,fc=new ye,Ld=new ye,aN=new Xe,Gg=new F,Dd=new F,zg=new F,DP=new ye,x1=new ye,FP=new ye;class Nv extends _t{constructor(e){super();if(this.type="Sprite",lc===void 0){lc=new rt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Ya(t,5);lc.setIndex([0,1,2,0,2,3]),lc.setAttribute("position",new Bo(r,3,0,!1)),lc.setAttribute("uv",new Bo(r,2,3,!1))}this.geometry=lc,this.material=e!==void 0?e:new kv,this.center=new ye(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),uc.setFromMatrixScale(this.matrixWorld),aN.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),cc.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&uc.multiplyScalar(-cc.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;Wg(Gg.set(-.5,-.5,0),cc,o,uc,i,s),Wg(Dd.set(.5,-.5,0),cc,o,uc,i,s),Wg(zg.set(.5,.5,0),cc,o,uc,i,s),DP.set(0,0),x1.set(1,0),FP.set(1,1);let a=e.ray.intersectTriangle(Gg,Dd,zg,!1,Bd);if(a===null&&(Wg(Dd.set(-.5,.5,0),cc,o,uc,i,s),x1.set(0,1),a=e.ray.intersectTriangle(Gg,zg,Dd,!1,Bd),a===null))return;const l=e.ray.origin.distanceTo(Bd);l<e.near||l>e.far||t.push({distance:l,point:Bd.clone(),uv:Dn.getUV(Bd,Gg,Dd,zg,DP,x1,FP,new ye),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}Nv.prototype.isSprite=!0;function Wg(n,e,t,r,i,s){fc.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(Ld.x=s*fc.x-i*fc.y,Ld.y=i*fc.x+s*fc.y):Ld.copy(fc),n.copy(e),n.x+=Ld.x,n.y+=Ld.y,n.applyMatrix4(aN)}const Vg=new F,kP=new F;class lN extends _t{constructor(){super();this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i&&!(e<t[r].distance);r++);return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){Vg.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Vg);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Vg.setFromMatrixPosition(e.matrixWorld),kP.setFromMatrixPosition(this.matrixWorld);const r=Vg.distanceTo(kP)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s&&r>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}const NP=new F,OP=new Ut,HP=new Ut,Uee=new F,UP=new Xe;class Up extends Cn{constructor(e,t){super(e,t);this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Xe,this.bindMatrixInverse=new Xe}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Ut,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;OP.fromBufferAttribute(i.attributes.skinIndex,e),HP.fromBufferAttribute(i.attributes.skinWeight,e),NP.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=HP.getComponent(s);if(o!==0){const a=OP.getComponent(s);UP.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(Uee.copy(NP).applyMatrix4(UP),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}Up.prototype.isSkinnedMesh=!0;class Gp extends _t{constructor(){super();this.type="Bone"}}Gp.prototype.isBone=!0;class Yl extends wn{constructor(e=null,t=1,r=1,i,s,o,a,l,u=Bn,d=Bn,h,p){super(null,o,a,l,u,d,i,s,h,p);this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}Yl.prototype.isDataTexture=!0;const GP=new Xe,Gee=new Xe;class zp{constructor(e=[],t=[]){this.uuid=Si(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Xe)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Xe;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Gee;GP.multiplyMatrices(a,t[s]),GP.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new zp(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=kk(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Yl(t,e,e,yi,So);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new Gp),this.bones.push(o),this.boneInverses.push(new Xe().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class uu extends vt{constructor(e,t,r,i=1){typeof r=="number"&&(i=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument."));super(e,t,r);this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}uu.prototype.isInstancedBufferAttribute=!0;const zP=new Xe,WP=new Xe,jg=[],Fd=new Cn;class gE extends Cn{constructor(e,t,r){super(e,t);this.instanceMatrix=new uu(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(Fd.geometry=this.geometry,Fd.material=this.material,Fd.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,zP),WP.multiplyMatrices(r,zP),Fd.matrixWorld=WP,Fd.raycast(e,jg);for(let o=0,a=jg.length;o<a;o++){const l=jg[o];l.instanceId=s,l.object=this,t.push(l)}jg.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new uu(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}gE.prototype.isInstancedMesh=!0;class Kn extends dn{constructor(e){super();this.type="LineBasicMaterial",this.color=new Pe(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}Kn.prototype.isLineBasicMaterial=!0;const VP=new F,jP=new F,JP=new Xe,w1=new Xa,Jg=new Oo;class Js extends _t{constructor(e=new rt,t=new Kn){super();this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)VP.fromBufferAttribute(t,i-1),jP.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=VP.distanceTo(jP);e.setAttribute("lineDistance",new Qe(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Jg.copy(r.boundingSphere),Jg.applyMatrix4(i),Jg.radius+=s,e.ray.intersectsSphere(Jg)===!1)return;JP.copy(i).invert(),w1.copy(e.ray).applyMatrix4(JP);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new F,d=new F,h=new F,p=new F,m=this.isLineSegments?2:1;if(r.isBufferGeometry){const v=r.index,_=r.attributes.position;if(v!==null){const w=Math.max(0,o.start),x=Math.min(v.count,o.start+o.count);for(let A=w,E=x-1;A<E;A+=m){const C=v.getX(A),T=v.getX(A+1);if(u.fromBufferAttribute(_,C),d.fromBufferAttribute(_,T),w1.distanceSqToSegment(u,d,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const I=e.ray.origin.distanceTo(p);I<e.near||I>e.far||t.push({distance:I,point:h.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}else{const w=Math.max(0,o.start),x=Math.min(_.count,o.start+o.count);for(let A=w,E=x-1;A<E;A+=m){if(u.fromBufferAttribute(_,A),d.fromBufferAttribute(_,A+1),w1.distanceSqToSegment(u,d,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(p);T<e.near||T>e.far||t.push({distance:T,point:h.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}}else r.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Js.prototype.isLine=!0;const $P=new F,KP=new F;class kr extends Js{constructor(e,t){super(e,t);this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)$P.fromBufferAttribute(t,i),KP.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+$P.distanceTo(KP);e.setAttribute("lineDistance",new Qe(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}kr.prototype.isLineSegments=!0;class Ov extends Js{constructor(e,t){super(e,t);this.type="LineLoop"}}Ov.prototype.isLineLoop=!0;class qa extends dn{constructor(e){super();this.type="PointsMaterial",this.color=new Pe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}qa.prototype.isPointsMaterial=!0;const XP=new Xe,jS=new Xa,$g=new Oo,Kg=new F;class zf extends _t{constructor(e=new rt,t=new qa){super();this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),$g.copy(r.boundingSphere),$g.applyMatrix4(i),$g.radius+=s,e.ray.intersectsSphere($g)===!1)return;XP.copy(i).invert(),jS.copy(e.ray).applyMatrix4(XP);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a;if(r.isBufferGeometry){const u=r.index,h=r.attributes.position;if(u!==null){const p=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let v=p,y=m;v<y;v++){const _=u.getX(v);Kg.fromBufferAttribute(h,_),QP(Kg,_,l,i,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let v=p,y=m;v<y;v++)Kg.fromBufferAttribute(h,v),QP(Kg,v,l,i,e,t,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}zf.prototype.isPoints=!0;function QP(n,e,t,r,i,s,o){const a=jS.distanceSqToPoint(n);if(a<t){const l=new F;jS.closestPointToPoint(n,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class uN extends wn{constructor(e,t,r,i,s,o,a,l,u){super(e,t,r,i,s,o,a,l,u);this.minFilter=o!==void 0?o:vn,this.magFilter=s!==void 0?s:vn,this.generateMipmaps=!1;const d=this;function h(){d.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}uN.prototype.isVideoTexture=!0;class cN extends wn{constructor(e,t,r){super({width:e,height:t});this.format=r,this.magFilter=Bn,this.minFilter=Bn,this.generateMipmaps=!1,this.needsUpdate=!0}}cN.prototype.isFramebufferTexture=!0;class yE extends wn{constructor(e,t,r,i,s,o,a,l,u,d,h,p){super(null,o,a,l,u,d,i,s,h,p);this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}yE.prototype.isCompressedTexture=!0;class fN extends wn{constructor(e,t,r,i,s,o,a,l,u){super(e,t,r,i,s,o,a,l,u);this.needsUpdate=!0}}fN.prototype.isCanvasTexture=!0;class Mi{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const d=r[i],p=r[i+1]-d,m=(o-d)/p;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new ye:new F);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new F,i=[],s=[],o=[],a=new F,l=new Xe;for(let m=0;m<=e;m++){const v=m/e;i[m]=this.getTangentAt(v,new F)}s[0]=new F,o[0]=new F;let u=Number.MAX_VALUE;const d=Math.abs(i[0].x),h=Math.abs(i[0].y),p=Math.abs(i[0].z);d<=u&&(u=d,r.set(1,0,0)),h<=u&&(u=h,r.set(0,1,0)),p<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(Ln(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,v))}o[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(Ln(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(i[v],m*v)),o[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Wp extends Mi{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super();this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new ye,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,m=u-this.aY;l=p*d-m*h+this.aX,u=p*h+m*d+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}Wp.prototype.isEllipseCurve=!0;class vE extends Wp{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o);this.type="ArcCurve"}}vE.prototype.isArcCurve=!0;function _E(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,d,h){let p=(o-s)/u-(a-s)/(u+d)+(a-o)/d,m=(a-o)/d-(l-o)/(d+h)+(l-a)/h;p*=d,m*=d,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const Xg=new F,S1=new _E,A1=new _E,M1=new _E;class xE extends Mi{constructor(e=[],t=!1,r="centripetal",i=.5){super();this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new F){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,d;this.closed||a>0?u=i[(a-1)%s]:(Xg.subVectors(i[0],i[1]).add(i[0]),u=Xg);const h=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?d=i[(a+2)%s]:(Xg.subVectors(i[s-1],i[s-2]).add(i[s-1]),d=Xg),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(u.distanceToSquared(h),m),y=Math.pow(h.distanceToSquared(p),m),_=Math.pow(p.distanceToSquared(d),m);y<1e-4&&(y=1),v<1e-4&&(v=y),_<1e-4&&(_=y),S1.initNonuniformCatmullRom(u.x,h.x,p.x,d.x,v,y,_),A1.initNonuniformCatmullRom(u.y,h.y,p.y,d.y,v,y,_),M1.initNonuniformCatmullRom(u.z,h.z,p.z,d.z,v,y,_)}else this.curveType==="catmullrom"&&(S1.initCatmullRom(u.x,h.x,p.x,d.x,this.tension),A1.initCatmullRom(u.y,h.y,p.y,d.y,this.tension),M1.initCatmullRom(u.z,h.z,p.z,d.z,this.tension));return r.set(S1.calc(l),A1.calc(l),M1.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new F().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}xE.prototype.isCatmullRomCurve3=!0;function YP(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function zee(n,e){const t=1-n;return t*t*e}function Wee(n,e){return 2*(1-n)*n*e}function Vee(n,e){return n*n*e}function uh(n,e,t,r){return zee(n,e)+Wee(n,t)+Vee(n,r)}function jee(n,e){const t=1-n;return t*t*t*e}function Jee(n,e){const t=1-n;return 3*t*t*n*e}function $ee(n,e){return 3*(1-n)*n*n*e}function Kee(n,e){return n*n*n*e}function ch(n,e,t,r,i){return jee(n,e)+Jee(n,t)+$ee(n,r)+Kee(n,i)}class Hv extends Mi{constructor(e=new ye,t=new ye,r=new ye,i=new ye){super();this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new ye){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(ch(e,i.x,s.x,o.x,a.x),ch(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}Hv.prototype.isCubicBezierCurve=!0;class wE extends Mi{constructor(e=new F,t=new F,r=new F,i=new F){super();this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new F){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(ch(e,i.x,s.x,o.x,a.x),ch(e,i.y,s.y,o.y,a.y),ch(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}wE.prototype.isCubicBezierCurve3=!0;class Vp extends Mi{constructor(e=new ye,t=new ye){super();this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ye){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new ye;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Vp.prototype.isLineCurve=!0;class dN extends Mi{constructor(e=new F,t=new F){super();this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new F){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Uv extends Mi{constructor(e=new ye,t=new ye,r=new ye){super();this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new ye){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(uh(e,i.x,s.x,o.x),uh(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Uv.prototype.isQuadraticBezierCurve=!0;class Gv extends Mi{constructor(e=new F,t=new F,r=new F){super();this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new F){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(uh(e,i.x,s.x,o.x),uh(e,i.y,s.y,o.y),uh(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Gv.prototype.isQuadraticBezierCurve3=!0;class zv extends Mi{constructor(e=[]){super();this.type="SplineCurve",this.points=e}getPoint(e,t=new ye){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],d=i[o>i.length-2?i.length-1:o+1],h=i[o>i.length-3?i.length-1:o+2];return r.set(YP(a,l.x,u.x,d.x,h.x),YP(a,l.y,u.y,d.y,h.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new ye().fromArray(i))}return this}}zv.prototype.isSplineCurve=!0;var SE=Object.freeze({__proto__:null,ArcCurve:vE,CatmullRomCurve3:xE,CubicBezierCurve:Hv,CubicBezierCurve3:wE,EllipseCurve:Wp,LineCurve:Vp,LineCurve3:dN,QuadraticBezierCurve:Uv,QuadraticBezierCurve3:Gv,SplineCurve:zv});class hN extends Mi{constructor(){super();this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Vp(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const d=l[u];r&&r.equals(d)||(t.push(d),r=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new SE[i.type]().fromJSON(i))}return this}}class hf extends hN{constructor(e){super();this.type="Path",this.currentPoint=new ye,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new Vp(this.currentPoint.clone(),new ye(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new Uv(this.currentPoint.clone(),new ye(e,t),new ye(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new Hv(this.currentPoint.clone(),new ye(e,t),new ye(r,i),new ye(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new zv(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const u=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+u,t+d,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const u=new Wp(e,t,r,i,s,o,a,l);if(this.curves.length>0){const h=u.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(u);const d=u.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class cu extends rt{constructor(e=[new ye(0,.5),new ye(.5,0),new ye(0,-.5)],t=12,r=0,i=Math.PI*2){super();this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=Ln(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],d=1/t,h=new F,p=new ye,m=new F,v=new F,y=new F;let _=0,w=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:_=e[x+1].x-e[x].x,w=e[x+1].y-e[x].y,m.x=w*1,m.y=-_,m.z=w*0,y.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:_=e[x+1].x-e[x].x,w=e[x+1].y-e[x].y,m.x=w*1,m.y=-_,m.z=w*0,v.copy(m),m.x+=y.x,m.y+=y.y,m.z+=y.z,m.normalize(),l.push(m.x,m.y,m.z),y.copy(v)}for(let x=0;x<=t;x++){const A=r+x*d*i,E=Math.sin(A),C=Math.cos(A);for(let T=0;T<=e.length-1;T++){h.x=e[T].x*E,h.y=e[T].y,h.z=e[T].x*C,o.push(h.x,h.y,h.z),p.x=x/t,p.y=T/(e.length-1),a.push(p.x,p.y);const R=l[3*T+0]*E,I=l[3*T+1],O=l[3*T+0]*C;u.push(R,I,O)}}for(let x=0;x<t;x++)for(let A=0;A<e.length-1;A++){const E=A+x*e.length,C=E,T=E+e.length,R=E+e.length+1,I=E+1;s.push(C,T,I),s.push(R,I,T)}this.setIndex(s),this.setAttribute("position",new Qe(o,3)),this.setAttribute("uv",new Qe(a,2)),this.setAttribute("normal",new Qe(u,3))}static fromJSON(e){return new cu(e.points,e.segments,e.phiStart,e.phiLength)}}class pf extends cu{constructor(e=1,t=1,r=4,i=8){const s=new hf;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5);super(s.getPoints(r),i);this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new pf(e.radius,e.length,e.capSegments,e.radialSegments)}}class mf extends rt{constructor(e=1,t=8,r=0,i=Math.PI*2){super();this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],u=new F,d=new ye;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=t;h++,p+=3){const m=r+h/t*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),d.x=(o[p]/e+1)/2,d.y=(o[p+1]/e+1)/2,l.push(d.x,d.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new Qe(o,3)),this.setAttribute("normal",new Qe(a,3)),this.setAttribute("uv",new Qe(l,2))}static fromJSON(e){return new mf(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Oa extends rt{constructor(e=1,t=1,r=1,i=8,s=1,o=!1,a=0,l=Math.PI*2){super();this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const d=[],h=[],p=[],m=[];let v=0;const y=[],_=r/2;let w=0;x(),o===!1&&(e>0&&A(!0),t>0&&A(!1)),this.setIndex(d),this.setAttribute("position",new Qe(h,3)),this.setAttribute("normal",new Qe(p,3)),this.setAttribute("uv",new Qe(m,2));function x(){const E=new F,C=new F;let T=0;const R=(t-e)/r;for(let I=0;I<=s;I++){const O=[],D=I/s,P=D*(t-e)+e;for(let B=0;B<=i;B++){const q=B/i,W=q*l+a,J=Math.sin(W),j=Math.cos(W);C.x=P*J,C.y=-D*r+_,C.z=P*j,h.push(C.x,C.y,C.z),E.set(J,R,j).normalize(),p.push(E.x,E.y,E.z),m.push(q,1-D),O.push(v++)}y.push(O)}for(let I=0;I<i;I++)for(let O=0;O<s;O++){const D=y[O][I],P=y[O+1][I],B=y[O+1][I+1],q=y[O][I+1];d.push(D,P,q),d.push(P,B,q),T+=6}u.addGroup(w,T,0),w+=T}function A(E){const C=v,T=new ye,R=new F;let I=0;const O=E===!0?e:t,D=E===!0?1:-1;for(let B=1;B<=i;B++)h.push(0,_*D,0),p.push(0,D,0),m.push(.5,.5),v++;const P=v;for(let B=0;B<=i;B++){const W=B/i*l+a,J=Math.cos(W),j=Math.sin(W);R.x=O*j,R.y=_*D,R.z=O*J,h.push(R.x,R.y,R.z),p.push(0,D,0),T.x=J*.5+.5,T.y=j*.5*D+.5,m.push(T.x,T.y),v++}for(let B=0;B<i;B++){const q=C+B,W=P+B;E===!0?d.push(W,W+1,q):d.push(W+1,W,q),I+=3}u.addGroup(w,I,E===!0?1:2),w+=I}}static fromJSON(e){return new Oa(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class gf extends Oa{constructor(e=1,t=1,r=8,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a);this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new gf(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class $s extends rt{constructor(e=[],t=[],r=1,i=0){super();this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),u(r),d(),this.setAttribute("position",new Qe(s,3)),this.setAttribute("normal",new Qe(s.slice(),3)),this.setAttribute("uv",new Qe(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(x){const A=new F,E=new F,C=new F;for(let T=0;T<t.length;T+=3)m(t[T+0],A),m(t[T+1],E),m(t[T+2],C),l(A,E,C,x)}function l(x,A,E,C){const T=C+1,R=[];for(let I=0;I<=T;I++){R[I]=[];const O=x.clone().lerp(E,I/T),D=A.clone().lerp(E,I/T),P=T-I;for(let B=0;B<=P;B++)B===0&&I===T?R[I][B]=O:R[I][B]=O.clone().lerp(D,B/P)}for(let I=0;I<T;I++)for(let O=0;O<2*(T-I)-1;O++){const D=Math.floor(O/2);O%2===0?(p(R[I][D+1]),p(R[I+1][D]),p(R[I][D])):(p(R[I][D+1]),p(R[I+1][D+1]),p(R[I+1][D]))}}function u(x){const A=new F;for(let E=0;E<s.length;E+=3)A.x=s[E+0],A.y=s[E+1],A.z=s[E+2],A.normalize().multiplyScalar(x),s[E+0]=A.x,s[E+1]=A.y,s[E+2]=A.z}function d(){const x=new F;for(let A=0;A<s.length;A+=3){x.x=s[A+0],x.y=s[A+1],x.z=s[A+2];const E=_(x)/2/Math.PI+.5,C=w(x)/Math.PI+.5;o.push(E,1-C)}v(),h()}function h(){for(let x=0;x<o.length;x+=6){const A=o[x+0],E=o[x+2],C=o[x+4],T=Math.max(A,E,C),R=Math.min(A,E,C);T>.9&&R<.1&&(A<.2&&(o[x+0]+=1),E<.2&&(o[x+2]+=1),C<.2&&(o[x+4]+=1))}}function p(x){s.push(x.x,x.y,x.z)}function m(x,A){const E=x*3;A.x=e[E+0],A.y=e[E+1],A.z=e[E+2]}function v(){const x=new F,A=new F,E=new F,C=new F,T=new ye,R=new ye,I=new ye;for(let O=0,D=0;O<s.length;O+=9,D+=6){x.set(s[O+0],s[O+1],s[O+2]),A.set(s[O+3],s[O+4],s[O+5]),E.set(s[O+6],s[O+7],s[O+8]),T.set(o[D+0],o[D+1]),R.set(o[D+2],o[D+3]),I.set(o[D+4],o[D+5]),C.copy(x).add(A).add(E).divideScalar(3);const P=_(C);y(T,D+0,x,P),y(R,D+2,A,P),y(I,D+4,E,P)}}function y(x,A,E,C){C<0&&x.x===1&&(o[A]=x.x-1),E.x===0&&E.z===0&&(o[A]=C/2/Math.PI+.5)}function _(x){return Math.atan2(x.z,-x.x)}function w(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}static fromJSON(e){return new $s(e.vertices,e.indices,e.radius,e.details)}}class yf extends $s{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t);this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new yf(e.radius,e.detail)}}const Qg=new F,Yg=new F,E1=new F,qg=new Dn;class AE extends rt{constructor(e=null,t=1){super();if(this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(Kl*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],d=["a","b","c"],h=new Array(3),p={},m=[];for(let v=0;v<l;v+=3){o?(u[0]=o.getX(v),u[1]=o.getX(v+1),u[2]=o.getX(v+2)):(u[0]=v,u[1]=v+1,u[2]=v+2);const{a:y,b:_,c:w}=qg;if(y.fromBufferAttribute(a,u[0]),_.fromBufferAttribute(a,u[1]),w.fromBufferAttribute(a,u[2]),qg.getNormal(E1),h[0]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,h[1]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,h[2]=`${Math.round(w.x*i)},${Math.round(w.y*i)},${Math.round(w.z*i)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let x=0;x<3;x++){const A=(x+1)%3,E=h[x],C=h[A],T=qg[d[x]],R=qg[d[A]],I=`${E}_${C}`,O=`${C}_${E}`;O in p&&p[O]?(E1.dot(p[O].normal)<=s&&(m.push(T.x,T.y,T.z),m.push(R.x,R.y,R.z)),p[O]=null):I in p||(p[I]={index0:u[x],index1:u[A],normal:E1.clone()})}}for(const v in p)if(p[v]){const{index0:y,index1:_}=p[v];Qg.fromBufferAttribute(a,y),Yg.fromBufferAttribute(a,_),m.push(Qg.x,Qg.y,Qg.z),m.push(Yg.x,Yg.y,Yg.z)}this.setAttribute("position",new Qe(m,3))}}}class Ws extends hf{constructor(e){super(e);this.uuid=Si(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new hf().fromJSON(i))}return this}}const Xee={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=pN(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,d,h,p,m;if(r&&(s=ete(n,e,s,t)),n.length>80*t){a=u=n[0],l=d=n[1];for(let v=t;v<i;v+=t)h=n[v],p=n[v+1],h<a&&(a=h),p<l&&(l=p),h>u&&(u=h),p>d&&(d=p);m=Math.max(u-a,d-l),m=m!==0?1/m:0}return Xh(s,o,t,a,l,m),o}};function pN(n,e,t,r,i){let s,o;if(i===fte(n,e,t,r)>0)for(s=e;s<t;s+=r)o=qP(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=qP(s,n[s],n[s+1],o);return o&&Wv(o,o.next)&&(Yh(o),o=o.next),o}function Ha(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(Wv(t,t.next)||_n(t.prev,t,t.next)===0)){if(Yh(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function Xh(n,e,t,r,i,s,o){if(!n)return;!o&&s&&ste(n,r,i,s);let a=n,l,u;for(;n.prev!==n.next;){if(l=n.prev,u=n.next,s?Yee(n,r,i,s):Qee(n)){e.push(l.i/t),e.push(n.i/t),e.push(u.i/t),Yh(n),n=u.next,a=u.next;continue}if(n=u,n===a){o?o===1?(n=qee(Ha(n),e,t),Xh(n,e,t,r,i,s,2)):o===2&&Zee(n,e,t,r,i,s):Xh(Ha(n),e,t,r,i,s,1);break}}}function Qee(n){const e=n.prev,t=n,r=n.next;if(_n(e,t,r)>=0)return!1;let i=n.next.next;for(;i!==n.prev;){if(Lc(e.x,e.y,t.x,t.y,r.x,r.y,i.x,i.y)&&_n(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Yee(n,e,t,r){const i=n.prev,s=n,o=n.next;if(_n(i,s,o)>=0)return!1;const a=i.x<s.x?i.x<o.x?i.x:o.x:s.x<o.x?s.x:o.x,l=i.y<s.y?i.y<o.y?i.y:o.y:s.y<o.y?s.y:o.y,u=i.x>s.x?i.x>o.x?i.x:o.x:s.x>o.x?s.x:o.x,d=i.y>s.y?i.y>o.y?i.y:o.y:s.y>o.y?s.y:o.y,h=JS(a,l,e,t,r),p=JS(u,d,e,t,r);let m=n.prevZ,v=n.nextZ;for(;m&&m.z>=h&&v&&v.z<=p;){if(m!==n.prev&&m!==n.next&&Lc(i.x,i.y,s.x,s.y,o.x,o.y,m.x,m.y)&&_n(m.prev,m,m.next)>=0||(m=m.prevZ,v!==n.prev&&v!==n.next&&Lc(i.x,i.y,s.x,s.y,o.x,o.y,v.x,v.y)&&_n(v.prev,v,v.next)>=0))return!1;v=v.nextZ}for(;m&&m.z>=h;){if(m!==n.prev&&m!==n.next&&Lc(i.x,i.y,s.x,s.y,o.x,o.y,m.x,m.y)&&_n(m.prev,m,m.next)>=0)return!1;m=m.prevZ}for(;v&&v.z<=p;){if(v!==n.prev&&v!==n.next&&Lc(i.x,i.y,s.x,s.y,o.x,o.y,v.x,v.y)&&_n(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function qee(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!Wv(i,s)&&mN(i,r,r.next,s)&&Qh(i,s)&&Qh(s,i)&&(e.push(i.i/t),e.push(r.i/t),e.push(s.i/t),Yh(r),Yh(r.next),r=n=s),r=r.next}while(r!==n);return Ha(r)}function Zee(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&lte(o,a)){let l=gN(o,a);o=Ha(o,o.next),l=Ha(l,l.next),Xh(o,e,t,r,i,s),Xh(l,e,t,r,i,s);return}a=a.next}o=o.next}while(o!==n)}function ete(n,e,t,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,u=pN(n,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(ate(u));for(i.sort(tte),s=0;s<i.length;s++)nte(i[s],t),t=Ha(t,t.next);return t}function tte(n,e){return n.x-e.x}function nte(n,e){if(e=rte(n,e),e){const t=gN(e,n);Ha(e,e.next),Ha(t,t.next)}}function rte(n,e){let t=e;const r=n.x,i=n.y;let s=-1/0,o;do{if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const p=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=r&&p>s){if(s=p,p===r){if(i===t.y)return t;if(i===t.next.y)return t.next}o=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!o)return null;if(r===s)return o;const a=o,l=o.x,u=o.y;let d=1/0,h;t=o;do r>=t.x&&t.x>=l&&r!==t.x&&Lc(i<u?r:s,i,l,u,i<u?s:r,i,t.x,t.y)&&(h=Math.abs(i-t.y)/(r-t.x),Qh(t,n)&&(h<d||h===d&&(t.x>o.x||t.x===o.x&&ite(o,t)))&&(o=t,d=h)),t=t.next;while(t!==a);return o}function ite(n,e){return _n(n.prev,n,e.prev)<0&&_n(e.next,n,n.next)<0}function ste(n,e,t,r){let i=n;do i.z===null&&(i.z=JS(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,ote(i)}function ote(n){let e,t,r,i,s,o,a,l,u=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,u*=2}while(o>1);return n}function JS(n,e,t,r,i){return n=32767*(n-t)*i,e=32767*(e-r)*i,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function ate(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Lc(n,e,t,r,i,s,o,a){return(i-o)*(e-a)-(n-o)*(s-a)>=0&&(n-o)*(r-a)-(t-o)*(e-a)>=0&&(t-o)*(s-a)-(i-o)*(r-a)>=0}function lte(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!ute(n,e)&&(Qh(n,e)&&Qh(e,n)&&cte(n,e)&&(_n(n.prev,n,e.prev)||_n(n,e.prev,e))||Wv(n,e)&&_n(n.prev,n,n.next)>0&&_n(e.prev,e,e.next)>0)}function _n(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Wv(n,e){return n.x===e.x&&n.y===e.y}function mN(n,e,t,r){const i=ey(_n(n,e,t)),s=ey(_n(n,e,r)),o=ey(_n(t,r,n)),a=ey(_n(t,r,e));return!!(i!==s&&o!==a||i===0&&Zg(n,t,e)||s===0&&Zg(n,r,e)||o===0&&Zg(t,n,r)||a===0&&Zg(t,e,r))}function Zg(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function ey(n){return n>0?1:n<0?-1:0}function ute(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&mN(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Qh(n,e){return _n(n.prev,n,n.next)<0?_n(n,e,n.next)>=0&&_n(n,n.prev,e)>=0:_n(n,e,n.prev)<0||_n(n,n.next,e)<0}function cte(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function gN(n,e){const t=new $S(n.i,n.x,n.y),r=new $S(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function qP(n,e,t,r){const i=new $S(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Yh(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function $S(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function fte(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class Vs{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Vs.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];ZP(e),eI(r,e);let o=e.length;t.forEach(ZP);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,eI(r,t[l]);const a=Xee.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function ZP(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function eI(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Ks extends rt{constructor(e=new Ws([new ye(.5,.5),new ye(-.5,.5),new ye(-.5,-.5),new ye(.5,-.5)]),t={}){super();this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new Qe(i,3)),this.setAttribute("uv",new Qe(s,2)),this.computeVertexNormals();function o(a){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1;let h=t.depth!==void 0?t.depth:1,p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:m-.1,y=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const w=t.extrudePath,x=t.UVGenerator!==void 0?t.UVGenerator:dte;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),h=t.amount);let A,E=!1,C,T,R,I;w&&(A=w.getSpacedPoints(d),E=!0,p=!1,C=w.computeFrenetFrames(d,!1),T=new F,R=new F,I=new F),p||(_=0,m=0,v=0,y=0);const O=a.extractPoints(u);let D=O.shape;const P=O.holes;if(!Vs.isClockWise(D)){D=D.reverse();for(let ne=0,oe=P.length;ne<oe;ne++){const xe=P[ne];Vs.isClockWise(xe)&&(P[ne]=xe.reverse())}}const q=Vs.triangulateShape(D,P),W=D;for(let ne=0,oe=P.length;ne<oe;ne++){const xe=P[ne];D=D.concat(xe)}function J(ne,oe,xe){return oe||console.error("THREE.ExtrudeGeometry: vec does not exist"),oe.clone().multiplyScalar(xe).add(ne)}const j=D.length,$=q.length;function k(ne,oe,xe){let Ae,Me,Ee;const ze=ne.x-oe.x,$e=ne.y-oe.y,Ze=xe.x-ne.x,dt=xe.y-ne.y,z=ze*ze+$e*$e,L=ze*dt-$e*Ze;if(Math.abs(L)>Number.EPSILON){const ee=Math.sqrt(z),me=Math.sqrt(Ze*Ze+dt*dt),Fe=oe.x-$e/ee,ke=oe.y+ze/ee,Ke=xe.x-dt/me,he=xe.y+Ze/me,Te=((Ke-Fe)*dt-(he-ke)*Ze)/(ze*dt-$e*Ze);Ae=Fe+ze*Te-ne.x,Me=ke+$e*Te-ne.y;const it=Ae*Ae+Me*Me;if(it<=2)return new ye(Ae,Me);Ee=Math.sqrt(it/2)}else{let ee=!1;ze>Number.EPSILON?Ze>Number.EPSILON&&(ee=!0):ze<-Number.EPSILON?Ze<-Number.EPSILON&&(ee=!0):Math.sign($e)===Math.sign(dt)&&(ee=!0),ee?(Ae=-$e,Me=ze,Ee=Math.sqrt(z)):(Ae=ze,Me=$e,Ee=Math.sqrt(z/2))}return new ye(Ae/Ee,Me/Ee)}const K=[];for(let ne=0,oe=W.length,xe=oe-1,Ae=ne+1;ne<oe;ne++,xe++,Ae++)xe===oe&&(xe=0),Ae===oe&&(Ae=0),K[ne]=k(W[ne],W[xe],W[Ae]);const Z=[];let ae,Q=K.concat();for(let ne=0,oe=P.length;ne<oe;ne++){const xe=P[ne];ae=[];for(let Ae=0,Me=xe.length,Ee=Me-1,ze=Ae+1;Ae<Me;Ae++,Ee++,ze++)Ee===Me&&(Ee=0),ze===Me&&(ze=0),ae[Ae]=k(xe[Ae],xe[Ee],xe[ze]);Z.push(ae),Q=Q.concat(ae)}for(let ne=0;ne<_;ne++){const oe=ne/_,xe=m*Math.cos(oe*Math.PI/2),Ae=v*Math.sin(oe*Math.PI/2)+y;for(let Me=0,Ee=W.length;Me<Ee;Me++){const ze=J(W[Me],K[Me],Ae);Be(ze.x,ze.y,-xe)}for(let Me=0,Ee=P.length;Me<Ee;Me++){const ze=P[Me];ae=Z[Me];for(let $e=0,Ze=ze.length;$e<Ze;$e++){const dt=J(ze[$e],ae[$e],Ae);Be(dt.x,dt.y,-xe)}}}const se=v+y;for(let ne=0;ne<j;ne++){const oe=p?J(D[ne],Q[ne],se):D[ne];E?(R.copy(C.normals[0]).multiplyScalar(oe.x),T.copy(C.binormals[0]).multiplyScalar(oe.y),I.copy(A[0]).add(R).add(T),Be(I.x,I.y,I.z)):Be(oe.x,oe.y,0)}for(let ne=1;ne<=d;ne++)for(let oe=0;oe<j;oe++){const xe=p?J(D[oe],Q[oe],se):D[oe];E?(R.copy(C.normals[ne]).multiplyScalar(xe.x),T.copy(C.binormals[ne]).multiplyScalar(xe.y),I.copy(A[ne]).add(R).add(T),Be(I.x,I.y,I.z)):Be(xe.x,xe.y,h/d*ne)}for(let ne=_-1;ne>=0;ne--){const oe=ne/_,xe=m*Math.cos(oe*Math.PI/2),Ae=v*Math.sin(oe*Math.PI/2)+y;for(let Me=0,Ee=W.length;Me<Ee;Me++){const ze=J(W[Me],K[Me],Ae);Be(ze.x,ze.y,h+xe)}for(let Me=0,Ee=P.length;Me<Ee;Me++){const ze=P[Me];ae=Z[Me];for(let $e=0,Ze=ze.length;$e<Ze;$e++){const dt=J(ze[$e],ae[$e],Ae);E?Be(dt.x,dt.y+A[d-1].y,A[d-1].x+xe):Be(dt.x,dt.y,h+xe)}}}pe(),_e();function pe(){const ne=i.length/3;if(p){let oe=0,xe=j*oe;for(let Ae=0;Ae<$;Ae++){const Me=q[Ae];ue(Me[2]+xe,Me[1]+xe,Me[0]+xe)}oe=d+_*2,xe=j*oe;for(let Ae=0;Ae<$;Ae++){const Me=q[Ae];ue(Me[0]+xe,Me[1]+xe,Me[2]+xe)}}else{for(let oe=0;oe<$;oe++){const xe=q[oe];ue(xe[2],xe[1],xe[0])}for(let oe=0;oe<$;oe++){const xe=q[oe];ue(xe[0]+j*d,xe[1]+j*d,xe[2]+j*d)}}r.addGroup(ne,i.length/3-ne,0)}function _e(){const ne=i.length/3;let oe=0;H(W,oe),oe+=W.length;for(let xe=0,Ae=P.length;xe<Ae;xe++){const Me=P[xe];H(Me,oe),oe+=Me.length}r.addGroup(ne,i.length/3-ne,1)}function H(ne,oe){let xe=ne.length;for(;--xe>=0;){const Ae=xe;let Me=xe-1;Me<0&&(Me=ne.length-1);for(let Ee=0,ze=d+_*2;Ee<ze;Ee++){const $e=j*Ee,Ze=j*(Ee+1),dt=oe+Ae+$e,z=oe+Me+$e,L=oe+Me+Ze,ee=oe+Ae+Ze;Le(dt,z,L,ee)}}}function Be(ne,oe,xe){l.push(ne),l.push(oe),l.push(xe)}function ue(ne,oe,xe){ve(ne),ve(oe),ve(xe);const Ae=i.length/3,Me=x.generateTopUV(r,i,Ae-3,Ae-2,Ae-1);Re(Me[0]),Re(Me[1]),Re(Me[2])}function Le(ne,oe,xe,Ae){ve(ne),ve(oe),ve(Ae),ve(oe),ve(xe),ve(Ae);const Me=i.length/3,Ee=x.generateSideWallUV(r,i,Me-6,Me-3,Me-2,Me-1);Re(Ee[0]),Re(Ee[1]),Re(Ee[3]),Re(Ee[1]),Re(Ee[2]),Re(Ee[3])}function ve(ne){i.push(l[ne*3+0]),i.push(l[ne*3+1]),i.push(l[ne*3+2])}function Re(ne){s.push(ne.x),s.push(ne.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return hte(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new SE[i.type]().fromJSON(i)),new Ks(r,e.options)}}const dte={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],d=e[i*3+1];return[new ye(s,o),new ye(a,l),new ye(u,d)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],u=e[r*3],d=e[r*3+1],h=e[r*3+2],p=e[i*3],m=e[i*3+1],v=e[i*3+2],y=e[s*3],_=e[s*3+1],w=e[s*3+2];return Math.abs(a-d)<Math.abs(o-u)?[new ye(o,1-l),new ye(u,1-h),new ye(p,1-v),new ye(y,1-w)]:[new ye(a,1-l),new ye(d,1-h),new ye(m,1-v),new ye(_,1-w)]}};function hte(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class vf extends $s{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t);this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new vf(e.radius,e.detail)}}class fu extends $s{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t);this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new fu(e.radius,e.detail)}}class _f extends rt{constructor(e=.5,t=1,r=8,i=1,s=0,o=Math.PI*2){super();this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],d=[];let h=e;const p=(t-e)/i,m=new F,v=new ye;for(let y=0;y<=i;y++){for(let _=0;_<=r;_++){const w=s+_/r*o;m.x=h*Math.cos(w),m.y=h*Math.sin(w),l.push(m.x,m.y,m.z),u.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,d.push(v.x,v.y)}h+=p}for(let y=0;y<i;y++){const _=y*(r+1);for(let w=0;w<r;w++){const x=w+_,A=x,E=x+r+1,C=x+r+2,T=x+1;a.push(A,E,T),a.push(E,C,T)}}this.setIndex(a),this.setAttribute("position",new Qe(l,3)),this.setAttribute("normal",new Qe(u,3)),this.setAttribute("uv",new Qe(d,2))}static fromJSON(e){return new _f(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class du extends rt{constructor(e=new Ws([new ye(0,.5),new ye(-.5,-.5),new ye(.5,-.5)]),t=12){super();this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let d=0;d<e.length;d++)u(e[d]),this.addGroup(a,l,d),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new Qe(i,3)),this.setAttribute("normal",new Qe(s,3)),this.setAttribute("uv",new Qe(o,2));function u(d){const h=i.length/3,p=d.extractPoints(t);let m=p.shape;const v=p.holes;Vs.isClockWise(m)===!1&&(m=m.reverse());for(let _=0,w=v.length;_<w;_++){const x=v[_];Vs.isClockWise(x)===!0&&(v[_]=x.reverse())}const y=Vs.triangulateShape(m,v);for(let _=0,w=v.length;_<w;_++){const x=v[_];m=m.concat(x)}for(let _=0,w=m.length;_<w;_++){const x=m[_];i.push(x.x,x.y,0),s.push(0,0,1),o.push(x.x,x.y)}for(let _=0,w=y.length;_<w;_++){const x=y[_],A=x[0]+h,E=x[1]+h,C=x[2]+h;r.push(A,E,C),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return pte(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new du(r,e.curveSegments)}}function pte(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class hu extends rt{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super();this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const d=[],h=new F,p=new F,m=[],v=[],y=[],_=[];for(let w=0;w<=r;w++){const x=[],A=w/r;let E=0;w==0&&o==0?E=.5/t:w==r&&l==Math.PI&&(E=-.5/t);for(let C=0;C<=t;C++){const T=C/t;h.x=-e*Math.cos(i+T*s)*Math.sin(o+A*a),h.y=e*Math.cos(o+A*a),h.z=e*Math.sin(i+T*s)*Math.sin(o+A*a),v.push(h.x,h.y,h.z),p.copy(h).normalize(),y.push(p.x,p.y,p.z),_.push(T+E,1-A),x.push(u++)}d.push(x)}for(let w=0;w<r;w++)for(let x=0;x<t;x++){const A=d[w][x+1],E=d[w][x],C=d[w+1][x],T=d[w+1][x+1];(w!==0||o>0)&&m.push(A,E,T),(w!==r-1||l<Math.PI)&&m.push(E,C,T)}this.setIndex(m),this.setAttribute("position",new Qe(v,3)),this.setAttribute("normal",new Qe(y,3)),this.setAttribute("uv",new Qe(_,2))}static fromJSON(e){return new hu(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class xf extends $s{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t);this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new xf(e.radius,e.detail)}}class wf extends rt{constructor(e=1,t=.4,r=8,i=6,s=Math.PI*2){super();this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],d=new F,h=new F,p=new F;for(let m=0;m<=r;m++)for(let v=0;v<=i;v++){const y=v/i*s,_=m/r*Math.PI*2;h.x=(e+t*Math.cos(_))*Math.cos(y),h.y=(e+t*Math.cos(_))*Math.sin(y),h.z=t*Math.sin(_),a.push(h.x,h.y,h.z),d.x=e*Math.cos(y),d.y=e*Math.sin(y),p.subVectors(h,d).normalize(),l.push(p.x,p.y,p.z),u.push(v/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let v=1;v<=i;v++){const y=(i+1)*m+v-1,_=(i+1)*(m-1)+v-1,w=(i+1)*(m-1)+v,x=(i+1)*m+v;o.push(y,_,x),o.push(_,w,x)}this.setIndex(o),this.setAttribute("position",new Qe(a,3)),this.setAttribute("normal",new Qe(l,3)),this.setAttribute("uv",new Qe(u,2))}static fromJSON(e){return new wf(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Sf extends rt{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super();this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],d=[],h=new F,p=new F,m=new F,v=new F,y=new F,_=new F,w=new F;for(let A=0;A<=r;++A){const E=A/r*s*Math.PI*2;x(E,s,o,e,m),x(E+.01,s,o,e,v),_.subVectors(v,m),w.addVectors(v,m),y.crossVectors(_,w),w.crossVectors(y,_),y.normalize(),w.normalize();for(let C=0;C<=i;++C){const T=C/i*Math.PI*2,R=-t*Math.cos(T),I=t*Math.sin(T);h.x=m.x+(R*w.x+I*y.x),h.y=m.y+(R*w.y+I*y.y),h.z=m.z+(R*w.z+I*y.z),l.push(h.x,h.y,h.z),p.subVectors(h,m).normalize(),u.push(p.x,p.y,p.z),d.push(A/r),d.push(C/i)}}for(let A=1;A<=r;A++)for(let E=1;E<=i;E++){const C=(i+1)*(A-1)+(E-1),T=(i+1)*A+(E-1),R=(i+1)*A+E,I=(i+1)*(A-1)+E;a.push(C,T,I),a.push(T,R,I)}this.setIndex(a),this.setAttribute("position",new Qe(l,3)),this.setAttribute("normal",new Qe(u,3)),this.setAttribute("uv",new Qe(d,2));function x(A,E,C,T,R){const I=Math.cos(A),O=Math.sin(A),D=C/E*A,P=Math.cos(D);R.x=T*(2+P)*.5*I,R.y=T*(2+P)*O*.5,R.z=T*Math.sin(D)*.5}}static fromJSON(e){return new Sf(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Af extends rt{constructor(e=new Gv(new F(-1,-1,0),new F(-1,1,0),new F(1,1,0)),t=64,r=1,i=8,s=!1){super();this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new F,l=new F,u=new ye;let d=new F;const h=[],p=[],m=[],v=[];y(),this.setIndex(v),this.setAttribute("position",new Qe(h,3)),this.setAttribute("normal",new Qe(p,3)),this.setAttribute("uv",new Qe(m,2));function y(){for(let A=0;A<t;A++)_(A);_(s===!1?t:0),x(),w()}function _(A){d=e.getPointAt(A/t,d);const E=o.normals[A],C=o.binormals[A];for(let T=0;T<=i;T++){const R=T/i*Math.PI*2,I=Math.sin(R),O=-Math.cos(R);l.x=O*E.x+I*C.x,l.y=O*E.y+I*C.y,l.z=O*E.z+I*C.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=d.x+r*l.x,a.y=d.y+r*l.y,a.z=d.z+r*l.z,h.push(a.x,a.y,a.z)}}function w(){for(let A=1;A<=t;A++)for(let E=1;E<=i;E++){const C=(i+1)*(A-1)+(E-1),T=(i+1)*A+(E-1),R=(i+1)*A+E,I=(i+1)*(A-1)+E;v.push(C,T,I),v.push(T,R,I)}}function x(){for(let A=0;A<=t;A++)for(let E=0;E<=i;E++)u.x=A/t,u.y=E/i,m.push(u.x,u.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Af(new SE[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class ME extends rt{constructor(e=null){super();if(this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new F,s=new F;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,d=l.length;u<d;++u){const h=l[u],p=h.start,m=h.count;for(let v=p,y=p+m;v<y;v+=3)for(let _=0;_<3;_++){const w=a.getX(v+_),x=a.getX(v+(_+1)%3);i.fromBufferAttribute(o,w),s.fromBufferAttribute(o,x),tI(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const d=3*a+u,h=3*a+(u+1)%3;i.fromBufferAttribute(o,d),s.fromBufferAttribute(o,h),tI(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Qe(t,3))}}}function tI(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var nI=Object.freeze({__proto__:null,BoxGeometry:Io,BoxBufferGeometry:Io,CapsuleGeometry:pf,CapsuleBufferGeometry:pf,CircleGeometry:mf,CircleBufferGeometry:mf,ConeGeometry:gf,ConeBufferGeometry:gf,CylinderGeometry:Oa,CylinderBufferGeometry:Oa,DodecahedronGeometry:yf,DodecahedronBufferGeometry:yf,EdgesGeometry:AE,ExtrudeGeometry:Ks,ExtrudeBufferGeometry:Ks,IcosahedronGeometry:vf,IcosahedronBufferGeometry:vf,LatheGeometry:cu,LatheBufferGeometry:cu,OctahedronGeometry:fu,OctahedronBufferGeometry:fu,PlaneGeometry:Na,PlaneBufferGeometry:Na,PolyhedronGeometry:$s,PolyhedronBufferGeometry:$s,RingGeometry:_f,RingBufferGeometry:_f,ShapeGeometry:du,ShapeBufferGeometry:du,SphereGeometry:hu,SphereBufferGeometry:hu,TetrahedronGeometry:xf,TetrahedronBufferGeometry:xf,TorusGeometry:wf,TorusBufferGeometry:wf,TorusKnotGeometry:Sf,TorusKnotBufferGeometry:Sf,TubeGeometry:Af,TubeBufferGeometry:Af,WireframeGeometry:ME});class EE extends dn{constructor(e){super();this.type="ShadowMaterial",this.color=new Pe(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}EE.prototype.isShadowMaterial=!0;class CE extends si{constructor(e){super(e);this.type="RawShaderMaterial"}}CE.prototype.isRawShaderMaterial=!0;class wu extends dn{constructor(e){super();this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Pe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$a,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}wu.prototype.isMeshStandardMaterial=!0;class Ho extends wu{constructor(e){super();this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ye(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ln(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.sheenColor=new Pe(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Pe(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Pe(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}Ho.prototype.isMeshPhysicalMaterial=!0;class bE extends dn{constructor(e){super();this.type="MeshPhongMaterial",this.color=new Pe(16777215),this.specular=new Pe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$a,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Lp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}bE.prototype.isMeshPhongMaterial=!0;class TE extends dn{constructor(e){super();this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Pe(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$a,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}TE.prototype.isMeshToonMaterial=!0;class RE extends dn{constructor(e){super();this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$a,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}RE.prototype.isMeshNormalMaterial=!0;class PE extends dn{constructor(e){super();this.type="MeshLambertMaterial",this.color=new Pe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Lp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}PE.prototype.isMeshLambertMaterial=!0;class IE extends dn{constructor(e){super();this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Pe(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$a,this.normalScale=new ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}IE.prototype.isMeshMatcapMaterial=!0;class BE extends Kn{constructor(e){super();this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}BE.prototype.isLineDashedMaterial=!0;const mte={ShadowMaterial:EE,SpriteMaterial:kv,RawShaderMaterial:CE,ShaderMaterial:si,PointsMaterial:qa,MeshPhysicalMaterial:Ho,MeshStandardMaterial:wu,MeshPhongMaterial:bE,MeshToonMaterial:TE,MeshNormalMaterial:RE,MeshLambertMaterial:PE,MeshDepthMaterial:kp,MeshDistanceMaterial:Fv,MeshBasicMaterial:Zr,MeshMatcapMaterial:IE,LineDashedMaterial:BE,LineBasicMaterial:Kn,Material:dn};dn.fromType=function(n){return new mte[n]};const tn={arraySlice:function(n,e,t){return tn.isTypedArray(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)},convertArray:function(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r},sortedArray:function(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i},flattenJSON:function(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)},subclip:function(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],d=u.getValueSize(),h=[],p=[];for(let m=0;m<u.times.length;++m){const v=u.times[m]*i;if(!(v<t||v>=r)){h.push(u.times[m]);for(let y=0;y<d;++y)p.push(u.values[m*d+y])}}h.length!==0&&(u.times=tn.convertArray(h,u.times.constructor),u.values=tn.convertArray(p,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s},makeClipAdditive:function(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(w){return w.name===a.name&&w.ValueTypeName===l});if(u===void 0)continue;let d=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);let p=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const v=a.times.length-1;let y;if(s<=a.times[0]){const w=d,x=h-d;y=tn.arraySlice(a.values,w,x)}else if(s>=a.times[v]){const w=v*h+d,x=w+h-d;y=tn.arraySlice(a.values,w,x)}else{const w=a.createInterpolant(),x=d,A=h-d;w.evaluate(s),y=tn.arraySlice(w.resultBuffer,x,A)}l==="quaternion"&&new Gn().fromArray(y).normalize().conjugate().toArray(y);const _=u.times.length;for(let w=0;w<_;++w){const x=w*m+p;if(l==="quaternion")Gn.multiplyQuaternionsFlat(u.values,x,y,0,u.values,x);else{const A=m-p*2;for(let E=0;E<A;++E)u.values[x+E]-=y[E]}}}return n.blendMode=cE,n}};class Xs{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,e,s)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(i===void 0)return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,s,e)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}Xs.prototype.beforeStart_=Xs.prototype.copySampleValue_;Xs.prototype.afterEnd_=Xs.prototype.copySampleValue_;class yN extends Xs{constructor(e,t,r,i){super(e,t,r,i);this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ol,endingEnd:Ol}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Hl:s=e,a=2*t-r;break;case Jh:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Hl:o=e,l=2*r-t;break;case Jh:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const u=(r-t)*.5,d=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(l-r),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,d=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,m=this._weightNext,v=(r-t)/(i-t),y=v*v,_=y*v,w=-p*_+2*p*y-p*v,x=(1+p)*_+(-1.5-2*p)*y+(-.5+p)*v+1,A=(-1-m)*_+(1.5+m)*y+.5*v,E=m*_-m*y;for(let C=0;C!==a;++C)s[C]=w*o[d+C]+x*o[u+C]+A*o[l+C]+E*o[h+C];return s}}class LE extends Xs{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,d=(r-t)/(i-t),h=1-d;for(let p=0;p!==a;++p)s[p]=o[u+p]*h+o[l+p]*d;return s}}class vN extends Xs{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class xs{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=tn.convertArray(t,this.TimeBufferType),this.values=tn.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:tn.convertArray(e.times,Array),values:tn.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new vN(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new LE(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new yN(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case uf:t=this.InterpolantFactoryMethodDiscrete;break;case lu:t=this.InterpolantFactoryMethodLinear;break;case By:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return uf;case this.InterpolantFactoryMethodLinear:return lu;case this.InterpolantFactoryMethodSmooth:return By}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=tn.arraySlice(r,s,o),this.values=tn.arraySlice(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&tn.isTypedArray(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=tn.arraySlice(this.times),t=tn.arraySlice(this.values),r=this.getValueSize(),i=this.getInterpolation()===By,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],d=e[a+1];if(u!==d&&(a!==1||u!==e[0]))if(i)l=!0;else{const h=a*r,p=h-r,m=h+r;for(let v=0;v!==r;++v){const y=t[h+v];if(y!==t[p+v]||y!==t[m+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*r,p=o*r;for(let m=0;m!==r;++m)t[p+m]=t[h+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)t[l+u]=t[a+u];++o}return o!==e.length?(this.times=tn.arraySlice(e,0,o),this.values=tn.arraySlice(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=tn.arraySlice(this.times,0),t=tn.arraySlice(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}xs.prototype.TimeBufferType=Float32Array;xs.prototype.ValueBufferType=Float32Array;xs.prototype.DefaultInterpolation=lu;class Su extends xs{}Su.prototype.ValueTypeName="bool";Su.prototype.ValueBufferType=Array;Su.prototype.DefaultInterpolation=uf;Su.prototype.InterpolantFactoryMethodLinear=void 0;Su.prototype.InterpolantFactoryMethodSmooth=void 0;class DE extends xs{}DE.prototype.ValueTypeName="color";class Mf extends xs{}Mf.prototype.ValueTypeName="number";class _N extends Xs{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let u=e*a;for(let d=u+a;u!==d;u+=4)Gn.slerpFlat(s,0,o,u-a,o,u,l);return s}}class Ua extends xs{InterpolantFactoryMethodLinear(e){return new _N(this.times,this.values,this.getValueSize(),e)}}Ua.prototype.ValueTypeName="quaternion";Ua.prototype.DefaultInterpolation=lu;Ua.prototype.InterpolantFactoryMethodSmooth=void 0;class Au extends xs{}Au.prototype.ValueTypeName="string";Au.prototype.ValueBufferType=Array;Au.prototype.DefaultInterpolation=uf;Au.prototype.InterpolantFactoryMethodLinear=void 0;Au.prototype.InterpolantFactoryMethodSmooth=void 0;class Ef extends xs{}Ef.prototype.ValueTypeName="vector";class Cf{constructor(e,t=-1,r,i=Rv){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=Si(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(yte(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(xs.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const d=tn.getKeyframeOrder(l);l=tn.sortedArray(l,1,d),u=tn.sortedArray(u,1,d),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new Mf(".morphTargetInfluences["+t[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],d=u.name.match(s);if(d&&d.length>1){const h=d[1];let p=i[h];p||(i[h]=p=[]),p.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(h,p,m,v,y){if(m.length!==0){const _=[],w=[];tn.flattenJSON(m,_,w,v),_.length!==0&&y.push(new h(p,_,w))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let h=0;h<u.length;h++){const p=u[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let v;for(v=0;v<p.length;v++)if(p[v].morphTargets)for(let y=0;y<p[v].morphTargets.length;y++)m[p[v].morphTargets[y]]=-1;for(const y in m){const _=[],w=[];for(let x=0;x!==p[v].morphTargets.length;++x){const A=p[v];_.push(A.time),w.push(A.morphTarget===y?1:0)}i.push(new Mf(".morphTargetInfluence["+y+"]",_,w))}l=m.length*o}else{const m=".bones["+t[h].name+"]";r(Ef,m+".position",p,"pos",i),r(Ua,m+".quaternion",p,"rot",i),r(Ef,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function gte(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Mf;case"vector":case"vector2":case"vector3":case"vector4":return Ef;case"color":return DE;case"quaternion":return Ua;case"bool":case"boolean":return Su;case"string":return Au}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function yte(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=gte(n.type);if(n.times===void 0){const t=[],r=[];tn.flattenJSON(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const pu={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class FE{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(d){a++,s===!1&&i.onStart!==void 0&&i.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,i.onProgress!==void 0&&i.onProgress(d,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(d){i.onError!==void 0&&i.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,h){return u.push(d,h),this},this.removeHandler=function(d){const h=u.indexOf(d);return h!==-1&&u.splice(h,2),this},this.getHandler=function(d){for(let h=0,p=u.length;h<p;h+=2){const m=u[h],v=u[h+1];if(m.global&&(m.lastIndex=0),m.test(d))return v}return null}}}const xN=new FE;class fr{constructor(e){this.manager=e!==void 0?e:xN,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const co={};class oi extends fr{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=pu.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(co[e]!==void 0){co[e].push({onLoad:t,onProgress:r,onError:i});return}co[e]=[],co[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||u.body===void 0||u.body.getReader===void 0)return u;const d=co[e],h=u.body.getReader(),p=u.headers.get("Content-Length"),m=p?parseInt(p):0,v=m!==0;let y=0;const _=new ReadableStream({start(w){x();function x(){h.read().then(({done:A,value:E})=>{if(A)w.close();else{y+=E.byteLength;const C=new ProgressEvent("progress",{lengthComputable:v,loaded:y,total:m});for(let T=0,R=d.length;T<R;T++){const I=d[T];I.onProgress&&I.onProgress(C)}w.enqueue(E),x()}})}}});return new Response(_)}else throw Error(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return u.json();default:if(a===void 0)return u.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(p);return u.arrayBuffer().then(v=>m.decode(v))}}}).then(u=>{pu.add(e,u);const d=co[e];delete co[e];for(let h=0,p=d.length;h<p;h++){const m=d[h];m.onLoad&&m.onLoad(u)}}).catch(u=>{const d=co[e];if(d===void 0)throw this.manager.itemError(e),u;delete co[e];for(let h=0,p=d.length;h<p;h++){const m=d[h];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class vte extends fr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new oi(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=Cf.parse(e[r]);t.push(i)}return t}}class _te extends fr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new yE,l=new oi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function d(h){l.load(e[h],function(p){const m=s.parse(p,!0);o[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=vn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)d(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let v=0;v<m;v++){o[v]={mipmaps:[]};for(let y=0;y<p.mipmapCount;y++)o[v].mipmaps.push(p.mipmaps[v*p.mipmapCount+y]),o[v].format=p.format,o[v].width=p.width,o[v].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=vn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class qh extends fr{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=pu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Kh("img");function l(){d(),pu.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(h){d(),i&&i(h),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class wN extends fr{constructor(e){super(e)}load(e,t,r,i){const s=new Uf,o=new qh(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(d){s.images[u]=d,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class SN extends fr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Yl,a=new oi(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);!u||(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Ar,o.wrapT=u.wrapT!==void 0?u.wrapT:Ar,o.magFilter=u.magFilter!==void 0?u.magFilter:vn,o.minFilter=u.minFilter!==void 0?u.minFilter:vn,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=ko),u.mipmapCount===1&&(o.minFilter=vn),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,t&&t(o,u))},r,i),o}}class kE extends fr{constructor(e){super(e)}load(e,t,r,i){const s=new wn,o=new qh(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class ys extends _t{constructor(e,t=1){super();this.type="Light",this.color=new Pe(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}ys.prototype.isLight=!0;class NE extends ys{constructor(e,t,r){super(e,r);this.type="HemisphereLight",this.position.copy(_t.DefaultUp),this.updateMatrix(),this.groundColor=new Pe(t)}copy(e){return ys.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}NE.prototype.isHemisphereLight=!0;const rI=new Xe,iI=new F,sI=new F;class OE{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ye(512,512),this.map=null,this.mapPass=null,this.matrix=new Xe,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Fp,this._frameExtents=new ye(1,1),this._viewportCount=1,this._viewports=[new Ut(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;iI.setFromMatrixPosition(e.matrixWorld),t.position.copy(iI),sI.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(sI),t.updateMatrixWorld(),rI.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(rI),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class AN extends OE{constructor(){super(new Yt(50,1,.5,500));this.focus=1}updateMatrices(e){const t=this.camera,r=$h*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}AN.prototype.isSpotLightShadow=!0;class Vv extends ys{constructor(e,t,r=0,i=Math.PI/3,s=0,o=1){super(e,t);this.type="SpotLight",this.position.copy(_t.DefaultUp),this.updateMatrix(),this.target=new _t,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.shadow=new AN}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}Vv.prototype.isSpotLight=!0;const oI=new Xe,kd=new F,C1=new F;class MN extends OE{constructor(){super(new Yt(90,1,.5,500));this._frameExtents=new ye(4,2),this._viewportCount=6,this._viewports=[new Ut(2,1,1,1),new Ut(0,1,1,1),new Ut(3,1,1,1),new Ut(1,1,1,1),new Ut(3,0,1,1),new Ut(1,0,1,1)],this._cubeDirections=[new F(1,0,0),new F(-1,0,0),new F(0,0,1),new F(0,0,-1),new F(0,1,0),new F(0,-1,0)],this._cubeUps=[new F(0,1,0),new F(0,1,0),new F(0,1,0),new F(0,1,0),new F(0,0,1),new F(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),kd.setFromMatrixPosition(e.matrixWorld),r.position.copy(kd),C1.copy(r.position),C1.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(C1),r.updateMatrixWorld(),i.makeTranslation(-kd.x,-kd.y,-kd.z),oI.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(oI)}}MN.prototype.isPointLightShadow=!0;class jv extends ys{constructor(e,t,r=0,i=1){super(e,t);this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new MN}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}jv.prototype.isPointLight=!0;class EN extends OE{constructor(){super(new zs(-5,5,5,-5,.5,500))}}EN.prototype.isDirectionalLightShadow=!0;class Jv extends ys{constructor(e,t){super(e,t);this.type="DirectionalLight",this.position.copy(_t.DefaultUp),this.updateMatrix(),this.target=new _t,this.shadow=new EN}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}Jv.prototype.isDirectionalLight=!0;class HE extends ys{constructor(e,t){super(e,t);this.type="AmbientLight"}}HE.prototype.isAmbientLight=!0;class UE extends ys{constructor(e,t,r=10,i=10){super(e,t);this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}UE.prototype.isRectAreaLight=!0;class GE{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new F)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}GE.prototype.isSphericalHarmonics3=!0;class jp extends ys{constructor(e=new GE,t=1){super(void 0,t);this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}jp.prototype.isLightProbe=!0;class CN extends fr{constructor(e){super(e);this.textures={}}load(e,t,r,i){const s=this,o=new oi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=dn.fromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Pe().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Pe().setHex(o.value);break;case"v2":i.uniforms[s].value=new ye().fromArray(o.value);break;case"v3":i.uniforms[s].value=new F().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Ut().fromArray(o.value);break;case"m3":i.uniforms[s].value=new $n().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Xe().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.shading!==void 0&&(i.flatShading=e.shading===1),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new ye().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new ye().fromArray(e.clearcoatNormalScale)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}}class ps{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class zE extends rt{constructor(){super();this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}zE.prototype.isInstancedBufferGeometry=!0;class bN extends fr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new oi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(m,v){if(t[v]!==void 0)return t[v];const _=m.interleavedBuffers[v],w=s(m,_.buffer),x=Ic(_.type,w),A=new Ya(x,_.stride);return A.uuid=_.uuid,t[v]=A,A}function s(m,v){if(r[v]!==void 0)return r[v];const _=m.arrayBuffers[v],w=new Uint32Array(_).buffer;return r[v]=w,w}const o=e.isInstancedBufferGeometry?new zE:new rt,a=e.data.index;if(a!==void 0){const m=Ic(a.type,a.array);o.setIndex(new vt(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let y;if(v.isInterleavedBufferAttribute){const _=i(e.data,v.data);y=new Bo(_,v.itemSize,v.offset,v.normalized)}else{const _=Ic(v.type,v.array),w=v.isInstancedBufferAttribute?uu:vt;y=new w(_,v.itemSize,v.normalized)}v.name!==void 0&&(y.name=v.name),v.usage!==void 0&&y.setUsage(v.usage),v.updateRange!==void 0&&(y.updateRange.offset=v.updateRange.offset,y.updateRange.count=v.updateRange.count),o.setAttribute(m,y)}const u=e.data.morphAttributes;if(u)for(const m in u){const v=u[m],y=[];for(let _=0,w=v.length;_<w;_++){const x=v[_];let A;if(x.isInterleavedBufferAttribute){const E=i(e.data,x.data);A=new Bo(E,x.itemSize,x.offset,x.normalized)}else{const E=Ic(x.type,x.array);A=new vt(E,x.itemSize,x.normalized)}x.name!==void 0&&(A.name=x.name),y.push(A)}o.morphAttributes[m]=y}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,v=h.length;m!==v;++m){const y=h[m];o.addGroup(y.start,y.count,y.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new F;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new Oo(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class xte extends fr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?ps.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new oi(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(h){i!==void 0&&i(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const d=u.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?ps.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new oi(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),d=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,d),t!==void 0){let h=!1;for(const p in o)if(o[p]instanceof HTMLImageElement){h=!0;break}h===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Ws().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new zp().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new bN;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:l.type in nI?a=nI[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new CN;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];if(l.type==="MultiMaterial"){const u=[];for(let d=0;d<l.materials.length;d++){const h=l.materials[d];r[h.uuid]===void 0&&(r[h.uuid]=s.parse(h)),u.push(r[h.uuid])}i[l.uuid]=u}else r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Cf.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(d)}else return l.data?{data:Ic(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new FE(t);s=new qh(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,d=e.length;u<d;u++){const h=e[u],p=h.url;if(Array.isArray(p)){const m=[];for(let v=0,y=p.length;v<y;v++){const _=p[v],w=a(_);w!==null&&(w instanceof HTMLImageElement?m.push(w):m.push(new Yl(w.data,w.width,w.height)))}i[h.uuid]=new Ul(m)}else{const m=a(h.url);i[h.uuid]=new Ul(m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Ic(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new qh(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const d=[];for(let h=0,p=u.length;h<p;h++){const m=u[h],v=await s(m);v!==null&&(v instanceof HTMLImageElement?d.push(v):d.push(new Yl(v.data,v.width,v.height)))}r[l.uuid]=new Ul(d)}else{const d=await s(l.url);r[l.uuid]=new Ul(d)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],u=l.data;let d;Array.isArray(u)?(d=new Uf,u.length===6&&(d.needsUpdate=!0)):(u&&u.data?d=new Yl:d=new wn,u&&(d.needsUpdate=!0)),d.source=l,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=r(a.mapping,wte)),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=r(a.wrap[0],aI),d.wrapT=r(a.wrap[1],aI)),a.format!==void 0&&(d.format=a.format),a.type!==void 0&&(d.type=a.type),a.encoding!==void 0&&(d.encoding=a.encoding),a.minFilter!==void 0&&(d.minFilter=r(a.minFilter,lI)),a.magFilter!==void 0&&(d.magFilter=r(a.magFilter,lI)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(d.userData=a.userData),i[a.uuid]=d}return i}parseObject(e,t,r,i,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let v=0,y=p.length;v<y;v++){const _=p[v];r[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),m.push(r[_])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function u(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let d,h;switch(e.type){case"Scene":o=new Hp,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Pe(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Op(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Np(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":o=new Yt(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new zs(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new HE(e.color,e.intensity);break;case"DirectionalLight":o=new Jv(e.color,e.intensity);break;case"PointLight":o=new jv(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new UE(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Vv(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new NE(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new jp().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),h=l(e.material),o=new Up(d,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),h=l(e.material),o=new Cn(d,h);break;case"InstancedMesh":d=a(e.geometry),h=l(e.material);const p=e.count,m=e.instanceMatrix,v=e.instanceColor;o=new gE(d,h,p),o.instanceMatrix=new uu(new Float32Array(m.array),16),v!==void 0&&(o.instanceColor=new uu(new Float32Array(v.array),v.itemSize));break;case"LOD":o=new lN;break;case"Line":o=new Js(a(e.geometry),l(e.material));break;case"LineLoop":o=new Ov(a(e.geometry),l(e.material));break;case"LineSegments":o=new kr(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new zf(a(e.geometry),l(e.material));break;case"Sprite":o=new Nv(l(e.material));break;case"Group":o=new Os;break;case"Bone":o=new Gp;break;default:o=new _t}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const v=p[m];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const v=p[m],y=o.getObjectByProperty("uuid",v.object);y!==void 0&&o.addLevel(y,v.distance)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}const wte={UVMapping:bv,CubeReflectionMapping:La,CubeRefractionMapping:Da,EquirectangularReflectionMapping:zh,EquirectangularRefractionMapping:Wh,CubeUVReflectionMapping:Nf},aI={RepeatWrapping:Fa,ClampToEdgeWrapping:Ar,MirroredRepeatWrapping:af},lI={NearestFilter:Bn,NearestMipmapNearestFilter:Vh,NearestMipmapLinearFilter:jh,LinearFilter:vn,LinearMipmapNearestFilter:Tv,LinearMipmapLinearFilter:ko};class WE extends fr{constructor(e){super(e);typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=pu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){pu.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}WE.prototype.isImageBitmapLoader=!0;let ty;const VE={getContext:function(){return ty===void 0&&(ty=new(window.AudioContext||window.webkitAudioContext)),ty},setContext:function(n){ty=n}};class TN extends fr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new oi(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);VE.getContext().decodeAudioData(l,function(d){t(d)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class RN extends jp{constructor(e,t,r=1){super(void 0,r);const i=new Pe().set(e),s=new Pe().set(t),o=new F(i.r,i.g,i.b),a=new F(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}RN.prototype.isHemisphereLightProbe=!0;class PN extends jp{constructor(e,t=1){super(void 0,t);const r=new Pe().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}PN.prototype.isAmbientLightProbe=!0;const uI=new Xe,cI=new Xe,ml=new Xe;class Ste{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Yt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Yt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,ml.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(Kl*t.fov*.5)/t.zoom;let a,l;cI.elements[12]=-i,uI.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,ml.elements[0]=2*t.near/(l-a),ml.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(ml),a=-o*t.aspect-s,l=o*t.aspect-s,ml.elements[0]=2*t.near/(l-a),ml.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(ml)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(cI),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(uI)}}class jE{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=fI(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=fI();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function fI(){return(typeof performance=="undefined"?Date:performance).now()}const gl=new F,dI=new Gn,Ate=new F,yl=new F;class Mte extends _t{constructor(){super();this.type="AudioListener",this.context=VE.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new jE}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(gl,dI,Ate),yl.set(0,0,-1).applyQuaternion(dI),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(gl.x,i),t.positionY.linearRampToValueAtTime(gl.y,i),t.positionZ.linearRampToValueAtTime(gl.z,i),t.forwardX.linearRampToValueAtTime(yl.x,i),t.forwardY.linearRampToValueAtTime(yl.y,i),t.forwardZ.linearRampToValueAtTime(yl.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(gl.x,gl.y,gl.z),t.setOrientation(yl.x,yl.y,yl.z,r.x,r.y,r.z)}}class JE extends _t{constructor(e){super();this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const vl=new F,hI=new Gn,Ete=new F,_l=new F;class Cte extends JE{constructor(e){super(e);this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(vl,hI,Ete),_l.set(0,0,1).applyQuaternion(hI);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(vl.x,r),t.positionY.linearRampToValueAtTime(vl.y,r),t.positionZ.linearRampToValueAtTime(vl.z,r),t.orientationX.linearRampToValueAtTime(_l.x,r),t.orientationY.linearRampToValueAtTime(_l.y,r),t.orientationZ.linearRampToValueAtTime(_l.z,r)}else t.setPosition(vl.x,vl.y,vl.z),t.setOrientation(_l.x,_l.y,_l.z)}}class IN{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class BN{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){Gn.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;Gn.multiplyQuaternionsFlat(e,o,e,t,e,r),Gn.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const $E="\\[\\]\\.:\\/",bte=new RegExp("["+$E+"]","g"),KE="[^"+$E+"]",Tte="[^"+$E.replace("\\.","")+"]",Rte=/((?:WC+[\/:])*)/.source.replace("WC",KE),Pte=/(WCOD+)?/.source.replace("WCOD",Tte),Ite=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",KE),Bte=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",KE),Lte=new RegExp("^"+Rte+Pte+Ite+Bte+"$"),Dte=["material","materials","bones"];class Fte{constructor(e,t,r){const i=r||Tt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Tt{constructor(e,t,r){this.path=t,this.parsedPath=r||Tt.parseTrackName(t),this.node=Tt.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Tt.Composite(e,t,r):new Tt(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(bte,"")}static parseTrackName(e){const t=Lte.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);Dte.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=Tt.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===u){u=d;break}break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Tt.Composite=Fte;Tt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Tt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Tt.prototype.GetterByBindingType=[Tt.prototype._getValue_direct,Tt.prototype._getValue_array,Tt.prototype._getValue_arrayElement,Tt.prototype._getValue_toArray];Tt.prototype.SetterByBindingTypeAndVersioning=[[Tt.prototype._setValue_direct,Tt.prototype._setValue_direct_setNeedsUpdate,Tt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Tt.prototype._setValue_array,Tt.prototype._setValue_array_setNeedsUpdate,Tt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Tt.prototype._setValue_arrayElement,Tt.prototype._setValue_arrayElement_setNeedsUpdate,Tt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Tt.prototype._setValue_fromArray,Tt.prototype._setValue_fromArray_setNeedsUpdate,Tt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class LN{constructor(){this.uuid=Si(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let d=0,h=arguments.length;d!==h;++d){const p=arguments[d],m=p.uuid;let v=t[m];if(v===void 0){v=l++,t[m]=v,e.push(p);for(let y=0,_=o;y!==_;++y)s[y].push(new Tt(p,r[y],i[y]))}else if(v<u){a=e[v];const y=--u,_=e[y];t[_.uuid]=v,e[v]=_,t[m]=y,e[y]=p;for(let w=0,x=o;w!==x;++w){const A=s[w],E=A[y];let C=A[v];A[v]=E,C===void 0&&(C=new Tt(p,r[w],i[w])),A[y]=C}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,d=t[u];if(d!==void 0&&d>=s){const h=s++,p=e[h];t[p.uuid]=d,e[d]=p,t[u]=h,e[h]=l;for(let m=0,v=i;m!==v;++m){const y=r[m],_=y[h],w=y[d];y[d]=_,y[h]=w}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],d=u.uuid,h=t[d];if(h!==void 0)if(delete t[d],h<s){const p=--s,m=e[p],v=--o,y=e[v];t[m.uuid]=h,e[h]=m,t[y.uuid]=p,e[p]=y,e.pop();for(let _=0,w=i;_!==w;++_){const x=r[_],A=x[p],E=x[v];x[h]=A,x[p]=E,x.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=h),e[h]=m,e.pop();for(let v=0,y=i;v!==y;++v){const _=r[v];_[h]=_[p],_.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,d=this.nCachedObjects_,h=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(h);for(let p=d,m=l.length;p!==m;++p){const v=l[p];h[p]=new Tt(v,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];t[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}LN.prototype.isAnimationObjectGroup=!0;class kte{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Ol,endingEnd:Ol};for(let u=0;u!==o;++u){const d=s[u].createInterpolant(null);a[u]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Tk,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;if(l<0||r===0)return;this._startTime=null,t=r*l}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case cE:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),u[d].accumulateAdditive(a);break;case Rv:default:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),u[d].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;r!==null&&(t*=r.evaluate(e)[0],e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===Rk;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===bk){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Hl,i.endingEnd=Hl):(e?i.endingStart=this.zeroSlopeAtStart?Hl:Ol:i.endingStart=Jh,t?i.endingEnd=this.zeroSlopeAtEnd?Hl:Ol:i.endingEnd=Jh)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}class DN extends No{constructor(e){super();this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let d=u[l];d===void 0&&(d={},u[l]=d);for(let h=0;h!==s;++h){const p=i[h],m=p.name;let v=d[m];if(v!==void 0)++v.referenceCount,o[h]=v;else{if(v=o[h],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const y=t&&t._propertyBindings[h].binding.parsedPath;v=new BN(Tt.create(r,m,y),p.ValueTypeName,p.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),o[h]=v}a[h].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],d=e._byClipCacheIndex;u._byClipCacheIndex=d,l[d]=u,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new LE(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?Cf.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=Rv),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===r)return h;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const d=new kte(this,o,t,r);return this._bindAction(d,u),this._addInactiveAction(d,a,s),d}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?Cf.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)t[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const d=u._cacheIndex,h=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,h._cacheIndex=d,t[d]=h,t.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}DN.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class $v{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new $v(this.value.clone===void 0?this.value:this.value.clone())}}class FN extends Ya{constructor(e,t,r=1){super(e,t);this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}FN.prototype.isInstancedInterleavedBuffer=!0;class kN{constructor(e,t,r,i,s){this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}kN.prototype.isGLBufferAttribute=!0;class NN{constructor(e,t,r=0,i=1/0){this.ray=new Xa(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Ql,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return KS(e,this,r,t),r.sort(pI),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)KS(e[i],this,r,t);return r.sort(pI),r}}function pI(n,e){return n.distance-e.distance}function KS(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)KS(i[s],e,t,!0)}}class XS{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Ln(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Nte{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const mI=new ye;class Wf{constructor(e=new ye(1/0,1/0),t=new ye(-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=mI.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return mI.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}Wf.prototype.isBox2=!0;const gI=new F,ny=new F;class ON{constructor(e=new F,t=new F){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){gI.subVectors(e,this.start),ny.subVectors(this.end,this.start);const r=ny.dot(ny);let s=ny.dot(gI)/r;return t&&(s=Ln(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const yI=new F;class Ote extends _t{constructor(e,t){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const r=new rt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,d=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(d),Math.sin(d),1)}r.setAttribute("position",new Qe(i,3));const s=new Kn({fog:!1,toneMapped:!1});this.cone=new kr(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),yI.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(yI),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const oa=new F,ry=new Xe,b1=new Xe;class HN extends kr{constructor(e){const t=UN(e),r=new rt,i=[],s=[],o=new Pe(0,0,1),a=new Pe(0,1,0);for(let u=0;u<t.length;u++){const d=t[u];d.parent&&d.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new Qe(i,3)),r.setAttribute("color",new Qe(s,3));const l=new Kn({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l);this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");b1.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(ry.multiplyMatrices(b1,a.matrixWorld),oa.setFromMatrixPosition(ry),i.setXYZ(o,oa.x,oa.y,oa.z),ry.multiplyMatrices(b1,a.parent.matrixWorld),oa.setFromMatrixPosition(ry),i.setXYZ(o+1,oa.x,oa.y,oa.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function UN(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,UN(n.children[t]));return e}class Hte extends Cn{constructor(e,t,r){const i=new hu(t,4,2),s=new Zr({wireframe:!0,fog:!1,toneMapped:!1});super(i,s);this.light=e,this.light.updateMatrixWorld(),this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Ute=new F,vI=new Pe,_I=new Pe;class Gte extends _t{constructor(e,t,r){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;const i=new fu(t);i.rotateY(Math.PI*.5),this.material=new Zr({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new vt(o,3)),this.add(new Cn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");vI.copy(this.light.color),_I.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?vI:_I;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}e.lookAt(Ute.setFromMatrixPosition(this.light.matrixWorld).negate())}}class GN extends kr{constructor(e=10,t=10,r=4473924,i=8947848){r=new Pe(r),i=new Pe(i);const s=t/2,o=e/t,a=e/2,l=[],u=[];for(let p=0,m=0,v=-a;p<=t;p++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const y=p===s?r:i;y.toArray(u,m),m+=3,y.toArray(u,m),m+=3,y.toArray(u,m),m+=3,y.toArray(u,m),m+=3}const d=new rt;d.setAttribute("position",new Qe(l,3)),d.setAttribute("color",new Qe(u,3));const h=new Kn({vertexColors:!0,toneMapped:!1});super(d,h);this.type="GridHelper"}}class zte extends kr{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new Pe(s),o=new Pe(o);const a=[],l=[];for(let h=0;h<=t;h++){const p=h/t*(Math.PI*2),m=Math.sin(p)*e,v=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,v);const y=h&1?s:o;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let h=0;h<=r;h++){const p=h&1?s:o,m=e-e/r*h;for(let v=0;v<i;v++){let y=v/i*(Math.PI*2),_=Math.sin(y)*m,w=Math.cos(y)*m;a.push(_,0,w),l.push(p.r,p.g,p.b),y=(v+1)/i*(Math.PI*2),_=Math.sin(y)*m,w=Math.cos(y)*m,a.push(_,0,w),l.push(p.r,p.g,p.b)}}const u=new rt;u.setAttribute("position",new Qe(a,3)),u.setAttribute("color",new Qe(l,3));const d=new Kn({vertexColors:!0,toneMapped:!1});super(u,d);this.type="PolarGridHelper"}}const xI=new F,iy=new F,wI=new F;class Wte extends _t{constructor(e,t,r){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,t===void 0&&(t=1);let i=new rt;i.setAttribute("position",new Qe([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Kn({fog:!1,toneMapped:!1});this.lightPlane=new Js(i,s),this.add(this.lightPlane),i=new rt,i.setAttribute("position",new Qe([0,0,0,0,0,1],3)),this.targetLine=new Js(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){xI.setFromMatrixPosition(this.light.matrixWorld),iy.setFromMatrixPosition(this.light.target.matrixWorld),wI.subVectors(iy,xI),this.lightPlane.lookAt(iy),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(iy),this.targetLine.scale.z=wI.length()}}const sy=new F,An=new Hf;class Vte extends kr{constructor(e){const t=new rt,r=new Kn({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={},a=new Pe(16755200),l=new Pe(16711680),u=new Pe(43775),d=new Pe(16777215),h=new Pe(3355443);p("n1","n2",a),p("n2","n4",a),p("n4","n3",a),p("n3","n1",a),p("f1","f2",a),p("f2","f4",a),p("f4","f3",a),p("f3","f1",a),p("n1","f1",a),p("n2","f2",a),p("n3","f3",a),p("n4","f4",a),p("p","n1",l),p("p","n2",l),p("p","n3",l),p("p","n4",l),p("u1","u2",u),p("u2","u3",u),p("u3","u1",u),p("c","t",d),p("p","c",h),p("cn1","cn2",h),p("cn3","cn4",h),p("cf1","cf2",h),p("cf3","cf4",h);function p(v,y,_){m(v,_),m(y,_)}function m(v,y){i.push(0,0,0),s.push(y.r,y.g,y.b),o[v]===void 0&&(o[v]=[]),o[v].push(i.length/3-1)}t.setAttribute("position",new Qe(i,3)),t.setAttribute("color",new Qe(s,3));super(t,r);this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;An.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Rn("c",t,e,An,0,0,-1),Rn("t",t,e,An,0,0,1),Rn("n1",t,e,An,-r,-i,-1),Rn("n2",t,e,An,r,-i,-1),Rn("n3",t,e,An,-r,i,-1),Rn("n4",t,e,An,r,i,-1),Rn("f1",t,e,An,-r,-i,1),Rn("f2",t,e,An,r,-i,1),Rn("f3",t,e,An,-r,i,1),Rn("f4",t,e,An,r,i,1),Rn("u1",t,e,An,r*.7,i*1.1,-1),Rn("u2",t,e,An,-r*.7,i*1.1,-1),Rn("u3",t,e,An,0,i*2,-1),Rn("cf1",t,e,An,-r,0,1),Rn("cf2",t,e,An,r,0,1),Rn("cf3",t,e,An,0,-i,1),Rn("cf4",t,e,An,0,i,1),Rn("cn1",t,e,An,-r,0,-1),Rn("cn2",t,e,An,r,0,-1),Rn("cn3",t,e,An,0,-i,-1),Rn("cn4",t,e,An,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Rn(n,e,t,r,i,s,o){sy.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let u=0,d=a.length;u<d;u++)l.setXYZ(a[u],sy.x,sy.y,sy.z)}}const oy=new ai;class zN extends kr{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new rt;s.setIndex(new vt(r,1)),s.setAttribute("position",new vt(i,3));super(s,new Kn({color:t,toneMapped:!1}));this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&oy.setFromObject(this.object),oy.isEmpty())return;const t=oy.min,r=oy.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return kr.prototype.copy.call(this,e),this.object=e.object,this}}class jte extends kr{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new rt;s.setIndex(new vt(r,1)),s.setAttribute("position",new Qe(i,3));super(s,new Kn({color:t,toneMapped:!1}));this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}}class Jte extends Js{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],o=new rt;o.setAttribute("position",new Qe(s,3)),o.computeBoundingSphere();super(o,new Kn({color:i,toneMapped:!1}));this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],l=new rt;l.setAttribute("position",new Qe(a,3)),l.computeBoundingSphere(),this.add(new Cn(l,new Zr({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?wi:Ia,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}}const SI=new F;let ay,T1;class $te extends _t{constructor(e=new F(0,0,1),t=new F(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super();this.type="ArrowHelper",ay===void 0&&(ay=new rt,ay.setAttribute("position",new Qe([0,0,0,0,1,0],3)),T1=new Oa(0,.5,1,5,1),T1.translate(0,-.5,0)),this.position.copy(t),this.line=new Js(ay,new Kn({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Cn(T1,new Zr({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{SI.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(SI,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class WN extends kr{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new rt;i.setAttribute("position",new Qe(t,3)),i.setAttribute("color",new Qe(r,3));const s=new Kn({vertexColors:!0,toneMapped:!1});super(i,s);this.type="AxesHelper"}setColors(e,t,r){const i=new Pe,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Kte{constructor(){this.type="ShapePath",this.color=new Pe,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new hf,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,t){function r(x){const A=[];for(let E=0,C=x.length;E<C;E++){const T=x[E],R=new Ws;R.curves=T.curves,A.push(R)}return A}function i(x,A){const E=A.length;let C=!1;for(let T=E-1,R=0;R<E;T=R++){let I=A[T],O=A[R],D=O.x-I.x,P=O.y-I.y;if(Math.abs(P)>Number.EPSILON){if(P<0&&(I=A[R],D=-D,O=A[T],P=-P),x.y<I.y||x.y>O.y)continue;if(x.y===I.y){if(x.x===I.x)return!0}else{const B=P*(x.x-I.x)-D*(x.y-I.y);if(B===0)return!0;if(B<0)continue;C=!C}}else{if(x.y!==I.y)continue;if(O.x<=x.x&&x.x<=I.x||I.x<=x.x&&x.x<=O.x)return!0}}return C}const s=Vs.isClockWise,o=this.subPaths;if(o.length===0)return[];if(t===!0)return r(o);let a,l,u;const d=[];if(o.length===1)return l=o[0],u=new Ws,u.curves=l.curves,d.push(u),d;let h=!s(o[0].getPoints());h=e?!h:h;const p=[],m=[];let v=[],y=0,_;m[y]=void 0,v[y]=[];for(let x=0,A=o.length;x<A;x++)l=o[x],_=l.getPoints(),a=s(_),a=e?!a:a,a?(!h&&m[y]&&y++,m[y]={s:new Ws,p:_},m[y].s.curves=l.curves,h&&y++,v[y]=[]):v[y].push({h:l,p:_[0]});if(!m[0])return r(o);if(m.length>1){let x=!1,A=0;for(let E=0,C=m.length;E<C;E++)p[E]=[];for(let E=0,C=m.length;E<C;E++){const T=v[E];for(let R=0;R<T.length;R++){const I=T[R];let O=!0;for(let D=0;D<m.length;D++)i(I.p,m[D].p)&&(E!==D&&A++,O?(O=!1,p[D].push(I)):x=!0);O&&p[E].push(I)}}A>0&&x===!1&&(v=p)}let w;for(let x=0,A=m.length;x<A;x++){u=m[x].s,d.push(u),w=v[x];for(let E=0,C=w.length;E<C;E++)u.holes.push(w[E].h)}return d}}class Xte{static toHalfFloat(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=Ln(e,-65504,65504),AI[0]=e;const t=MI[0],r=t>>23&511;return is[r]+((t&8388607)>>ss[r])}static fromHalfFloat(e){const t=e>>10;return MI[0]=XE[jN[t]+(e&1023)]+Vf[t],AI[0]}}const VN=new ArrayBuffer(4),AI=new Float32Array(VN),MI=new Uint32Array(VN),is=new Uint32Array(512),ss=new Uint32Array(512);for(let n=0;n<256;++n){const e=n-127;e<-27?(is[n]=0,is[n|256]=32768,ss[n]=24,ss[n|256]=24):e<-14?(is[n]=1024>>-e-14,is[n|256]=1024>>-e-14|32768,ss[n]=-e-1,ss[n|256]=-e-1):e<=15?(is[n]=e+15<<10,is[n|256]=e+15<<10|32768,ss[n]=13,ss[n|256]=13):e<128?(is[n]=31744,is[n|256]=64512,ss[n]=24,ss[n|256]=24):(is[n]=31744,is[n|256]=64512,ss[n]=13,ss[n|256]=13)}const XE=new Uint32Array(2048),Vf=new Uint32Array(64),jN=new Uint32Array(64);for(let n=1;n<1024;++n){let e=n<<13,t=0;for(;(e&8388608)===0;)e<<=1,t-=8388608;e&=-8388609,t+=947912704,XE[n]=e|t}for(let n=1024;n<2048;++n)XE[n]=939524096+(n-1024<<13);for(let n=1;n<31;++n)Vf[n]=n<<23;Vf[31]=1199570944;Vf[32]=2147483648;for(let n=33;n<63;++n)Vf[n]=2147483648+(n-32<<23);Vf[63]=3347054592;for(let n=1;n<64;++n)n!==32&&(jN[n]=1024);const Qte=0,Yte=1,qte=0,Zte=1,ene=2;function tne(n){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),n}function nne(n=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),n.isMultiMaterial=!0,n.materials=n,n.clone=function(){return n.slice()},n}class rne extends zf{constructor(e,t){console.warn("THREE.PointCloud has been renamed to THREE.Points.");super(e,t)}}class ine extends Nv{constructor(e){console.warn("THREE.Particle has been renamed to THREE.Sprite.");super(e)}}class sne extends zf{constructor(e,t){console.warn("THREE.ParticleSystem has been renamed to THREE.Points.");super(e,t)}}class one extends qa{constructor(e){console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.");super(e)}}class ane extends qa{constructor(e){console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.");super(e)}}class lne extends qa{constructor(e){console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.");super(e)}}class une extends F{constructor(e,t,r){console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead.");super(e,t,r)}}class cne extends vt{constructor(e,t){console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead.");super(e,t);this.setUsage(ff)}}class fne extends zk{constructor(e,t){console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.");super(e,t)}}class dne extends Wk{constructor(e,t){console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.");super(e,t)}}class hne extends Vk{constructor(e,t){console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.");super(e,t)}}class pne extends jk{constructor(e,t){console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.");super(e,t)}}class mne extends Pv{constructor(e,t){console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.");super(e,t)}}class gne extends Jk{constructor(e,t){console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.");super(e,t)}}class yne extends Iv{constructor(e,t){console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.");super(e,t)}}class vne extends Qe{constructor(e,t){console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.");super(e,t)}}class _ne extends Kk{constructor(e,t){console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.");super(e,t)}}Mi.create=function(n,e){return console.log("THREE.Curve.create() has been deprecated"),n.prototype=Object.create(Mi.prototype),n.prototype.constructor=n,n.prototype.getPoint=e,n};hf.prototype.fromPoints=function(n){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(n)};class xne extends WN{constructor(e){console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper.");super(e)}}class wne extends zN{constructor(e,t){console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.");super(e,t)}}class Sne extends kr{constructor(e,t){console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.");super(new AE(e.geometry),new Kn({color:t!==void 0?t:16777215}))}}GN.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};HN.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};class Ane extends kr{constructor(e,t){console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.");super(new ME(e.geometry),new Kn({color:t!==void 0?t:16777215}))}}fr.prototype.extractUrlBase=function(n){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),ps.extractUrlBase(n)};fr.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};class Mne extends oi{constructor(e){console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader.");super(e)}}class Ene extends SN{constructor(e){console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.");super(e)}}Wf.prototype.center=function(n){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(n)};Wf.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Wf.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};Wf.prototype.size=function(n){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(n)};ai.prototype.center=function(n){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(n)};ai.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};ai.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};ai.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};ai.prototype.size=function(n){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(n)};Qa.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")};Oo.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Fp.prototype.setFromMatrix=function(n){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(n)};ON.prototype.center=function(n){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(n)};$n.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};$n.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};$n.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};$n.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};$n.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};$n.prototype.getInverse=function(n){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};Xe.prototype.extractPosition=function(n){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(n)};Xe.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};Xe.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new F().setFromMatrixColumn(this,3)};Xe.prototype.setRotationFromQuaternion=function(n){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(n)};Xe.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};Xe.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Xe.prototype.multiplyVector4=function(n){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Xe.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};Xe.prototype.rotateAxis=function(n){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),n.transformDirection(this)};Xe.prototype.crossVector=function(n){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Xe.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};Xe.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};Xe.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};Xe.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};Xe.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};Xe.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};Xe.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};Xe.prototype.makeFrustum=function(n,e,t,r,i,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(n,e,r,t,i,s)};Xe.prototype.getInverse=function(n){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};Ds.prototype.isIntersectionLine=function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)};Gn.prototype.multiplyVector3=function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)};Gn.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};Xa.prototype.isIntersectionBox=function(n){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};Xa.prototype.isIntersectionPlane=function(n){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(n)};Xa.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};Dn.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};Dn.prototype.barycoordFromPoint=function(n,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(n,e)};Dn.prototype.midpoint=function(n){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(n)};Dn.prototypenormal=function(n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(n)};Dn.prototype.plane=function(n){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(n)};Dn.barycoordFromPoint=function(n,e,t,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Dn.getBarycoord(n,e,t,r,i)};Dn.normal=function(n,e,t,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Dn.getNormal(n,e,t,r)};Ws.prototype.extractAllPoints=function(n){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(n)};Ws.prototype.extrude=function(n){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ks(this,n)};Ws.prototype.makeGeometry=function(n){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new du(this,n)};ye.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};ye.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};ye.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};F.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};F.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};F.prototype.getPositionFromMatrix=function(n){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(n)};F.prototype.getScaleFromMatrix=function(n){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(n)};F.prototype.getColumnFromMatrix=function(n,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,n)};F.prototype.applyProjection=function(n){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(n)};F.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};F.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};F.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Ut.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};Ut.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};_t.prototype.getChildByName=function(n){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(n)};_t.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};_t.prototype.translate=function(n,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,n)};_t.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};_t.prototype.applyMatrix=function(n){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(_t.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(n){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=n}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Cn.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(Cn.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),Pk},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});Up.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Yt.prototype.setLens=function(n,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(n)};Object.defineProperties(ys.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(n){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=n}},shadowCameraLeft:{set:function(n){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=n}},shadowCameraRight:{set:function(n){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=n}},shadowCameraTop:{set:function(n){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=n}},shadowCameraBottom:{set:function(n){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=n}},shadowCameraNear:{set:function(n){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=n}},shadowCameraFar:{set:function(n){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=n}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(n){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=n}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(n){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=n}},shadowMapHeight:{set:function(n){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=n}}});Object.defineProperties(vt.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===ff},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(ff)}}});vt.prototype.setDynamic=function(n){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?ff:cf),this};vt.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},vt.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};rt.prototype.addIndex=function(n){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(n)};rt.prototype.addAttribute=function(n,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(n,new vt(arguments[1],arguments[2]))):n==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(n,e)};rt.prototype.addDrawCall=function(n,e,t){t!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(n,e)};rt.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};rt.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};rt.prototype.removeAttribute=function(n){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(n)};rt.prototype.applyMatrix=function(n){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(rt.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Ya.prototype.setDynamic=function(n){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?ff:cf),this};Ya.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Ks.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};Ks.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};Ks.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};Hp.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};$v.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this};Object.defineProperties(dn.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Pe}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(n){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===oE}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(n){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=n}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(si.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(n){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=n}}});Wt.prototype.clearTarget=function(n,e,t,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(n),this.clear(e,t,r)};Wt.prototype.animate=function(n){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(n)};Wt.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};Wt.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};Wt.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};Wt.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};Wt.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};Wt.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};Wt.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};Wt.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};Wt.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};Wt.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};Wt.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};Wt.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};Wt.prototype.enableScissorTest=function(n){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(n)};Wt.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};Wt.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};Wt.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};Wt.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};Wt.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};Wt.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};Wt.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};Wt.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};Wt.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};Wt.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(Wt.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=n}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=n}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(n){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=n===!0?Ht:gs}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});Object.defineProperties(iN.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});class Cne extends Lv{constructor(e,t,r){console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options ).");super(e,r)}}Object.defineProperties(ur.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=n}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=n}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=n}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=n}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(n){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=n}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(n){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=n}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(n){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=n}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(n){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=n}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(n){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=n}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(n){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=n}}});JE.prototype.load=function(n){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new TN().load(n,function(r){e.setBuffer(r)}),this};IN.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};Bv.prototype.updateCubeMap=function(n,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(n,e)};Bv.prototype.clear=function(n,e,t,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(n,e,t,r)};Ka.crossOrigin=void 0;Ka.loadTexture=function(n,e,t,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const i=new kE;i.setCrossOrigin(this.crossOrigin);const s=i.load(n,t,void 0,r);return e&&(s.mapping=e),s};Ka.loadTextureCube=function(n,e,t,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const i=new wN;i.setCrossOrigin(this.crossOrigin);const s=i.load(n,t,void 0,r);return e&&(s.mapping=e),s};Ka.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};Ka.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function bne(){console.error("THREE.CanvasRenderer has been removed")}function Tne(){console.error("THREE.JSONLoader has been removed.")}const Rne={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function Pne(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}class Ine extends rt{constructor(){console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js");super()}}class Bne extends rt{constructor(){console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js");super()}}function Lne(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function Dne(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function Fne(){console.error("THREE.ImmediateRenderObject has been removed.")}class kne extends ur{constructor(e,t,r){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.');super(e,t,r);this.samples=4}}class Nne extends Of{constructor(e,t,r,i){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture.");super(e,t,r,i)}}class One extends Dp{constructor(e,t,r,i){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture.");super(e,t,r,i)}}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Cv}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Cv);var Hne=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:uE,AddEquation:Pl,AddOperation:ak,AdditiveAnimationBlendMode:cE,AdditiveBlending:pS,AlphaFormat:yk,AlwaysDepth:ek,AlwaysStencilFunc:Fk,AmbientLight:HE,AmbientLightProbe:PN,AnimationClip:Cf,AnimationLoader:vte,AnimationMixer:DN,AnimationObjectGroup:LN,AnimationUtils:tn,ArcCurve:vE,ArrayCamera:pE,ArrowHelper:$te,Audio:JE,AudioAnalyser:IN,AudioContext:VE,AudioListener:Mte,AudioLoader:TN,AxesHelper:WN,AxisHelper:xne,BackSide:wi,BasicDepthPacking:Bk,BasicShadowMap:mX,BinaryTextureLoader:Ene,Bone:Gp,BooleanKeyframeTrack:Su,BoundingBoxHelper:wne,Box2:Wf,Box3:ai,Box3Helper:jte,BoxBufferGeometry:Io,BoxGeometry:Io,BoxHelper:zN,BufferAttribute:vt,BufferGeometry:rt,BufferGeometryLoader:bN,ByteType:dk,Cache:pu,Camera:Hf,CameraHelper:Vte,CanvasRenderer:bne,CanvasTexture:fN,CapsuleBufferGeometry:pf,CapsuleGeometry:pf,CatmullRomCurve3:xE,CineonToneMapping:ck,CircleBufferGeometry:mf,CircleGeometry:mf,ClampToEdgeWrapping:Ar,Clock:jE,Color:Pe,ColorKeyframeTrack:DE,ColorManagement:Br,CompressedTexture:yE,CompressedTextureLoader:_te,ConeBufferGeometry:gf,ConeGeometry:gf,CubeCamera:Bv,CubeReflectionMapping:La,CubeRefractionMapping:Da,CubeTexture:Uf,CubeTextureLoader:wN,CubeUVReflectionMapping:Nf,CubicBezierCurve:Hv,CubicBezierCurve3:wE,CubicInterpolant:yN,CullFaceBack:hS,CullFaceFront:UF,CullFaceFrontBack:pX,CullFaceNone:HF,Curve:Mi,CurvePath:hN,CustomBlending:GF,CustomToneMapping:fk,CylinderBufferGeometry:Oa,CylinderGeometry:Oa,Cylindrical:Nte,Data3DTexture:Dp,DataArrayTexture:Of,DataTexture:Yl,DataTexture2DArray:Nne,DataTexture3D:One,DataTextureLoader:SN,DataUtils:Xte,DecrementStencilOp:EX,DecrementWrapStencilOp:bX,DefaultLoadingManager:xN,DepthFormat:Ea,DepthStencilFormat:au,DepthTexture:mE,DirectionalLight:Jv,DirectionalLightHelper:Wte,DiscreteInterpolant:vN,DodecahedronBufferGeometry:yf,DodecahedronGeometry:yf,DoubleSide:Ba,DstAlphaFactor:KF,DstColorFactor:QF,DynamicBufferAttribute:cne,DynamicCopyUsage:GX,DynamicDrawUsage:ff,DynamicReadUsage:OX,EdgesGeometry:AE,EdgesHelper:Sne,EllipseCurve:Wp,EqualDepth:nk,EqualStencilFunc:IX,EquirectangularReflectionMapping:zh,EquirectangularRefractionMapping:Wh,Euler:Qa,EventDispatcher:No,ExtrudeBufferGeometry:Ks,ExtrudeGeometry:Ks,FaceColors:Zte,FileLoader:oi,FlatShading:oE,Float16BufferAttribute:$k,Float32Attribute:vne,Float32BufferAttribute:Qe,Float64Attribute:_ne,Float64BufferAttribute:Kk,FloatType:So,Fog:Op,FogExp2:Np,Font:Dne,FontLoader:Lne,FramebufferTexture:cN,FrontSide:Ia,Frustum:Fp,GLBufferAttribute:kN,GLSL1:WX,GLSL3:US,GreaterDepth:ik,GreaterEqualDepth:rk,GreaterEqualStencilFunc:FX,GreaterStencilFunc:LX,GridHelper:GN,Group:Os,HalfFloatType:Jl,HemisphereLight:NE,HemisphereLightHelper:Gte,HemisphereLightProbe:RN,IcosahedronBufferGeometry:vf,IcosahedronGeometry:vf,ImageBitmapLoader:WE,ImageLoader:qh,ImageUtils:Ka,ImmediateRenderObject:Fne,IncrementStencilOp:MX,IncrementWrapStencilOp:CX,InstancedBufferAttribute:uu,InstancedBufferGeometry:zE,InstancedInterleavedBuffer:FN,InstancedMesh:gE,Int16Attribute:pne,Int16BufferAttribute:jk,Int32Attribute:gne,Int32BufferAttribute:Jk,Int8Attribute:fne,Int8BufferAttribute:zk,IntType:pk,InterleavedBuffer:Ya,InterleavedBufferAttribute:Bo,Interpolant:Xs,InterpolateDiscrete:uf,InterpolateLinear:lu,InterpolateSmooth:By,InvertStencilOp:TX,JSONLoader:Tne,KeepStencilOp:Ly,KeyframeTrack:xs,LOD:lN,LatheBufferGeometry:cu,LatheGeometry:cu,Layers:Ql,LensFlare:Pne,LessDepth:tk,LessEqualDepth:M0,LessEqualStencilFunc:BX,LessStencilFunc:PX,Light:ys,LightProbe:jp,Line:Js,Line3:ON,LineBasicMaterial:Kn,LineCurve:Vp,LineCurve3:dN,LineDashedMaterial:BE,LineLoop:Ov,LinePieces:Yte,LineSegments:kr,LineStrip:Qte,LinearEncoding:gs,LinearFilter:vn,LinearInterpolant:LE,LinearMipMapLinearFilter:xX,LinearMipMapNearestFilter:_X,LinearMipmapLinearFilter:ko,LinearMipmapNearestFilter:Tv,LinearSRGBColorSpace:ma,LinearToneMapping:lk,Loader:fr,LoaderUtils:ps,LoadingManager:FE,LoopOnce:bk,LoopPingPong:Rk,LoopRepeat:Tk,LuminanceAlphaFormat:xk,LuminanceFormat:_k,MOUSE:Cl,Material:dn,MaterialLoader:CN,Math:zS,MathUtils:zS,Matrix3:$n,Matrix4:Xe,MaxEquation:vS,Mesh:Cn,MeshBasicMaterial:Zr,MeshDepthMaterial:kp,MeshDistanceMaterial:Fv,MeshFaceMaterial:tne,MeshLambertMaterial:PE,MeshMatcapMaterial:IE,MeshNormalMaterial:RE,MeshPhongMaterial:bE,MeshPhysicalMaterial:Ho,MeshStandardMaterial:wu,MeshToonMaterial:TE,MinEquation:yS,MirroredRepeatWrapping:af,MixOperation:ok,MultiMaterial:nne,MultiplyBlending:gS,MultiplyOperation:Lp,NearestFilter:Bn,NearestMipMapLinearFilter:vX,NearestMipMapNearestFilter:yX,NearestMipmapLinearFilter:jh,NearestMipmapNearestFilter:Vh,NeverDepth:ZF,NeverStencilFunc:RX,NoBlending:Co,NoColorSpace:wX,NoColors:qte,NoToneMapping:hs,NormalAnimationBlendMode:Rv,NormalBlending:jl,NotEqualDepth:sk,NotEqualStencilFunc:DX,NumberKeyframeTrack:Mf,Object3D:_t,ObjectLoader:xte,ObjectSpaceNormalMap:Dk,OctahedronBufferGeometry:fu,OctahedronGeometry:fu,OneFactor:jF,OneMinusDstAlphaFactor:XF,OneMinusDstColorFactor:YF,OneMinusSrcAlphaFactor:lE,OneMinusSrcColorFactor:$F,OrthographicCamera:zs,PCFShadowMap:iE,PCFSoftShadowMap:sE,PMREMGenerator:WS,ParametricGeometry:Ine,Particle:ine,ParticleBasicMaterial:ane,ParticleSystem:sne,ParticleSystemMaterial:lne,Path:hf,PerspectiveCamera:Yt,Plane:Ds,PlaneBufferGeometry:Na,PlaneGeometry:Na,PlaneHelper:Jte,PointCloud:rne,PointCloudMaterial:one,PointLight:jv,PointLightHelper:Hte,Points:zf,PointsMaterial:qa,PolarGridHelper:zte,PolyhedronBufferGeometry:$s,PolyhedronGeometry:$s,PositionalAudio:Cte,PropertyBinding:Tt,PropertyMixer:BN,QuadraticBezierCurve:Uv,QuadraticBezierCurve3:Gv,Quaternion:Gn,QuaternionKeyframeTrack:Ua,QuaternionLinearInterpolant:_N,REVISION:Cv,RGBADepthPacking:Lk,RGBAFormat:yi,RGBAIntegerFormat:Ek,RGBA_ASTC_10x10_Format:kS,RGBA_ASTC_10x5_Format:LS,RGBA_ASTC_10x6_Format:DS,RGBA_ASTC_10x8_Format:FS,RGBA_ASTC_12x10_Format:NS,RGBA_ASTC_12x12_Format:OS,RGBA_ASTC_4x4_Format:ES,RGBA_ASTC_5x4_Format:CS,RGBA_ASTC_5x5_Format:bS,RGBA_ASTC_6x5_Format:TS,RGBA_ASTC_6x6_Format:RS,RGBA_ASTC_8x5_Format:PS,RGBA_ASTC_8x6_Format:IS,RGBA_ASTC_8x8_Format:BS,RGBA_BPTC_Format:HS,RGBA_ETC2_EAC_Format:MS,RGBA_PVRTC_2BPPV1_Format:SS,RGBA_PVRTC_4BPPV1_Format:wS,RGBA_S3TC_DXT1_Format:Ry,RGBA_S3TC_DXT3_Format:Py,RGBA_S3TC_DXT5_Format:Iy,RGBFormat:vk,RGB_ETC1_Format:Ck,RGB_ETC2_Format:AS,RGB_PVRTC_2BPPV1_Format:xS,RGB_PVRTC_4BPPV1_Format:_S,RGB_S3TC_DXT1_Format:Ty,RGFormat:Ak,RGIntegerFormat:Mk,RawShaderMaterial:CE,Ray:Xa,Raycaster:NN,RectAreaLight:UE,RedFormat:wk,RedIntegerFormat:Sk,ReinhardToneMapping:uk,RepeatWrapping:Fa,ReplaceStencilOp:AX,ReverseSubtractEquation:WF,RingBufferGeometry:_f,RingGeometry:_f,SRGBColorSpace:Ps,Scene:Hp,SceneUtils:Rne,ShaderChunk:yt,ShaderLib:ls,ShaderMaterial:si,ShadowMaterial:EE,Shape:Ws,ShapeBufferGeometry:du,ShapeGeometry:du,ShapePath:Kte,ShapeUtils:Vs,ShortType:hk,Skeleton:zp,SkeletonHelper:HN,SkinnedMesh:Up,SmoothShading:gX,Source:Ul,Sphere:Oo,SphereBufferGeometry:hu,SphereGeometry:hu,Spherical:XS,SphericalHarmonics3:GE,SplineCurve:zv,SpotLight:Vv,SpotLightHelper:Ote,Sprite:Nv,SpriteMaterial:kv,SrcAlphaFactor:aE,SrcAlphaSaturateFactor:qF,SrcColorFactor:JF,StaticCopyUsage:UX,StaticDrawUsage:cf,StaticReadUsage:NX,StereoCamera:Ste,StreamCopyUsage:zX,StreamDrawUsage:kX,StreamReadUsage:HX,StringKeyframeTrack:Au,SubtractEquation:zF,SubtractiveBlending:mS,TOUCH:bl,TangentSpaceNormalMap:$a,TetrahedronBufferGeometry:xf,TetrahedronGeometry:xf,TextGeometry:Bne,Texture:wn,TextureLoader:kE,TorusBufferGeometry:wf,TorusGeometry:wf,TorusKnotBufferGeometry:Sf,TorusKnotGeometry:Sf,Triangle:Dn,TriangleFanDrawMode:fE,TriangleStripDrawMode:Ik,TrianglesDrawMode:Pk,TubeBufferGeometry:Af,TubeGeometry:Af,UVMapping:bv,Uint16Attribute:mne,Uint16BufferAttribute:Pv,Uint32Attribute:yne,Uint32BufferAttribute:Iv,Uint8Attribute:dne,Uint8BufferAttribute:Wk,Uint8ClampedAttribute:hne,Uint8ClampedBufferAttribute:Vk,Uniform:$v,UniformsLib:Oe,UniformsUtils:Xk,UnsignedByteType:ka,UnsignedInt248Type:$l,UnsignedIntType:ah,UnsignedShort4444Type:mk,UnsignedShort5551Type:gk,UnsignedShortType:lf,VSMShadowMap:Pc,Vector2:ye,Vector3:F,Vector4:Ut,VectorKeyframeTrack:Ef,Vertex:une,VertexColors:ene,VideoTexture:uN,WebGL1Renderer:oN,WebGL3DRenderTarget:Uk,WebGLArrayRenderTarget:Hk,WebGLCubeRenderTarget:Lv,WebGLMultipleRenderTargets:Gk,WebGLMultisampleRenderTarget:kne,WebGLRenderTarget:ur,WebGLRenderTargetCube:Cne,WebGLRenderer:Wt,WebGLUtils:sN,WireframeGeometry:ME,WireframeHelper:Ane,WrapAroundEnding:Jh,XHRLoader:Mne,ZeroCurvatureEnding:Ol,ZeroFactor:VF,ZeroSlopeEnding:Hl,ZeroStencilOp:SX,_SRGBAFormat:E0,sRGBEncoding:Ht},Symbol.toStringTag,{value:"Module"})),Vc={exports:{}},Mu={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Mu.ConcurrentRoot=1;Mu.ContinuousEventPriority=4;Mu.DefaultEventPriority=16;Mu.DiscreteEventPriority=1;Mu.IdleEventPriority=536870912;Mu.LegacyRoot=0;Vc.exports=Mu;function Une(n){let e;const t=new Set,r=(u,d)=>{const h=typeof u=="function"?u(e):u;if(h!==e){const p=e;e=d?h:Object.assign({},e,h),t.forEach(m=>m(e,p))}},i=()=>e,s=(u,d=i,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=d(e);function m(){const v=d(e);if(!h(p,v)){const y=p;u(p=v,y)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(u,d,h)=>d||h?s(u,d,h):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(r,i,l),l}const Gne=typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),EI=Gne?X.exports.useEffect:X.exports.useLayoutEffect;function zne(n){const e=typeof n=="function"?Une(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=X.exports.useReducer(_=>_+1,0),o=e.getState(),a=X.exports.useRef(o),l=X.exports.useRef(r),u=X.exports.useRef(i),d=X.exports.useRef(!1),h=X.exports.useRef();h.current===void 0&&(h.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||u.current!==i||d.current)&&(p=r(o),m=!i(h.current,p)),EI(()=>{m&&(h.current=p),a.current=o,l.current=r,u.current=i,d.current=!1});const v=X.exports.useRef(o);EI(()=>{const _=()=>{try{const x=e.getState(),A=l.current(x);u.current(h.current,A)||(a.current=x,h.current=A,s())}catch{d.current=!0,s()}},w=e.subscribe(_);return e.getState()!==v.current&&_(),w},[]);const y=m?p:h.current;return X.exports.useDebugValue(y),y};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var JN={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wne=function(e){var t={},r=X.exports,i=fh.exports,s=Object.assign;function o(c){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+c,g=1;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),C=Symbol.iterator;function T(c){return c===null||typeof c!="object"?null:(c=C&&c[C]||c["@@iterator"],typeof c=="function"?c:null)}function R(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case d:return"Fragment";case u:return"Portal";case p:return"Profiler";case h:return"StrictMode";case _:return"Suspense";case w:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case v:return(c.displayName||"Context")+".Consumer";case m:return(c._context.displayName||"Context")+".Provider";case y:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case x:return f=c.displayName||null,f!==null?f:R(c.type)||"Memo";case A:f=c._payload,c=c._init;try{return R(c(f))}catch{}}return null}function I(c){var f=c.type;switch(c.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=f.render,c=c.displayName||c.name||"",f.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(f);case 8:return f===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function O(c){var f=c,g=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(g=f.return),c=f.return;while(c)}return f.tag===3?g:null}function D(c){if(O(c)!==c)throw Error(o(188))}function P(c){var f=c.alternate;if(!f){if(f=O(c),f===null)throw Error(o(188));return f!==c?null:c}for(var g=c,S=f;;){var M=g.return;if(M===null)break;var b=M.alternate;if(b===null){if(S=M.return,S!==null){g=S;continue}break}if(M.child===b.child){for(b=M.child;b;){if(b===g)return D(M),c;if(b===S)return D(M),f;b=b.sibling}throw Error(o(188))}if(g.return!==S.return)g=M,S=b;else{for(var G=!1,Y=M.child;Y;){if(Y===g){G=!0,g=M,S=b;break}if(Y===S){G=!0,S=M,g=b;break}Y=Y.sibling}if(!G){for(Y=b.child;Y;){if(Y===g){G=!0,g=b,S=M;break}if(Y===S){G=!0,S=b,g=M;break}Y=Y.sibling}if(!G)throw Error(o(189))}}if(g.alternate!==S)throw Error(o(190))}if(g.tag!==3)throw Error(o(188));return g.stateNode.current===g?c:f}function B(c){return c=P(c),c!==null?q(c):null}function q(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var f=q(c);if(f!==null)return f;c=c.sibling}return null}function W(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){if(c.tag!==4){var f=W(c);if(f!==null)return f}c=c.sibling}return null}var J=Array.isArray,j=e.getPublicInstance,$=e.getRootHostContext,k=e.getChildHostContext,K=e.prepareForCommit,Z=e.resetAfterCommit,ae=e.createInstance,Q=e.appendInitialChild,se=e.finalizeInitialChildren,pe=e.prepareUpdate,_e=e.shouldSetTextContent,H=e.createTextInstance,Be=e.scheduleTimeout,ue=e.cancelTimeout,Le=e.noTimeout,ve=e.isPrimaryRenderer,Re=e.supportsMutation,ne=e.supportsPersistence,oe=e.supportsHydration,xe=e.getInstanceFromNode,Ae=e.preparePortalMount,Me=e.getCurrentEventPriority,Ee=e.detachDeletedInstance,ze=e.supportsMicrotasks,$e=e.scheduleMicrotask,Ze=e.supportsTestSelectors,dt=e.findFiberRoot,z=e.getBoundingRect,L=e.getTextContent,ee=e.isHiddenSubtree,me=e.matchAccessibilityRole,Fe=e.setFocusIfFocusable,ke=e.setupIntersectionObserver,Ke=e.appendChild,he=e.appendChildToContainer,Te=e.commitTextUpdate,it=e.commitMount,V=e.commitUpdate,N=e.insertBefore,ge=e.insertInContainerBefore,we=e.removeChild,Ve=e.removeChildFromContainer,Ne=e.resetTextContent,tt=e.hideInstance,De=e.hideTextInstance,et=e.unhideInstance,xt=e.unhideTextInstance,wt=e.clearContainer,Ti=e.cloneInstance,li=e.createContainerChildSet,Kp=e.appendChildToContainerChildSet,Eu=e.finalizeContainerChildren,Xp=e.replaceContainerChildren,Cu=e.cloneHiddenInstance,jf=e.cloneHiddenTextInstance,Kv=e.canHydrateInstance,Xv=e.canHydrateTextInstance,Qv=e.canHydrateSuspenseInstance,U=e.isSuspenseInstancePending,re=e.isSuspenseInstanceFallback,fe=e.registerSuspenseInstanceRetry,le=e.getNextHydratableSibling,Se=e.getFirstHydratableChild,st=e.getFirstHydratableChildWithinContainer,at=e.getFirstHydratableChildWithinSuspenseInstance,ht=e.hydrateInstance,ft=e.hydrateTextInstance,kt=e.hydrateSuspenseInstance,Mt=e.getNextHydratableInstanceAfterSuspenseInstance,Et=e.commitHydratedContainer,an=e.commitHydratedSuspenseInstance,qs=e.clearSuspenseBoundary,Uo=e.clearSuspenseBoundaryFromContainer,Go=e.shouldDeleteUnhydratedTailInstances,Ri=e.didNotMatchHydratedContainerTextInstance,Bt=e.didNotMatchHydratedTextInstance,ws;function Xt(c){if(ws===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);ws=f&&f[1]||""}return`
`+ws+c}var Ur=!1;function Pi(c,f){if(!c||Ur)return"";Ur=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(be){var S=be}Reflect.construct(c,[],f)}else{try{f.call()}catch(be){S=be}c.call(f.prototype)}else{try{throw Error()}catch(be){S=be}c()}}catch(be){if(be&&S&&typeof be.stack=="string"){for(var M=be.stack.split(`
`),b=S.stack.split(`
`),G=M.length-1,Y=b.length-1;1<=G&&0<=Y&&M[G]!==b[Y];)Y--;for(;1<=G&&0<=Y;G--,Y--)if(M[G]!==b[Y]){if(G!==1||Y!==1)do if(G--,Y--,0>Y||M[G]!==b[Y]){var de=`
`+M[G].replace(" at new "," at ");return c.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",c.displayName)),de}while(1<=G&&0<=Y);break}}}finally{Ur=!1,Error.prepareStackTrace=g}return(c=c?c.displayName||c.name:"")?Xt(c):""}var Za=Object.prototype.hasOwnProperty,el=[],hn=-1;function Gr(c){return{current:c}}function Vt(c){0>hn||(c.current=el[hn],el[hn]=null,hn--)}function gt(c,f){hn++,el[hn]=c.current,c.current=f}var zo={},dr=Gr(zo),zr=Gr(!1),tl=zo;function bu(c,f){var g=c.type.contextTypes;if(!g)return zo;var S=c.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===f)return S.__reactInternalMemoizedMaskedChildContext;var M={},b;for(b in g)M[b]=f[b];return S&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=f,c.__reactInternalMemoizedMaskedChildContext=M),M}function Wr(c){return c=c.childContextTypes,c!=null}function Qp(){Vt(zr),Vt(dr)}function YE(c,f,g){if(dr.current!==zo)throw Error(o(168));gt(dr,f),gt(zr,g)}function qE(c,f,g){var S=c.stateNode;if(f=f.childContextTypes,typeof S.getChildContext!="function")return g;S=S.getChildContext();for(var M in S)if(!(M in f))throw Error(o(108,I(c)||"Unknown",M));return s({},g,S)}function Yp(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||zo,tl=dr.current,gt(dr,c),gt(zr,zr.current),!0}function ZE(c,f,g){var S=c.stateNode;if(!S)throw Error(o(169));g?(c=qE(c,f,tl),S.__reactInternalMemoizedMergedChildContext=c,Vt(zr),Vt(dr),gt(dr,c)):Vt(zr),gt(zr,g)}var qi=Math.clz32?Math.clz32:mO,hO=Math.log,pO=Math.LN2;function mO(c){return c>>>=0,c===0?32:31-(hO(c)/pO|0)|0}var qp=64,Zp=4194304;function Jf(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function em(c,f){var g=c.pendingLanes;if(g===0)return 0;var S=0,M=c.suspendedLanes,b=c.pingedLanes,G=g&268435455;if(G!==0){var Y=G&~M;Y!==0?S=Jf(Y):(b&=G,b!==0&&(S=Jf(b)))}else G=g&~M,G!==0?S=Jf(G):b!==0&&(S=Jf(b));if(S===0)return 0;if(f!==0&&f!==S&&(f&M)===0&&(M=S&-S,b=f&-f,M>=b||M===16&&(b&4194240)!==0))return f;if((S&4)!==0&&(S|=g&16),f=c.entangledLanes,f!==0)for(c=c.entanglements,f&=S;0<f;)g=31-qi(f),M=1<<g,S|=c[g],f&=~M;return S}function gO(c,f){switch(c){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yO(c,f){for(var g=c.suspendedLanes,S=c.pingedLanes,M=c.expirationTimes,b=c.pendingLanes;0<b;){var G=31-qi(b),Y=1<<G,de=M[G];de===-1?((Y&g)===0||(Y&S)!==0)&&(M[G]=gO(Y,f)):de<=f&&(c.expiredLanes|=Y),b&=~Y}}function Yv(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function qv(c){for(var f=[],g=0;31>g;g++)f.push(c);return f}function $f(c,f,g){c.pendingLanes|=f,f!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,f=31-qi(f),c[f]=g}function vO(c,f){var g=c.pendingLanes&~f;c.pendingLanes=f,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=f,c.mutableReadLanes&=f,c.entangledLanes&=f,f=c.entanglements;var S=c.eventTimes;for(c=c.expirationTimes;0<g;){var M=31-qi(g),b=1<<M;f[M]=0,S[M]=-1,c[M]=-1,g&=~b}}function Zv(c,f){var g=c.entangledLanes|=f;for(c=c.entanglements;g;){var S=31-qi(g),M=1<<S;M&f|c[S]&f&&(c[S]|=f),g&=~M}}var Lt=0;function eC(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var e_=i.unstable_scheduleCallback,tC=i.unstable_cancelCallback,_O=i.unstable_shouldYield,xO=i.unstable_requestPaint,Xn=i.unstable_now,t_=i.unstable_ImmediatePriority,wO=i.unstable_UserBlockingPriority,n_=i.unstable_NormalPriority,SO=i.unstable_IdlePriority,tm=null,Ss=null;function AO(c){if(Ss&&typeof Ss.onCommitFiberRoot=="function")try{Ss.onCommitFiberRoot(tm,c,void 0,(c.current.flags&128)===128)}catch{}}function MO(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var As=typeof Object.is=="function"?Object.is:MO,Zs=null,nm=!1,r_=!1;function nC(c){Zs===null?Zs=[c]:Zs.push(c)}function EO(c){nm=!0,nC(c)}function Ms(){if(!r_&&Zs!==null){r_=!0;var c=0,f=Lt;try{var g=Zs;for(Lt=1;c<g.length;c++){var S=g[c];do S=S(!0);while(S!==null)}Zs=null,nm=!1}catch(M){throw Zs!==null&&(Zs=Zs.slice(c+1)),e_(t_,Ms),M}finally{Lt=f,r_=!1}}return null}var CO=a.ReactCurrentBatchConfig;function rm(c,f){if(As(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var g=Object.keys(c),S=Object.keys(f);if(g.length!==S.length)return!1;for(S=0;S<g.length;S++){var M=g[S];if(!Za.call(f,M)||!As(c[M],f[M]))return!1}return!0}function bO(c){switch(c.tag){case 5:return Xt(c.type);case 16:return Xt("Lazy");case 13:return Xt("Suspense");case 19:return Xt("SuspenseList");case 0:case 2:case 15:return c=Pi(c.type,!1),c;case 11:return c=Pi(c.type.render,!1),c;case 1:return c=Pi(c.type,!0),c;default:return""}}function Zi(c,f){if(c&&c.defaultProps){f=s({},f),c=c.defaultProps;for(var g in c)f[g]===void 0&&(f[g]=c[g]);return f}return f}var im=Gr(null),sm=null,Tu=null,i_=null;function s_(){i_=Tu=sm=null}function rC(c,f,g){ve?(gt(im,f._currentValue),f._currentValue=g):(gt(im,f._currentValue2),f._currentValue2=g)}function o_(c){var f=im.current;Vt(im),ve?c._currentValue=f:c._currentValue2=f}function a_(c,f,g){for(;c!==null;){var S=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,S!==null&&(S.childLanes|=f)):S!==null&&(S.childLanes&f)!==f&&(S.childLanes|=f),c===g)break;c=c.return}}function Ru(c,f){sm=c,i_=Tu=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&f)!==0&&(fi=!0),c.firstContext=null)}function Ii(c){var f=ve?c._currentValue:c._currentValue2;if(i_!==c)if(c={context:c,memoizedValue:f,next:null},Tu===null){if(sm===null)throw Error(o(308));Tu=c,sm.dependencies={lanes:0,firstContext:c}}else Tu=Tu.next=c;return f}var Es=null,Wo=!1;function l_(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iC(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function eo(c,f){return{eventTime:c,lane:f,tag:0,payload:null,callback:null,next:null}}function Vo(c,f){var g=c.updateQueue;g!==null&&(g=g.shared,Fn!==null&&(c.mode&1)!==0&&(mt&2)===0?(c=g.interleaved,c===null?(f.next=f,Es===null?Es=[g]:Es.push(g)):(f.next=c.next,c.next=f),g.interleaved=f):(c=g.pending,c===null?f.next=f:(f.next=c.next,c.next=f),g.pending=f))}function om(c,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194240)!==0)){var S=f.lanes;S&=c.pendingLanes,g|=S,f.lanes=g,Zv(c,g)}}function sC(c,f){var g=c.updateQueue,S=c.alternate;if(S!==null&&(S=S.updateQueue,g===S)){var M=null,b=null;if(g=g.firstBaseUpdate,g!==null){do{var G={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};b===null?M=b=G:b=b.next=G,g=g.next}while(g!==null);b===null?M=b=f:b=b.next=f}else M=b=f;g={baseState:S.baseState,firstBaseUpdate:M,lastBaseUpdate:b,shared:S.shared,effects:S.effects},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=f:c.next=f,g.lastBaseUpdate=f}function am(c,f,g,S){var M=c.updateQueue;Wo=!1;var b=M.firstBaseUpdate,G=M.lastBaseUpdate,Y=M.shared.pending;if(Y!==null){M.shared.pending=null;var de=Y,be=de.next;de.next=null,G===null?b=be:G.next=be,G=de;var je=c.alternate;je!==null&&(je=je.updateQueue,Y=je.lastBaseUpdate,Y!==G&&(Y===null?je.firstBaseUpdate=be:Y.next=be,je.lastBaseUpdate=de))}if(b!==null){var lt=M.baseState;G=0,je=be=de=null,Y=b;do{var nt=Y.lane,Kt=Y.eventTime;if((S&nt)===nt){je!==null&&(je=je.next={eventTime:Kt,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var qe=c,gr=Y;switch(nt=f,Kt=g,gr.tag){case 1:if(qe=gr.payload,typeof qe=="function"){lt=qe.call(Kt,lt,nt);break e}lt=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=gr.payload,nt=typeof qe=="function"?qe.call(Kt,lt,nt):qe,nt==null)break e;lt=s({},lt,nt);break e;case 2:Wo=!0}}Y.callback!==null&&Y.lane!==0&&(c.flags|=64,nt=M.effects,nt===null?M.effects=[Y]:nt.push(Y))}else Kt={eventTime:Kt,lane:nt,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},je===null?(be=je=Kt,de=lt):je=je.next=Kt,G|=nt;if(Y=Y.next,Y===null){if(Y=M.shared.pending,Y===null)break;nt=Y,Y=nt.next,nt.next=null,M.lastBaseUpdate=nt,M.shared.pending=null}}while(1);if(je===null&&(de=lt),M.baseState=de,M.firstBaseUpdate=be,M.lastBaseUpdate=je,f=M.shared.interleaved,f!==null){M=f;do G|=M.lane,M=M.next;while(M!==f)}else b===null&&(M.shared.lanes=0);Ou|=G,c.lanes=G,c.memoizedState=lt}}function oC(c,f,g){if(c=f.effects,f.effects=null,c!==null)for(f=0;f<c.length;f++){var S=c[f],M=S.callback;if(M!==null){if(S.callback=null,S=g,typeof M!="function")throw Error(o(191,M));M.call(S)}}}var aC=new r.Component().refs;function u_(c,f,g,S){f=c.memoizedState,g=g(S,f),g=g==null?f:s({},f,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var lm={isMounted:function(c){return(c=c._reactInternals)?O(c)===c:!1},enqueueSetState:function(c,f,g){c=c._reactInternals;var S=Rr(),M=$o(c),b=eo(S,M);b.payload=f,g!=null&&(b.callback=g),Vo(c,b),f=ki(c,M,S),f!==null&&om(f,c,M)},enqueueReplaceState:function(c,f,g){c=c._reactInternals;var S=Rr(),M=$o(c),b=eo(S,M);b.tag=1,b.payload=f,g!=null&&(b.callback=g),Vo(c,b),f=ki(c,M,S),f!==null&&om(f,c,M)},enqueueForceUpdate:function(c,f){c=c._reactInternals;var g=Rr(),S=$o(c),M=eo(g,S);M.tag=2,f!=null&&(M.callback=f),Vo(c,M),f=ki(c,S,g),f!==null&&om(f,c,S)}};function lC(c,f,g,S,M,b,G){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(S,b,G):f.prototype&&f.prototype.isPureReactComponent?!rm(g,S)||!rm(M,b):!0}function uC(c,f,g){var S=!1,M=zo,b=f.contextType;return typeof b=="object"&&b!==null?b=Ii(b):(M=Wr(f)?tl:dr.current,S=f.contextTypes,b=(S=S!=null)?bu(c,M):zo),f=new f(g,b),c.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=lm,c.stateNode=f,f._reactInternals=c,S&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=M,c.__reactInternalMemoizedMaskedChildContext=b),f}function cC(c,f,g,S){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,S),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,S),f.state!==c&&lm.enqueueReplaceState(f,f.state,null)}function c_(c,f,g,S){var M=c.stateNode;M.props=g,M.state=c.memoizedState,M.refs=aC,l_(c);var b=f.contextType;typeof b=="object"&&b!==null?M.context=Ii(b):(b=Wr(f)?tl:dr.current,M.context=bu(c,b)),M.state=c.memoizedState,b=f.getDerivedStateFromProps,typeof b=="function"&&(u_(c,f,b,g),M.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(f=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),f!==M.state&&lm.enqueueReplaceState(M,M.state,null),am(c,g,M,S),M.state=c.memoizedState),typeof M.componentDidMount=="function"&&(c.flags|=4194308)}var Pu=[],Iu=0,um=null,cm=0,Bi=[],Li=0,nl=null,to=1,no="";function rl(c,f){Pu[Iu++]=cm,Pu[Iu++]=um,um=c,cm=f}function fC(c,f,g){Bi[Li++]=to,Bi[Li++]=no,Bi[Li++]=nl,nl=c;var S=to;c=no;var M=32-qi(S)-1;S&=~(1<<M),g+=1;var b=32-qi(f)+M;if(30<b){var G=M-M%5;b=(S&(1<<G)-1).toString(32),S>>=G,M-=G,to=1<<32-qi(f)+M|g<<M|S,no=b+c}else to=1<<b|g<<M|S,no=c}function f_(c){c.return!==null&&(rl(c,1),fC(c,1,0))}function d_(c){for(;c===um;)um=Pu[--Iu],Pu[Iu]=null,cm=Pu[--Iu],Pu[Iu]=null;for(;c===nl;)nl=Bi[--Li],Bi[Li]=null,no=Bi[--Li],Bi[Li]=null,to=Bi[--Li],Bi[Li]=null}var ui=null,ci=null,ln=!1,Kf=!1,es=null;function dC(c,f){var g=Ni(5,null,null,0);g.elementType="DELETED",g.stateNode=f,g.return=c,f=c.deletions,f===null?(c.deletions=[g],c.flags|=16):f.push(g)}function hC(c,f){switch(c.tag){case 5:return f=Kv(f,c.type,c.pendingProps),f!==null?(c.stateNode=f,ui=c,ci=Se(f),!0):!1;case 6:return f=Xv(f,c.pendingProps),f!==null?(c.stateNode=f,ui=c,ci=null,!0):!1;case 13:if(f=Qv(f),f!==null){var g=nl!==null?{id:to,overflow:no}:null;return c.memoizedState={dehydrated:f,treeContext:g,retryLane:1073741824},g=Ni(18,null,null,0),g.stateNode=f,g.return=c,c.child=g,ui=c,ci=null,!0}return!1;default:return!1}}function h_(c){return(c.mode&1)!==0&&(c.flags&128)===0}function p_(c){if(ln){var f=ci;if(f){var g=f;if(!hC(c,f)){if(h_(c))throw Error(o(418));f=le(g);var S=ui;f&&hC(c,f)?dC(S,g):(c.flags=c.flags&-4097|2,ln=!1,ui=c)}}else{if(h_(c))throw Error(o(418));c.flags=c.flags&-4097|2,ln=!1,ui=c}}}function pC(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;ui=c}function Xf(c){if(!oe||c!==ui)return!1;if(!ln)return pC(c),ln=!0,!1;if(c.tag!==3&&(c.tag!==5||Go(c.type)&&!_e(c.type,c.memoizedProps))){var f=ci;if(f){if(h_(c)){for(c=ci;c;)c=le(c);throw Error(o(418))}for(;f;)dC(c,f),f=le(f)}}if(pC(c),c.tag===13){if(!oe)throw Error(o(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));ci=Mt(c)}else ci=ui?le(c.stateNode):null;return!0}function Bu(){oe&&(ci=ui=null,Kf=ln=!1)}function m_(c){es===null?es=[c]:es.push(c)}function Qf(c,f,g){if(c=g.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(o(309));var S=g.stateNode}if(!S)throw Error(o(147,c));var M=S,b=""+c;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===b?f.ref:(f=function(G){var Y=M.refs;Y===aC&&(Y=M.refs={}),G===null?delete Y[b]:Y[b]=G},f._stringRef=b,f)}if(typeof c!="string")throw Error(o(284));if(!g._owner)throw Error(o(290,c))}return c}function fm(c,f){throw c=Object.prototype.toString.call(f),Error(o(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c))}function mC(c){var f=c._init;return f(c._payload)}function gC(c){function f(ie,te){if(c){var ce=ie.deletions;ce===null?(ie.deletions=[te],ie.flags|=16):ce.push(te)}}function g(ie,te){if(!c)return null;for(;te!==null;)f(ie,te),te=te.sibling;return null}function S(ie,te){for(ie=new Map;te!==null;)te.key!==null?ie.set(te.key,te):ie.set(te.index,te),te=te.sibling;return ie}function M(ie,te){return ie=Xo(ie,te),ie.index=0,ie.sibling=null,ie}function b(ie,te,ce){return ie.index=ce,c?(ce=ie.alternate,ce!==null?(ce=ce.index,ce<te?(ie.flags|=2,te):ce):(ie.flags|=2,te)):(ie.flags|=1048576,te)}function G(ie){return c&&ie.alternate===null&&(ie.flags|=2),ie}function Y(ie,te,ce,We){return te===null||te.tag!==6?(te=q_(ce,ie.mode,We),te.return=ie,te):(te=M(te,ce),te.return=ie,te)}function de(ie,te,ce,We){var Ye=ce.type;return Ye===d?je(ie,te,ce.props.children,We,ce.key):te!==null&&(te.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===A&&mC(Ye)===te.type)?(We=M(te,ce.props),We.ref=Qf(ie,te,ce),We.return=ie,We):(We=zm(ce.type,ce.key,ce.props,null,ie.mode,We),We.ref=Qf(ie,te,ce),We.return=ie,We)}function be(ie,te,ce,We){return te===null||te.tag!==4||te.stateNode.containerInfo!==ce.containerInfo||te.stateNode.implementation!==ce.implementation?(te=Z_(ce,ie.mode,We),te.return=ie,te):(te=M(te,ce.children||[]),te.return=ie,te)}function je(ie,te,ce,We,Ye){return te===null||te.tag!==7?(te=cl(ce,ie.mode,We,Ye),te.return=ie,te):(te=M(te,ce),te.return=ie,te)}function lt(ie,te,ce){if(typeof te=="string"&&te!==""||typeof te=="number")return te=q_(""+te,ie.mode,ce),te.return=ie,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case l:return ce=zm(te.type,te.key,te.props,null,ie.mode,ce),ce.ref=Qf(ie,null,te),ce.return=ie,ce;case u:return te=Z_(te,ie.mode,ce),te.return=ie,te;case A:var We=te._init;return lt(ie,We(te._payload),ce)}if(J(te)||T(te))return te=cl(te,ie.mode,ce,null),te.return=ie,te;fm(ie,te)}return null}function nt(ie,te,ce,We){var Ye=te!==null?te.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return Ye!==null?null:Y(ie,te,""+ce,We);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:return ce.key===Ye?de(ie,te,ce,We):null;case u:return ce.key===Ye?be(ie,te,ce,We):null;case A:return Ye=ce._init,nt(ie,te,Ye(ce._payload),We)}if(J(ce)||T(ce))return Ye!==null?null:je(ie,te,ce,We,null);fm(ie,ce)}return null}function Kt(ie,te,ce,We,Ye){if(typeof We=="string"&&We!==""||typeof We=="number")return ie=ie.get(ce)||null,Y(te,ie,""+We,Ye);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case l:return ie=ie.get(We.key===null?ce:We.key)||null,de(te,ie,We,Ye);case u:return ie=ie.get(We.key===null?ce:We.key)||null,be(te,ie,We,Ye);case A:var pt=We._init;return Kt(ie,te,ce,pt(We._payload),Ye)}if(J(We)||T(We))return ie=ie.get(ce)||null,je(te,ie,We,Ye,null);fm(te,We)}return null}function qe(ie,te,ce,We){for(var Ye=null,pt=null,ut=te,Dt=te=0,Yn=null;ut!==null&&Dt<ce.length;Dt++){ut.index>Dt?(Yn=ut,ut=null):Yn=ut.sibling;var Ft=nt(ie,ut,ce[Dt],We);if(Ft===null){ut===null&&(ut=Yn);break}c&&ut&&Ft.alternate===null&&f(ie,ut),te=b(Ft,te,Dt),pt===null?Ye=Ft:pt.sibling=Ft,pt=Ft,ut=Yn}if(Dt===ce.length)return g(ie,ut),ln&&rl(ie,Dt),Ye;if(ut===null){for(;Dt<ce.length;Dt++)ut=lt(ie,ce[Dt],We),ut!==null&&(te=b(ut,te,Dt),pt===null?Ye=ut:pt.sibling=ut,pt=ut);return ln&&rl(ie,Dt),Ye}for(ut=S(ie,ut);Dt<ce.length;Dt++)Yn=Kt(ut,ie,Dt,ce[Dt],We),Yn!==null&&(c&&Yn.alternate!==null&&ut.delete(Yn.key===null?Dt:Yn.key),te=b(Yn,te,Dt),pt===null?Ye=Yn:pt.sibling=Yn,pt=Yn);return c&&ut.forEach(function(Qo){return f(ie,Qo)}),ln&&rl(ie,Dt),Ye}function gr(ie,te,ce,We){var Ye=T(ce);if(typeof Ye!="function")throw Error(o(150));if(ce=Ye.call(ce),ce==null)throw Error(o(151));for(var pt=Ye=null,ut=te,Dt=te=0,Yn=null,Ft=ce.next();ut!==null&&!Ft.done;Dt++,Ft=ce.next()){ut.index>Dt?(Yn=ut,ut=null):Yn=ut.sibling;var Qo=nt(ie,ut,Ft.value,We);if(Qo===null){ut===null&&(ut=Yn);break}c&&ut&&Qo.alternate===null&&f(ie,ut),te=b(Qo,te,Dt),pt===null?Ye=Qo:pt.sibling=Qo,pt=Qo,ut=Yn}if(Ft.done)return g(ie,ut),ln&&rl(ie,Dt),Ye;if(ut===null){for(;!Ft.done;Dt++,Ft=ce.next())Ft=lt(ie,Ft.value,We),Ft!==null&&(te=b(Ft,te,Dt),pt===null?Ye=Ft:pt.sibling=Ft,pt=Ft);return ln&&rl(ie,Dt),Ye}for(ut=S(ie,ut);!Ft.done;Dt++,Ft=ce.next())Ft=Kt(ut,ie,Dt,Ft.value,We),Ft!==null&&(c&&Ft.alternate!==null&&ut.delete(Ft.key===null?Dt:Ft.key),te=b(Ft,te,Dt),pt===null?Ye=Ft:pt.sibling=Ft,pt=Ft);return c&&ut.forEach(function(rH){return f(ie,rH)}),ln&&rl(ie,Dt),Ye}function Oi(ie,te,ce,We){if(typeof ce=="object"&&ce!==null&&ce.type===d&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case l:e:{for(var Ye=ce.key,pt=te;pt!==null;){if(pt.key===Ye){if(Ye=ce.type,Ye===d){if(pt.tag===7){g(ie,pt.sibling),te=M(pt,ce.props.children),te.return=ie,ie=te;break e}}else if(pt.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===A&&mC(Ye)===pt.type){g(ie,pt.sibling),te=M(pt,ce.props),te.ref=Qf(ie,pt,ce),te.return=ie,ie=te;break e}g(ie,pt);break}else f(ie,pt);pt=pt.sibling}ce.type===d?(te=cl(ce.props.children,ie.mode,We,ce.key),te.return=ie,ie=te):(We=zm(ce.type,ce.key,ce.props,null,ie.mode,We),We.ref=Qf(ie,te,ce),We.return=ie,ie=We)}return G(ie);case u:e:{for(pt=ce.key;te!==null;){if(te.key===pt)if(te.tag===4&&te.stateNode.containerInfo===ce.containerInfo&&te.stateNode.implementation===ce.implementation){g(ie,te.sibling),te=M(te,ce.children||[]),te.return=ie,ie=te;break e}else{g(ie,te);break}else f(ie,te);te=te.sibling}te=Z_(ce,ie.mode,We),te.return=ie,ie=te}return G(ie);case A:return pt=ce._init,Oi(ie,te,pt(ce._payload),We)}if(J(ce))return qe(ie,te,ce,We);if(T(ce))return gr(ie,te,ce,We);fm(ie,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,te!==null&&te.tag===6?(g(ie,te.sibling),te=M(te,ce),te.return=ie,ie=te):(g(ie,te),te=q_(ce,ie.mode,We),te.return=ie,ie=te),G(ie)):g(ie,te)}return Oi}var Lu=gC(!0),yC=gC(!1),Yf={},Di=Gr(Yf),qf=Gr(Yf),Du=Gr(Yf);function Cs(c){if(c===Yf)throw Error(o(174));return c}function g_(c,f){gt(Du,f),gt(qf,c),gt(Di,Yf),c=$(f),Vt(Di),gt(Di,c)}function Fu(){Vt(Di),Vt(qf),Vt(Du)}function vC(c){var f=Cs(Du.current),g=Cs(Di.current);f=k(g,c.type,f),g!==f&&(gt(qf,c),gt(Di,f))}function y_(c){qf.current===c&&(Vt(Di),Vt(qf))}var pn=Gr(0);function dm(c){for(var f=c;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||U(g)||re(g)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var v_=[];function __(){for(var c=0;c<v_.length;c++){var f=v_[c];ve?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}v_.length=0}var hm=a.ReactCurrentDispatcher,Fi=a.ReactCurrentBatchConfig,ku=0,Sn=null,hr=null,Qn=null,pm=!1,Zf=!1,ed=0,TO=0;function pr(){throw Error(o(321))}function x_(c,f){if(f===null)return!1;for(var g=0;g<f.length&&g<c.length;g++)if(!As(c[g],f[g]))return!1;return!0}function w_(c,f,g,S,M,b){if(ku=b,Sn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,hm.current=c===null||c.memoizedState===null?BO:LO,c=g(S,M),Zf){b=0;do{if(Zf=!1,ed=0,25<=b)throw Error(o(301));b+=1,Qn=hr=null,f.updateQueue=null,hm.current=DO,c=g(S,M)}while(Zf)}if(hm.current=_m,f=hr!==null&&hr.next!==null,ku=0,Qn=hr=Sn=null,pm=!1,f)throw Error(o(300));return c}function S_(){var c=ed!==0;return ed=0,c}function ro(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qn===null?Sn.memoizedState=Qn=c:Qn=Qn.next=c,Qn}function bs(){if(hr===null){var c=Sn.alternate;c=c!==null?c.memoizedState:null}else c=hr.next;var f=Qn===null?Sn.memoizedState:Qn.next;if(f!==null)Qn=f,hr=c;else{if(c===null)throw Error(o(310));hr=c,c={memoizedState:hr.memoizedState,baseState:hr.baseState,baseQueue:hr.baseQueue,queue:hr.queue,next:null},Qn===null?Sn.memoizedState=Qn=c:Qn=Qn.next=c}return Qn}function il(c,f){return typeof f=="function"?f(c):f}function mm(c){var f=bs(),g=f.queue;if(g===null)throw Error(o(311));g.lastRenderedReducer=c;var S=hr,M=S.baseQueue,b=g.pending;if(b!==null){if(M!==null){var G=M.next;M.next=b.next,b.next=G}S.baseQueue=M=b,g.pending=null}if(M!==null){b=M.next,S=S.baseState;var Y=G=null,de=null,be=b;do{var je=be.lane;if((ku&je)===je)de!==null&&(de=de.next={lane:0,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),S=be.hasEagerState?be.eagerState:c(S,be.action);else{var lt={lane:je,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null};de===null?(Y=de=lt,G=S):de=de.next=lt,Sn.lanes|=je,Ou|=je}be=be.next}while(be!==null&&be!==b);de===null?G=S:de.next=Y,As(S,f.memoizedState)||(fi=!0),f.memoizedState=S,f.baseState=G,f.baseQueue=de,g.lastRenderedState=S}if(c=g.interleaved,c!==null){M=c;do b=M.lane,Sn.lanes|=b,Ou|=b,M=M.next;while(M!==c)}else M===null&&(g.lanes=0);return[f.memoizedState,g.dispatch]}function gm(c){var f=bs(),g=f.queue;if(g===null)throw Error(o(311));g.lastRenderedReducer=c;var S=g.dispatch,M=g.pending,b=f.memoizedState;if(M!==null){g.pending=null;var G=M=M.next;do b=c(b,G.action),G=G.next;while(G!==M);As(b,f.memoizedState)||(fi=!0),f.memoizedState=b,f.baseQueue===null&&(f.baseState=b),g.lastRenderedState=b}return[b,S]}function _C(){}function xC(c,f){var g=Sn,S=bs(),M=f(),b=!As(S.memoizedState,M);if(b&&(S.memoizedState=M,fi=!0),S=S.queue,nd(AC.bind(null,g,S,c),[c]),S.getSnapshot!==f||b||Qn!==null&&Qn.memoizedState.tag&1){if(g.flags|=2048,td(9,SC.bind(null,g,S,M,f),void 0,null),Fn===null)throw Error(o(349));(ku&30)!==0||wC(g,f,M)}return M}function wC(c,f,g){c.flags|=16384,c={getSnapshot:f,value:g},f=Sn.updateQueue,f===null?(f={lastEffect:null,stores:null},Sn.updateQueue=f,f.stores=[c]):(g=f.stores,g===null?f.stores=[c]:g.push(c))}function SC(c,f,g,S){f.value=g,f.getSnapshot=S,MC(f)&&ki(c,1,-1)}function AC(c,f,g){return g(function(){MC(f)&&ki(c,1,-1)})}function MC(c){var f=c.getSnapshot;c=c.value;try{var g=f();return!As(c,g)}catch{return!0}}function A_(c){var f=ro();return typeof c=="function"&&(c=c()),f.memoizedState=f.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:c},f.queue=c,c=c.dispatch=IO.bind(null,Sn,c),[f.memoizedState,c]}function td(c,f,g,S){return c={tag:c,create:f,destroy:g,deps:S,next:null},f=Sn.updateQueue,f===null?(f={lastEffect:null,stores:null},Sn.updateQueue=f,f.lastEffect=c.next=c):(g=f.lastEffect,g===null?f.lastEffect=c.next=c:(S=g.next,g.next=c,c.next=S,f.lastEffect=c)),c}function EC(){return bs().memoizedState}function ym(c,f,g,S){var M=ro();Sn.flags|=c,M.memoizedState=td(1|f,g,void 0,S===void 0?null:S)}function vm(c,f,g,S){var M=bs();S=S===void 0?null:S;var b=void 0;if(hr!==null){var G=hr.memoizedState;if(b=G.destroy,S!==null&&x_(S,G.deps)){M.memoizedState=td(f,g,b,S);return}}Sn.flags|=c,M.memoizedState=td(1|f,g,b,S)}function M_(c,f){return ym(8390656,8,c,f)}function nd(c,f){return vm(2048,8,c,f)}function CC(c,f){return vm(4,2,c,f)}function bC(c,f){return vm(4,4,c,f)}function TC(c,f){if(typeof f=="function")return c=c(),f(c),function(){f(null)};if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function RC(c,f,g){return g=g!=null?g.concat([c]):null,vm(4,4,TC.bind(null,f,c),g)}function E_(){}function PC(c,f){var g=bs();f=f===void 0?null:f;var S=g.memoizedState;return S!==null&&f!==null&&x_(f,S[1])?S[0]:(g.memoizedState=[c,f],c)}function IC(c,f){var g=bs();f=f===void 0?null:f;var S=g.memoizedState;return S!==null&&f!==null&&x_(f,S[1])?S[0]:(c=c(),g.memoizedState=[c,f],c)}function RO(c,f){var g=Lt;Lt=g!==0&&4>g?g:4,c(!0);var S=Fi.transition;Fi.transition={};try{c(!1),f()}finally{Lt=g,Fi.transition=S}}function BC(){return bs().memoizedState}function PO(c,f,g){var S=$o(c);g={lane:S,action:g,hasEagerState:!1,eagerState:null,next:null},LC(c)?DC(f,g):(FC(c,f,g),g=Rr(),c=ki(c,S,g),c!==null&&kC(c,f,S))}function IO(c,f,g){var S=$o(c),M={lane:S,action:g,hasEagerState:!1,eagerState:null,next:null};if(LC(c))DC(f,M);else{FC(c,f,M);var b=c.alternate;if(c.lanes===0&&(b===null||b.lanes===0)&&(b=f.lastRenderedReducer,b!==null))try{var G=f.lastRenderedState,Y=b(G,g);if(M.hasEagerState=!0,M.eagerState=Y,As(Y,G))return}catch{}finally{}g=Rr(),c=ki(c,S,g),c!==null&&kC(c,f,S)}}function LC(c){var f=c.alternate;return c===Sn||f!==null&&f===Sn}function DC(c,f){Zf=pm=!0;var g=c.pending;g===null?f.next=f:(f.next=g.next,g.next=f),c.pending=f}function FC(c,f,g){Fn!==null&&(c.mode&1)!==0&&(mt&2)===0?(c=f.interleaved,c===null?(g.next=g,Es===null?Es=[f]:Es.push(f)):(g.next=c.next,c.next=g),f.interleaved=g):(c=f.pending,c===null?g.next=g:(g.next=c.next,c.next=g),f.pending=g)}function kC(c,f,g){if((g&4194240)!==0){var S=f.lanes;S&=c.pendingLanes,g|=S,f.lanes=g,Zv(c,g)}}var _m={readContext:Ii,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useInsertionEffect:pr,useLayoutEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useMutableSource:pr,useSyncExternalStore:pr,useId:pr,unstable_isNewReconciler:!1},BO={readContext:Ii,useCallback:function(c,f){return ro().memoizedState=[c,f===void 0?null:f],c},useContext:Ii,useEffect:M_,useImperativeHandle:function(c,f,g){return g=g!=null?g.concat([c]):null,ym(4194308,4,TC.bind(null,f,c),g)},useLayoutEffect:function(c,f){return ym(4194308,4,c,f)},useInsertionEffect:function(c,f){return ym(4,2,c,f)},useMemo:function(c,f){var g=ro();return f=f===void 0?null:f,c=c(),g.memoizedState=[c,f],c},useReducer:function(c,f,g){var S=ro();return f=g!==void 0?g(f):f,S.memoizedState=S.baseState=f,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:f},S.queue=c,c=c.dispatch=PO.bind(null,Sn,c),[S.memoizedState,c]},useRef:function(c){var f=ro();return c={current:c},f.memoizedState=c},useState:A_,useDebugValue:E_,useDeferredValue:function(c){var f=A_(c),g=f[0],S=f[1];return M_(function(){var M=Fi.transition;Fi.transition={};try{S(c)}finally{Fi.transition=M}},[c]),g},useTransition:function(){var c=A_(!1),f=c[0];return c=RO.bind(null,c[1]),ro().memoizedState=c,[f,c]},useMutableSource:function(){},useSyncExternalStore:function(c,f,g){var S=Sn,M=ro();if(ln){if(g===void 0)throw Error(o(407));g=g()}else{if(g=f(),Fn===null)throw Error(o(349));(ku&30)!==0||wC(S,f,g)}M.memoizedState=g;var b={value:g,getSnapshot:f};return M.queue=b,M_(AC.bind(null,S,b,c),[c]),S.flags|=2048,td(9,SC.bind(null,S,b,g,f),void 0,null),g},useId:function(){var c=ro(),f=Fn.identifierPrefix;if(ln){var g=no,S=to;g=(S&~(1<<32-qi(S)-1)).toString(32)+g,f=":"+f+"R"+g,g=ed++,0<g&&(f+="H"+g.toString(32)),f+=":"}else g=TO++,f=":"+f+"r"+g.toString(32)+":";return c.memoizedState=f},unstable_isNewReconciler:!1},LO={readContext:Ii,useCallback:PC,useContext:Ii,useEffect:nd,useImperativeHandle:RC,useInsertionEffect:CC,useLayoutEffect:bC,useMemo:IC,useReducer:mm,useRef:EC,useState:function(){return mm(il)},useDebugValue:E_,useDeferredValue:function(c){var f=mm(il),g=f[0],S=f[1];return nd(function(){var M=Fi.transition;Fi.transition={};try{S(c)}finally{Fi.transition=M}},[c]),g},useTransition:function(){var c=mm(il)[0],f=bs().memoizedState;return[c,f]},useMutableSource:_C,useSyncExternalStore:xC,useId:BC,unstable_isNewReconciler:!1},DO={readContext:Ii,useCallback:PC,useContext:Ii,useEffect:nd,useImperativeHandle:RC,useInsertionEffect:CC,useLayoutEffect:bC,useMemo:IC,useReducer:gm,useRef:EC,useState:function(){return gm(il)},useDebugValue:E_,useDeferredValue:function(c){var f=gm(il),g=f[0],S=f[1];return nd(function(){var M=Fi.transition;Fi.transition={};try{S(c)}finally{Fi.transition=M}},[c]),g},useTransition:function(){var c=gm(il)[0],f=bs().memoizedState;return[c,f]},useMutableSource:_C,useSyncExternalStore:xC,useId:BC,unstable_isNewReconciler:!1};function C_(c,f){try{var g="",S=f;do g+=bO(S),S=S.return;while(S);var M=g}catch(b){M=`
Error generating stack: `+b.message+`
`+b.stack}return{value:c,source:f,stack:M}}function b_(c,f){try{console.error(f.value)}catch(g){setTimeout(function(){throw g})}}var FO=typeof WeakMap=="function"?WeakMap:Map;function NC(c,f,g){g=eo(-1,g),g.tag=3,g.payload={element:null};var S=f.value;return g.callback=function(){Fm||(Fm=!0,j_=S),b_(c,f)},g}function OC(c,f,g){g=eo(-1,g),g.tag=3;var S=c.type.getDerivedStateFromError;if(typeof S=="function"){var M=f.value;g.payload=function(){return S(M)},g.callback=function(){b_(c,f)}}var b=c.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(g.callback=function(){b_(c,f),typeof S!="function"&&(jo===null?jo=new Set([this]):jo.add(this));var G=f.stack;this.componentDidCatch(f.value,{componentStack:G!==null?G:""})}),g}function HC(c,f,g){var S=c.pingCache;if(S===null){S=c.pingCache=new FO;var M=new Set;S.set(f,M)}else M=S.get(f),M===void 0&&(M=new Set,S.set(f,M));M.has(g)||(M.add(g),c=XO.bind(null,c,f,g),f.then(c,c))}function UC(c){do{var f;if((f=c.tag===13)&&(f=c.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return c;c=c.return}while(c!==null);return null}function GC(c,f,g,S,M){return(c.mode&1)===0?(c===f?c.flags|=65536:(c.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(f=eo(-1,1),f.tag=2,Vo(g,f))),g.lanes|=1),c):(c.flags|=65536,c.lanes=M,c)}function Ts(c){c.flags|=4}function zC(c,f){if(c!==null&&c.child===f.child)return!0;if((f.flags&16)!==0)return!1;for(c=f.child;c!==null;){if((c.flags&12854)!==0||(c.subtreeFlags&12854)!==0)return!1;c=c.sibling}return!0}var rd,id,xm,wm;if(Re)rd=function(c,f){for(var g=f.child;g!==null;){if(g.tag===5||g.tag===6)Q(c,g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===f)break;for(;g.sibling===null;){if(g.return===null||g.return===f)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},id=function(){},xm=function(c,f,g,S,M){if(c=c.memoizedProps,c!==S){var b=f.stateNode,G=Cs(Di.current);g=pe(b,g,c,S,M,G),(f.updateQueue=g)&&Ts(f)}},wm=function(c,f,g,S){g!==S&&Ts(f)};else if(ne){rd=function(c,f,g,S){for(var M=f.child;M!==null;){if(M.tag===5){var b=M.stateNode;g&&S&&(b=Cu(b,M.type,M.memoizedProps,M)),Q(c,b)}else if(M.tag===6)b=M.stateNode,g&&S&&(b=jf(b,M.memoizedProps,M)),Q(c,b);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)b=M.child,b!==null&&(b.return=M),rd(c,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===f)break;for(;M.sibling===null;){if(M.return===null||M.return===f)return;M=M.return}M.sibling.return=M.return,M=M.sibling}};var WC=function(c,f,g,S){for(var M=f.child;M!==null;){if(M.tag===5){var b=M.stateNode;g&&S&&(b=Cu(b,M.type,M.memoizedProps,M)),Kp(c,b)}else if(M.tag===6)b=M.stateNode,g&&S&&(b=jf(b,M.memoizedProps,M)),Kp(c,b);else if(M.tag!==4){if(M.tag===22&&M.memoizedState!==null)b=M.child,b!==null&&(b.return=M),WC(c,M,!0,!0);else if(M.child!==null){M.child.return=M,M=M.child;continue}}if(M===f)break;for(;M.sibling===null;){if(M.return===null||M.return===f)return;M=M.return}M.sibling.return=M.return,M=M.sibling}};id=function(c,f){var g=f.stateNode;if(!zC(c,f)){c=g.containerInfo;var S=li(c);WC(S,f,!1,!1),g.pendingChildren=S,Ts(f),Eu(c,S)}},xm=function(c,f,g,S,M){var b=c.stateNode,G=c.memoizedProps;if((c=zC(c,f))&&G===S)f.stateNode=b;else{var Y=f.stateNode,de=Cs(Di.current),be=null;G!==S&&(be=pe(Y,g,G,S,M,de)),c&&be===null?f.stateNode=b:(b=Ti(b,be,g,G,S,f,c,Y),se(b,g,S,M,de)&&Ts(f),f.stateNode=b,c?Ts(f):rd(b,f,!1,!1))}},wm=function(c,f,g,S){g!==S?(c=Cs(Du.current),g=Cs(Di.current),f.stateNode=H(S,c,g,f),Ts(f)):f.stateNode=c.stateNode}}else id=function(){},xm=function(){},wm=function(){};function sd(c,f){if(!ln)switch(c.tailMode){case"hidden":f=c.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var S=null;g!==null;)g.alternate!==null&&(S=g),g=g.sibling;S===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:S.sibling=null}}function mr(c){var f=c.alternate!==null&&c.alternate.child===c.child,g=0,S=0;if(f)for(var M=c.child;M!==null;)g|=M.lanes|M.childLanes,S|=M.subtreeFlags&14680064,S|=M.flags&14680064,M.return=c,M=M.sibling;else for(M=c.child;M!==null;)g|=M.lanes|M.childLanes,S|=M.subtreeFlags,S|=M.flags,M.return=c,M=M.sibling;return c.subtreeFlags|=S,c.childLanes=g,f}function kO(c,f,g){var S=f.pendingProps;switch(d_(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mr(f),null;case 1:return Wr(f.type)&&Qp(),mr(f),null;case 3:return S=f.stateNode,Fu(),Vt(zr),Vt(dr),__(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(c===null||c.child===null)&&(Xf(f)?Ts(f):c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,es!==null&&(K_(es),es=null))),id(c,f),mr(f),null;case 5:y_(f),g=Cs(Du.current);var M=f.type;if(c!==null&&f.stateNode!=null)xm(c,f,M,S,g),c.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!S){if(f.stateNode===null)throw Error(o(166));return mr(f),null}if(c=Cs(Di.current),Xf(f)){if(!oe)throw Error(o(175));c=ht(f.stateNode,f.type,f.memoizedProps,g,c,f,!Kf),f.updateQueue=c,c!==null&&Ts(f)}else{var b=ae(M,S,g,c,f);rd(b,f,!1,!1),f.stateNode=b,se(b,M,S,g,c)&&Ts(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return mr(f),null;case 6:if(c&&f.stateNode!=null)wm(c,f,c.memoizedProps,S);else{if(typeof S!="string"&&f.stateNode===null)throw Error(o(166));if(c=Cs(Du.current),g=Cs(Di.current),Xf(f)){if(!oe)throw Error(o(176));if(c=f.stateNode,S=f.memoizedProps,(g=ft(c,S,f,!Kf))&&(M=ui,M!==null))switch(b=(M.mode&1)!==0,M.tag){case 3:Ri(M.stateNode.containerInfo,c,S,b);break;case 5:Bt(M.type,M.memoizedProps,M.stateNode,c,S,b)}g&&Ts(f)}else f.stateNode=H(S,c,g,f)}return mr(f),null;case 13:if(Vt(pn),S=f.memoizedState,ln&&ci!==null&&(f.mode&1)!==0&&(f.flags&128)===0){for(c=ci;c;)c=le(c);return Bu(),f.flags|=98560,f}if(S!==null&&S.dehydrated!==null){if(S=Xf(f),c===null){if(!S)throw Error(o(318));if(!oe)throw Error(o(344));if(c=f.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));kt(c,f)}else Bu(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;return mr(f),null}return es!==null&&(K_(es),es=null),(f.flags&128)!==0?(f.lanes=g,f):(S=S!==null,g=!1,c===null?Xf(f):g=c.memoizedState!==null,S&&!g&&(f.child.flags|=8192,(f.mode&1)!==0&&(c===null||(pn.current&1)!==0?Wn===0&&(Wn=3):Q_())),f.updateQueue!==null&&(f.flags|=4),mr(f),null);case 4:return Fu(),id(c,f),c===null&&Ae(f.stateNode.containerInfo),mr(f),null;case 10:return o_(f.type._context),mr(f),null;case 17:return Wr(f.type)&&Qp(),mr(f),null;case 19:if(Vt(pn),M=f.memoizedState,M===null)return mr(f),null;if(S=(f.flags&128)!==0,b=M.rendering,b===null)if(S)sd(M,!1);else{if(Wn!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(b=dm(c),b!==null){for(f.flags|=128,sd(M,!1),c=b.updateQueue,c!==null&&(f.updateQueue=c,f.flags|=4),f.subtreeFlags=0,c=g,S=f.child;S!==null;)g=S,M=c,g.flags&=14680066,b=g.alternate,b===null?(g.childLanes=0,g.lanes=M,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=b.childLanes,g.lanes=b.lanes,g.child=b.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=b.memoizedProps,g.memoizedState=b.memoizedState,g.updateQueue=b.updateQueue,g.type=b.type,M=b.dependencies,g.dependencies=M===null?null:{lanes:M.lanes,firstContext:M.firstContext}),S=S.sibling;return gt(pn,pn.current&1|2),f.child}c=c.sibling}M.tail!==null&&Xn()>V_&&(f.flags|=128,S=!0,sd(M,!1),f.lanes=4194304)}else{if(!S)if(c=dm(b),c!==null){if(f.flags|=128,S=!0,c=c.updateQueue,c!==null&&(f.updateQueue=c,f.flags|=4),sd(M,!0),M.tail===null&&M.tailMode==="hidden"&&!b.alternate&&!ln)return mr(f),null}else 2*Xn()-M.renderingStartTime>V_&&g!==1073741824&&(f.flags|=128,S=!0,sd(M,!1),f.lanes=4194304);M.isBackwards?(b.sibling=f.child,f.child=b):(c=M.last,c!==null?c.sibling=b:f.child=b,M.last=b)}return M.tail!==null?(f=M.tail,M.rendering=f,M.tail=f.sibling,M.renderingStartTime=Xn(),f.sibling=null,c=pn.current,gt(pn,S?c&1|2:c&1),f):(mr(f),null);case 22:case 23:return X_(),S=f.memoizedState!==null,c!==null&&c.memoizedState!==null!==S&&(f.flags|=8192),S&&(f.mode&1)!==0?(di&1073741824)!==0&&(mr(f),Re&&f.subtreeFlags&6&&(f.flags|=8192)):mr(f),null;case 24:return null;case 25:return null}throw Error(o(156,f.tag))}var NO=a.ReactCurrentOwner,fi=!1;function Tr(c,f,g,S){f.child=c===null?yC(f,null,g,S):Lu(f,c.child,g,S)}function VC(c,f,g,S,M){g=g.render;var b=f.ref;return Ru(f,M),S=w_(c,f,g,S,b,M),g=S_(),c!==null&&!fi?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~M,io(c,f,M)):(ln&&g&&f_(f),f.flags|=1,Tr(c,f,S,M),f.child)}function jC(c,f,g,S,M){if(c===null){var b=g.type;return typeof b=="function"&&!Y_(b)&&b.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(f.tag=15,f.type=b,JC(c,f,b,S,M)):(c=zm(g.type,null,S,f,f.mode,M),c.ref=f.ref,c.return=f,f.child=c)}if(b=c.child,(c.lanes&M)===0){var G=b.memoizedProps;if(g=g.compare,g=g!==null?g:rm,g(G,S)&&c.ref===f.ref)return io(c,f,M)}return f.flags|=1,c=Xo(b,S),c.ref=f.ref,c.return=f,f.child=c}function JC(c,f,g,S,M){if(c!==null&&rm(c.memoizedProps,S)&&c.ref===f.ref)if(fi=!1,(c.lanes&M)!==0)(c.flags&131072)!==0&&(fi=!0);else return f.lanes=c.lanes,io(c,f,M);return T_(c,f,g,S,M)}function $C(c,f,g){var S=f.pendingProps,M=S.children,b=c!==null?c.memoizedState:null;if(S.mode==="hidden")if((f.mode&1)===0)f.memoizedState={baseLanes:0,cachePool:null},gt(Nu,di),di|=g;else if((g&1073741824)!==0)f.memoizedState={baseLanes:0,cachePool:null},S=b!==null?b.baseLanes:g,gt(Nu,di),di|=S;else return c=b!==null?b.baseLanes|g:g,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:c,cachePool:null},f.updateQueue=null,gt(Nu,di),di|=c,null;else b!==null?(S=b.baseLanes|g,f.memoizedState=null):S=g,gt(Nu,di),di|=S;return Tr(c,f,M,g),f.child}function KC(c,f){var g=f.ref;(c===null&&g!==null||c!==null&&c.ref!==g)&&(f.flags|=512,f.flags|=2097152)}function T_(c,f,g,S,M){var b=Wr(g)?tl:dr.current;return b=bu(f,b),Ru(f,M),g=w_(c,f,g,S,b,M),S=S_(),c!==null&&!fi?(f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~M,io(c,f,M)):(ln&&S&&f_(f),f.flags|=1,Tr(c,f,g,M),f.child)}function XC(c,f,g,S,M){if(Wr(g)){var b=!0;Yp(f)}else b=!1;if(Ru(f,M),f.stateNode===null)c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),uC(f,g,S),c_(f,g,S,M),S=!0;else if(c===null){var G=f.stateNode,Y=f.memoizedProps;G.props=Y;var de=G.context,be=g.contextType;typeof be=="object"&&be!==null?be=Ii(be):(be=Wr(g)?tl:dr.current,be=bu(f,be));var je=g.getDerivedStateFromProps,lt=typeof je=="function"||typeof G.getSnapshotBeforeUpdate=="function";lt||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(Y!==S||de!==be)&&cC(f,G,S,be),Wo=!1;var nt=f.memoizedState;G.state=nt,am(f,S,G,M),de=f.memoizedState,Y!==S||nt!==de||zr.current||Wo?(typeof je=="function"&&(u_(f,g,je,S),de=f.memoizedState),(Y=Wo||lC(f,g,Y,S,nt,de,be))?(lt||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(f.flags|=4194308)):(typeof G.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=S,f.memoizedState=de),G.props=S,G.state=de,G.context=be,S=Y):(typeof G.componentDidMount=="function"&&(f.flags|=4194308),S=!1)}else{G=f.stateNode,iC(c,f),Y=f.memoizedProps,be=f.type===f.elementType?Y:Zi(f.type,Y),G.props=be,lt=f.pendingProps,nt=G.context,de=g.contextType,typeof de=="object"&&de!==null?de=Ii(de):(de=Wr(g)?tl:dr.current,de=bu(f,de));var Kt=g.getDerivedStateFromProps;(je=typeof Kt=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(Y!==lt||nt!==de)&&cC(f,G,S,de),Wo=!1,nt=f.memoizedState,G.state=nt,am(f,S,G,M);var qe=f.memoizedState;Y!==lt||nt!==qe||zr.current||Wo?(typeof Kt=="function"&&(u_(f,g,Kt,S),qe=f.memoizedState),(be=Wo||lC(f,g,be,S,nt,qe,de)||!1)?(je||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(S,qe,de),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(S,qe,de)),typeof G.componentDidUpdate=="function"&&(f.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof G.componentDidUpdate!="function"||Y===c.memoizedProps&&nt===c.memoizedState||(f.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||Y===c.memoizedProps&&nt===c.memoizedState||(f.flags|=1024),f.memoizedProps=S,f.memoizedState=qe),G.props=S,G.state=qe,G.context=de,S=be):(typeof G.componentDidUpdate!="function"||Y===c.memoizedProps&&nt===c.memoizedState||(f.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||Y===c.memoizedProps&&nt===c.memoizedState||(f.flags|=1024),S=!1)}return R_(c,f,g,S,b,M)}function R_(c,f,g,S,M,b){KC(c,f);var G=(f.flags&128)!==0;if(!S&&!G)return M&&ZE(f,g,!1),io(c,f,b);S=f.stateNode,NO.current=f;var Y=G&&typeof g.getDerivedStateFromError!="function"?null:S.render();return f.flags|=1,c!==null&&G?(f.child=Lu(f,c.child,null,b),f.child=Lu(f,null,Y,b)):Tr(c,f,Y,b),f.memoizedState=S.state,M&&ZE(f,g,!0),f.child}function QC(c){var f=c.stateNode;f.pendingContext?YE(c,f.pendingContext,f.pendingContext!==f.context):f.context&&YE(c,f.context,!1),g_(c,f.containerInfo)}function YC(c,f,g,S,M){return Bu(),m_(M),f.flags|=256,Tr(c,f,g,S),f.child}var Sm={dehydrated:null,treeContext:null,retryLane:0};function Am(c){return{baseLanes:c,cachePool:null}}function qC(c,f,g){var S=f.pendingProps,M=pn.current,b=!1,G=(f.flags&128)!==0,Y;if((Y=G)||(Y=c!==null&&c.memoizedState===null?!1:(M&2)!==0),Y?(b=!0,f.flags&=-129):(c===null||c.memoizedState!==null)&&(M|=1),gt(pn,M&1),c===null)return p_(f),c=f.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((f.mode&1)===0?f.lanes=1:re(c)?f.lanes=8:f.lanes=1073741824,null):(M=S.children,c=S.fallback,b?(S=f.mode,b=f.child,M={mode:"hidden",children:M},(S&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=M):b=Wm(M,S,0,null),c=cl(c,S,g,null),b.return=f,c.return=f,b.sibling=c,f.child=b,f.child.memoizedState=Am(g),f.memoizedState=Sm,c):P_(f,M));if(M=c.memoizedState,M!==null){if(Y=M.dehydrated,Y!==null){if(G)return f.flags&256?(f.flags&=-257,Mm(c,f,g,Error(o(422)))):f.memoizedState!==null?(f.child=c.child,f.flags|=128,null):(b=S.fallback,M=f.mode,S=Wm({mode:"visible",children:S.children},M,0,null),b=cl(b,M,g,null),b.flags|=2,S.return=f,b.return=f,S.sibling=b,f.child=S,(f.mode&1)!==0&&Lu(f,c.child,null,g),f.child.memoizedState=Am(g),f.memoizedState=Sm,b);if((f.mode&1)===0)f=Mm(c,f,g,null);else if(re(Y))f=Mm(c,f,g,Error(o(419)));else if(S=(g&c.childLanes)!==0,fi||S){if(S=Fn,S!==null){switch(g&-g){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}S=(b&(S.suspendedLanes|g))!==0?0:b,S!==0&&S!==M.retryLane&&(M.retryLane=S,ki(c,S,-1))}Q_(),f=Mm(c,f,g,Error(o(421)))}else U(Y)?(f.flags|=128,f.child=c.child,f=QO.bind(null,c),fe(Y,f),f=null):(g=M.treeContext,oe&&(ci=at(Y),ui=f,ln=!0,es=null,Kf=!1,g!==null&&(Bi[Li++]=to,Bi[Li++]=no,Bi[Li++]=nl,to=g.id,no=g.overflow,nl=f)),f=P_(f,f.pendingProps.children),f.flags|=4096);return f}return b?(S=eb(c,f,S.children,S.fallback,g),b=f.child,M=c.child.memoizedState,b.memoizedState=M===null?Am(g):{baseLanes:M.baseLanes|g,cachePool:null},b.childLanes=c.childLanes&~g,f.memoizedState=Sm,S):(g=ZC(c,f,S.children,g),f.memoizedState=null,g)}return b?(S=eb(c,f,S.children,S.fallback,g),b=f.child,M=c.child.memoizedState,b.memoizedState=M===null?Am(g):{baseLanes:M.baseLanes|g,cachePool:null},b.childLanes=c.childLanes&~g,f.memoizedState=Sm,S):(g=ZC(c,f,S.children,g),f.memoizedState=null,g)}function P_(c,f){return f=Wm({mode:"visible",children:f},c.mode,0,null),f.return=c,c.child=f}function ZC(c,f,g,S){var M=c.child;return c=M.sibling,g=Xo(M,{mode:"visible",children:g}),(f.mode&1)===0&&(g.lanes=S),g.return=f,g.sibling=null,c!==null&&(S=f.deletions,S===null?(f.deletions=[c],f.flags|=16):S.push(c)),f.child=g}function eb(c,f,g,S,M){var b=f.mode;c=c.child;var G=c.sibling,Y={mode:"hidden",children:g};return(b&1)===0&&f.child!==c?(g=f.child,g.childLanes=0,g.pendingProps=Y,f.deletions=null):(g=Xo(c,Y),g.subtreeFlags=c.subtreeFlags&14680064),G!==null?S=Xo(G,S):(S=cl(S,b,M,null),S.flags|=2),S.return=f,g.return=f,g.sibling=S,f.child=g,S}function Mm(c,f,g,S){return S!==null&&m_(S),Lu(f,c.child,null,g),c=P_(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function tb(c,f,g){c.lanes|=f;var S=c.alternate;S!==null&&(S.lanes|=f),a_(c.return,f,g)}function I_(c,f,g,S,M){var b=c.memoizedState;b===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:S,tail:g,tailMode:M}:(b.isBackwards=f,b.rendering=null,b.renderingStartTime=0,b.last=S,b.tail=g,b.tailMode=M)}function nb(c,f,g){var S=f.pendingProps,M=S.revealOrder,b=S.tail;if(Tr(c,f,S.children,g),S=pn.current,(S&2)!==0)S=S&1|2,f.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&tb(c,g,f);else if(c.tag===19)tb(c,g,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}S&=1}if(gt(pn,S),(f.mode&1)===0)f.memoizedState=null;else switch(M){case"forwards":for(g=f.child,M=null;g!==null;)c=g.alternate,c!==null&&dm(c)===null&&(M=g),g=g.sibling;g=M,g===null?(M=f.child,f.child=null):(M=g.sibling,g.sibling=null),I_(f,!1,M,g,b);break;case"backwards":for(g=null,M=f.child,f.child=null;M!==null;){if(c=M.alternate,c!==null&&dm(c)===null){f.child=M;break}c=M.sibling,M.sibling=g,g=M,M=c}I_(f,!0,g,null,b);break;case"together":I_(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function io(c,f,g){if(c!==null&&(f.dependencies=c.dependencies),Ou|=f.lanes,(g&f.childLanes)===0)return null;if(c!==null&&f.child!==c.child)throw Error(o(153));if(f.child!==null){for(c=f.child,g=Xo(c,c.pendingProps),f.child=g,g.return=f;c.sibling!==null;)c=c.sibling,g=g.sibling=Xo(c,c.pendingProps),g.return=f;g.sibling=null}return f.child}function OO(c,f,g){switch(f.tag){case 3:QC(f),Bu();break;case 5:vC(f);break;case 1:Wr(f.type)&&Yp(f);break;case 4:g_(f,f.stateNode.containerInfo);break;case 10:rC(f,f.type._context,f.memoizedProps.value);break;case 13:var S=f.memoizedState;if(S!==null)return S.dehydrated!==null?(gt(pn,pn.current&1),f.flags|=128,null):(g&f.child.childLanes)!==0?qC(c,f,g):(gt(pn,pn.current&1),c=io(c,f,g),c!==null?c.sibling:null);gt(pn,pn.current&1);break;case 19:if(S=(g&f.childLanes)!==0,(c.flags&128)!==0){if(S)return nb(c,f,g);f.flags|=128}var M=f.memoizedState;if(M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),gt(pn,pn.current),S)break;return null;case 22:case 23:return f.lanes=0,$C(c,f,g)}return io(c,f,g)}function HO(c,f){switch(d_(f),f.tag){case 1:return Wr(f.type)&&Qp(),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return Fu(),Vt(zr),Vt(dr),__(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 5:return y_(f),null;case 13:if(Vt(pn),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(o(340));Bu()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return Vt(pn),null;case 4:return Fu(),null;case 10:return o_(f.type._context),null;case 22:case 23:return X_(),null;case 24:return null;default:return null}}var Em=!1,sl=!1,UO=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Cm(c,f){var g=c.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(S){Jr(c,f,S)}else g.current=null}function B_(c,f,g){try{g()}catch(S){Jr(c,f,S)}}var rb=!1;function GO(c,f){for(K(c.containerInfo),Ue=f;Ue!==null;)if(c=Ue,f=c.child,(c.subtreeFlags&1028)!==0&&f!==null)f.return=c,Ue=f;else for(;Ue!==null;){c=Ue;try{var g=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var S=g.memoizedProps,M=g.memoizedState,b=c.stateNode,G=b.getSnapshotBeforeUpdate(c.elementType===c.type?S:Zi(c.type,S),M);b.__reactInternalSnapshotBeforeUpdate=G}break;case 3:Re&&wt(c.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Y){Jr(c,c.return,Y)}if(f=c.sibling,f!==null){f.return=c.return,Ue=f;break}Ue=c.return}return g=rb,rb=!1,g}function ol(c,f,g){var S=f.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var M=S=S.next;do{if((M.tag&c)===c){var b=M.destroy;M.destroy=void 0,b!==void 0&&B_(f,g,b)}M=M.next}while(M!==S)}}function od(c,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&c)===c){var S=g.create;g.destroy=S()}g=g.next}while(g!==f)}}function L_(c){var f=c.ref;if(f!==null){var g=c.stateNode;switch(c.tag){case 5:c=j(g);break;default:c=g}typeof f=="function"?f(c):f.current=c}}function ib(c,f,g){if(Ss&&typeof Ss.onCommitFiberUnmount=="function")try{Ss.onCommitFiberUnmount(tm,f)}catch{}switch(f.tag){case 0:case 11:case 14:case 15:if(c=f.updateQueue,c!==null&&(c=c.lastEffect,c!==null)){var S=c=c.next;do{var M=S,b=M.destroy;M=M.tag,b!==void 0&&((M&2)!==0||(M&4)!==0)&&B_(f,g,b),S=S.next}while(S!==c)}break;case 1:if(Cm(f,g),c=f.stateNode,typeof c.componentWillUnmount=="function")try{c.props=f.memoizedProps,c.state=f.memoizedState,c.componentWillUnmount()}catch(G){Jr(f,g,G)}break;case 5:Cm(f,g);break;case 4:Re?cb(c,f,g):ne&&ne&&(f=f.stateNode.containerInfo,g=li(f),Xp(f,g))}}function sb(c,f,g){for(var S=f;;)if(ib(c,S,g),S.child===null||Re&&S.tag===4){if(S===f)break;for(;S.sibling===null;){if(S.return===null||S.return===f)return;S=S.return}S.sibling.return=S.return,S=S.sibling}else S.child.return=S,S=S.child}function ob(c){var f=c.alternate;f!==null&&(c.alternate=null,ob(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&Ee(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function ab(c){return c.tag===5||c.tag===3||c.tag===4}function lb(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||ab(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function ub(c){if(Re){e:{for(var f=c.return;f!==null;){if(ab(f))break e;f=f.return}throw Error(o(160))}var g=f;switch(g.tag){case 5:f=g.stateNode,g.flags&32&&(Ne(f),g.flags&=-33),g=lb(c),F_(c,g,f);break;case 3:case 4:f=g.stateNode.containerInfo,g=lb(c),D_(c,g,f);break;default:throw Error(o(161))}}}function D_(c,f,g){var S=c.tag;if(S===5||S===6)c=c.stateNode,f?ge(g,c,f):he(g,c);else if(S!==4&&(c=c.child,c!==null))for(D_(c,f,g),c=c.sibling;c!==null;)D_(c,f,g),c=c.sibling}function F_(c,f,g){var S=c.tag;if(S===5||S===6)c=c.stateNode,f?N(g,c,f):Ke(g,c);else if(S!==4&&(c=c.child,c!==null))for(F_(c,f,g),c=c.sibling;c!==null;)F_(c,f,g),c=c.sibling}function cb(c,f,g){for(var S=f,M=!1,b,G;;){if(!M){M=S.return;e:for(;;){if(M===null)throw Error(o(160));switch(b=M.stateNode,M.tag){case 5:G=!1;break e;case 3:b=b.containerInfo,G=!0;break e;case 4:b=b.containerInfo,G=!0;break e}M=M.return}M=!0}if(S.tag===5||S.tag===6)sb(c,S,g),G?Ve(b,S.stateNode):we(b,S.stateNode);else if(S.tag===18)G?Uo(b,S.stateNode):qs(b,S.stateNode);else if(S.tag===4){if(S.child!==null){b=S.stateNode.containerInfo,G=!0,S.child.return=S,S=S.child;continue}}else if(ib(c,S,g),S.child!==null){S.child.return=S,S=S.child;continue}if(S===f)break;for(;S.sibling===null;){if(S.return===null||S.return===f)return;S=S.return,S.tag===4&&(M=!1)}S.sibling.return=S.return,S=S.sibling}}function k_(c,f){if(Re){switch(f.tag){case 0:case 11:case 14:case 15:ol(3,f,f.return),od(3,f),ol(5,f,f.return);return;case 1:return;case 5:var g=f.stateNode;if(g!=null){var S=f.memoizedProps;c=c!==null?c.memoizedProps:S;var M=f.type,b=f.updateQueue;f.updateQueue=null,b!==null&&V(g,b,M,c,S,f)}return;case 6:if(f.stateNode===null)throw Error(o(162));g=f.memoizedProps,Te(f.stateNode,c!==null?c.memoizedProps:g,g);return;case 3:oe&&c!==null&&c.memoizedState.isDehydrated&&Et(f.stateNode.containerInfo);return;case 12:return;case 13:bm(f);return;case 19:bm(f);return;case 17:return}throw Error(o(163))}switch(f.tag){case 0:case 11:case 14:case 15:ol(3,f,f.return),od(3,f),ol(5,f,f.return);return;case 12:return;case 13:bm(f);return;case 19:bm(f);return;case 3:oe&&c!==null&&c.memoizedState.isDehydrated&&Et(f.stateNode.containerInfo);break;case 22:case 23:return}e:if(ne){switch(f.tag){case 1:case 5:case 6:break e;case 3:case 4:f=f.stateNode,Xp(f.containerInfo,f.pendingChildren);break e}throw Error(o(163))}}function bm(c){var f=c.updateQueue;if(f!==null){c.updateQueue=null;var g=c.stateNode;g===null&&(g=c.stateNode=new UO),f.forEach(function(S){var M=YO.bind(null,c,S);g.has(S)||(g.add(S),S.then(M,M))})}}function zO(c,f){for(Ue=f;Ue!==null;){f=Ue;var g=f.deletions;if(g!==null)for(var S=0;S<g.length;S++){var M=g[S];try{var b=c;Re?cb(b,M,f):sb(b,M,f);var G=M.alternate;G!==null&&(G.return=null),M.return=null}catch(Ye){Jr(M,f,Ye)}}if(g=f.child,(f.subtreeFlags&12854)!==0&&g!==null)g.return=f,Ue=g;else for(;Ue!==null;){f=Ue;try{var Y=f.flags;if(Y&32&&Re&&Ne(f.stateNode),Y&512){var de=f.alternate;if(de!==null){var be=de.ref;be!==null&&(typeof be=="function"?be(null):be.current=null)}}if(Y&8192)switch(f.tag){case 13:if(f.memoizedState!==null){var je=f.alternate;(je===null||je.memoizedState===null)&&(W_=Xn())}break;case 22:var lt=f.memoizedState!==null,nt=f.alternate,Kt=nt!==null&&nt.memoizedState!==null;if(g=f,Re)e:if(S=g,M=lt,b=null,Re)for(var qe=S;;){if(qe.tag===5){if(b===null){b=qe;var gr=qe.stateNode;M?tt(gr):et(qe.stateNode,qe.memoizedProps)}}else if(qe.tag===6){if(b===null){var Oi=qe.stateNode;M?De(Oi):xt(Oi,qe.memoizedProps)}}else if((qe.tag!==22&&qe.tag!==23||qe.memoizedState===null||qe===S)&&qe.child!==null){qe.child.return=qe,qe=qe.child;continue}if(qe===S)break;for(;qe.sibling===null;){if(qe.return===null||qe.return===S)break e;b===qe&&(b=null),qe=qe.return}b===qe&&(b=null),qe.sibling.return=qe.return,qe=qe.sibling}if(lt&&!Kt&&(g.mode&1)!==0){Ue=g;for(var ie=g.child;ie!==null;){for(g=Ue=ie;Ue!==null;){S=Ue;var te=S.child;switch(S.tag){case 0:case 11:case 14:case 15:ol(4,S,S.return);break;case 1:Cm(S,S.return);var ce=S.stateNode;if(typeof ce.componentWillUnmount=="function"){var We=S.return;try{ce.props=S.memoizedProps,ce.state=S.memoizedState,ce.componentWillUnmount()}catch(Ye){Jr(S,We,Ye)}}break;case 5:Cm(S,S.return);break;case 22:if(S.memoizedState!==null){hb(g);continue}}te!==null?(te.return=S,Ue=te):hb(g)}ie=ie.sibling}}}switch(Y&4102){case 2:ub(f),f.flags&=-3;break;case 6:ub(f),f.flags&=-3,k_(f.alternate,f);break;case 4096:f.flags&=-4097;break;case 4100:f.flags&=-4097,k_(f.alternate,f);break;case 4:k_(f.alternate,f)}}catch(Ye){Jr(f,f.return,Ye)}if(g=f.sibling,g!==null){g.return=f.return,Ue=g;break}Ue=f.return}}}function WO(c,f,g){Ue=c,fb(c)}function fb(c,f,g){for(var S=(c.mode&1)!==0;Ue!==null;){var M=Ue,b=M.child;if(M.tag===22&&S){var G=M.memoizedState!==null||Em;if(!G){var Y=M.alternate,de=Y!==null&&Y.memoizedState!==null||sl;Y=Em;var be=sl;if(Em=G,(sl=de)&&!be)for(Ue=M;Ue!==null;)G=Ue,de=G.child,G.tag===22&&G.memoizedState!==null?pb(M):de!==null?(de.return=G,Ue=de):pb(M);for(;b!==null;)Ue=b,fb(b),b=b.sibling;Ue=M,Em=Y,sl=be}db(c)}else(M.subtreeFlags&8772)!==0&&b!==null?(b.return=M,Ue=b):db(c)}}function db(c){for(;Ue!==null;){var f=Ue;if((f.flags&8772)!==0){var g=f.alternate;try{if((f.flags&8772)!==0)switch(f.tag){case 0:case 11:case 15:sl||od(5,f);break;case 1:var S=f.stateNode;if(f.flags&4&&!sl)if(g===null)S.componentDidMount();else{var M=f.elementType===f.type?g.memoizedProps:Zi(f.type,g.memoizedProps);S.componentDidUpdate(M,g.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var b=f.updateQueue;b!==null&&oC(f,b,S);break;case 3:var G=f.updateQueue;if(G!==null){if(g=null,f.child!==null)switch(f.child.tag){case 5:g=j(f.child.stateNode);break;case 1:g=f.child.stateNode}oC(f,G,g)}break;case 5:var Y=f.stateNode;g===null&&f.flags&4&&it(Y,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(oe&&f.memoizedState===null){var de=f.alternate;if(de!==null){var be=de.memoizedState;if(be!==null){var je=be.dehydrated;je!==null&&an(je)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}sl||f.flags&512&&L_(f)}catch(lt){Jr(f,f.return,lt)}}if(f===c){Ue=null;break}if(g=f.sibling,g!==null){g.return=f.return,Ue=g;break}Ue=f.return}}function hb(c){for(;Ue!==null;){var f=Ue;if(f===c){Ue=null;break}var g=f.sibling;if(g!==null){g.return=f.return,Ue=g;break}Ue=f.return}}function pb(c){for(;Ue!==null;){var f=Ue;try{switch(f.tag){case 0:case 11:case 15:var g=f.return;try{od(4,f)}catch(de){Jr(f,g,de)}break;case 1:var S=f.stateNode;if(typeof S.componentDidMount=="function"){var M=f.return;try{S.componentDidMount()}catch(de){Jr(f,M,de)}}var b=f.return;try{L_(f)}catch(de){Jr(f,b,de)}break;case 5:var G=f.return;try{L_(f)}catch(de){Jr(f,G,de)}}}catch(de){Jr(f,f.return,de)}if(f===c){Ue=null;break}var Y=f.sibling;if(Y!==null){Y.return=f.return,Ue=Y;break}Ue=f.return}}var Tm=0,Rm=1,Pm=2,Im=3,Bm=4;if(typeof Symbol=="function"&&Symbol.for){var ad=Symbol.for;Tm=ad("selector.component"),Rm=ad("selector.has_pseudo_class"),Pm=ad("selector.role"),Im=ad("selector.test_id"),Bm=ad("selector.text")}function N_(c){var f=xe(c);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(o(364));return f}if(c=dt(c),c===null)throw Error(o(362));return c.stateNode.current}function O_(c,f){switch(f.$$typeof){case Tm:if(c.type===f.value)return!0;break;case Rm:e:{f=f.value,c=[c,0];for(var g=0;g<c.length;){var S=c[g++],M=c[g++],b=f[M];if(S.tag!==5||!ee(S)){for(;b!=null&&O_(S,b);)M++,b=f[M];if(M===f.length){f=!0;break e}else for(S=S.child;S!==null;)c.push(S,M),S=S.sibling}}f=!1}return f;case Pm:if(c.tag===5&&me(c.stateNode,f.value))return!0;break;case Bm:if((c.tag===5||c.tag===6)&&(c=L(c),c!==null&&0<=c.indexOf(f.value)))return!0;break;case Im:if(c.tag===5&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function H_(c){switch(c.$$typeof){case Tm:return"<"+(R(c.value)||"Unknown")+">";case Rm:return":has("+(H_(c)||"")+")";case Pm:return'[role="'+c.value+'"]';case Bm:return'"'+c.value+'"';case Im:return'[data-testname="'+c.value+'"]';default:throw Error(o(365))}}function mb(c,f){var g=[];c=[c,0];for(var S=0;S<c.length;){var M=c[S++],b=c[S++],G=f[b];if(M.tag!==5||!ee(M)){for(;G!=null&&O_(M,G);)b++,G=f[b];if(b===f.length)g.push(M);else for(M=M.child;M!==null;)c.push(M,b),M=M.sibling}}return g}function U_(c,f){if(!Ze)throw Error(o(363));c=N_(c),c=mb(c,f),f=[],c=Array.from(c);for(var g=0;g<c.length;){var S=c[g++];if(S.tag===5)ee(S)||f.push(S.stateNode);else for(S=S.child;S!==null;)c.push(S),S=S.sibling}return f}var VO=Math.ceil,Lm=a.ReactCurrentDispatcher,G_=a.ReactCurrentOwner,Tn=a.ReactCurrentBatchConfig,mt=0,Fn=null,kn=null,rr=0,di=0,Nu=Gr(0),Wn=0,ld=null,Ou=0,Dm=0,z_=0,ud=null,Vr=null,W_=0,V_=1/0;function Hu(){V_=Xn()+500}var Fm=!1,j_=null,jo=null,km=!1,Jo=null,Nm=0,cd=0,J_=null,Om=-1,Hm=0;function Rr(){return(mt&6)!==0?Xn():Om!==-1?Om:Om=Xn()}function $o(c){return(c.mode&1)===0?1:(mt&2)!==0&&rr!==0?rr&-rr:CO.transition!==null?(Hm===0&&(c=qp,qp<<=1,(qp&4194240)===0&&(qp=64),Hm=c),Hm):(c=Lt,c!==0?c:Me())}function ki(c,f,g){if(50<cd)throw cd=0,J_=null,Error(o(185));var S=Um(c,f);return S===null?null:($f(S,f,g),((mt&2)===0||S!==Fn)&&(S===Fn&&((mt&2)===0&&(Dm|=f),Wn===4&&Ko(S,rr)),jr(S,g),f===1&&mt===0&&(c.mode&1)===0&&(Hu(),nm&&Ms())),S)}function Um(c,f){c.lanes|=f;var g=c.alternate;for(g!==null&&(g.lanes|=f),g=c,c=c.return;c!==null;)c.childLanes|=f,g=c.alternate,g!==null&&(g.childLanes|=f),g=c,c=c.return;return g.tag===3?g.stateNode:null}function jr(c,f){var g=c.callbackNode;yO(c,f);var S=em(c,c===Fn?rr:0);if(S===0)g!==null&&tC(g),c.callbackNode=null,c.callbackPriority=0;else if(f=S&-S,c.callbackPriority!==f){if(g!=null&&tC(g),f===1)c.tag===0?EO(yb.bind(null,c)):nC(yb.bind(null,c)),ze?$e(function(){mt===0&&Ms()}):e_(t_,Ms),g=null;else{switch(eC(S)){case 1:g=t_;break;case 4:g=wO;break;case 16:g=n_;break;case 536870912:g=SO;break;default:g=n_}g=Cb(g,gb.bind(null,c))}c.callbackPriority=f,c.callbackNode=g}}function gb(c,f){if(Om=-1,Hm=0,(mt&6)!==0)throw Error(o(327));var g=c.callbackNode;if(ul()&&c.callbackNode!==g)return null;var S=em(c,c===Fn?rr:0);if(S===0)return null;if((S&30)!==0||(S&c.expiredLanes)!==0||f)f=Gm(c,S);else{f=S;var M=mt;mt|=2;var b=xb();(Fn!==c||rr!==f)&&(Hu(),al(c,f));do try{$O();break}catch(Y){_b(c,Y)}while(1);s_(),Lm.current=b,mt=M,kn!==null?f=0:(Fn=null,rr=0,f=Wn)}if(f!==0){if(f===2&&(M=Yv(c),M!==0&&(S=M,f=$_(c,M))),f===1)throw g=ld,al(c,0),Ko(c,S),jr(c,Xn()),g;if(f===6)Ko(c,S);else{if(M=c.current.alternate,(S&30)===0&&!jO(M)&&(f=Gm(c,S),f===2&&(b=Yv(c),b!==0&&(S=b,f=$_(c,b))),f===1))throw g=ld,al(c,0),Ko(c,S),jr(c,Xn()),g;switch(c.finishedWork=M,c.finishedLanes=S,f){case 0:case 1:throw Error(o(345));case 2:ll(c,Vr);break;case 3:if(Ko(c,S),(S&130023424)===S&&(f=W_+500-Xn(),10<f)){if(em(c,0)!==0)break;if(M=c.suspendedLanes,(M&S)!==S){Rr(),c.pingedLanes|=c.suspendedLanes&M;break}c.timeoutHandle=Be(ll.bind(null,c,Vr),f);break}ll(c,Vr);break;case 4:if(Ko(c,S),(S&4194240)===S)break;for(f=c.eventTimes,M=-1;0<S;){var G=31-qi(S);b=1<<G,G=f[G],G>M&&(M=G),S&=~b}if(S=M,S=Xn()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*VO(S/1960))-S,10<S){c.timeoutHandle=Be(ll.bind(null,c,Vr),S);break}ll(c,Vr);break;case 5:ll(c,Vr);break;default:throw Error(o(329))}}}return jr(c,Xn()),c.callbackNode===g?gb.bind(null,c):null}function $_(c,f){var g=ud;return c.current.memoizedState.isDehydrated&&(al(c,f).flags|=256),c=Gm(c,f),c!==2&&(f=Vr,Vr=g,f!==null&&K_(f)),c}function K_(c){Vr===null?Vr=c:Vr.push.apply(Vr,c)}function jO(c){for(var f=c;;){if(f.flags&16384){var g=f.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var S=0;S<g.length;S++){var M=g[S],b=M.getSnapshot;M=M.value;try{if(!As(b(),M))return!1}catch{return!1}}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Ko(c,f){for(f&=~z_,f&=~Dm,c.suspendedLanes|=f,c.pingedLanes&=~f,c=c.expirationTimes;0<f;){var g=31-qi(f),S=1<<g;c[g]=-1,f&=~S}}function yb(c){if((mt&6)!==0)throw Error(o(327));ul();var f=em(c,0);if((f&1)===0)return jr(c,Xn()),null;var g=Gm(c,f);if(c.tag!==0&&g===2){var S=Yv(c);S!==0&&(f=S,g=$_(c,S))}if(g===1)throw g=ld,al(c,0),Ko(c,f),jr(c,Xn()),g;if(g===6)throw Error(o(345));return c.finishedWork=c.current.alternate,c.finishedLanes=f,ll(c,Vr),jr(c,Xn()),null}function vb(c){Jo!==null&&Jo.tag===0&&(mt&6)===0&&ul();var f=mt;mt|=1;var g=Tn.transition,S=Lt;try{if(Tn.transition=null,Lt=1,c)return c()}finally{Lt=S,Tn.transition=g,mt=f,(mt&6)===0&&Ms()}}function X_(){di=Nu.current,Vt(Nu)}function al(c,f){c.finishedWork=null,c.finishedLanes=0;var g=c.timeoutHandle;if(g!==Le&&(c.timeoutHandle=Le,ue(g)),kn!==null)for(g=kn.return;g!==null;){var S=g;switch(d_(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&Qp();break;case 3:Fu(),Vt(zr),Vt(dr),__();break;case 5:y_(S);break;case 4:Fu();break;case 13:Vt(pn);break;case 19:Vt(pn);break;case 10:o_(S.type._context);break;case 22:case 23:X_()}g=g.return}if(Fn=c,kn=c=Xo(c.current,null),rr=di=f,Wn=0,ld=null,z_=Dm=Ou=0,Vr=ud=null,Es!==null){for(f=0;f<Es.length;f++)if(g=Es[f],S=g.interleaved,S!==null){g.interleaved=null;var M=S.next,b=g.pending;if(b!==null){var G=b.next;b.next=M,S.next=G}g.pending=S}Es=null}return c}function _b(c,f){do{var g=kn;try{if(s_(),hm.current=_m,pm){for(var S=Sn.memoizedState;S!==null;){var M=S.queue;M!==null&&(M.pending=null),S=S.next}pm=!1}if(ku=0,Qn=hr=Sn=null,Zf=!1,ed=0,G_.current=null,g===null||g.return===null){Wn=1,ld=f,kn=null;break}e:{var b=c,G=g.return,Y=g,de=f;if(f=rr,Y.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var be=de,je=Y,lt=je.tag;if((je.mode&1)===0&&(lt===0||lt===11||lt===15)){var nt=je.alternate;nt?(je.updateQueue=nt.updateQueue,je.memoizedState=nt.memoizedState,je.lanes=nt.lanes):(je.updateQueue=null,je.memoizedState=null)}var Kt=UC(G);if(Kt!==null){Kt.flags&=-257,GC(Kt,G,Y,b,f),Kt.mode&1&&HC(b,be,f),f=Kt,de=be;var qe=f.updateQueue;if(qe===null){var gr=new Set;gr.add(de),f.updateQueue=gr}else qe.add(de);break e}else{if((f&1)===0){HC(b,be,f),Q_();break e}de=Error(o(426))}}else if(ln&&Y.mode&1){var Oi=UC(G);if(Oi!==null){(Oi.flags&65536)===0&&(Oi.flags|=256),GC(Oi,G,Y,b,f),m_(de);break e}}b=de,Wn!==4&&(Wn=2),ud===null?ud=[b]:ud.push(b),de=C_(de,Y),Y=G;do{switch(Y.tag){case 3:Y.flags|=65536,f&=-f,Y.lanes|=f;var ie=NC(Y,de,f);sC(Y,ie);break e;case 1:b=de;var te=Y.type,ce=Y.stateNode;if((Y.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(jo===null||!jo.has(ce)))){Y.flags|=65536,f&=-f,Y.lanes|=f;var We=OC(Y,b,f);sC(Y,We);break e}}Y=Y.return}while(Y!==null)}Sb(g)}catch(Ye){f=Ye,kn===g&&g!==null&&(kn=g=g.return);continue}break}while(1)}function xb(){var c=Lm.current;return Lm.current=_m,c===null?_m:c}function Q_(){(Wn===0||Wn===3||Wn===2)&&(Wn=4),Fn===null||(Ou&268435455)===0&&(Dm&268435455)===0||Ko(Fn,rr)}function Gm(c,f){var g=mt;mt|=2;var S=xb();Fn===c&&rr===f||al(c,f);do try{JO();break}catch(M){_b(c,M)}while(1);if(s_(),mt=g,Lm.current=S,kn!==null)throw Error(o(261));return Fn=null,rr=0,Wn}function JO(){for(;kn!==null;)wb(kn)}function $O(){for(;kn!==null&&!_O();)wb(kn)}function wb(c){var f=Eb(c.alternate,c,di);c.memoizedProps=c.pendingProps,f===null?Sb(c):kn=f,G_.current=null}function Sb(c){var f=c;do{var g=f.alternate;if(c=f.return,(f.flags&32768)===0){if(g=kO(g,f,di),g!==null){kn=g;return}}else{if(g=HO(g,f),g!==null){g.flags&=32767,kn=g;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Wn=6,kn=null;return}}if(f=f.sibling,f!==null){kn=f;return}kn=f=c}while(f!==null);Wn===0&&(Wn=5)}function ll(c,f){var g=Lt,S=Tn.transition;try{Tn.transition=null,Lt=1,KO(c,f,g)}finally{Tn.transition=S,Lt=g}return null}function KO(c,f,g){do ul();while(Jo!==null);if((mt&6)!==0)throw Error(o(327));var S=c.finishedWork,M=c.finishedLanes;if(S===null)return null;if(c.finishedWork=null,c.finishedLanes=0,S===c.current)throw Error(o(177));c.callbackNode=null,c.callbackPriority=0;var b=S.lanes|S.childLanes;if(vO(c,b),c===Fn&&(kn=Fn=null,rr=0),(S.subtreeFlags&2064)===0&&(S.flags&2064)===0||km||(km=!0,Cb(n_,function(){return ul(),null})),b=(S.flags&15990)!==0,(S.subtreeFlags&15990)!==0||b){b=Tn.transition,Tn.transition=null;var G=Lt;Lt=1;var Y=mt;mt|=4,G_.current=null,GO(c,S),zO(c,S),Z(c.containerInfo),c.current=S,WO(S),xO(),mt=Y,Lt=G,Tn.transition=b}else c.current=S;if(km&&(km=!1,Jo=c,Nm=M),b=c.pendingLanes,b===0&&(jo=null),AO(S.stateNode),jr(c,Xn()),f!==null)for(g=c.onRecoverableError,S=0;S<f.length;S++)g(f[S]);if(Fm)throw Fm=!1,c=j_,j_=null,c;return(Nm&1)!==0&&c.tag!==0&&ul(),b=c.pendingLanes,(b&1)!==0?c===J_?cd++:(cd=0,J_=c):cd=0,Ms(),null}function ul(){if(Jo!==null){var c=eC(Nm),f=Tn.transition,g=Lt;try{if(Tn.transition=null,Lt=16>c?16:c,Jo===null)var S=!1;else{if(c=Jo,Jo=null,Nm=0,(mt&6)!==0)throw Error(o(331));var M=mt;for(mt|=4,Ue=c.current;Ue!==null;){var b=Ue,G=b.child;if((Ue.flags&16)!==0){var Y=b.deletions;if(Y!==null){for(var de=0;de<Y.length;de++){var be=Y[de];for(Ue=be;Ue!==null;){var je=Ue;switch(je.tag){case 0:case 11:case 15:ol(8,je,b)}var lt=je.child;if(lt!==null)lt.return=je,Ue=lt;else for(;Ue!==null;){je=Ue;var nt=je.sibling,Kt=je.return;if(ob(je),je===be){Ue=null;break}if(nt!==null){nt.return=Kt,Ue=nt;break}Ue=Kt}}}var qe=b.alternate;if(qe!==null){var gr=qe.child;if(gr!==null){qe.child=null;do{var Oi=gr.sibling;gr.sibling=null,gr=Oi}while(gr!==null)}}Ue=b}}if((b.subtreeFlags&2064)!==0&&G!==null)G.return=b,Ue=G;else e:for(;Ue!==null;){if(b=Ue,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:ol(9,b,b.return)}var ie=b.sibling;if(ie!==null){ie.return=b.return,Ue=ie;break e}Ue=b.return}}var te=c.current;for(Ue=te;Ue!==null;){G=Ue;var ce=G.child;if((G.subtreeFlags&2064)!==0&&ce!==null)ce.return=G,Ue=ce;else e:for(G=te;Ue!==null;){if(Y=Ue,(Y.flags&2048)!==0)try{switch(Y.tag){case 0:case 11:case 15:od(9,Y)}}catch(Ye){Jr(Y,Y.return,Ye)}if(Y===G){Ue=null;break e}var We=Y.sibling;if(We!==null){We.return=Y.return,Ue=We;break e}Ue=Y.return}}if(mt=M,Ms(),Ss&&typeof Ss.onPostCommitFiberRoot=="function")try{Ss.onPostCommitFiberRoot(tm,c)}catch{}S=!0}return S}finally{Lt=g,Tn.transition=f}}return!1}function Ab(c,f,g){f=C_(g,f),f=NC(c,f,1),Vo(c,f),f=Rr(),c=Um(c,1),c!==null&&($f(c,1,f),jr(c,f))}function Jr(c,f,g){if(c.tag===3)Ab(c,c,g);else for(;f!==null;){if(f.tag===3){Ab(f,c,g);break}else if(f.tag===1){var S=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(jo===null||!jo.has(S))){c=C_(g,c),c=OC(f,c,1),Vo(f,c),c=Rr(),f=Um(f,1),f!==null&&($f(f,1,c),jr(f,c));break}}f=f.return}}function XO(c,f,g){var S=c.pingCache;S!==null&&S.delete(f),f=Rr(),c.pingedLanes|=c.suspendedLanes&g,Fn===c&&(rr&g)===g&&(Wn===4||Wn===3&&(rr&130023424)===rr&&500>Xn()-W_?al(c,0):z_|=g),jr(c,f)}function Mb(c,f){f===0&&((c.mode&1)===0?f=1:(f=Zp,Zp<<=1,(Zp&130023424)===0&&(Zp=4194304)));var g=Rr();c=Um(c,f),c!==null&&($f(c,f,g),jr(c,g))}function QO(c){var f=c.memoizedState,g=0;f!==null&&(g=f.retryLane),Mb(c,g)}function YO(c,f){var g=0;switch(c.tag){case 13:var S=c.stateNode,M=c.memoizedState;M!==null&&(g=M.retryLane);break;case 19:S=c.stateNode;break;default:throw Error(o(314))}S!==null&&S.delete(f),Mb(c,g)}var Eb;Eb=function(c,f,g){if(c!==null)if(c.memoizedProps!==f.pendingProps||zr.current)fi=!0;else{if((c.lanes&g)===0&&(f.flags&128)===0)return fi=!1,OO(c,f,g);fi=(c.flags&131072)!==0}else fi=!1,ln&&(f.flags&1048576)!==0&&fC(f,cm,f.index);switch(f.lanes=0,f.tag){case 2:var S=f.type;c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),c=f.pendingProps;var M=bu(f,dr.current);Ru(f,g),M=w_(null,f,S,c,M,g);var b=S_();return f.flags|=1,typeof M=="object"&&M!==null&&typeof M.render=="function"&&M.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,Wr(S)?(b=!0,Yp(f)):b=!1,f.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,l_(f),M.updater=lm,f.stateNode=M,M._reactInternals=f,c_(f,S,c,g),f=R_(null,f,S,!0,b,g)):(f.tag=0,ln&&b&&f_(f),Tr(null,f,M,g),f=f.child),f;case 16:S=f.elementType;e:{switch(c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),c=f.pendingProps,M=S._init,S=M(S._payload),f.type=S,M=f.tag=ZO(S),c=Zi(S,c),M){case 0:f=T_(null,f,S,c,g);break e;case 1:f=XC(null,f,S,c,g);break e;case 11:f=VC(null,f,S,c,g);break e;case 14:f=jC(null,f,S,Zi(S.type,c),g);break e}throw Error(o(306,S,""))}return f;case 0:return S=f.type,M=f.pendingProps,M=f.elementType===S?M:Zi(S,M),T_(c,f,S,M,g);case 1:return S=f.type,M=f.pendingProps,M=f.elementType===S?M:Zi(S,M),XC(c,f,S,M,g);case 3:e:{if(QC(f),c===null)throw Error(o(387));S=f.pendingProps,b=f.memoizedState,M=b.element,iC(c,f),am(f,S,null,g);var G=f.memoizedState;if(S=G.element,oe&&b.isDehydrated)if(b={element:S,isDehydrated:!1,cache:G.cache,transitions:G.transitions},f.updateQueue.baseState=b,f.memoizedState=b,f.flags&256){M=Error(o(423)),f=YC(c,f,S,g,M);break e}else if(S!==M){M=Error(o(424)),f=YC(c,f,S,g,M);break e}else for(oe&&(ci=st(f.stateNode.containerInfo),ui=f,ln=!0,es=null,Kf=!1),g=yC(f,null,S,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Bu(),S===M){f=io(c,f,g);break e}Tr(c,f,S,g)}f=f.child}return f;case 5:return vC(f),c===null&&p_(f),S=f.type,M=f.pendingProps,b=c!==null?c.memoizedProps:null,G=M.children,_e(S,M)?G=null:b!==null&&_e(S,b)&&(f.flags|=32),KC(c,f),Tr(c,f,G,g),f.child;case 6:return c===null&&p_(f),null;case 13:return qC(c,f,g);case 4:return g_(f,f.stateNode.containerInfo),S=f.pendingProps,c===null?f.child=Lu(f,null,S,g):Tr(c,f,S,g),f.child;case 11:return S=f.type,M=f.pendingProps,M=f.elementType===S?M:Zi(S,M),VC(c,f,S,M,g);case 7:return Tr(c,f,f.pendingProps,g),f.child;case 8:return Tr(c,f,f.pendingProps.children,g),f.child;case 12:return Tr(c,f,f.pendingProps.children,g),f.child;case 10:e:{if(S=f.type._context,M=f.pendingProps,b=f.memoizedProps,G=M.value,rC(f,S,G),b!==null)if(As(b.value,G)){if(b.children===M.children&&!zr.current){f=io(c,f,g);break e}}else for(b=f.child,b!==null&&(b.return=f);b!==null;){var Y=b.dependencies;if(Y!==null){G=b.child;for(var de=Y.firstContext;de!==null;){if(de.context===S){if(b.tag===1){de=eo(-1,g&-g),de.tag=2;var be=b.updateQueue;if(be!==null){be=be.shared;var je=be.pending;je===null?de.next=de:(de.next=je.next,je.next=de),be.pending=de}}b.lanes|=g,de=b.alternate,de!==null&&(de.lanes|=g),a_(b.return,g,f),Y.lanes|=g;break}de=de.next}}else if(b.tag===10)G=b.type===f.type?null:b.child;else if(b.tag===18){if(G=b.return,G===null)throw Error(o(341));G.lanes|=g,Y=G.alternate,Y!==null&&(Y.lanes|=g),a_(G,g,f),G=b.sibling}else G=b.child;if(G!==null)G.return=b;else for(G=b;G!==null;){if(G===f){G=null;break}if(b=G.sibling,b!==null){b.return=G.return,G=b;break}G=G.return}b=G}Tr(c,f,M.children,g),f=f.child}return f;case 9:return M=f.type,S=f.pendingProps.children,Ru(f,g),M=Ii(M),S=S(M),f.flags|=1,Tr(c,f,S,g),f.child;case 14:return S=f.type,M=Zi(S,f.pendingProps),M=Zi(S.type,M),jC(c,f,S,M,g);case 15:return JC(c,f,f.type,f.pendingProps,g);case 17:return S=f.type,M=f.pendingProps,M=f.elementType===S?M:Zi(S,M),c!==null&&(c.alternate=null,f.alternate=null,f.flags|=2),f.tag=1,Wr(S)?(c=!0,Yp(f)):c=!1,Ru(f,g),uC(f,S,M),c_(f,S,M,g),R_(null,f,S,!0,c,g);case 19:return nb(c,f,g);case 22:return $C(c,f,g)}throw Error(o(156,f.tag))};function Cb(c,f){return e_(c,f)}function qO(c,f,g,S){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ni(c,f,g,S){return new qO(c,f,g,S)}function Y_(c){return c=c.prototype,!(!c||!c.isReactComponent)}function ZO(c){if(typeof c=="function")return Y_(c)?1:0;if(c!=null){if(c=c.$$typeof,c===y)return 11;if(c===x)return 14}return 2}function Xo(c,f){var g=c.alternate;return g===null?(g=Ni(c.tag,f,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=f,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&14680064,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,f=c.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g}function zm(c,f,g,S,M,b){var G=2;if(S=c,typeof c=="function")Y_(c)&&(G=1);else if(typeof c=="string")G=5;else e:switch(c){case d:return cl(g.children,M,b,f);case h:G=8,M|=8;break;case p:return c=Ni(12,g,f,M|2),c.elementType=p,c.lanes=b,c;case _:return c=Ni(13,g,f,M),c.elementType=_,c.lanes=b,c;case w:return c=Ni(19,g,f,M),c.elementType=w,c.lanes=b,c;case E:return Wm(g,M,b,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case m:G=10;break e;case v:G=9;break e;case y:G=11;break e;case x:G=14;break e;case A:G=16,S=null;break e}throw Error(o(130,c==null?c:typeof c,""))}return f=Ni(G,g,f,M),f.elementType=c,f.type=S,f.lanes=b,f}function cl(c,f,g,S){return c=Ni(7,c,S,f),c.lanes=g,c}function Wm(c,f,g,S){return c=Ni(22,c,S,f),c.elementType=E,c.lanes=g,c.stateNode={},c}function q_(c,f,g){return c=Ni(6,c,null,f),c.lanes=g,c}function Z_(c,f,g){return f=Ni(4,c.children!==null?c.children:[],c.key,f),f.lanes=g,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function eH(c,f,g,S,M){this.tag=f,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Le,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qv(0),this.expirationTimes=qv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qv(0),this.identifierPrefix=S,this.onRecoverableError=M,oe&&(this.mutableSourceEagerHydrationData=null)}function bb(c,f,g,S,M,b,G,Y,de){return c=new eH(c,f,g,Y,de),f===1?(f=1,b===!0&&(f|=8)):f=0,b=Ni(3,null,null,f),c.current=b,b.stateNode=c,b.memoizedState={element:S,isDehydrated:g,cache:null,transitions:null},l_(b),c}function Tb(c){if(!c)return zo;c=c._reactInternals;e:{if(O(c)!==c||c.tag!==1)throw Error(o(170));var f=c;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(Wr(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(o(171))}if(c.tag===1){var g=c.type;if(Wr(g))return qE(c,g,f)}return f}function Rb(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(o(188)):(c=Object.keys(c).join(","),Error(o(268,c)));return c=B(f),c===null?null:c.stateNode}function Pb(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<f?g:f}}function ex(c,f){Pb(c,f),(c=c.alternate)&&Pb(c,f)}function tH(c){return c=B(c),c===null?null:c.stateNode}function nH(){return null}return t.attemptContinuousHydration=function(c){if(c.tag===13){var f=Rr();ki(c,134217728,f),ex(c,134217728)}},t.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var f=Rr(),g=$o(c);ki(c,g,f),ex(c,g)}},t.attemptSynchronousHydration=function(c){switch(c.tag){case 3:var f=c.stateNode;if(f.current.memoizedState.isDehydrated){var g=Jf(f.pendingLanes);g!==0&&(Zv(f,g|1),jr(f,Xn()),(mt&6)===0&&(Hu(),Ms()))}break;case 13:var S=Rr();vb(function(){return ki(c,1,S)}),ex(c,1)}},t.batchedUpdates=function(c,f){var g=mt;mt|=1;try{return c(f)}finally{mt=g,mt===0&&(Hu(),nm&&Ms())}},t.createComponentSelector=function(c){return{$$typeof:Tm,value:c}},t.createContainer=function(c,f,g,S,M,b,G){return bb(c,f,!1,null,g,S,M,b,G)},t.createHasPseudoClassSelector=function(c){return{$$typeof:Rm,value:c}},t.createHydrationContainer=function(c,f,g,S,M,b,G,Y,de){return c=bb(g,S,!0,c,M,b,G,Y,de),c.context=Tb(null),g=c.current,S=Rr(),M=$o(g),b=eo(S,M),b.callback=f!=null?f:null,Vo(g,b),c.current.lanes=M,$f(c,M,S),jr(c,S),c},t.createPortal=function(c,f,g){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:S==null?null:""+S,children:c,containerInfo:f,implementation:g}},t.createRoleSelector=function(c){return{$$typeof:Pm,value:c}},t.createTestNameSelector=function(c){return{$$typeof:Im,value:c}},t.createTextSelector=function(c){return{$$typeof:Bm,value:c}},t.deferredUpdates=function(c){var f=Lt,g=Tn.transition;try{return Tn.transition=null,Lt=16,c()}finally{Lt=f,Tn.transition=g}},t.discreteUpdates=function(c,f,g,S,M){var b=Lt,G=Tn.transition;try{return Tn.transition=null,Lt=1,c(f,g,S,M)}finally{Lt=b,Tn.transition=G,mt===0&&Hu()}},t.findAllNodes=U_,t.findBoundingRects=function(c,f){if(!Ze)throw Error(o(363));f=U_(c,f),c=[];for(var g=0;g<f.length;g++)c.push(z(f[g]));for(f=c.length-1;0<f;f--){g=c[f];for(var S=g.x,M=S+g.width,b=g.y,G=b+g.height,Y=f-1;0<=Y;Y--)if(f!==Y){var de=c[Y],be=de.x,je=be+de.width,lt=de.y,nt=lt+de.height;if(S>=be&&b>=lt&&M<=je&&G<=nt){c.splice(f,1);break}else if(S!==be||g.width!==de.width||nt<b||lt>G){if(!(b!==lt||g.height!==de.height||je<S||be>M)){be>S&&(de.width+=be-S,de.x=S),je<M&&(de.width=M-be),c.splice(f,1);break}}else{lt>b&&(de.height+=lt-b,de.y=b),nt<G&&(de.height=G-lt),c.splice(f,1);break}}}return c},t.findHostInstance=Rb,t.findHostInstanceWithNoPortals=function(c){return c=P(c),c=c!==null?W(c):null,c===null?null:c.stateNode},t.findHostInstanceWithWarning=function(c){return Rb(c)},t.flushControlled=function(c){var f=mt;mt|=1;var g=Tn.transition,S=Lt;try{Tn.transition=null,Lt=1,c()}finally{Lt=S,Tn.transition=g,mt=f,mt===0&&(Hu(),Ms())}},t.flushPassiveEffects=ul,t.flushSync=vb,t.focusWithin=function(c,f){if(!Ze)throw Error(o(363));for(c=N_(c),f=mb(c,f),f=Array.from(f),c=0;c<f.length;){var g=f[c++];if(!ee(g)){if(g.tag===5&&Fe(g.stateNode))return!0;for(g=g.child;g!==null;)f.push(g),g=g.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Lt},t.getFindAllNodesFailureDescription=function(c,f){if(!Ze)throw Error(o(363));var g=0,S=[];c=[N_(c),0];for(var M=0;M<c.length;){var b=c[M++],G=c[M++],Y=f[G];if((b.tag!==5||!ee(b))&&(O_(b,Y)&&(S.push(H_(Y)),G++,G>g&&(g=G)),G<f.length))for(b=b.child;b!==null;)c.push(b,G),b=b.sibling}if(g<f.length){for(c=[];g<f.length;g++)c.push(H_(f[g]));return`findAllNodes was able to match part of the selector:
  `+(S.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},t.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return j(c.child.stateNode);default:return c.child.stateNode}},t.injectIntoDevTools=function(c){if(c={bundleType:c.bundleType,version:c.version,rendererPackageName:c.rendererPackageName,rendererConfig:c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:tH,findFiberByHostInstance:c.findFiberByHostInstance||nH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined")c=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)c=!0;else{try{tm=f.inject(c),Ss=f}catch{}c=!!f.checkDCE}}return c},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(c,f,g,S){if(!Ze)throw Error(o(363));c=U_(c,f);var M=ke(c,g,S).disconnect;return{disconnect:function(){M()}}},t.registerMutableSourceForHydration=function(c,f){var g=f._getVersion;g=g(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,g]:c.mutableSourceEagerHydrationData.push(f,g)},t.runWithPriority=function(c,f){var g=Lt;try{return Lt=c,f()}finally{Lt=g}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(c,f,g,S){var M=f.current,b=Rr(),G=$o(M);return g=Tb(g),f.context===null?f.context=g:f.pendingContext=g,f=eo(b,G),f.payload={element:c},S=S===void 0?null:S,S!==null&&(f.callback=S),Vo(M,f),c=ki(M,G,b),c!==null&&om(c,M,G),G},t};JN.exports=Wne;var Vne=JN.exports;function $N(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}const go=[];function KN(n,e,t=!1,r={}){for(const s of go)if($N(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,promise:n(...e).then(s=>i.response=s).then(()=>{r.lifespan&&r.lifespan>0&&setTimeout(()=>{const s=go.indexOf(i);s!==-1&&go.splice(s,1)},r.lifespan)}).catch(s=>i.error=s)};if(go.push(i),!t)throw i.promise}const jne=(n,e,t)=>KN(n,e,!1,t),Jne=(n,e,t)=>void KN(n,e,!0,t),$ne=n=>{if(n===void 0||n.length===0)go.splice(0,go.length);else{const e=go.find(t=>$N(n,t.keys,t.equal));if(e){const t=go.indexOf(e);t!==-1&&go.splice(t,1)}}},XN=n=>n&&n.isOrthographicCamera,Kne=typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Jp=Kne?X.exports.useEffect:X.exports.useLayoutEffect;function QN(n){const e=X.exports.useRef(n);return Jp(()=>void(e.current=n),[n]),e}function Xne({set:n}){return Jp(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class YN extends X.exports.Component{constructor(...e){super(...e);this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}YN.getDerivedStateFromError=()=>({error:!0});const qN="__default",Qne=n=>n&&!!n.memoized&&!!n.changes;function ZN(n){return Array.isArray(n)?Math.min(Math.max(n[0],window.devicePixelRatio),n[1]):n}const ly=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},cn={obj:n=>n===Object(n)&&!cn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(cn.str(n)||cn.num(n))return n===e;const s=cn.obj(n);if(s&&r==="reference")return n===e;const o=cn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;for(a in i?e:n)if(n[a]!==e[a])return!1;if(cn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Yne(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function qne(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function pc(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f=It({type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},e)),n}function QS(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const CI=/-\d+$/;function R1(n,e,t){if(cn.str(t)){if(CI.test(t)){const s=t.replace(CI,""),{target:o,key:a}=QS(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=QS(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function bI(n,e,t){var r,i;if(cn.str(t)){const{target:s,key:o}=QS(n,t);s[o]=e.__r3f.previousAttach}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function eO(n,d,p={},u=!1){var h=d,{children:e,key:t,ref:r}=h,i=Rs(h,["children","key","ref"]);var m=p,{children:s,key:o,ref:a}=m,l=Rs(m,["children","key","ref"]);var v;const y=(v=n==null?void 0:n.__r3f)!=null?v:{},_=Object.entries(i),w=[];if(u){const A=Object.keys(l);for(let E=0;E<A.length;E++)i.hasOwnProperty(A[E])||_.unshift([A[E],qN+"remove"])}_.forEach(([A,E])=>{var C;if((C=n.__r3f)!=null&&C.primitive&&A==="object"||cn.equ(E,l[A]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(A))return w.push([A,E,!0,[]]);let T=[];A.includes("-")&&(T=A.split("-")),w.push([A,E,!1,T])});const x=It({},i);return y.memoizedProps&&y.memoizedProps.args&&(x.args=y.memoizedProps.args),y.memoizedProps&&y.memoizedProps.attach&&(x.attach=y.memoizedProps.attach),{memoized:x,changes:w}}function P1(n,e){var t,r;const i=(t=n==null?void 0:n.__r3f)!=null?t:{},s=i.root,o=(r=s==null||s.getState==null?void 0:s.getState())!=null?r:{},{memoized:a,changes:l}=Qne(e)?e:eO(n,e),u=i.eventCount;if(n.__r3f&&(n.__r3f.memoizedProps=a),l.forEach(([d,h,p,m])=>{let v=n,y=v[d];if(m.length&&(y=m.reduce((x,A)=>x[A],n),!(y&&y.set))){const[x,...A]=m.reverse();v=A.reverse().reduce((E,C)=>E[C],n),d=x}if(h===qN+"remove")if(y&&y.constructor){var _;h=new y.constructor(...(_=a.args)!=null?_:[])}else if(v.constructor){var w;const x=new v.constructor(...(w=v.__r3f.memoizedProps.args)!=null?w:[]);h=x[y],x.dispose&&x.dispose()}else h=0;if(p)h?i.handlers[d]=h:delete i.handlers[d],i.eventCount=Object.keys(i.handlers).length;else if(y&&y.set&&(y.copy||y instanceof Ql)){if(Array.isArray(h))y.fromArray?y.fromArray(h):y.set(...h);else if(y.copy&&h&&h.constructor&&y.constructor.name===h.constructor.name)y.copy(h);else if(h!==void 0){const x=y instanceof Pe;!x&&y.setScalar?y.setScalar(h):y instanceof Ql&&h instanceof Ql?y.mask=h.mask:y.set(h),!Br&&!o.linear&&x&&y.convertSRGBToLinear()}}else v[d]=h,!o.linear&&v[d]instanceof wn&&(v[d].encoding=Ht);mc(n)}),i.parent&&o.internal&&n.raycast&&u!==i.eventCount){const d=o.internal.interaction.indexOf(n);d>-1&&o.internal.interaction.splice(d,1),i.eventCount&&o.internal.interaction.push(n)}return l.length&&n.parent&&YS(n),n}function mc(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function YS(n){n.onUpdate==null||n.onUpdate(n)}function Zne(n,e){n.manual||(XN(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function I1(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function ere(){var n,e;switch((n=window)==null||(e=n.event)==null?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Vc.exports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Vc.exports.ContinuousEventPriority;default:return Vc.exports.DefaultEventPriority}}function tO(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function tre(n,e){const{events:t,internal:r}=n.getState();r.interaction=r.interaction.filter(i=>i!==e),r.initialHits=r.initialHits.filter(i=>i!==e),r.hovered.forEach((i,s)=>{(i.eventObject===e||i.object===e)&&r.hovered.delete(s)}),r.capturedMap.forEach((i,s)=>{tO(r.capturedMap,e,i,s)})}function nre(n){const e=new F;function t(u){const{internal:d}=n.getState(),h=u.offsetX-d.initialClick[0],p=u.offsetY-d.initialClick[1];return Math.round(Math.sqrt(h*h+p*p))}function r(u){return u.filter(d=>["Move","Over","Enter","Out","Leave"].some(h=>{var p;return(p=d.__r3f)==null?void 0:p.handlers["onPointer"+h]}))}function i(u,d){const h=n.getState(),p=new Set,m=[],v=d?d(h.internal.interaction):h.internal.interaction;v.forEach(w=>{const x=ly(w);x&&(x.raycaster.camera=void 0)}),h.previousRoot||h.events.compute==null||h.events.compute(u,h);let y=v.flatMap(w=>{const x=ly(w);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var A;x.events.compute==null||x.events.compute(u,x,(A=x.previousRoot)==null?void 0:A.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(w,!0):[]}).sort((w,x)=>{const A=ly(w.object),E=ly(x.object);return!A||!E?0:E.events.priority-A.events.priority||w.distance-x.distance}).filter(w=>{const x=I1(w);return p.has(x)?!1:(p.add(x),!0)});h.events.filter&&(y=h.events.filter(y,h));for(const w of y){let x=w.object;for(;x;){var _;(_=x.__r3f)!=null&&_.eventCount&&m.push(Pr(It({},w),{eventObject:x})),x=x.parent}}if("pointerId"in u&&h.internal.capturedMap.has(u.pointerId))for(let w of h.internal.capturedMap.get(u.pointerId).values())m.push(w.intersection);return m}function s(u,d,h,p){const{raycaster:m,pointer:v,camera:y,internal:_}=n.getState();if(u.length){const w=e.set(v.x,v.y,0).unproject(y),x={stopped:!1};for(const A of u){const E=O=>{var D,P;return(D=(P=_.capturedMap.get(O))==null?void 0:P.has(A.eventObject))!=null?D:!1},C=O=>{const D={intersection:A,target:d.target};_.capturedMap.has(O)?_.capturedMap.get(O).set(A.eventObject,D):_.capturedMap.set(O,new Map([[A.eventObject,D]])),d.target.setPointerCapture(O)},T=O=>{const D=_.capturedMap.get(O);D&&tO(_.capturedMap,A.eventObject,D,O)};let R={};for(let O in d){let D=d[O];typeof D!="function"&&(R[O]=D)}let I=Pr(It(It({},A),R),{pointer:v,intersections:u,stopped:x.stopped,delta:h,unprojectedPoint:w,ray:m.ray,camera:y,stopPropagation:()=>{const O="pointerId"in d&&_.capturedMap.get(d.pointerId);if((!O||O.has(A.eventObject))&&(I.stopped=x.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(D=>D.eventObject===A.eventObject))){const D=u.slice(0,u.indexOf(A));o([...D,A])}},target:{hasPointerCapture:E,setPointerCapture:C,releasePointerCapture:T},currentTarget:{hasPointerCapture:E,setPointerCapture:C,releasePointerCapture:T},nativeEvent:d});if(p(I),x.stopped===!0)break}}return u}function o(u){const{internal:d}=n.getState();Array.from(d.hovered.values()).forEach(h=>{if(!u.length||!u.find(p=>p.object===h.object&&p.index===h.index&&p.instanceId===h.instanceId)){const m=h.eventObject.__r3f,v=m==null?void 0:m.handlers;if(d.hovered.delete(I1(h)),m!=null&&m.eventCount){const y=Pr(It({},h),{intersections:u||[]});v.onPointerOut==null||v.onPointerOut(y),v.onPointerLeave==null||v.onPointerLeave(y)}}})}const a=u=>{switch(u){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return d=>{const{internal:h}=n.getState();"pointerId"in d&&!h.capturedMap.has(d.pointerId)&&(h.capturedMap.delete(d.pointerId),o([]))}}return d=>{const{onPointerMissed:h,internal:p}=n.getState();p.lastEvent.current=d;const m=u==="onPointerMove",v=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",_=i(d,m?r:void 0),w=v?t(d):0;u==="onPointerDown"&&(p.initialClick=[d.offsetX,d.offsetY],p.initialHits=_.map(x=>x.eventObject)),v&&!_.length&&w<=2&&(l(d,p.interaction),h&&h(d)),m&&o(_),s(_,d,w,x=>{const A=x.eventObject,E=A.__r3f,C=E==null?void 0:E.handlers;if(!!(E!=null&&E.eventCount))if(m){if(C.onPointerOver||C.onPointerEnter||C.onPointerOut||C.onPointerLeave){const T=I1(x),R=p.hovered.get(T);R?R.stopped&&x.stopPropagation():(p.hovered.set(T,x),C.onPointerOver==null||C.onPointerOver(x),C.onPointerEnter==null||C.onPointerEnter(x))}C.onPointerMove==null||C.onPointerMove(x)}else{const T=C[u];T?(!v||p.initialHits.includes(A))&&(l(d,p.interaction.filter(R=>!p.initialHits.includes(R))),T(x)):v&&p.initialHits.includes(A)&&l(d,p.interaction.filter(R=>!p.initialHits.includes(R)))}})}};function l(u,d){d.forEach(h=>{var p;return(p=h.__r3f)==null||p.handlers.onPointerMissed==null?void 0:p.handlers.onPointerMissed(u)})}return{handlePointer:a}}let qS={},rre=n=>void(qS=It(It({},qS),n));function ire(n,e){function t(u,v,m){var y=v,{args:d=[],attach:h}=y,p=Rs(y,["args","attach"]);let _=`${u[0].toUpperCase()}${u.slice(1)}`,w;if(h===void 0&&(_.endsWith("Geometry")?h="geometry":_.endsWith("Material")&&(h="material")),u==="primitive"){if(p.object===void 0)throw"Primitives without 'object' are invalid!";const x=p.object;w=pc(x,{type:u,root:m,attach:h,primitive:!0})}else{const x=qS[_];if(!x)throw`${_} is not part of the THREE namespace! Did you forget to extend? See: https://github.com/pmndrs/react-three-fiber/blob/master/markdown/api.md#using-3rd-party-objects-declaratively`;if(!Array.isArray(d))throw"The args prop must be an array!";w=pc(new x(...d),{type:u,root:m,attach:h,memoizedProps:{args:d}})}return _!=="inject"&&P1(w,p),w}function r(u,d){let h=!1;if(d){var p,m;(p=d.__r3f)!=null&&p.attach?R1(u,d,d.__r3f.attach):d.isObject3D&&u.isObject3D&&(u.add(d),h=!0),h||(m=u.__r3f)==null||m.objects.push(d),d.__r3f||pc(d,{}),d.__r3f.parent=u,YS(d),mc(d)}}function i(u,d,h){let p=!1;if(d){var m,v;if((m=d.__r3f)!=null&&m.attach)R1(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){d.parent=u,d.dispatchEvent({type:"added"});const y=u.children.filter(w=>w!==d),_=y.indexOf(h);u.children=[...y.slice(0,_),d,...y.slice(_)],p=!0}p||(v=u.__r3f)==null||v.objects.push(d),d.__r3f||pc(d,{}),d.__r3f.parent=u,YS(d),mc(d)}}function s(u,d,h=!1){u&&[...u].forEach(p=>o(d,p,h))}function o(u,d,h){if(d){var p,m,v;if(d.__r3f&&(d.__r3f.parent=null),(p=u.__r3f)!=null&&p.objects&&(u.__r3f.objects=u.__r3f.objects.filter(A=>A!==d)),(m=d.__r3f)!=null&&m.attach)bI(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){var y;u.remove(d),(y=d.__r3f)!=null&&y.root&&tre(d.__r3f.root,d)}const w=(v=d.__r3f)==null?void 0:v.primitive,x=h===void 0?d.dispose!==null&&!w:h;if(!w){var _;s((_=d.__r3f)==null?void 0:_.objects,d,x),s(d.children,d,x)}d.__r3f&&(delete d.__r3f.root,delete d.__r3f.objects,delete d.__r3f.handlers,delete d.__r3f.memoizedProps,w||delete d.__r3f),x&&d.dispose&&d.type!=="Scene"&&fh.exports.unstable_scheduleCallback(fh.exports.unstable_IdlePriority,()=>{try{d.dispose()}catch{}}),mc(u)}}function a(u,d,h,p){var m,v;const y=(m=u.__r3f)==null?void 0:m.parent;if(!y)return;const _=t(d,h,(v=u.__r3f)==null?void 0:v.root);d!=="primitive"&&u.children&&(u.children.forEach(w=>r(_,w)),u.children=[]),u.__r3f.objects.forEach(w=>r(_,w)),u.__r3f.objects=[],o(y,u),r(y,_),_.raycast&&_.__r3f.eventCount&&_.__r3f.root.getState().internal.interaction.push(_),[p,p.alternate].forEach(w=>{w!==null&&(w.stateNode=_,w.ref&&(typeof w.ref=="function"?w.ref(_):w.ref.current=_))})}return{reconciler:Vne({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMicrotask:!0,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,noTimeout:-1,appendChildToContainer:(u,d)=>{const h=u.getState().scene;h.__r3f.root=u,r(h,d)},removeChildFromContainer:(u,d)=>o(u.getState().scene,d),insertInContainerBefore:(u,d,h)=>i(u.getState().scene,d,h),getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var d;return!!((d=u==null?void 0:u.__r3f)!=null?d:{}).handlers},prepareUpdate(u,d,h,p){if(u.__r3f.primitive&&p.object&&p.object!==u)return[!0];{const m=p,{args:y=[],children:_}=m,w=Rs(m,["args","children"]),v=h,{args:x=[],children:A}=v,E=Rs(v,["args","children"]);if(!Array.isArray(y))throw"The args prop must be an array!";if(y.some((T,R)=>T!==x[R]))return[!0];const C=eO(u,w,E,!0);return C.changes.length?[!1,C]:null}},commitUpdate(u,[d,h],p,m,v,y){d?a(u,p,v,y):P1(u,h)},commitMount(u,d,h,p){var m;const v=(m=u==null?void 0:u.__r3f)!=null?m:{};u.raycast&&v.handlers&&v.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,shouldDeprioritizeSubtree:()=>!1,prepareForCommit:()=>null,preparePortalMount:u=>pc(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,detachDeletedInstance:()=>{},createTextInstance:()=>{},hideInstance(u){var d;const{attach:h,parent:p}=(d=u==null?void 0:u.__r3f)!=null?d:{};h&&p&&bI(p,u,h),u.isObject3D&&(u.visible=!1),mc(u)},unhideInstance(u,d){var h;const{attach:p,parent:m}=(h=u==null?void 0:u.__r3f)!=null?h:{};p&&m&&R1(m,u,p),(u.isObject3D&&d.visible==null||d.visible)&&(u.visible=!0),mc(u)},hideTextInstance:()=>{throw new Error("Text is not allowed in the R3F tree.")},getCurrentEventPriority:()=>e?e():Vc.exports.DefaultEventPriority,now:typeof performance!="undefined"&&cn.fun(performance.now)?performance.now:cn.fun(Date.now)?Date.now:void 0,scheduleTimeout:cn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:cn.fun(clearTimeout)?clearTimeout:void 0,setTimeout:cn.fun(setTimeout)?setTimeout:void 0,clearTimeout:cn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:P1}}const nO=n=>!!(n!=null&&n.render),rO=X.exports.createContext(null),sre=(n,e)=>{const t=zne((o,a)=>{const l=new F,u=new F,d=new F;function h(y=a().camera,_=u,w=a().size){const{width:x,height:A}=w,E=x/A;_ instanceof F?d.copy(_):d.set(..._);const C=y.getWorldPosition(l).distanceTo(d);if(XN(y))return{width:x/y.zoom,height:A/y.zoom,factor:1,distance:C,aspect:E};{const T=y.fov*Math.PI/180,R=2*Math.tan(T/2)*C,I=R*(x/A);return{width:I,height:R,factor:x/I,distance:C,aspect:E}}}let p;const m=y=>o(_=>({performance:Pr(It({},_.performance),{current:y})})),v=new ye;return{set:o,get:a,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:()=>n(a()),advance:(y,_)=>e(y,_,a()),legacy:!1,linear:!1,flat:!1,scene:pc(new Hp),controls:null,clock:new jE,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const y=a();p&&clearTimeout(p),y.performance.current!==y.performance.min&&m(y.performance.min),p=setTimeout(()=>m(a().performance.max),y.performance.debounce)}},size:{width:0,height:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:y=>o(_=>Pr(It({},_),{events:It(It({},_.events),y)})),setSize:(y,_)=>{const w=a().camera,x={width:y,height:_};o(A=>({size:x,viewport:It(It({},A.viewport),h(w,u,x))}))},setDpr:y=>o(_=>{const w=ZN(y);return{viewport:Pr(It({},_.viewport),{dpr:w,initialDpr:_.viewport.initialDpr||w})}}),setFrameloop:(y="always")=>{const _=a().clock;_.stop(),_.elapsedTime=0,y!=="never"&&(_.start(),_.elapsedTime=0),o(()=>({frameloop:y}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:X.exports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(y,_,w)=>(o(({internal:x})=>({internal:Pr(It({},x),{priority:x.priority+(_>0?1:0),subscribers:[...x.subscribers,{ref:y,priority:_,store:w}].sort((A,E)=>A.priority-E.priority)})})),()=>{o(({internal:x})=>({internal:Pr(It({},x),{priority:x.priority-(_>0?1:0),subscribers:x.subscribers.filter(A=>A.ref!==y)})}))})}}}),r=t.getState();let i=r.size,s=r.viewport.dpr;return t.subscribe(()=>{const{camera:o,size:a,viewport:l,gl:u}=t.getState();(a!==i||l.dpr!==s)&&(Zne(o,a),u.setPixelRatio(l.dpr),u.setSize(a.width,a.height),i=a,s=l.dpr)}),t.subscribe(o=>n(o)),t};let ga,B1=[],L1=[],TI=[];function Nd(n,e){for(ga=0;ga<n.length;ga++)n[ga](e)}let D1,F1;function k1(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),D1=e.internal.subscribers,ga=0;ga<D1.length;ga++)F1=D1[ga],F1.ref.current(F1.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function ore(n){let e=!1,t,r,i;function s(l){if(r=requestAnimationFrame(s),e=!0,t=0,B1.length&&Nd(B1,l),n.forEach(u=>{var d;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((d=i.gl.xr)!=null&&d.isPresenting)&&(t+=k1(l,i))}),L1.length&&Nd(L1,l),t===0)return TI.length&&Nd(TI,l),e=!1,cancelAnimationFrame(r)}function o(l){var u;if(!l)return n.forEach(d=>o(d.store.getState()));(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+1),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,d,h){u&&Nd(B1,l),d?k1(l,d,h):n.forEach(p=>k1(l,p.store.getState())),u&&Nd(L1,l)}return{loop:s,invalidate:o,advance:a}}function iO(){const n=X.exports.useContext(rO);if(!n)throw"R3F hooks can only be used within the Canvas component!";return n}function po(n=t=>t,e){return iO()(n,e)}function sO(n,e=0){const t=iO(),r=t.getState().internal.subscribe,i=QN(n);return Jp(()=>r(i,e,t),[e,r,t]),null}function oO(n,e){return function(t,...r){const i=new t;return n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,Yne(l.scene)),o(l)},e,l=>a(`Could not load ${s}: ${l.message}`)))))}}function $p(n,e,t,r){const i=Array.isArray(e)?e:[e],s=jne(oO(t,r),[n,...i],{equal:cn.equ});return Array.isArray(e)?s:s[0]}$p.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return Jne(oO(t),[n,...r])};$p.clear=function(n,e){const t=Array.isArray(e)?e:[e];return $ne([n,...t])};const bf=new Map,{invalidate:are,advance:RI}=ore(bf),{reconciler:b0,applyProps:uy}=ire(bf,ere),dc={objects:"shallow",strict:!1},lre=(n,e)=>{const t=typeof n=="function"?n(e):n;return nO(t)?t:new Wt(It({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0},n))};function ure(n){let e=bf.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=r||sre(are,RI),s=t||b0.createContainer(i,Vc.exports.ConcurrentRoot,!1,null);e||bf.set(n,{fiber:s,store:i});let o,a=!1;return{configure(l={}){var u,d,h,p;let{gl:m,size:v,events:y,onCreated:_,shadows:w=!1,linear:x=!1,flat:A=!1,legacy:E=!1,orthographic:C=!1,frameloop:T="always",dpr:R=[1,2],performance:I,raycaster:O,camera:D,onPointerMissed:P}=l,B=i.getState(),q=B.gl;B.gl||B.set({gl:q=lre(m,n)});let W=B.raycaster;W||B.set({raycaster:W=new NN});const K=O||{},{params:J}=K,j=Rs(K,["params"]);if(cn.equ(j,W,dc)||uy(W,It({},j)),cn.equ(J,W.params,dc)||uy(W,{params:It(It({},W.params),J)}),!B.camera){const Z=D instanceof Hf,ae=Z?D:C?new zs(0,0,0,0,.1,1e3):new Yt(75,0,.1,1e3);Z||(ae.position.z=5,D&&uy(ae,D),D!=null&&D.rotation||ae.lookAt(0,0,0)),B.set({camera:ae})}if(!B.xr){const Z=(se,pe)=>{const _e=i.getState();_e.frameloop!=="never"&&RI(se,!0,_e,pe)},ae=()=>{const se=i.getState().gl;se.xr.enabled=se.xr.isPresenting,se.xr.setAnimationLoop(se.xr.isPresenting?Z:null)},Q={connect(){const se=i.getState().gl;se.xr.addEventListener("sessionstart",ae),se.xr.addEventListener("sessionend",ae)},disconnect(){const se=i.getState().gl;se.xr.removeEventListener("sessionstart",ae),se.xr.removeEventListener("sessionend",ae)}};q.xr&&Q.connect(),B.set({xr:Q})}if(q.shadowMap){const Z=cn.boo(w);if(Z&&q.shadowMap.enabled!==w||!cn.equ(w,q.shadowMap,dc)){const ae=q.shadowMap.enabled;q.shadowMap.enabled=!!w,Z?q.shadowMap.type=sE:Object.assign(q.shadowMap,w),ae!==q.shadowMap.enabled&&(q.shadowMap.needsUpdate=!0)}}Br&&(Br.legacyMode=E);const $=x?gs:Ht,k=A?hs:uE;return q.outputEncoding!==$&&(q.outputEncoding=$),q.toneMapping!==k&&(q.toneMapping=k),B.legacy!==E&&B.set(()=>({legacy:E})),B.linear!==x&&B.set(()=>({linear:x})),B.flat!==A&&B.set(()=>({flat:A})),m&&!cn.fun(m)&&!nO(m)&&!cn.equ(m,q,dc)&&uy(q,m),y&&!B.events.handlers&&B.set({events:y(i)}),R&&B.viewport.dpr!==ZN(R)&&B.setDpr(R),v=v||{width:(u=(d=n.parentElement)==null?void 0:d.clientWidth)!=null?u:0,height:(h=(p=n.parentElement)==null?void 0:p.clientHeight)!=null?h:0},cn.equ(v,B.size,dc)||B.setSize(v.width,v.height),B.frameloop!==T&&B.setFrameloop(T),B.onPointerMissed||B.set({onPointerMissed:P}),I&&!cn.equ(I,B.performance,dc)&&B.set(Z=>({performance:It(It({},Z.performance),I)})),o=_,a=!0,this},render(l){return a||this.configure(),b0.updateContainer(X.exports.createElement(cre,{store:i,children:l,onCreated:o,rootElement:n}),s,null,()=>{}),i},unmount(){aO(n)}}}function cre({store:n,children:e,onCreated:t,rootElement:r}){return Jp(()=>{const i=n.getState();i.set(s=>({internal:Pr(It({},s.internal),{active:!0})})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),X.exports.createElement(rO.Provider,{value:n},e)}function aO(n,e){const t=bf.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),b0.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),qne(i),bf.delete(n),e&&e(n)}catch{}},500)})}}b0.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:"18.0.0"});function PI(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function ZS(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var d=Date.now()-o;d<e&&d>=0?r=setTimeout(l,e-d):(r=null,t||(a=n.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var d=t&&!r;return r||(r=setTimeout(l,e)),d&&(a=n.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}ZS.debounce=ZS;var II=ZS;function fre(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window=="undefined"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=X.exports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=X.exports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,d=e?typeof e=="number"?e:e.resize:null,h=X.exports.useRef(!1);X.exports.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,m,v]=X.exports.useMemo(()=>{const x=()=>{if(!l.current.element)return;const{left:A,top:E,width:C,height:T,bottom:R,right:I,x:O,y:D}=l.current.element.getBoundingClientRect(),P={left:A,top:E,width:C,height:T,bottom:R,right:I,x:O,y:D};l.current.element instanceof HTMLElement&&i&&(P.height=l.current.element.offsetHeight,P.width=l.current.element.offsetWidth),Object.freeze(P),h.current&&!mre(l.current.lastBounds,P)&&a(l.current.lastBounds=P)};return[x,d?II(x,d):x,u?II(x,u):x]},[a,i,u,d]);function y(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function _(){!l.current.element||(l.current.resizeObserver=new s(v),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(x=>x.addEventListener("scroll",v,{capture:!0,passive:!0})))}const w=x=>{!x||x===l.current.element||(y(),l.current.element=x,l.current.scrollContainers=lO(x),_())};return hre(v,Boolean(t)),dre(m),X.exports.useEffect(()=>{y(),_()},[t,v,m]),X.exports.useEffect(()=>y,[]),[w,o,p]}function dre(n){X.exports.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function hre(n,e){X.exports.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function lO(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...lO(n.parentElement)]}const pre=["x","y","top","bottom","left","right","width","height"],mre=(n,e)=>pre.every(t=>n[t]===e[t]),N1={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function gre(n){const{handlePointer:e}=nre(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(N1).reduce((t,r)=>Pr(It({},t),{[r]:e(r)}),{}),connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:Pr(It({},o.events),{connected:t})})),Object.entries((r=s==null?void 0:s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=N1[o];t.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=N1[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:Pr(It({},s.events),{connected:void 0})}))}}}}const iie=X.exports.forwardRef(function(C,E){var T=C,{children:e,fallback:t,resize:r,style:i,gl:s,events:o=gre,shadows:a,linear:l,flat:u,legacy:d,orthographic:h,frameloop:p,dpr:m,performance:v,raycaster:y,camera:_,onPointerMissed:w,onCreated:x}=T,A=Rs(T,["children","fallback","resize","style","gl","events","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","onPointerMissed","onCreated"]);X.exports.useMemo(()=>rre(Hne),[]);const[R,{width:I,height:O}]=fre(It({scroll:!0,debounce:{scroll:50,resize:0}},r)),D=X.exports.useRef(null),P=X.exports.useRef(null),[B,q]=X.exports.useState(null),W=QN(w),[J,j]=X.exports.useState(!1),[$,k]=X.exports.useState(!1);if(J)throw J;if($)throw $;const K=X.exports.useRef(null);return I>0&&O>0&&B&&(K.current||(K.current=ure(B)),K.current.configure({gl:s,events:o,shadows:a,linear:l,flat:u,legacy:d,orthographic:h,frameloop:p,dpr:m,performance:v,raycaster:y,camera:_,size:{width:I,height:O},onPointerMissed:(...Z)=>W.current==null?void 0:W.current(...Z),onCreated:Z=>{Z.events.connect==null||Z.events.connect(P.current),x==null||x(Z)}}),K.current.render(X.exports.createElement(YN,{set:k},X.exports.createElement(X.exports.Suspense,{fallback:X.exports.createElement(Xne,{set:j})},e)))),Jp(()=>{q(D.current)},[]),X.exports.useEffect(()=>{if(B)return()=>aO(B)},[B]),X.exports.createElement("div",Ie({ref:PI([P,R]),style:It({position:"relative",width:"100%",height:"100%",overflow:"hidden"},i)},A),X.exports.createElement("canvas",{ref:PI([D,E]),style:{display:"block"}},t))});function ct(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const BI=(n,e)=>(n%e+e)%e;class yre extends No{constructor(e,t){super();ct(this,"object",void 0),ct(this,"domElement",void 0),ct(this,"enabled",!0),ct(this,"target",new F),ct(this,"minDistance",0),ct(this,"maxDistance",1/0),ct(this,"minZoom",0),ct(this,"maxZoom",1/0),ct(this,"minPolarAngle",0),ct(this,"maxPolarAngle",Math.PI),ct(this,"minAzimuthAngle",-1/0),ct(this,"maxAzimuthAngle",1/0),ct(this,"enableDamping",!1),ct(this,"dampingFactor",.05),ct(this,"enableZoom",!0),ct(this,"zoomSpeed",1),ct(this,"enableRotate",!0),ct(this,"rotateSpeed",1),ct(this,"enablePan",!0),ct(this,"panSpeed",1),ct(this,"screenSpacePanning",!0),ct(this,"keyPanSpeed",7),ct(this,"autoRotate",!1),ct(this,"autoRotateSpeed",2),ct(this,"reverseOrbit",!1),ct(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),ct(this,"mouseButtons",{LEFT:Cl.ROTATE,MIDDLE:Cl.DOLLY,RIGHT:Cl.PAN}),ct(this,"touches",{ONE:bl.ROTATE,TWO:bl.DOLLY_PAN}),ct(this,"target0",void 0),ct(this,"position0",void 0),ct(this,"zoom0",void 0),ct(this,"_domElementKeyEvents",null),ct(this,"getPolarAngle",void 0),ct(this,"getAzimuthalAngle",void 0),ct(this,"setPolarAngle",void 0),ct(this,"setAzimuthalAngle",void 0),ct(this,"getDistance",void 0),ct(this,"listenToKeyEvents",void 0),ct(this,"saveState",void 0),ct(this,"reset",void 0),ct(this,"update",void 0),ct(this,"connect",void 0),ct(this,"dispose",void 0),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof Yt?this.object.zoom:1,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=V=>{let N=BI(V,2*Math.PI),ge=d.phi;ge<0&&(ge+=2*Math.PI),N<0&&(N+=2*Math.PI);let we=Math.abs(N-ge);2*Math.PI-we<we&&(N<ge?N+=2*Math.PI:ge+=2*Math.PI),h.phi=N-ge,r.update()},this.setAzimuthalAngle=V=>{let N=BI(V,2*Math.PI),ge=d.theta;ge<0&&(ge+=2*Math.PI),N<0&&(N+=2*Math.PI);let we=Math.abs(N-ge);2*Math.PI-we<we&&(N<ge?N+=2*Math.PI:ge+=2*Math.PI),h.theta=N-ge,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=V=>{V.addEventListener("keydown",ee),this._domElementKeyEvents=V},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object instanceof Yt?r.object.zoom:1},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object instanceof Yt&&(r.object.zoom=r.zoom0,r.object.updateProjectionMatrix()),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const V=new F,N=new Gn().setFromUnitVectors(e.up,new F(0,1,0)),ge=N.clone().invert(),we=new F,Ve=new Gn,Ne=2*Math.PI;return function(){const De=r.object.position;V.copy(De).sub(r.target),V.applyQuaternion(N),d.setFromVector3(V),r.autoRotate&&l===a.NONE&&B(D()),r.enableDamping?(d.theta+=h.theta*r.dampingFactor,d.phi+=h.phi*r.dampingFactor):(d.theta+=h.theta,d.phi+=h.phi);let et=r.minAzimuthAngle,xt=r.maxAzimuthAngle;return isFinite(et)&&isFinite(xt)&&(et<-Math.PI?et+=Ne:et>Math.PI&&(et-=Ne),xt<-Math.PI?xt+=Ne:xt>Math.PI&&(xt-=Ne),et<=xt?d.theta=Math.max(et,Math.min(xt,d.theta)):d.theta=d.theta>(et+xt)/2?Math.max(et,d.theta):Math.min(xt,d.theta)),d.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,d.phi)),d.makeSafe(),d.radius*=p,d.radius=Math.max(r.minDistance,Math.min(r.maxDistance,d.radius)),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),V.setFromSpherical(d),V.applyQuaternion(ge),De.copy(r.target).add(V),r.object.lookAt(r.target),r.enableDamping===!0?(h.theta*=1-r.dampingFactor,h.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(h.set(0,0,0),m.set(0,0,0)),p=1,v||we.distanceToSquared(r.object.position)>u||8*(1-Ve.dot(r.object.quaternion))>u?(r.dispatchEvent(i),we.copy(r.object.position),Ve.copy(r.object.quaternion),v=!1,!0):!1}})(),this.connect=V=>{V===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=V,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",ke),r.domElement.addEventListener("pointerdown",Ee),r.domElement.addEventListener("pointercancel",Ze),r.domElement.addEventListener("wheel",L)},this.dispose=()=>{var V,N,ge,we,Ve,Ne;(V=r.domElement)===null||V===void 0||V.removeEventListener("contextmenu",ke),(N=r.domElement)===null||N===void 0||N.removeEventListener("pointerdown",Ee),(ge=r.domElement)===null||ge===void 0||ge.removeEventListener("pointercancel",Ze),(we=r.domElement)===null||we===void 0||we.removeEventListener("wheel",L),(Ve=r.domElement)===null||Ve===void 0||Ve.ownerDocument.removeEventListener("pointermove",ze),(Ne=r.domElement)===null||Ne===void 0||Ne.ownerDocument.removeEventListener("pointerup",$e),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",ee)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,d=new XS,h=new XS;let p=1;const m=new F;let v=!1;const y=new ye,_=new ye,w=new ye,x=new ye,A=new ye,E=new ye,C=new ye,T=new ye,R=new ye,I=[],O={};function D(){return 2*Math.PI/60/60*r.autoRotateSpeed}function P(){return Math.pow(.95,r.zoomSpeed)}function B(V){r.reverseOrbit?h.theta+=V:h.theta-=V}function q(V){r.reverseOrbit?h.phi+=V:h.phi-=V}const W=(()=>{const V=new F;return function(ge,we){V.setFromMatrixColumn(we,0),V.multiplyScalar(-ge),m.add(V)}})(),J=(()=>{const V=new F;return function(ge,we){r.screenSpacePanning===!0?V.setFromMatrixColumn(we,1):(V.setFromMatrixColumn(we,0),V.crossVectors(r.object.up,V)),V.multiplyScalar(ge),m.add(V)}})(),j=(()=>{const V=new F;return function(ge,we){const Ve=r.domElement;if(Ve&&r.object instanceof Yt&&r.object.isPerspectiveCamera){const Ne=r.object.position;V.copy(Ne).sub(r.target);let tt=V.length();tt*=Math.tan(r.object.fov/2*Math.PI/180),W(2*ge*tt/Ve.clientHeight,r.object.matrix),J(2*we*tt/Ve.clientHeight,r.object.matrix)}else Ve&&r.object instanceof zs&&r.object.isOrthographicCamera?(W(ge*(r.object.right-r.object.left)/r.object.zoom/Ve.clientWidth,r.object.matrix),J(we*(r.object.top-r.object.bottom)/r.object.zoom/Ve.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function $(V){r.object instanceof Yt&&r.object.isPerspectiveCamera?p/=V:r.object instanceof zs&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*V)),r.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function k(V){r.object instanceof Yt&&r.object.isPerspectiveCamera?p*=V:r.object instanceof zs&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/V)),r.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function K(V){y.set(V.clientX,V.clientY)}function Z(V){C.set(V.clientX,V.clientY)}function ae(V){x.set(V.clientX,V.clientY)}function Q(V){_.set(V.clientX,V.clientY),w.subVectors(_,y).multiplyScalar(r.rotateSpeed);const N=r.domElement;N&&(B(2*Math.PI*w.x/N.clientHeight),q(2*Math.PI*w.y/N.clientHeight)),y.copy(_),r.update()}function se(V){T.set(V.clientX,V.clientY),R.subVectors(T,C),R.y>0?$(P()):R.y<0&&k(P()),C.copy(T),r.update()}function pe(V){A.set(V.clientX,V.clientY),E.subVectors(A,x).multiplyScalar(r.panSpeed),j(E.x,E.y),x.copy(A),r.update()}function _e(V){V.deltaY<0?k(P()):V.deltaY>0&&$(P()),r.update()}function H(V){let N=!1;switch(V.code){case r.keys.UP:j(0,r.keyPanSpeed),N=!0;break;case r.keys.BOTTOM:j(0,-r.keyPanSpeed),N=!0;break;case r.keys.LEFT:j(r.keyPanSpeed,0),N=!0;break;case r.keys.RIGHT:j(-r.keyPanSpeed,0),N=!0;break}N&&(V.preventDefault(),r.update())}function Be(){if(I.length==1)y.set(I[0].pageX,I[0].pageY);else{const V=.5*(I[0].pageX+I[1].pageX),N=.5*(I[0].pageY+I[1].pageY);y.set(V,N)}}function ue(){if(I.length==1)x.set(I[0].pageX,I[0].pageY);else{const V=.5*(I[0].pageX+I[1].pageX),N=.5*(I[0].pageY+I[1].pageY);x.set(V,N)}}function Le(){const V=I[0].pageX-I[1].pageX,N=I[0].pageY-I[1].pageY,ge=Math.sqrt(V*V+N*N);C.set(0,ge)}function ve(){r.enableZoom&&Le(),r.enablePan&&ue()}function Re(){r.enableZoom&&Le(),r.enableRotate&&Be()}function ne(V){if(I.length==1)_.set(V.pageX,V.pageY);else{const ge=it(V),we=.5*(V.pageX+ge.x),Ve=.5*(V.pageY+ge.y);_.set(we,Ve)}w.subVectors(_,y).multiplyScalar(r.rotateSpeed);const N=r.domElement;N&&(B(2*Math.PI*w.x/N.clientHeight),q(2*Math.PI*w.y/N.clientHeight)),y.copy(_)}function oe(V){if(I.length==1)A.set(V.pageX,V.pageY);else{const N=it(V),ge=.5*(V.pageX+N.x),we=.5*(V.pageY+N.y);A.set(ge,we)}E.subVectors(A,x).multiplyScalar(r.panSpeed),j(E.x,E.y),x.copy(A)}function xe(V){const N=it(V),ge=V.pageX-N.x,we=V.pageY-N.y,Ve=Math.sqrt(ge*ge+we*we);T.set(0,Ve),R.set(0,Math.pow(T.y/C.y,r.zoomSpeed)),$(R.y),C.copy(T)}function Ae(V){r.enableZoom&&xe(V),r.enablePan&&oe(V)}function Me(V){r.enableZoom&&xe(V),r.enableRotate&&ne(V)}function Ee(V){if(r.enabled!==!1){if(I.length===0){var N,ge;(N=r.domElement)===null||N===void 0||N.ownerDocument.addEventListener("pointermove",ze),(ge=r.domElement)===null||ge===void 0||ge.ownerDocument.addEventListener("pointerup",$e)}Ke(V),V.pointerType==="touch"?me(V):dt(V)}}function ze(V){r.enabled!==!1&&(V.pointerType==="touch"?Fe(V):z(V))}function $e(V){if(he(V),I.length===0){var N,ge,we;(N=r.domElement)===null||N===void 0||N.releasePointerCapture(V.pointerId),(ge=r.domElement)===null||ge===void 0||ge.ownerDocument.removeEventListener("pointermove",ze),(we=r.domElement)===null||we===void 0||we.ownerDocument.removeEventListener("pointerup",$e)}r.dispatchEvent(o),l=a.NONE}function Ze(V){he(V)}function dt(V){let N;switch(V.button){case 0:N=r.mouseButtons.LEFT;break;case 1:N=r.mouseButtons.MIDDLE;break;case 2:N=r.mouseButtons.RIGHT;break;default:N=-1}switch(N){case Cl.DOLLY:if(r.enableZoom===!1)return;Z(V),l=a.DOLLY;break;case Cl.ROTATE:if(V.ctrlKey||V.metaKey||V.shiftKey){if(r.enablePan===!1)return;ae(V),l=a.PAN}else{if(r.enableRotate===!1)return;K(V),l=a.ROTATE}break;case Cl.PAN:if(V.ctrlKey||V.metaKey||V.shiftKey){if(r.enableRotate===!1)return;K(V),l=a.ROTATE}else{if(r.enablePan===!1)return;ae(V),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function z(V){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;Q(V);break;case a.DOLLY:if(r.enableZoom===!1)return;se(V);break;case a.PAN:if(r.enablePan===!1)return;pe(V);break}}function L(V){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(V.preventDefault(),r.dispatchEvent(s),_e(V),r.dispatchEvent(o))}function ee(V){r.enabled===!1||r.enablePan===!1||H(V)}function me(V){switch(Te(V),I.length){case 1:switch(r.touches.ONE){case bl.ROTATE:if(r.enableRotate===!1)return;Be(),l=a.TOUCH_ROTATE;break;case bl.PAN:if(r.enablePan===!1)return;ue(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case bl.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;ve(),l=a.TOUCH_DOLLY_PAN;break;case bl.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Re(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Fe(V){switch(Te(V),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;ne(V),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;oe(V),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ae(V),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Me(V),r.update();break;default:l=a.NONE}}function ke(V){r.enabled!==!1&&V.preventDefault()}function Ke(V){I.push(V)}function he(V){delete O[V.pointerId];for(let N=0;N<I.length;N++)if(I[N].pointerId==V.pointerId){I.splice(N,1);return}}function Te(V){let N=O[V.pointerId];N===void 0&&(N=new ye,O[V.pointerId]=N),N.set(V.pageX,V.pageY)}function it(V){const N=V.pointerId===I[0].pointerId?I[1]:I[0];return O[N.pointerId]}t!==void 0&&this.connect(t),this.update()}}class QE extends fr{constructor(e){super(e);this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new wre(t)}),this.register(function(t){return new bre(t)}),this.register(function(t){return new Tre(t)}),this.register(function(t){return new Sre(t)}),this.register(function(t){return new Are(t)}),this.register(function(t){return new Mre(t)}),this.register(function(t){return new Ere(t)}),this.register(function(t){return new Cre(t)}),this.register(function(t){return new _re(t)}),this.register(function(t){return new Rre(t)})}load(e,t,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=ps.extractUrlBase(e),this.manager.itemStart(e);const a=function(u){i?i(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new oi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(d){t(d),s.manager.itemEnd(e)},a)}catch(d){a(d)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=e;else if(ps.decodeText(new Uint8Array(e,0,4))===uO){try{o[Ct.KHR_BINARY_GLTF]=new Pre(e)}catch(h){i&&i(h);return}s=o[Ct.KHR_BINARY_GLTF].content}else s=ps.decodeText(new Uint8Array(e));const l=JSON.parse(s);if(l.asset===void 0||l.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new zre(l,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let d=0;d<this.pluginCallbacks.length;d++){const h=this.pluginCallbacks[d](u);a[h.name]=h,o[h.name]=!0}if(l.extensionsUsed)for(let d=0;d<l.extensionsUsed.length;++d){const h=l.extensionsUsed[d],p=l.extensionsRequired||[];switch(h){case Ct.KHR_MATERIALS_UNLIT:o[h]=new xre;break;case Ct.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[h]=new Lre;break;case Ct.KHR_DRACO_MESH_COMPRESSION:o[h]=new Ire(l,this.dracoLoader);break;case Ct.KHR_TEXTURE_TRANSFORM:o[h]=new Bre;break;case Ct.KHR_MESH_QUANTIZATION:o[h]=new Dre;break;default:p.indexOf(h)>=0&&a[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}u.setExtensions(o),u.setPlugins(a),u.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function vre(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Ct={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class _re{constructor(e){this.parser=e,this.name=Ct.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const d=new Pe(16777215);l.color!==void 0&&d.fromArray(l.color);const h=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new Jv(d),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new jv(d),u.distance=h;break;case"spot":u=new Vv(d),u.distance=h,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,l.intensity!==void 0&&(u.intensity=l.intensity),u.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(u),t.cache.add(r,i),i}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class xre{constructor(){this.name=Ct.KHR_MATERIALS_UNLIT}getMaterialType(){return Zr}extendParams(e,t,r){const i=[];e.color=new Pe(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture))}return Promise.all(i)}}class wre{constructor(e){this.parser=e,this.name=Ct.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Ho}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new ye(a,a)}return Promise.all(s)}}class Sre{constructor(e){this.parser=e,this.name=Ct.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Ho}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Pe(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Are{constructor(e){this.parser=e,this.name=Ct.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Ho}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Mre{constructor(e){this.parser=e,this.name=Ct.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Ho}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new Pe(a[0],a[1],a[2]),Promise.all(s)}}class Ere{constructor(e){this.parser=e,this.name=Ct.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Ho}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class Cre{constructor(e){this.parser=e,this.name=Ct.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Ho}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new Pe(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture).then(function(l){l.encoding=Ht})),Promise.all(s)}}class bre{constructor(e){this.parser=e,this.name=Ct.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=r.images[s.source],a=t.options.ktx2Loader;if(!a){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,o,a)}}class Tre{constructor(e){this.parser=e,this.name=Ct.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,a,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Rre{constructor(e){this.name=Ct.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([s,o.ready]).then(function(a){const l=i.byteOffset||0,u=i.byteLength||0,d=i.count,h=i.byteStride,p=new ArrayBuffer(d*h),m=new Uint8Array(a[0],l,u);return o.decodeGltfBuffer(new Uint8Array(p),d,h,m,i.mode,i.filter),p})}else return null}}const uO="glTF",Od=12,LI={JSON:1313821514,BIN:5130562};class Pre{constructor(e){this.name=Ct.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Od);if(this.header={magic:ps.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==uO)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Od,i=new DataView(e,Od);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===LI.JSON){const l=new Uint8Array(e,Od+s,o);this.content=ps.decodeText(l)}else if(a===LI.BIN){const l=Od+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Ire{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Ct.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const d in o){const h=tA[d]||d.toLowerCase();a[h]=o[d]}for(const d in e.attributes){const h=tA[d]||d.toLowerCase();if(o[d]!==void 0){const p=r.accessors[e.attributes[d]],m=Zh[p.componentType];u[h]=m,l[h]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(d){return new Promise(function(h){i.decodeDracoFile(d,function(p){for(const m in p.attributes){const v=p.attributes[m],y=l[m];y!==void 0&&(v.normalized=y)}h(p)},a,u)})})}}class Bre{constructor(){this.name=Ct.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return t.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class eA extends wu{constructor(e){super();this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),r=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),i=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),a={specular:{value:new Pe().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(l){for(const u in a)l.uniforms[u]=a[u];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",r).replace("#include <roughnessmap_fragment>",i).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(l){a.specular.value=l}},specularMap:{get:function(){return a.specularMap.value},set:function(l){a.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(l){a.glossiness.value=l}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(l){a.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class Lre{constructor(){this.name=Ct.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return eA}extendParams(e,t,r){const i=t.extensions[this.name];e.color=new Pe(1,1,1),e.opacity=1;const s=[];if(Array.isArray(i.diffuseFactor)){const o=i.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(i.diffuseTexture!==void 0&&s.push(r.assignTexture(e,"map",i.diffuseTexture)),e.emissive=new Pe(0,0,0),e.glossiness=i.glossinessFactor!==void 0?i.glossinessFactor:1,e.specular=new Pe(1,1,1),Array.isArray(i.specularFactor)&&e.specular.fromArray(i.specularFactor),i.specularGlossinessTexture!==void 0){const o=i.specularGlossinessTexture;s.push(r.assignTexture(e,"glossinessMap",o)),s.push(r.assignTexture(e,"specularMap",o))}return Promise.all(s)}createMaterial(e){const t=new eA(e);return t.fog=!0,t.color=e.color,t.map=e.map===void 0?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=e.aoMap===void 0?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,t.bumpMap=e.bumpMap===void 0?null:e.bumpMap,t.bumpScale=1,t.normalMap=e.normalMap===void 0?null:e.normalMap,t.normalMapType=$a,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=e.specularMap===void 0?null:e.specularMap,t.specular=e.specular,t.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=e.envMap===void 0?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}class Dre{constructor(){this.name=Ct.KHR_MESH_QUANTIZATION}}class mu extends Xs{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}}mu.prototype.beforeStart_=mu.prototype.copySampleValue_;mu.prototype.afterEnd_=mu.prototype.copySampleValue_;mu.prototype.interpolate_=function(n,e,t,r){const i=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=o*2,l=o*3,u=r-e,d=(t-e)/u,h=d*d,p=h*d,m=n*l,v=m-l,y=-2*p+3*h,_=p-h,w=1-y,x=_-h+d;for(let A=0;A!==o;A++){const E=s[v+A+o],C=s[v+A+a]*u,T=s[m+A+o],R=s[m+A]*u;i[A]=w*E+x*C+y*T+_*R}return i};const Fre=new Gn;class kre extends mu{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return Fre.fromArray(s).normalize().toArray(s),s}}const fo={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Zh={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},DI={9728:Bn,9729:vn,9984:Vh,9985:Tv,9986:jh,9987:ko},FI={33071:Ar,33648:af,10497:Fa},kI={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},tA={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},aa={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Nre={CUBICSPLINE:void 0,LINEAR:lu,STEP:uf},O1={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Ore(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new wu({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Ia})),n.DefaultMaterial}function Hd(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Rl(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Hre(n,e,t){let r=!1,i=!1;for(let a=0,l=e.length;a<l;a++){const u=e[a];if(u.POSITION!==void 0&&(r=!0),u.NORMAL!==void 0&&(i=!0),r&&i)break}if(!r&&!i)return Promise.resolve(n);const s=[],o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];if(r){const d=u.POSITION!==void 0?t.getDependency("accessor",u.POSITION):n.attributes.position;s.push(d)}if(i){const d=u.NORMAL!==void 0?t.getDependency("accessor",u.NORMAL):n.attributes.normal;o.push(d)}}return Promise.all([Promise.all(s),Promise.all(o)]).then(function(a){const l=a[0],u=a[1];return r&&(n.morphAttributes.position=l),i&&(n.morphAttributes.normal=u),n.morphTargetsRelative=!0,n})}function Ure(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Gre(n){const e=n.extensions&&n.extensions[Ct.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+NI(e.attributes):t=n.indices+":"+NI(n.attributes)+":"+n.mode,t}function NI(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function nA(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class zre{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new vre,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.textureCache={},this.nodeNamesUsed={},typeof createImageBitmap!="undefined"&&/Firefox|^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!1?this.textureLoader=new WE(this.options.manager):this.textureLoader=new kE(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new oi(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};Hd(s,a,i),Rl(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,d]of o.children.entries())s(d,a.children[u])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this.loadNode(t);break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this.loadAnimation(t);break;case"camera":i=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Ct.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(ps.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0)return Promise.resolve(null);const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=kI[i.type],u=Zh[i.componentType],d=u.BYTES_PER_ELEMENT,h=d*l,p=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,v=i.normalized===!0;let y,_;if(m&&m!==h){const w=Math.floor(p/m),x="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+w+":"+i.count;let A=t.cache.get(x);A||(y=new u(a,w*m,i.count*m/d),A=new Ya(y,m/d),t.cache.add(x,A)),_=new Bo(A,l,p%m/d,v)}else a===null?y=new u(i.count*l):y=new u(a,p,i.count*l),_=new vt(y,l,v);if(i.sparse!==void 0){const w=kI.SCALAR,x=Zh[i.sparse.indices.componentType],A=i.sparse.indices.byteOffset||0,E=i.sparse.values.byteOffset||0,C=new x(o[1],A,i.sparse.count*w),T=new u(o[2],E,i.sparse.count*l);a!==null&&(_=new vt(_.array.slice(),_.itemSize,_.normalized));for(let R=0,I=C.length;R<I;R++){const O=C[R];if(_.setX(O,T[R*l]),l>=2&&_.setY(O,T[R*l+1]),l>=3&&_.setZ(O,T[R*l+2]),l>=4&&_.setW(O,T[R*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return _})}loadTexture(e){const t=this.json,r=this.options,i=t.textures[e],s=t.images[i.source];let o=this.textureLoader;if(s.uri){const a=r.manager.getHandler(s.uri);a!==null&&(o=a)}return this.loadTextureImage(e,s,o)}loadTextureImage(e,t,r){const i=this,s=this.json,o=this.options,a=s.textures[e],l=(t.uri||t.bufferView)+":"+a.sampler;if(this.textureCache[l])return this.textureCache[l];const u=self.URL||self.webkitURL;let d=t.uri||"",h=!1;if(t.bufferView!==void 0)d=i.getDependency("bufferView",t.bufferView).then(function(m){h=!0;const v=new Blob([m],{type:t.mimeType});return d=u.createObjectURL(v),d});else if(t.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const p=Promise.resolve(d).then(function(m){return new Promise(function(v,y){let _=v;r.isImageBitmapLoader===!0&&(_=function(w){const x=new wn(w);x.needsUpdate=!0,v(x)}),r.load(ps.resolveURL(m,o.path),_,void 0,y)})}).then(function(m){h===!0&&u.revokeObjectURL(d),m.flipY=!1,a.name&&(m.name=a.name);const y=(s.samplers||{})[a.sampler]||{};return m.magFilter=DI[y.magFilter]||vn,m.minFilter=DI[y.minFilter]||ko,m.wrapS=FI[y.wrapS]||Fa,m.wrapT=FI[y.wrapT]||Fa,i.associations.set(m,{textures:e}),m}).catch(function(){return console.error("THREE.GLTFLoader: Couldn't load texture",d),null});return this.textureCache[l]=p,p}assignTexture(e,t,r){const i=this;return this.getDependency("texture",r.index).then(function(s){if(r.texCoord!==void 0&&r.texCoord!=0&&!(t==="aoMap"&&r.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),i.extensions[Ct.KHR_TEXTURE_TRANSFORM]){const o=r.extensions!==void 0?r.extensions[Ct.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const a=i.associations.get(s);s=i.extensions[Ct.KHR_TEXTURE_TRANSFORM].extendTexture(s,o),i.associations.set(s,a)}}return e[t]=s,s})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new qa,dn.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Kn,dn.prototype.copy.call(l,r),l.color.copy(r.color),this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(a+="specular-glossiness:"),i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}r.aoMap&&t.attributes.uv2===void 0&&t.attributes.uv!==void 0&&t.setAttribute("uv2",t.attributes.uv),e.material=r}getMaterialType(){return wu}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[Ct.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const h=i[Ct.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=h.getMaterialType(),u.push(h.extendParams(a,s,t))}else if(l[Ct.KHR_MATERIALS_UNLIT]){const h=i[Ct.KHR_MATERIALS_UNLIT];o=h.getMaterialType(),u.push(h.extendParams(a,s,t))}else{const h=s.pbrMetallicRoughness||{};if(a.color=new Pe(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){const p=h.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}h.baseColorTexture!==void 0&&u.push(t.assignTexture(a,"map",h.baseColorTexture)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(u.push(t.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),u.push(t.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Ba);const d=s.alphaMode||O1.OPAQUE;if(d===O1.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,d===O1.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Zr&&(u.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new ye(1,1),s.normalTexture.scale!==void 0)){const h=s.normalTexture.scale;a.normalScale.set(h,h)}return s.occlusionTexture!==void 0&&o!==Zr&&(u.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Zr&&(a.emissive=new Pe().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Zr&&u.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture)),Promise.all(u).then(function(){let h;return o===eA?h=i[Ct.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):h=new o(a),s.name&&(h.name=s.name),h.map&&(h.map.encoding=Ht),h.emissiveMap&&(h.emissiveMap.encoding=Ht),Rl(h,s),t.associations.set(h,{materials:e}),s.extensions&&Hd(i,h,s),h})}createUniqueName(e){const t=Tt.sanitizeNodeName(e||"");let r=t;for(let i=1;this.nodeNamesUsed[r];++i)r=t+"_"+i;return this.nodeNamesUsed[r]=!0,r}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[Ct.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return OI(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],d=Gre(u),h=i[d];if(h)o.push(h.promise);else{let p;u.extensions&&u.extensions[Ct.KHR_DRACO_MESH_COMPRESSION]?p=s(u):p=OI(new rt,u,t),i[d]={primitive:u,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const d=o[l].material===void 0?Ore(this.cache):this.getDependency("material",o[l].material);a.push(d)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),d=l[l.length-1],h=[];for(let m=0,v=d.length;m<v;m++){const y=d[m],_=o[m];let w;const x=u[m];if(_.mode===fo.TRIANGLES||_.mode===fo.TRIANGLE_STRIP||_.mode===fo.TRIANGLE_FAN||_.mode===void 0)w=s.isSkinnedMesh===!0?new Up(y,x):new Cn(y,x),w.isSkinnedMesh===!0&&!w.geometry.attributes.skinWeight.normalized&&w.normalizeSkinWeights(),_.mode===fo.TRIANGLE_STRIP?w.geometry=HI(w.geometry,Ik):_.mode===fo.TRIANGLE_FAN&&(w.geometry=HI(w.geometry,fE));else if(_.mode===fo.LINES)w=new kr(y,x);else if(_.mode===fo.LINE_STRIP)w=new Js(y,x);else if(_.mode===fo.LINE_LOOP)w=new Ov(y,x);else if(_.mode===fo.POINTS)w=new zf(y,x);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);Object.keys(w.geometry.morphAttributes).length>0&&Ure(w,s),w.name=t.createUniqueName(s.name||"mesh_"+e),Rl(w,s),_.extensions&&Hd(i,w,_),t.assignFinalMaterial(w),h.push(w)}for(let m=0,v=h.length;m<v;m++)t.associations.set(h[m],{meshes:e,primitives:m});if(h.length===1)return h[0];const p=new Os;t.associations.set(p,{meshes:e});for(let m=0,v=h.length;m<v;m++)p.add(h[m]);return p})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new Yt(zS.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new zs(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Rl(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r={joints:t.joints};return t.inverseBindMatrices===void 0?Promise.resolve(r):this.getDependency("accessor",t.inverseBindMatrices).then(function(i){return r.inverseBindMatrices=i,r})}loadAnimation(e){const r=this.json.animations[e],i=[],s=[],o=[],a=[],l=[];for(let u=0,d=r.channels.length;u<d;u++){const h=r.channels[u],p=r.samplers[h.sampler],m=h.target,v=m.node!==void 0?m.node:m.id,y=r.parameters!==void 0?r.parameters[p.input]:p.input,_=r.parameters!==void 0?r.parameters[p.output]:p.output;i.push(this.getDependency("node",v)),s.push(this.getDependency("accessor",y)),o.push(this.getDependency("accessor",_)),a.push(p),l.push(m)}return Promise.all([Promise.all(i),Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const d=u[0],h=u[1],p=u[2],m=u[3],v=u[4],y=[];for(let w=0,x=d.length;w<x;w++){const A=d[w],E=h[w],C=p[w],T=m[w],R=v[w];if(A===void 0)continue;A.updateMatrix(),A.matrixAutoUpdate=!0;let I;switch(aa[R.path]){case aa.weights:I=Mf;break;case aa.rotation:I=Ua;break;case aa.position:case aa.scale:default:I=Ef;break}const O=A.name?A.name:A.uuid,D=T.interpolation!==void 0?Nre[T.interpolation]:lu,P=[];aa[R.path]===aa.weights?A.traverse(function(q){q.morphTargetInfluences&&P.push(q.name?q.name:q.uuid)}):P.push(O);let B=C.array;if(C.normalized){const q=nA(B.constructor),W=new Float32Array(B.length);for(let J=0,j=B.length;J<j;J++)W[J]=B[J]*q;B=W}for(let q=0,W=P.length;q<W;q++){const J=new I(P[q]+"."+aa[R.path],E.array,B,D);T.interpolation==="CUBICSPLINE"&&(J.createInterpolant=function($){const k=this instanceof Ua?kre:mu;return new k(this.times,this.values,this.getValueSize()/3,$)},J.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),y.push(J)}}const _=r.name?r.name:"animation_"+e;return new Cf(_,void 0,y)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(!!a.isMesh)for(let l=0,u=i.weights.length;l<u;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this.extensions,i=this,s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"";return function(){const a=[],l=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(u){return i._getNodeRef(i.cameraCache,s.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),Promise.all(a)}().then(function(a){let l;if(s.isBone===!0?l=new Gp:a.length>1?l=new Os:a.length===1?l=a[0]:l=new _t,l!==a[0])for(let u=0,d=a.length;u<d;u++)l.add(a[u]);if(s.name&&(l.userData.name=s.name,l.name=o),Rl(l,s),s.extensions&&Hd(r,l,s),s.matrix!==void 0){const u=new Xe;u.fromArray(s.matrix),l.applyMatrix4(u)}else s.translation!==void 0&&l.position.fromArray(s.translation),s.rotation!==void 0&&l.quaternion.fromArray(s.rotation),s.scale!==void 0&&l.scale.fromArray(s.scale);return i.associations.has(l)||i.associations.set(l,{}),i.associations.get(l).nodes=e,l})}loadScene(e){const t=this.json,r=this.extensions,i=this.json.scenes[e],s=this,o=new Os;i.name&&(o.name=s.createUniqueName(i.name)),Rl(o,i),i.extensions&&Hd(r,o,i);const a=i.nodes||[],l=[];for(let u=0,d=a.length;u<d;u++)l.push(cO(a[u],o,t,s));return Promise.all(l).then(function(){const u=d=>{const h=new Map;for(const[p,m]of s.associations)(p instanceof dn||p instanceof wn)&&h.set(p,m);return d.traverse(p=>{const m=s.associations.get(p);m!=null&&h.set(p,m)}),h};return s.associations=u(o),o})}}function cO(n,e,t,r){const i=t.nodes[n];return r.getDependency("node",n).then(function(s){if(i.skin===void 0)return s;let o;return r.getDependency("skin",i.skin).then(function(a){o=a;const l=[];for(let u=0,d=o.joints.length;u<d;u++)l.push(r.getDependency("node",o.joints[u]));return Promise.all(l)}).then(function(a){return s.traverse(function(l){if(!l.isMesh)return;const u=[],d=[];for(let h=0,p=a.length;h<p;h++){const m=a[h];if(m){u.push(m);const v=new Xe;o.inverseBindMatrices!==void 0&&v.fromArray(o.inverseBindMatrices.array,h*16),d.push(v)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[h])}l.bind(new zp(u,d),l.matrixWorld)}),s})}).then(function(s){e.add(s);const o=[];if(i.children){const a=i.children;for(let l=0,u=a.length;l<u;l++){const d=a[l];o.push(cO(d,s,t,r))}}return Promise.all(o)})}function Wre(n,e,t){const r=e.attributes,i=new ai;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(i.set(new F(l[0],l[1],l[2]),new F(u[0],u[1],u[2])),a.normalized){const d=nA(Zh[a.componentType]);i.min.multiplyScalar(d),i.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new F,l=new F;for(let u=0,d=s.length;u<d;u++){const h=s[u];if(h.POSITION!==void 0){const p=t.json.accessors[h.POSITION],m=p.min,v=p.max;if(m!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),p.normalized){const y=nA(Zh[p.componentType]);l.multiplyScalar(y)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new Oo;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function OI(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=tA[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return Rl(n,e),Wre(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?Hre(n,e.targets,t):n})}function HI(n,e){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(e===fE)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s}const H1=new WeakMap;class Vre extends fr{constructor(e){super(e);this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new oi(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const u=t.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=u.name)}const r=JSON.stringify(t);if(H1.has(e)){const l=H1.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((u,d)=>{i._callbacks[s]={resolve:u,reject:d},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),H1.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new rt;e.index&&t.setIndex(new vt(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new vt(o,a))}return t}_loadLibrary(e,t){const r=new oi(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=jre.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function jre(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(d){n.onModuleLoaded=function(h){d({draco:h})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(d=>{const h=d.draco,p=new h.Decoder,m=new h.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const v=t(h,p,m,u),y=v.attributes.map(_=>_.array.buffer);v.index&&y.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},y)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{h.destroy(m),h.destroy(p)}});break}};function t(o,a,l,u){const d=u.attributeIDs,h=u.attributeTypes;let p,m;const v=a.GetEncodedGeometryType(l);if(v===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(v===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const y={index:null,attributes:[]};for(const _ in d){const w=self[h[_]];let x,A;if(u.useUniqueIDs)A=d[_],x=a.GetAttributeByUniqueId(p,A);else{if(A=a.GetAttributeId(p,o[d[_]]),A===-1)continue;x=a.GetAttribute(p,A)}y.attributes.push(i(o,a,p,_,w,x))}return v===o.TRIANGULAR_MESH&&(y.index=r(o,a,p)),o.destroy(p),y}function r(o,a,l){const d=l.num_faces()*3,h=d*4,p=o._malloc(h);a.GetTrianglesUInt32Array(l,h,p);const m=new Uint32Array(o.HEAPF32.buffer,p,d).slice();return o._free(p),{array:m,itemSize:1}}function i(o,a,l,u,d,h){const p=h.num_components(),v=l.num_points()*p,y=v*d.BYTES_PER_ELEMENT,_=s(o,d),w=o._malloc(y);a.GetAttributeDataArrayForAllPoints(l,h,_,y,w);const x=new d(o.HEAPF32.buffer,w,v).slice();return o._free(w),{name:u,array:x,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let cy;const U1=()=>{if(cy)return cy;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(h=>{s=h.instance,s.exports.__wasm_call_ctors()});function a(h){const p=new Uint8Array(h.length);for(let v=0;v<h.length;++v){const y=h.charCodeAt(v);p[v]=y>96?y-71:y>64?y-65:y>47?y+4:y>46?63:62}let m=0;for(let v=0;v<h.length;++v)p[m++]=p[v]<60?r[p[v]]:(p[v]-60)*64+p[++v];return p.buffer.slice(0,m)}function l(h,p,m,v,y,_){const w=s.exports.sbrk,x=m+3&-4,A=w(x*v),E=w(y.length),C=new Uint8Array(s.exports.memory.buffer);C.set(y,E);const T=h(A,m,v,E,y.length);if(T===0&&_&&_(A,x,v),p.set(C.subarray(A,A+m*v)),w(A-w(0)),T!==0)throw new Error(`Malformed buffer data: ${T}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},d={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return cy={ready:o,supported:!0,decodeVertexBuffer(h,p,m,v,y){l(s.exports.meshopt_decodeVertexBuffer,h,p,m,v,s.exports[u[y]])},decodeIndexBuffer(h,p,m,v){l(s.exports.meshopt_decodeIndexBuffer,h,p,m,v)},decodeIndexSequence(h,p,m,v){l(s.exports.meshopt_decodeIndexSequence,h,p,m,v)},decodeGltfBuffer(h,p,m,v,y,_){l(s.exports[d[y]],h,p,m,v,s.exports[u[_]])}},cy},Jre={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},$re={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `},sie=X.exports.forwardRef((d,u)=>{var h=d,{makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,onChange:s,onStart:o,onEnd:a}=h,l=Rs(h,["makeDefault","camera","regress","domElement","enableDamping","onChange","onStart","onEnd"]);const p=po(T=>T.invalidate),m=po(T=>T.camera),v=po(T=>T.gl),y=po(T=>T.events),_=po(T=>T.set),w=po(T=>T.get),x=po(T=>T.performance),A=e||m,E=r||y.connected||v.domElement,C=X.exports.useMemo(()=>new yre(A),[A]);return sO(()=>{C.enabled&&C.update()},-1),X.exports.useEffect(()=>(C.connect(E),()=>void C.dispose()),[E,t,C,p]),X.exports.useEffect(()=>{const T=R=>{p(),t&&x.regress(),s&&s(R)};return C.addEventListener("change",T),o&&C.addEventListener("start",o),a&&C.addEventListener("end",a),()=>{o&&C.removeEventListener("start",o),a&&C.removeEventListener("end",a),C.removeEventListener("change",T)}},[s,o,a]),X.exports.useEffect(()=>{if(n){const T=w().controls;return _({controls:C}),()=>_({controls:T})}},[n,C]),X.exports.createElement("primitive",Ie({ref:u,object:C,enableDamping:i},l))});let fy=null;function fO(n,e,t){return r=>{t&&t(r),n&&(fy||(fy=new Vre),fy.setDecoderPath(typeof n=="string"?n:"https://www.gstatic.com/draco/versioned/decoders/1.4.3/"),r.setDRACOLoader(fy)),e&&r.setMeshoptDecoder(typeof U1=="function"?U1():U1)}}function dO(n,e=!0,t=!0,r){return $p(QE,n,fO(e,t,r))}dO.preload=(n,e=!0,t=!0,r)=>$p.preload(QE,n,fO(e,t,r));dO.clear=n=>$p.clear(QE,n);const oie=X.exports.forwardRef((v,m)=>{var y=v,{scale:n=10,frames:e=1/0,opacity:t=1,width:r=1,height:i=1,blur:s=1,far:o=10,resolution:a=512,smooth:l=!0,color:u="#000000",depthWrite:d=!1,renderOrder:h}=y,p=Rs(y,["scale","frames","opacity","width","height","blur","far","resolution","smooth","color","depthWrite","renderOrder"]);const _=po(B=>B.scene),w=po(B=>B.gl),x=X.exports.useRef(null);r=r*(Array.isArray(n)?n[0]:n||1),i=i*(Array.isArray(n)?n[1]:n||1);const[A,E,C,T,R,I,O]=X.exports.useMemo(()=>{const B=new ur(a,a),q=new ur(a,a);q.texture.generateMipmaps=B.texture.generateMipmaps=!1;const W=new Na(r,i).rotateX(Math.PI/2),J=new Cn(W),j=new kp;j.depthTest=j.depthWrite=!1,j.onBeforeCompile=K=>{K.uniforms=Pr(It({},K.uniforms),{ucolor:{value:new Pe(u).convertSRGBToLinear()}}),K.fragmentShader=K.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),K.fragmentShader=K.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor, ( 1.0 - fragCoordZ ) * 1.0 );")};const $=new si(Jre),k=new si($re);return k.depthTest=$.depthTest=!1,[B,W,j,J,$,k,q]},[a,r,i,n,u]),D=B=>{T.visible=!0,T.material=R,R.uniforms.tDiffuse.value=A.texture,R.uniforms.h.value=B*1/256,w.setRenderTarget(O),w.render(T,x.current),T.material=I,I.uniforms.tDiffuse.value=O.texture,I.uniforms.v.value=B*1/256,w.setRenderTarget(A),w.render(T,x.current),T.visible=!1};let P=0;return sO(()=>{if(x.current&&(e===1/0||P<e)){const B=_.background;_.background=null;const q=_.overrideMaterial;_.overrideMaterial=C,w.setRenderTarget(A),w.render(_,x.current),_.overrideMaterial=q,D(s),l&&D(s*.4),w.setRenderTarget(null),_.background=B,P++}}),X.exports.createElement("group",Ie({"rotation-x":Math.PI/2},p,{ref:m}),X.exports.createElement("mesh",{renderOrder:h,geometry:E,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},X.exports.createElement("meshBasicMaterial",{map:A.texture,"map-encoding":w.outputEncoding,transparent:!0,opacity:t,depthWrite:d})),X.exports.createElement("orthographicCamera",{ref:x,args:[-r/2,r/2,i/2,-i/2,0,o]}))});export{nie as A,h8 as B,iie as C,G7 as E,a8 as F,U7 as L,_8 as M,sie as O,ot as a,Qre as b,Yre as c,K4 as d,eie as e,Zre as f,tie as g,oie as h,qre as i,vu as j,CG as k,X as r,Xre as s,dO as u};
